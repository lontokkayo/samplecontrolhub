{"version":3,"file":"static/js/main.2c535f97.js","mappings":"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","sources":["assets/chat_step|sync|/^/chat_step_.*_off/.png$","assets/chat_step|sync|/^/chat_step_.*_on/.png$","components/LoginPage.js","components/DevAdminComponents/Lazy Screen/LazyScreen.js","components/DevAdmin.js","components/Admin.js","components/Checkpoint.js","components/ResetPassword.js","components/ResetPasswordSuccess.js","App.js","components/DevAdminComponents/AccountList.js","components/DevAdminComponents/AddAccount.js","components/DevAdminComponents/AddVehicle.js","components/DevAdminComponents/ChatMessages.js","components/DevAdminComponents/Freight.js","components/DevAdminComponents/Header/StickyHeader.js","components/DevAdminComponents/Logs.js","components/DevAdminComponents/SideDrawer/MobileViewDrawer.js","components/DevAdminComponents/SideDrawer/SideDrawer.js","components/DevAdminComponents/VehicleList.js","components/DevAdminComponents/VehicleListComponent/UsePagination.js","components/DevAdminComponents/redux/store.js","crossFirebase.js","firebasecontrol.js","firebasecontrolCreateUser.js","webpack://web/./components/style.css?30b9","node_modules/moment/locale|sync|/^/.*$","webpack/bootstrap","webpack/runtime/chunk loaded","webpack/runtime/compat get default export","webpack/runtime/create fake namespace object","webpack/runtime/define property getters","webpack/runtime/ensure chunk","webpack/runtime/get javascript chunk filename","webpack/runtime/get mini-css chunk filename","webpack/runtime/global","webpack/runtime/hasOwnProperty shorthand","webpack/runtime/load script","webpack/runtime/make namespace object","webpack/runtime/node module decorator","webpack/runtime/publicPath","webpack/runtime/jsonp chunk loading","webpack/startup"],"sourcesContent":["var map = {\n\t\"./chat_step_1_off.png\": 29413,\n\t\"./chat_step_2_off.png\": 35290,\n\t\"./chat_step_3_off.png\": 38715,\n\t\"./chat_step_4_off.png\": 65256,\n\t\"./chat_step_5_off.png\": 58038,\n\t\"./chat_step_6_off.png\": 49232,\n\t\"./chat_step_7_off.png\": 88618\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 66516;","var map = {\n\t\"./chat_step_1_on.png\": 40027,\n\t\"./chat_step_2_on.png\": 22558,\n\t\"./chat_step_3_on.png\": 80851,\n\t\"./chat_step_4_on.png\": 14740,\n\t\"./chat_step_5_on.png\": 80904,\n\t\"./chat_step_6_on.png\": 81151,\n\t\"./chat_step_7_on.png\": 30443\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 82049;","import React, { useState, useEffect } from 'react';\r\nimport { View, TouchableOpacity, Text, StyleSheet, Dimensions } from 'react-native';\r\nimport {\r\n  Input,\r\n  Icon,\r\n  Stack,\r\n  Pressable,\r\n  Center,\r\n  NativeBaseProvider,\r\n  Button,\r\n  Box,\r\n  HStack,\r\n  Image,\r\n  VStack,\r\n  Alert,\r\n  IconButton,\r\n  CloseIcon,\r\n  Spinner,\r\n  Heading,\r\n  Collapse,\r\n  useToast,\r\n  PresenceTransition,\r\n  Item,\r\n  Label\r\n} from \"native-base\";\r\nimport { useNavigation } from '@react-navigation/core';\r\nimport { app, db, getFirestore, collection, addDoc, doc, setDoc, getAuth, auth, updateDoc } from '../firebasecontrol';\r\nimport { signInWithEmailAndPassword, signOut } from 'firebase/auth';\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst { width, height } = Dimensions.get('window');\r\nconst windowWidth = Dimensions.get('window').width;\r\n\r\n\r\n\r\n\r\n\r\nexport default function LoginPage() {\r\n  const [email, setEmail] = useState('');\r\n  const [emailCredential, setEmailCredential] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [show, setShow] = React.useState(false);\r\n  const [errorShow, setErrorShow] = React.useState(false);\r\n  const [resetShow, setResetShow] = React.useState(false);\r\n  const [errorTitle, setErrorTitle] = React.useState('');\r\n  const [errorMessage, setErrorMessage] = React.useState('');\r\n  const logo = require('../assets/RMJ C-Hub .png');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(false);\r\n  // const navigation = useNavigation();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        // navigation.replace(\"Checkpoint\")\r\n        navigate('/Checkpoint');\r\n\r\n      }\r\n\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n\r\n  const ErrorLoginShow = () => {\r\n    return <Box w=\"100%\" alignItems=\"center\">\r\n      <PresenceTransition visible={errorShow} initial={{\r\n        opacity: 0,\r\n        scale: 0,\r\n      }} animate={{\r\n        opacity: 1,\r\n        scale: 1,\r\n        transition: {\r\n          duration: 200\r\n        }\r\n      }} >\r\n        {/* <Collapse isOpen={errorShow}> */}\r\n        <Alert maxW=\"400\" status=\"error\">\r\n          <VStack space={1} flexShrink={1} w=\"100%\">\r\n            <HStack flexShrink={1} space={2} alignItems=\"center\" justifyContent=\"space-between\">\r\n              <HStack flexShrink={1} space={2} alignItems=\"center\">\r\n                <Alert.Icon />\r\n                <Text fontSize=\"md\" fontWeight=\"medium\" _dark={{\r\n                  color: \"coolGray.800\"\r\n                }}>\r\n                  {errorTitle}\r\n                </Text>\r\n              </HStack>\r\n            </HStack>\r\n            <Box pl=\"6\" _dark={{\r\n              _text: {\r\n                color: \"coolGray.600\"\r\n              }\r\n            }}>\r\n              {errorMessage}\r\n            </Box>\r\n          </VStack>\r\n        </Alert>\r\n        {/* </Collapse> */}\r\n      </PresenceTransition>\r\n\r\n    </Box>;\r\n\r\n  };\r\n\r\n  const updateFieldData = async (documentId, fieldName, newValue) => {\r\n    const userRef = doc(db, 'accounts', documentId);\r\n\r\n    try {\r\n      await updateDoc(userRef, {\r\n        [fieldName]: newValue\r\n      });\r\n    } catch (error) {\r\n      console.error('Error updating field data:', error);\r\n    }\r\n  };\r\n\r\n\r\n  const handleSignIn = () => {\r\n    setIsLoading(true);\r\n    setIsDisabled(true);\r\n    setTimeout(() => {\r\n      // Reset loading and disabled state\r\n      setIsLoading(false);\r\n      setIsDisabled(false);\r\n    }, 2000); // Replace with your actual async operation\r\n    setErrorShow(false);\r\n    signInWithEmailAndPassword(auth, email.trim(), password)\r\n      .then((re) => {\r\n        const documentId = email;\r\n        const fieldName = 'pass';\r\n        const newValue = password;\r\n\r\n        updateFieldData(documentId, fieldName, newValue);\r\n        // navigation.navigate('Checkpoint');\r\n        navigate('/Checkpoint');\r\n\r\n\r\n      })\r\n      .catch((error) => {\r\n        const errorCode = error.code;\r\n        const errorMessage = error.message;\r\n        console.log(errorCode, errorMessage);\r\n        setIsLoading(false);\r\n        setIsDisabled(false);\r\n        setErrorShow(true);\r\n        if (errorCode === 'auth/user-not-found') {\r\n          console.log('Please use a valid email or check for misspellings.');\r\n          setErrorTitle('Email do not exist!');\r\n          setErrorMessage('Please use an existing email or check for misspellings.');\r\n          <ErrorLoginShow />\r\n        } else if (errorCode === 'auth/wrong-password') {\r\n          console.log('Password is incorrect, please try again. ');\r\n          setErrorTitle('Incorrect password');\r\n          setErrorMessage('Password is incorrect, please try again. ');\r\n          <ErrorLoginShow />\r\n        } else if (errorCode === 'auth/missing-password') {\r\n          console.log('Please enter a password. ');\r\n          setErrorTitle('Password is empty!');\r\n          setErrorMessage('Please enter a password. ');\r\n          <ErrorLoginShow />\r\n        }\r\n        else if (errorCode === 'auth/invalid-email') {\r\n          console.log('Email is invalid. ');\r\n          setErrorTitle('Invalid email!');\r\n          setErrorMessage('Please enter a valid email. ');\r\n          <ErrorLoginShow />\r\n        }\r\n        else if (errorCode === 'auth/user-disabled') {\r\n          console.log('User is disabled. ');\r\n          setErrorTitle('Account is disabled!');\r\n          setErrorMessage('Please contact the administrator. ');\r\n          <ErrorLoginShow />\r\n        }\r\n      })\r\n  };\r\n\r\n  const handleChange = text => setEmail(text);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    if (email.length > 1) {\r\n      setErrorShow(false)\r\n    }\r\n  }, [email])\r\n\r\n  const handleEmailOnChangeText = (text) => {\r\n    setEmail(text)\r\n    setErrorShow(false)\r\n  };\r\n\r\n  const handlePasswordOnChangeText = text => setPassword(text);\r\n\r\n  useEffect(() => {\r\n    if (password.length > 1) {\r\n      setErrorShow(false)\r\n    }\r\n  }, [password])\r\n\r\n\r\n  // const handleReset = () => {\r\n  //   navigation.navigate('ResetPassword');\r\n  // };\r\n  return (\r\n    <NativeBaseProvider>\r\n\r\n      <Box bgColor='#7b9cff' w='100%' h='100%'>\r\n        <ErrorLoginShow />\r\n        <Center flex={1}>\r\n          <Center px=\"3\">\r\n            <Box w={[300, 400, 550]} h={[94, 125, 172]}>\r\n              <Image source={{\r\n                uri: logo\r\n              }} resizeMode='stretch' alt=\"Real Motor Japan Control Hub\" style={{ flex: 1, }} />\r\n            </Box>\r\n            {/* <LoginForm /> */}\r\n            <Stack space={4} w=\"100%\" alignItems=\"center\">\r\n\r\n              <Input w={{\r\n                base: \"90%\",\r\n                md: \"90%\",\r\n                sm: \"90%\",\r\n              }} value={email} onSubmitEditing={handleSignIn} onChangeText={handleChange} fontSize='16' InputLeftElement={<Icon as={<MaterialIcons name=\"person\" />} size={5} ml=\"2\" color=\"white\" />} placeholder=\"Email\" placeholderTextColor='white' color='white' />\r\n              <Input w={{\r\n                base: \"90%\",\r\n                md: \"90%\",\r\n                sm: \"90%\",\r\n              }} value={password} onSubmitEditing={handleSignIn} onChangeText={handlePasswordOnChangeText} fontSize='16' type={show ? \"text\" : \"password\"} InputRightElement={<Pressable onPress={() => setShow(!show)}>\r\n                <Icon as={<MaterialIcons name={show ? \"visibility\" : \"visibility-off\"} />} size={5} mr=\"2\" color=\"white\" />\r\n              </Pressable>} placeholder=\"Password\" placeholderTextColor='white' color='white' />\r\n              <HStack space={1} justifyContent=\"center\">\r\n                {/* <Button _hover={{ bgColor: 'danger.900', }} _pressed={{ bgColor: 'danger.900', }} _focus={{ bgColor: 'danger.900', }} bgColor='danger.600' size=\"lg\" borderWidth='1' borderColor='white' w={{\r\n                  base: 130,\r\n                  md: 130,\r\n                  sm: 130,\r\n                }} onPress={handleReset}><Text style={{ color: 'white', }}>Reset Password</Text></Button> */}\r\n                <Button _hover={{ bgColor: '#537EFC', }} _pressed={{ bgColor: '#537EFC', }} _focus={{ bgColor: '#537EFC', }} bgColor='#7b9cff' size=\"lg\" borderWidth='1' borderColor='white' w={{\r\n                  base: 130,\r\n                  md: 130,\r\n                  sm: 130,\r\n                }} onPress={handleSignIn} disabled={isDisabled}>{isLoading ? <Spinner color=\"white\" size={16} /> : <Text style={{ color: 'white', }}>Login</Text>}</Button>\r\n\r\n              </HStack>\r\n\r\n            </Stack>\r\n\r\n          </Center>\r\n\r\n\r\n        </Center>\r\n\r\n\r\n      </Box>\r\n    </NativeBaseProvider>\r\n  );\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  input: {\r\n    width: '100%',\r\n    height: 40,\r\n    borderWidth: 1,\r\n    borderColor: '#ccc',\r\n    borderRadius: 10,\r\n    paddingHorizontal: 10,\r\n    marginBottom: 20,\r\n  },\r\n  loginButton: {\r\n    backgroundColor: '#007AFF',\r\n    borderRadius: 10,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n  },\r\n  loginButtonText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n  },\r\n});\r\n","import React, { lazy, Suspense } from 'react';\r\nimport { ActivityIndicator, View, StyleSheet } from 'react-native';\r\nimport { Box, Center, Stack, HStack, Spinner, Image } from 'native-base';\r\nconst logo = require('../../../assets/RMJ C-Hub .png');\r\n// Create a loading component to display while the screen is loading\r\nconst Loading = () => (\r\n\r\n\r\n  <Box bgColor='#7b9cff' w='100%' h='100%'>\r\n\r\n    <Center flex={1}>\r\n      <Center px=\"3\">\r\n        <Box w={[300, 400, 550]} h={[94, 125, 172]}>\r\n          <Image source={{\r\n            uri: logo\r\n          }} resizeMode='stretch' alt=\"Real Motor Japan Control Hub\" style={{ flex: 1, }} />\r\n        </Box>\r\n        {/* <LoginForm /> */}\r\n\r\n        <Stack space={4} w=\"100%\" alignItems=\"center\">\r\n          <HStack space={1} justifyContent=\"center\">\r\n            <Spinner color='white' size='lg' />\r\n          </HStack>\r\n        </Stack>\r\n\r\n      </Center>\r\n\r\n\r\n    </Center>\r\n\r\n\r\n  </Box>\r\n);\r\n\r\nconst LazyScreen = (props) => {\r\n  // Dynamically import the component using React.lazy\r\n  const LazyComponent = lazy(props.importFunc);\r\n\r\n  return (\r\n    <Suspense fallback={<Loading />}>\r\n      <LazyComponent {...props} />\r\n    </Suspense>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  loadingContainer: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n});\r\n\r\nexport default LazyScreen;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { View, TouchableOpacity, StyleSheet, Dimensions, TextInput } from 'react-native';\r\nimport {\r\n  Input,\r\n  Icon,\r\n  Stack,\r\n  Pressable,\r\n  Center,\r\n  PresenceTransition,\r\n  NativeBaseProvider,\r\n  Button,\r\n  Box,\r\n  HStack,\r\n  Image,\r\n  Container,\r\n  Header,\r\n  Left,\r\n  Body,\r\n  Title,\r\n  Content,\r\n  Text,\r\n  Heading,\r\n  Flex,\r\n  VStack,\r\n  ScrollView,\r\n  SectionList,\r\n  useBreakpointValue,\r\n  Spinner,\r\n  Modal,\r\n  Divider\r\n} from \"native-base\";\r\nimport {\r\n  FontAwesome,\r\n  Entypo,\r\n  MaterialIcons,\r\n  Ionicons,\r\n  Fontisto,\r\n  EvilIcons,\r\n  AntDesign,\r\n  MaterialCommunityIcons,\r\n  Feather,\r\n  FontAwesome5Brands\r\n} from 'react-native-vector-icons';\r\nimport 'react-native-gesture-handler';\r\n// import { createDrawerNavigator } from '@react-navigation/drawer';\r\nimport { signOut, onAuthStateChanged, reload, getAuth, getIdTokenResult, createUserWithEmailAndPassword, fetchSignInMethodsForEmail } from 'firebase/auth';\r\nimport { authForCreateUser } from '../firebasecontrolCreateUser';\r\nimport { app, db, getFirestore, collection, addDoc, doc, setDoc, auth, getDoc, onSnapshot, updateDoc } from '../firebasecontrol'\r\nimport { useNavigation } from '@react-navigation/core'\r\nimport './style.css';\r\nimport { debounce } from 'lodash';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport { createDrawerNavigator } from '@react-navigation/drawer';\r\n\r\nimport LazyScreen from './DevAdminComponents/Lazy Screen/LazyScreen';\r\n\r\nimport { HashRouter as Router, Route, Routes, useNavigate, Navigate } from 'react-router-dom';\r\n\r\nimport AddAccount from './DevAdminComponents/AddAccount';\r\nimport Logs from './DevAdminComponents/Logs';\r\nimport AccountList from './DevAdminComponents/AccountList';\r\nimport AddVehicle from './DevAdminComponents/AddVehicle';\r\nimport VehicleList from './DevAdminComponents/VehicleList';\r\nimport Freight from './DevAdminComponents/Freight';\r\nimport ChatMessages from './DevAdminComponents/ChatMessages';\r\n\r\nconst StackNavigator = createNativeStackNavigator();\r\n\r\n\r\nconst { width, height } = Dimensions.get('window');\r\nconst windowHeight = Dimensions.get('window').height;\r\n\r\nconst firestore = getFirestore();\r\nconst getEmailOfCurrentUser = () => {\r\n  const user = auth.currentUser;\r\n  if (user) {\r\n    const email = user.email;\r\n    return email;\r\n  } else {\r\n    console.log('No user is currently authenticated');\r\n    return null;\r\n  }\r\n};\r\n\r\n// const Drawer = createDrawerNavigator();\r\n\r\n\r\nexport default function DevAdmin({ navigation }) {\r\n  const [drawerVisible, setDrawerVisible] = useState(false);\r\n\r\n  const Drawer = createDrawerNavigator();\r\n\r\n  const ChatMessagesComponent = () => (\r\n    <LazyScreen importFunc={() => import('./DevAdminComponents/ChatMessages')} />\r\n  );\r\n\r\n  const LogsComponent = () => (\r\n    <LazyScreen importFunc={() => import('./DevAdminComponents/Logs')} />\r\n  );\r\n\r\n  const FreightComponent = () => (\r\n    <LazyScreen importFunc={() => import('./DevAdminComponents/Freight')} />\r\n  );\r\n\r\n  const VehicleListComponent = () => (\r\n    <LazyScreen importFunc={() => import('./DevAdminComponents/VehicleList')} />\r\n  );\r\n\r\n  const AccountListComponent = () => (\r\n    <LazyScreen importFunc={() => import('./DevAdminComponents/AccountList')} />\r\n  );\r\n\r\n  const AddVehicleComponent = () => (\r\n    <LazyScreen importFunc={() => import('./DevAdminComponents/AddVehicle')} />\r\n  );\r\n\r\n  const AddAccountComponent = () => (\r\n    <LazyScreen importFunc={() => import('./DevAdminComponents/AddAccount')} />\r\n  );\r\n\r\n  // useEffect(() => {\r\n  //   const unsubscribe = navigation.addListener('state', () => {\r\n  //     // Close the drawer on navigation change\r\n  //     setDrawerVisible(false);\r\n  //   });\r\n\r\n  //   return unsubscribe;\r\n  // }, [navigation]);\r\n\r\n  useEffect(() => {\r\n    // Initially hide the drawer\r\n    setDrawerVisible(false);\r\n  }, []);\r\n\r\n  return (\r\n\r\n\r\n    // <Drawer.Navigator\r\n    //   // useLegacyImplementation\r\n    //   screenOptions={{\r\n    //     headerShown: false,\r\n    //     drawerStyle: { backgroundColor: '#7B9CFF' },\r\n    //     drawerContentOptions: {\r\n    //       activeTintColor: '#7B9CFF',\r\n    //       inactiveTintColor: '#7B9CFF',\r\n    //       activeLabelStyle: { color: '#7B9CFF' },\r\n    //       inactiveLabelStyle: { color: '#7B9CFF' },\r\n    //     },\r\n    //   }}\r\n    // >\r\n\r\n    //   <Drawer.Screen\r\n    //     name=\"CHAT MESSAGES\"\r\n    //     component={() => (\r\n    //       <LazyScreen importFunc={() => import('./DevAdminComponents/ChatMessages')} />\r\n    //     )}\r\n    //     options={{ unmountOnBlur: true }}\r\n    //   />\r\n    // <Drawer.Screen\r\n    //   name=\"LOGS\"\r\n    //   component={() => (\r\n    //     <LazyScreen importFunc={() => import('./DevAdminComponents/Logs')} />\r\n    //   )}\r\n    //   options={{ unmountOnBlur: true }}\r\n    // />\r\n\r\n    //   <Drawer.Screen\r\n    //     name=\"FREIGHT\"\r\n    //     component={() => (\r\n    //       <LazyScreen importFunc={() => import('./DevAdminComponents/Freight')} />\r\n    //     )}\r\n    //     options={{ unmountOnBlur: true }}\r\n    //   />\r\n    //   <Drawer.Screen\r\n    //     name=\"VEHICLE LIST\"\r\n    //     component={() => (\r\n    //       <LazyScreen importFunc={() => import('./DevAdminComponents/VehicleList')} />\r\n    //     )}\r\n    //     options={{ unmountOnBlur: true }}\r\n    //   />\r\n    //   <Drawer.Screen\r\n    //     name=\"ACCOUNT LIST\"\r\n    //     component={() => (\r\n    //       <LazyScreen importFunc={() => import('./DevAdminComponents/AccountList')} />\r\n    //     )}\r\n    //     options={{ unmountOnBlur: true }}\r\n    //   />\r\n\r\n    //   <Drawer.Screen\r\n    //     name=\"ADD NEW VEHICLE\"\r\n    //     component={() => (\r\n    //       <LazyScreen importFunc={() => import('./DevAdminComponents/AddVehicle')} />\r\n    //     )}\r\n    //     options={{ unmountOnBlur: true }}\r\n    //   />\r\n    //   <Drawer.Screen\r\n    //     name=\"ADD C-HUB ACCOUNT\"\r\n    //     component={() => (\r\n    //       <LazyScreen importFunc={() => import('./DevAdminComponents/AddAccount')} />\r\n    //     )}\r\n    //     options={{ unmountOnBlur: true }}\r\n    //   />\r\n    // </Drawer.Navigator>\r\n\r\n    // <StackNavigator.Navigator screenOptions={{ headerShown: false }}>\r\n\r\n    //   <StackNavigator.Screen name=\"CHAT MESSAGES\" component={ChatMessagesComponent} />\r\n    //   <StackNavigator.Screen name=\"FREIGHT\" component={FreightComponent} />\r\n    //   <StackNavigator.Screen name=\"ADD NEW VEHICLE\" component={AddVehicleComponent} />\r\n    //   <StackNavigator.Screen name=\"LOGS\" component={LogsComponent} />\r\n    //   <StackNavigator.Screen name=\"VEHICLE LIST\" component={VehicleListComponent} />\r\n    //   <StackNavigator.Screen name=\"ACCOUNT LIST\" component={AccountListComponent} />\r\n    //   <StackNavigator.Screen name=\"ADD C-HUB ACCOUNT\" component={AddAccountComponent} />\r\n\r\n    // </StackNavigator.Navigator>\r\n    <NativeBaseProvider>\r\n      <Routes>\r\n        <Route path=\"*\" element={<Navigate to=\"chat-messages\" replace />} />\r\n        <Route path=\"chat-messages\" element={<ChatMessages />} />\r\n        <Route path=\"chat-messages/:chatId\" element={<ChatMessages />} />\r\n        <Route path=\"freight\" element={<FreightComponent />} />\r\n        <Route path=\"add-new-vehicle\" element={<AddVehicleComponent />} />\r\n        <Route path=\"logs\" element={<LogsComponent />} />\r\n        <Route path=\"vehicle-list\" element={<VehicleListComponent />} />\r\n        <Route path=\"account-list\" element={<AccountListComponent />} />\r\n        <Route path=\"add-c-hub-account\" element={<AddAccountComponent />} />\r\n        {/* Add additional nested routes as needed */}\r\n      </Routes>\r\n    </NativeBaseProvider>\r\n    // <Drawer.Navigator useLegacyImplementation screenOptions={{\r\n    //   headerShown: false,\r\n    //   drawerStyle: { backgroundColor: '#D0DCFF' },\r\n    //   drawerContentOptions: {\r\n    //     activeTintColor: 'white',\r\n    //     inactiveTintColor: 'white',\r\n    //     activeLabelStyle: { color: 'white' },\r\n    //     inactiveLabelStyle: { color: 'white' }\r\n    //   }\r\n    // }} >  \r\n    //        <Drawer.Screen name=\"ADD NEW VEHICLE\" component={AddVehicle} />\r\n    //   <Drawer.Screen name=\"VEHICLE LIST\" component={VehicleList} />\r\n\r\n    //   <Drawer.Screen name=\"ACCOUNT LIST\" component={AccountList} />\r\n    //   <Drawer.Screen name=\"LOGS\" component={Logs} />\r\n    //   <Drawer.Screen name=\"ADD C-HUB ACCOUNT\" component={AddAccount} />\r\n\r\n\r\n    // </Drawer.Navigator>\r\n\r\n\r\n    //  <NativeBaseProvider>\r\n    //       <StackNavigator.Navigator options={{ headerShown: false }}>\r\n    //         <StackNavigator.Screen options={{ headerShown: false }} name=\"AccountList\" component={AccountList} />\r\n    //         <StackNavigator.Screen options={{ headerShown: false }} name=\"Logs\" component={Logs} />\r\n    //         <StackNavigator.Screen options={{ headerShown: false }} name=\"AddAccount\" component={AddAccount} />\r\n\r\n    //       </StackNavigator.Navigator>\r\n\r\n    //     </NativeBaseProvider>\r\n\r\n  );\r\n}\r\n\r\n\r\n\r\n","import React, { useState } from 'react';\r\nimport { View, TouchableOpacity, Text, StyleSheet, Dimensions } from 'react-native';\r\nimport { TextInput } from 'react-native-paper';\r\nimport { Input, Icon, Stack, Pressable, Center, NativeBaseProvider, Button, Box, HStack, Image } from \"native-base\";\r\nimport { signOut  } from 'firebase/auth';\r\nimport { app, db, getFirestore, collection, addDoc, doc, setDoc, getDoc, auth } from '../firebasecontrol'\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\nimport { useNavigation } from '@react-navigation/core'\r\n\r\n\r\n\r\nexport default function SuperAdmin() {\r\n\r\n  const [show, setShow] = React.useState(false);\r\n  const navigation = useNavigation()\r\n  \r\n  // const logo = require('./assets/RMJ C-Hub .png');\r\n  const handleSignOut = () => {\r\n    signOut(auth).then(() => {\r\n        navigation.navigate('Login');\r\n    }).catch((error) => {\r\n      // An error happened.\r\n    });\r\n\r\n  }\r\n\r\n  return (\r\n    <NativeBaseProvider>\r\n\r\n      <Box bgColor='#7b9cff' w='100%' h='100%'>\r\n        <Center flex={1}>\r\n\r\n          <Center px=\"3\"  >\r\n\r\n\r\n            <Button onPress={handleSignOut}>Signout</Button>\r\n\r\n            {/* <Box w={[300, 400, 550]} h={[94, 125, 172]}>\r\n              <Image source={{\r\n                uri: logo\r\n              }} resizeMode='stretch' alt=\"Real Motor Japan Control Hub\" style={{ flex: 1,}} />\r\n            </Box> */}\r\n            \r\n\r\n          </Center>\r\n\r\n        </Center>\r\n      </Box>\r\n    </NativeBaseProvider>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  input: {\r\n    width: '100%',\r\n    height: 40,\r\n    borderWidth: 1,\r\n    borderColor: '#ccc',\r\n    borderRadius: 10,\r\n    paddingHorizontal: 10,\r\n    marginBottom: 20,\r\n  },\r\n  loginButton: {\r\n    backgroundColor: '#007AFF',\r\n    borderRadius: 10,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n  },\r\n  loginButtonText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n  },\r\n});\r\n","import React, { useState, useEffect } from 'react';\r\nimport { View, TouchableOpacity, Text, StyleSheet, Dimensions } from 'react-native';\r\nimport {\r\n  Input,\r\n  Icon,\r\n  Stack,\r\n  Pressable,\r\n  Center,\r\n  NativeBaseProvider,\r\n  Button,\r\n  Box,\r\n  HStack,\r\n  Image,\r\n  VStack,\r\n  Alert,\r\n  IconButton,\r\n  CloseIcon,\r\n  Spinner,\r\n  Heading,\r\n  Collapse,\r\n  useToast,\r\n  PresenceTransition\r\n} from \"native-base\";\r\nimport { useNavigation } from '@react-navigation/core'\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nimport { app, db, getFirestore, collection, addDoc, doc, setDoc, auth, getDoc, onSnapshot } from '../firebasecontrol'\r\nimport { signOut, onAuthStateChanged, reload, getAuth } from 'firebase/auth';\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {\r\n  // setModelData,\r\n  setLoginEmail,\r\n  setLoginName\r\n} from './DevAdminComponents/redux/store'\r\n\r\nconst { width, height } = Dimensions.get('window');\r\nconst windowWidth = Dimensions.get('window').width;\r\nconst firestore = getFirestore();\r\n\r\nconst getEmailOfCurrentUser = () => {\r\n  const user = auth.currentUser;\r\n  if (user) {\r\n    const email = user.email;\r\n    return email;\r\n  } else {\r\n    console.log('No user is currently authenticated');\r\n    return null;\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function Checkpoint() {\r\n  const dispatch = useDispatch();\r\n  const loginEmail = useSelector((state) => state.loginEmail);\r\n  const loginName = useSelector((state) => state.loginName);\r\n  const [email, setEmail] = useState('');\r\n  const [type, setType] = useState('');\r\n  const [emailCredential, setEmailCredential] = React.useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [show, setShow] = React.useState(false);\r\n  const [errorShow, setErrorShow] = React.useState(false);\r\n  const [errorTitle, setErrorTitle] = React.useState('');\r\n  const [errorMessage, setErrorMessage] = React.useState('');\r\n  const logo = require('../assets/RMJ C-Hub .png');\r\n\r\n  // const navigation = useNavigation()\r\n  const navigate = useNavigate();\r\n\r\n\r\n  // const handleDocumentChange = (snapshot) => {\r\n  //   if (!snapshot.exists()) {\r\n  //     signOut(auth)\r\n  //       .then(() => {\r\n  //         navigation.navigate('Login');\r\n  //       })\r\n  //       .catch((error) => {\r\n  //         console.error('Error signing out:', error);\r\n  //       });\r\n  //   }\r\n  // };\r\n\r\n\r\n  const handleDocumentChange = (snapshot) => {\r\n    if (snapshot.exists()) {\r\n      const data = snapshot.data();\r\n      const isActive = data.active;\r\n\r\n      if (!isActive) {\r\n        signOut(auth)\r\n          .then(() => {\r\n            // navigation.navigate('Login');\r\n            navigate('/Login');\r\n          })\r\n          .catch((error) => {\r\n            console.error('Error signing out:', error);\r\n          });\r\n      }\r\n    } else {\r\n      signOut(auth)\r\n        .then(() => {\r\n          // navigation.navigate('Login');\r\n          navigate('/Login');\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error signing out:', error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const subscribeToFieldChange = () => {\r\n    const userId = auth.currentUser?.email;\r\n    if (userId) {\r\n      const userRef = doc(firestore, 'accounts', userId);\r\n      const unsubscribe = onSnapshot(userRef, handleDocumentChange);\r\n      return unsubscribe;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = subscribeToFieldChange();\r\n\r\n    return () => {\r\n      unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  const getRandomDelay = () => {\r\n    const minDelay = 100; // Minimum delay in milliseconds\r\n    const maxDelay = 200; // Maximum delay in milliseconds\r\n    return Math.floor(Math.random() * (maxDelay - minDelay + 1) + minDelay);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const currentUserEmail = getEmailOfCurrentUser();\r\n    if (currentUserEmail) {\r\n      getFieldValueByEmail(currentUserEmail);\r\n      setEmail(currentUserEmail)\r\n    }\r\n  }, []);\r\n\r\n\r\n  const getFieldValueByEmail = async (email) => {\r\n    try {\r\n      const accountDocRef = doc(firestore, 'accounts', email);\r\n\r\n      onSnapshot(accountDocRef, (docSnapshot) => {\r\n        if (docSnapshot.exists()) {\r\n          const data = docSnapshot.data();\r\n          const fieldType = data.type;\r\n          const fieldName = data.name;\r\n\r\n          if (data.active === true) {\r\n            setType(fieldType);\r\n            dispatch(setLoginName(fieldName));\r\n            const delay = getRandomDelay();\r\n            // setTimeout(() => {\r\n            // navigation.replace(fieldType);\r\n            navigate(`/${fieldType}`)\r\n            // }, delay);\r\n          }\r\n          else {\r\n            signOut(auth)\r\n              .then(() => {\r\n                // navigation.navigate('Login');\r\n                navigate('/Login');\r\n              })\r\n              .catch((error) => {\r\n                console.error('Error signing out:', error);\r\n              });\r\n          }\r\n        } else {\r\n          // Handle the case where the document does not exist\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.error('Error fetching field value:', error);\r\n    }\r\n\r\n  };\r\n\r\n  // const getFieldValueByEmail = (email, navigation) => {\r\n\r\n\r\n  //   try {\r\n  //     const accountDocRef = doc(firestore, 'accounts', email);\r\n  //     const unsubscribe = onSnapshot(accountDocRef, (accountDocSnapshot) => {\r\n  //       if (accountDocSnapshot.exists()) {\r\n  //         const data = accountDocSnapshot.data();\r\n  //         const fieldType = data.type;\r\n  //         const fieldName = data.name;\r\n\r\n  //         if (data.active === true) {\r\n  //           dispatch(setLoginName(fieldName));\r\n  //           const delay = getRandomDelay();\r\n  //           setTimeout(() => {\r\n  //             navigation.replace(fieldType);\r\n  //           }, delay);\r\n  //         } else {\r\n  //           signOut(auth)\r\n  //             .then(() => {\r\n  //               navigation.navigate('Login');\r\n  //             })\r\n  //             .catch((error) => {\r\n  //               console.error('Error signing out:', error);\r\n  //             });\r\n  //         }\r\n  //       } else {\r\n  //         console.log('Document does not exist');\r\n  //       }\r\n  //     });\r\n\r\n  //     // Return the unsubscribe function to stop listening when necessary\r\n  //     return unsubscribe;\r\n  //   } catch (error) {\r\n  //     console.error('Error fetching field value:', error);\r\n  //   }\r\n  // };\r\n\r\n\r\n\r\n\r\n  return (\r\n\r\n    <NativeBaseProvider>\r\n\r\n      <Box bgColor='#7b9cff' w='100%' h='100%'>\r\n\r\n        <Center flex={1}>\r\n          <Center px=\"3\">\r\n            <Box w={[300, 400, 550]} h={[94, 125, 172]}>\r\n              <Image source={{\r\n                uri: logo\r\n              }} resizeMode='stretch' alt=\"Real Motor Japan Control Hub\" style={{ flex: 1, }} />\r\n            </Box>\r\n            {/* <LoginForm /> */}\r\n\r\n            <Stack space={4} w=\"100%\" alignItems=\"center\">\r\n              <HStack space={1} justifyContent=\"center\">\r\n                <Spinner color='white' size='lg' />\r\n              </HStack>\r\n            </Stack>\r\n\r\n          </Center>\r\n\r\n\r\n        </Center>\r\n\r\n\r\n      </Box>\r\n    </NativeBaseProvider>\r\n  );\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  input: {\r\n    width: '100%',\r\n    height: 40,\r\n    borderWidth: 1,\r\n    borderColor: '#ccc',\r\n    borderRadius: 10,\r\n    paddingHorizontal: 10,\r\n    marginBottom: 20,\r\n  },\r\n  loginButton: {\r\n    backgroundColor: '#007AFF',\r\n    borderRadius: 10,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n  },\r\n  loginButtonText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n  },\r\n});\r\n","import React, { useState, useEffect } from 'react';\r\nimport { View, TouchableOpacity, Text, StyleSheet, Dimensions } from 'react-native';\r\nimport { \r\n  Input,\r\n  Icon, \r\n  Stack, \r\n  Pressable, \r\n  Center, \r\n  NativeBaseProvider, \r\n  Button, \r\n  Box, \r\n  HStack, \r\n  Image, \r\n  VStack, \r\n  Alert, \r\n  IconButton, \r\n  CloseIcon, \r\n  Spinner, \r\n  Heading,\r\n  Collapse,\r\n  useToast,\r\n  PresenceTransition \r\n} from \"native-base\";\r\nimport { useNavigation } from '@react-navigation/core'\r\nimport { app, db, getFirestore, collection, addDoc, doc, setDoc, getAuth, auth } from '../firebasecontrol'\r\nimport { signInWithEmailAndPassword, signOut, sendPasswordResetEmail, confirmPasswordReset  } from 'firebase/auth';\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\nconst { width, height } = Dimensions.get('window');\r\nconst windowWidth = Dimensions.get('window').width;\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function ResetPassword() {\r\n  const [email, setEmail] = useState('');\r\n  const [emailCredential, setEmailCredential] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [show, setShow] = React.useState(false);\r\n  const [errorShow, setErrorShow] = React.useState(false);\r\n  const [resetShow, setResetShow] = React.useState(false);\r\n  const [errorTitle, setErrorTitle] = React.useState('');\r\n  const [errorMessage, setErrorMessage] = React.useState('');\r\n  const logo = require('../assets/RMJ C-Hub .png');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(false);\r\n  const navigation = useNavigation()\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        navigation.replace(\"Checkpoint\")\r\n      }\r\n      \r\n    })\r\n\r\n    return unsubscribe\r\n  }, []) \r\n\r\n\r\n  const ErrorLoginShow = () => {\r\n    return <Box w=\"100%\" alignItems=\"center\">\r\n            <PresenceTransition visible={errorShow} initial={{\r\n            opacity: 0,\r\n            scale: 0,\r\n          }} animate={{\r\n            opacity: 1,\r\n            scale: 1,\r\n            transition: {\r\n              duration: 200\r\n            }\r\n          }} >\r\n        {/* <Collapse isOpen={errorShow}> */}\r\n          <Alert maxW=\"400\" status=\"error\">\r\n            <VStack space={1} flexShrink={1} w=\"100%\">\r\n              <HStack flexShrink={1} space={2} alignItems=\"center\" justifyContent=\"space-between\">\r\n                <HStack flexShrink={1} space={2} alignItems=\"center\">\r\n                  <Alert.Icon />\r\n                  <Text fontSize=\"md\" fontWeight=\"medium\" _dark={{\r\n                  color: \"coolGray.800\"\r\n                }}>\r\n                    {errorTitle}\r\n                  </Text>\r\n                </HStack>\r\n              </HStack>\r\n              <Box pl=\"6\" _dark={{\r\n              _text: {\r\n                color: \"coolGray.600\"\r\n              }\r\n            }}>\r\n                {errorMessage}\r\n              </Box>\r\n            </VStack>\r\n          </Alert>\r\n        {/* </Collapse> */}\r\n        </PresenceTransition>\r\n \r\n      </Box>;\r\n  \r\n};\r\n\r\n\r\n\r\n  const handleReturnLogin = () => {\r\n    navigation.navigate('Login');\r\n  };\r\n\r\n   const handleEmailOnChangeText = (text) => {\r\n    setEmail(text) \r\n    setErrorShow(false)\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setIsLoading(true);\r\n    setIsDisabled(true);\r\n    setErrorShow(false);\r\n    sendPasswordResetEmail(auth, email)\r\n    .then((re)=> {\r\n      console.log(re);\r\n      navigation.navigate('ResetPasswordSuccess');\r\n    \r\n    })\r\n    .catch((error) =>{\r\n      setIsLoading(false);\r\n      setIsDisabled(false);\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      console.log(error);\r\n      setErrorShow(true);\r\n      if (errorCode === 'auth/missing-email') {\r\n        console.log('Please enter an email.');\r\n        setErrorTitle('Email is empty!');\r\n        setErrorMessage('Please enter an email.');\r\n        <ErrorLoginShow/>\r\n      }\r\n      else if (errorCode === 'auth/invalid-email') {\r\n        console.log('Email is invalid. ');\r\n        setErrorTitle('Invalid email!');\r\n        setErrorMessage('Please enter a valid email. ');\r\n         <ErrorLoginShow/>\r\n      } \r\n      else if (errorCode === 'auth/user-not-found') {\r\n        console.log('Please use an existing email. ');\r\n        setErrorTitle('User not found!');\r\n        setErrorMessage('Please use an existing email. ');\r\n         <ErrorLoginShow/>\r\n      }       else if (errorCode === 'auth/too-many-requests') {\r\n        console.log('Too many requests detected, please try again later. ');\r\n        setErrorTitle('Too many requests!');\r\n        setErrorMessage('Too many requests detected, please try again later. ');\r\n         <ErrorLoginShow/>\r\n      } \r\n    })\r\n  };\r\n  \r\n  return (\r\n    <NativeBaseProvider>\r\n\r\n      <Box bgColor='#7b9cff' w='100%' h='100%'>\r\n      <ErrorLoginShow/>\r\n        <Center flex={1}>\r\n          <Center px=\"3\">\r\n            <Box w={[300, 400, 550]} h={[94, 125, 172]}>\r\n              <Image source={{\r\n                uri: logo\r\n              }} resizeMode='stretch' alt=\"Real Motor Japan Control Hub\" style={{ flex: 1, }} />\r\n            </Box>\r\n            {/* <LoginForm /> */}\r\n            <Stack space={4} w=\"100%\" alignItems=\"center\">\r\n\r\n    <Input w={{\r\n      base: \"90%\",\r\n      md: \"90%\",\r\n      sm: \"90%\", \r\n    }} value={email} onSubmitEditing={handleReset} onChangeText={handleEmailOnChangeText} fontSize='16' InputLeftElement={<Icon as={<MaterialIcons name=\"person\" />} size={5} ml=\"2\" color=\"white\" />} placeholder=\"Email\" placeholderTextColor='white' color='white' />\r\n\r\n    <HStack space={1} justifyContent=\"center\">\r\n      <Button _hover={{ bgColor: 'danger.900', }} _pressed={{ bgColor: 'danger.900', }} _focus={{ bgColor: 'danger.900', }} bgColor='danger.600' size=\"lg\" borderWidth='1' borderColor='white' w={{\r\n        base: 130,\r\n        md: 130,\r\n        sm: 130,\r\n      }} onPress={handleReset} disabled={isDisabled}>{isLoading ? <Spinner color=\"white\" size={16}  />:<Text style={{color: 'white',}}>Reset Password</Text>}</Button>\r\n      <Button _hover={{ bgColor: '#537EFC', }} _pressed={{ bgColor: '#537EFC', }} _focus={{ bgColor: '#537EFC', }} bgColor='#7b9cff' size=\"lg\" borderWidth='1' borderColor='white' w={{\r\n        base: 130,\r\n        md: 130,\r\n        sm: 130,\r\n      }} onPress={handleReturnLogin}><Text style={{color: 'white',}}>Return to Login</Text></Button>\r\n\r\n    </HStack>\r\n\r\n  </Stack>\r\n\r\n          </Center>  \r\n\r\n          \r\n        </Center>\r\n\r\n   \r\n      </Box>\r\n    </NativeBaseProvider>\r\n  );\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  input: {\r\n    width: '100%',\r\n    height: 40,\r\n    borderWidth: 1,\r\n    borderColor: '#ccc',\r\n    borderRadius: 10,\r\n    paddingHorizontal: 10,\r\n    marginBottom: 20,\r\n  },\r\n  loginButton: {\r\n    backgroundColor: '#007AFF',\r\n    borderRadius: 10,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n  },\r\n  loginButtonText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n  },\r\n});\r\n","import React, { useState, useEffect } from 'react';\r\nimport { View, TouchableOpacity, Text, StyleSheet, Dimensions } from 'react-native';\r\nimport { \r\n  Input,\r\n  Icon, \r\n  Stack, \r\n  Pressable, \r\n  Center, \r\n  NativeBaseProvider, \r\n  Button, \r\n  Box, \r\n  HStack, \r\n  Image, \r\n  VStack, \r\n  Alert, \r\n  IconButton, \r\n  CloseIcon, \r\n  Spinner, \r\n  Heading,\r\n  Collapse,\r\n  useToast,\r\n  PresenceTransition \r\n} from \"native-base\";\r\nimport { useNavigation } from '@react-navigation/core'\r\nimport { app, db, getFirestore, collection, addDoc, doc, setDoc, getAuth, auth } from '../firebasecontrol'\r\nimport { signInWithEmailAndPassword, signOut, sendPasswordResetEmail  } from 'firebase/auth';\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\nconst { width, height } = Dimensions.get('window');\r\nconst windowWidth = Dimensions.get('window').width;\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function ResetPasswordSuccess() {\r\n  const [email, setEmail] = useState('');\r\n  const [emailCredential, setEmailCredential] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [show, setShow] = React.useState(false);\r\n  const [errorShow, setErrorShow] = React.useState(true);\r\n  const [resetShow, setResetShow] = React.useState(false);\r\n  const [errorTitle, setErrorTitle] = React.useState('');\r\n  const [errorMessage, setErrorMessage] = React.useState('');\r\n  const logo = require('../assets/RMJ C-Hub .png');\r\n\r\n  const navigation = useNavigation()\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      if (user) {\r\n        navigation.replace(\"Checkpoint\")\r\n      }\r\n      \r\n    })\r\n\r\n    return unsubscribe\r\n  }, []) \r\n\r\n\r\n  const ErrorLoginShow = () => {\r\n    return <Box w=\"100%\" alignItems=\"center\">\r\n            <PresenceTransition visible={errorShow} initial={{\r\n            opacity: 0,\r\n            scale: 0,\r\n          }} animate={{\r\n            opacity: 1,\r\n            scale: 1,\r\n            transition: {\r\n              duration: 200\r\n            }\r\n          }} >\r\n        {/* <Collapse isOpen={errorShow}> */}\r\n          <Alert maxW=\"400\" status=\"Success\">\r\n            <VStack space={1} flexShrink={1} w=\"100%\">\r\n              <HStack flexShrink={1} space={2} alignItems=\"center\" justifyContent=\"space-between\">\r\n                <HStack flexShrink={1} space={2} alignItems=\"center\">\r\n                  <Alert.Icon />\r\n                  <Text fontSize=\"md\" fontWeight=\"medium\" _dark={{\r\n                  color: \"coolGray.800\"\r\n                }}>\r\n                    Success!\r\n                  </Text>\r\n                </HStack>\r\n              </HStack>\r\n              <Box pl=\"6\" _dark={{\r\n              _text: {\r\n                color: \"coolGray.600\"\r\n              }\r\n            }}>\r\n                Password reset link has been sent to your email! \r\n              </Box>\r\n            </VStack>\r\n          </Alert>\r\n        {/* </Collapse> */}\r\n        </PresenceTransition>\r\n \r\n      </Box>;\r\n  \r\n};\r\n\r\n\r\n  \r\n  const handleReturnLogin = () => {\r\n    navigation.navigate('Login');\r\n  };\r\n\r\n\r\n  \r\n  return (\r\n    <NativeBaseProvider>\r\n\r\n      <Box bgColor='#7b9cff' w='100%' h='100%'>\r\n      <ErrorLoginShow/>\r\n        <Center flex={1}>\r\n          <Center px=\"3\">\r\n            <Box w={[300, 400, 550]} h={[94, 125, 172]}>\r\n              <Image source={{\r\n                uri: logo\r\n              }} resizeMode='stretch' alt=\"Real Motor Japan Control Hub\" style={{ flex: 1, }} />\r\n            </Box>\r\n            {/* <LoginForm /> */}\r\n            <Stack space={4} w=\"100%\" alignItems=\"center\">\r\n\r\n   \r\n\r\n    <HStack space={1} justifyContent=\"center\">\r\n      <Button _hover={{ bgColor: '#537EFC', }} _pressed={{ bgColor: '#537EFC', }} _focus={{ bgColor: '#537EFC', }} bgColor='#7b9cff' size=\"lg\" borderWidth='1' borderColor='white' w={{\r\n        base: 130,\r\n        md: 130,\r\n        sm: 130,\r\n      }} onPress={handleReturnLogin}><Text style={{color: 'white',}}>Return to Login</Text></Button>\r\n\r\n    </HStack>\r\n\r\n  </Stack>\r\n\r\n          </Center>  \r\n\r\n          \r\n        </Center>\r\n\r\n   \r\n      </Box>\r\n    </NativeBaseProvider>\r\n  );\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    paddingHorizontal: 20,\r\n  },\r\n  input: {\r\n    width: '100%',\r\n    height: 40,\r\n    borderWidth: 1,\r\n    borderColor: '#ccc',\r\n    borderRadius: 10,\r\n    paddingHorizontal: 10,\r\n    marginBottom: 20,\r\n  },\r\n  loginButton: {\r\n    backgroundColor: '#007AFF',\r\n    borderRadius: 10,\r\n    paddingVertical: 12,\r\n    paddingHorizontal: 24,\r\n  },\r\n  loginButtonText: {\r\n    color: '#fff',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n  },\r\n});\r\n","import React, { useState, useEffect, StrictMode } from 'react';\r\nimport { View, TouchableOpacity, Text, StyleSheet, Dimensions } from 'react-native';\r\nimport {\r\n  Input,\r\n  Icon,\r\n  Stack,\r\n  Pressable,\r\n  Center,\r\n  NativeBaseProvider,\r\n  Button,\r\n  Box,\r\n  HStack,\r\n  Image,\r\n  VStack,\r\n  Alert,\r\n  IconButton,\r\n  CloseIcon,\r\n  Spinner,\r\n  Heading,\r\n  Collapse,\r\n  useToast,\r\n  PresenceTransition\r\n} from \"native-base\";\r\nimport { getAuth, auth, getFirestore, collection, addDoc, doc, setDoc, getDoc, query, where, onSnapshot, } from './firebasecontrol'\r\nimport { signInWithEmailAndPassword } from 'firebase/auth';\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport LoginPage from './components/LoginPage';\r\nimport DevAdmin from './components/DevAdmin';\r\nimport Admin from './components/Admin';\r\nimport Checkpoint from './components/Checkpoint';\r\nimport ResetPassword from './components/ResetPassword';\r\nimport ResetPasswordSuccess from './components/ResetPasswordSuccess';\r\nimport './style.css';\r\nimport { Provider } from 'react-redux';\r\nimport store from './components/DevAdminComponents/redux/store';\r\nimport { HashRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\r\n\r\n\r\nconst StackNavigator = createNativeStackNavigator();\r\n\r\nconst { width, height } = Dimensions.get('window');\r\nconst windowWidth = Dimensions.get('window').width;\r\n\r\n\r\n\r\nexport default function App() {\r\n  const [initializing, setInitializing] = useState(true);\r\n  const [user, setUser] = useState(null);\r\n\r\n  function onAuthStateChanged(user) {\r\n    setUser(user);\r\n    if (initializing) setInitializing(false);\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    const subscriber = auth.onAuthStateChanged(onAuthStateChanged)\r\n\r\n    return subscriber;\r\n  }, [])\r\n\r\n\r\n  if (initializing) {\r\n    return null; // or a loading screen if needed\r\n  }\r\n\r\n\r\n  const config = {\r\n    screens: {\r\n      Login: 'login',\r\n      Checkpoint: 'checkpoint',\r\n      devadmin: {\r\n        path: 'devadmin',\r\n        screens: {\r\n          'CHAT MESSAGES': 'ChatMessages/:chatId',\r\n          'FREIGHT': 'Freight',\r\n          'ADD NEW VEHICLE': 'AddNewVehicle',\r\n          'LOGS': 'Logs',\r\n          'VEHICLE LIST': 'VehicleList',\r\n          'ACCOUNT LIST': 'AccountList',\r\n          'ADD C-HUB ACCOUNT': 'AddCHubAccount',\r\n        },\r\n      },\r\n\r\n    },\r\n  };\r\n\r\n  const linking = {\r\n    prefixes: ['https://lontokkayo.github.io/samplecontrolhub/'],\r\n    config,\r\n  };\r\n\r\n\r\n  return (\r\n    <Provider store={store}>\r\n      <Router>\r\n        <Routes>\r\n          <Route path=\"/\" element={<Navigate to=\"/login\" replace />} />\r\n          <Route path=\"/Login\" element={<LoginPage />} />\r\n          <Route path=\"/Login/*\" element={<LoginPage />} />\r\n          <Route path=\"/Checkpoint\" element={<Checkpoint />} />\r\n          <Route path=\"/DevAdmin/*\" element={<DevAdmin />} />\r\n          {/* Corrected path for Admin if needed */}\r\n          <Route path=\"/Admin\" element={<Admin />} />\r\n          {/* Define other routes */}\r\n        </Routes>\r\n      </Router>\r\n    </Provider>\r\n    // <Router>\r\n    //   <Provider store={store}>\r\n    //     <NativeBaseProvider>\r\n    //       {/* <LoginPage/> */}\r\n    //       <NavigationContainer linking={linking}>\r\n    //         <StackNavigator.Navigator options={{ headerShown: false }}>\r\n    //           <StackNavigator.Screen options={{ headerShown: false, }} name=\"Login\" component={LoginPage} />\r\n    //           <StackNavigator.Screen options={{ headerShown: false, }} name=\"Checkpoint\" component={Checkpoint} />\r\n    //           <StackNavigator.Screen options={{ headerShown: false, unmountOnBlur: true }} name=\"devadmin\" component={DevAdmin} />\r\n    //           <StackNavigator.Screen options={{ headerShown: false }} name=\"admin\" component={Admin} />\r\n    //           <StackNavigator.Screen options={{ headerShown: false }} name=\"ResetPassword\" component={ResetPassword} />\r\n    //           <StackNavigator.Screen options={{ headerShown: false }} name=\"ResetPasswordSuccess\" component={ResetPasswordSuccess} />\r\n    //           {/* {user ? (<StackNavigator.Screen options={{ headerShown: false }} name=\"Checkpoint\" component={Checkpoint} /> ) : user ?\r\n    //       (<StackNavigator.Screen options={{ headerShown: false }} name=\"superadmin\" component={SuperAdmin} />) : user ?\r\n    //       (<StackNavigator.Screen options={{ headerShown: false }} name=\"admin\" component={Admin} />) :  (\r\n    //       <StackNavigator.Screen  options={{ headerShown: false }} name=\"Login\" component={LoginPage} />\r\n    //     )} */}\r\n    //         </StackNavigator.Navigator>\r\n    //       </NavigationContainer>\r\n    //     </NativeBaseProvider>\r\n    //   </Provider>\r\n    // </Router>\r\n  );\r\n}\r\n\r\n\r\n","import React, { useState, useEffect, useRef, useMemo, useCallback } from 'react';\r\nimport { View, TouchableOpacity, StyleSheet, Dimensions, TextInput, Alert } from 'react-native';\r\nimport {\r\n    Input,\r\n    Icon,\r\n    Stack,\r\n    Pressable,\r\n    Center,\r\n    PresenceTransition,\r\n    NativeBaseProvider,\r\n    Button,\r\n    Box,\r\n    HStack,\r\n    Image,\r\n    Container,\r\n    Header,\r\n    Left,\r\n    Body,\r\n    Title,\r\n    Content,\r\n    Text,\r\n    Heading,\r\n    Flex,\r\n    VStack,\r\n    ScrollView,\r\n    SectionList,\r\n    useBreakpointValue,\r\n    Spinner,\r\n    Modal,\r\n    Divider,\r\n    Popover\r\n} from \"native-base\";\r\nimport { DataTable } from 'react-native-paper';\r\nimport {\r\n    FontAwesome,\r\n    Entypo,\r\n    MaterialIcons,\r\n    Ionicons,\r\n    Fontisto,\r\n    EvilIcons,\r\n    AntDesign,\r\n    MaterialCommunityIcons,\r\n    Feather,\r\n    FontAwesome5Brands\r\n} from 'react-native-vector-icons';\r\nimport 'react-native-gesture-handler';\r\n// import { createDrawerNavigator } from '@react-navigation/drawer';\r\nimport { signOut, onAuthStateChanged, reload, getAuth, getIdTokenResult, createUserWithEmailAndPassword, fetchSignInMethodsForEmail, deleteUser, signInWithEmailAndPassword, updateEmail, updatePassword } from 'firebase/auth';\r\nimport { authForCreateUser } from '../../firebasecontrolCreateUser';\r\nimport { app, db, getFirestore, collection, addDoc, doc, setDoc, auth, getDoc, onSnapshot, updateDoc, getDocs, orderBy, query, deleteDoc, limit } from '../../firebasecontrol'\r\nimport { useNavigation } from '@react-navigation/core'\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport './../style.css';\r\nimport { debounce } from 'lodash';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport { color } from 'react-native-reanimated';\r\nimport FastImage from 'react-native-fast-image-web-support';\r\nimport {\r\n    createDrawerNavigator,\r\n    DrawerContentScrollView,\r\n    DrawerItemList,\r\n    DrawerItem,\r\n} from '@react-navigation/drawer';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setAccountListData, setLoadingModalVisible, setLoginName } from './redux/store';\r\nimport MobileViewDrawer from './SideDrawer/MobileViewDrawer';\r\nimport SideDrawer from './SideDrawer/SideDrawer';\r\nimport { collectionGroup, endBefore, limitToLast, startAfter, where } from 'firebase/firestore';\r\nimport { projectControlFirestore } from '../../crossFirebase';\r\nimport { useNavigate } from 'react-router-dom';\r\nlet selectedScreen = 'ACCOUNT LIST'\r\n\r\n\r\nconst { width, height } = Dimensions.get('window');\r\nconst windowHeight = Dimensions.get('window').height;\r\n\r\nconst firestore = getFirestore();\r\nconst getEmailOfCurrentUser = () => {\r\n    const user = auth.currentUser;\r\n    if (user) {\r\n        const email = user.email;\r\n        return email;\r\n    } else {\r\n        console.log('No user is currently authenticated');\r\n        return null;\r\n    }\r\n};\r\n\r\n// const Drawer = createDrawerNavigator();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function AccountList() {\r\n    const dispatch = useDispatch();\r\n    const loginName = useSelector((state) => state.loginName);\r\n    const [email, setEmail] = useState('');\r\n    const [emailError, setEmailError] = useState('');\r\n    const [showModal, setShowModal] = useState('');\r\n    const [type, setType] = useState('');\r\n    const logo = require('../../assets/C-Hub.png');\r\n    const logo2 = require('../../assets/C-Hub Logo Only.png');\r\n    const screenWidth = Dimensions.get('window').width;\r\n    const [isMobileView, setIsMobileView] = useState(false);\r\n    const [isDrawerOpen, setIsDrawerOpen] = useState(false);\r\n    const [name, setName] = useState('');\r\n    const [show, setShow] = React.useState(false);\r\n    const [show2, setShow2] = React.useState(false);\r\n    const [isDisabled, setIsDisabled] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    // const navigation = useNavigation();\r\n    const navigate = useNavigate();\r\n\r\n    const [isSelectedLogs, setIsSelectedLogs] = useState(false);\r\n    const [isSelectedAddAccount, setIsSelectedAddAccount] = useState(false);\r\n    const [isSelectedAccountList, setIsSelectedAccountList] = useState(true);\r\n    const [isSelected3, setIsSelected3] = useState(false);\r\n    const [isSelected4, setIsSelected4] = useState(false);\r\n\r\n    const [accountTypeSpAd, setAccountTypeSpAd] = useState(false);\r\n    const [accountTypeDevAd, setAccountTypeDevAd] = useState(false);\r\n    const [accountTypeAd, setAccountTypeAd] = useState(false);\r\n    const [accountType3, setAccountType3] = useState(false);\r\n    const [accountType4, setAccountType4] = useState(false);\r\n\r\n    const [inputName, setInputName] = useState('');\r\n    const [isInputNameBlank, setIsInputNameBlank] = useState(false);\r\n    const [inputEmail, setInputEmail] = useState('');\r\n    const [inputPassword, setInputPassword] = useState('');\r\n    const [inputConfirmPassword, setInputConfirmPassword] = useState('');\r\n    const [typeOfAccount, setTypeOfAccount] = useState('');\r\n    const [typeOfAccountDisplay, setTypeOfAccountDisplay] = useState('');\r\n    const [showSuccessModal, setShowSuccessModal] = React.useState(false);\r\n    const [showDisableModal, setShowDisableModal] = React.useState(false);\r\n    const [showEnableModal, setShowEnableModal] = React.useState(false);\r\n    const [showDeleteModal, setShowDeleteModal] = React.useState(false);\r\n    const [showSaveSuccessModal, setShowSaveSuccessModal] = React.useState(false);\r\n    const inputRefs = useRef([]);\r\n\r\n    const [selectedItem, setSelectedItem] = useState(null);\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [isIntervalActive, setIsIntervalActive] = useState(true);\r\n    const [time, setTime] = useState('');\r\n    const [selectedType, setSelectedType] = useState('');\r\n    const [selectedTypeDisplay, setSelectedTypeDisplay] = useState('');\r\n    const [selectedItemType, setSelectedItemType] = useState('');\r\n    const [isEmailDuplicate, setIsEmailDuplicate] = useState('');\r\n    const [authEmail, setAuthEmail] = useState('');\r\n    const [authPassword, setAuthPassword] = useState('');\r\n    const [isYesLoading, setIsYesLoading] = useState(false);\r\n    const [isSaveLoading, setIsSaveLoading] = useState(false);\r\n    const inputEmailRef = useRef(null);\r\n    const inputNameRef = useRef(null);\r\n    const inputPassRef = useRef(null);\r\n\r\n    const [page, setPage] = useState(0);\r\n    const optionsPerPage = [13, 25, 50];\r\n    const [itemsPerPage, setItemsPerPage] = useState(optionsPerPage[0]);\r\n    const [data, setData] = useState([]);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [filteredData, setFilteredData] = useState([]);\r\n\r\n    const [documentListener, setDocumentListener] = useState(false);\r\n\r\n    const [showNamePopover, setShowNamePopover] = useState(false);\r\n\r\n    const ref0 = useRef(null);\r\n    const ref1 = useRef(null);\r\n    const ref2 = useRef(null);\r\n    const ref3 = useRef(null);\r\n    const searchInputRef = useRef(null);\r\n\r\n    const searchInput = useRef(null);\r\n    const searchInputValue = searchInput.current?.value;\r\n\r\n    const [pageSize, setPageSize] = useState(10);\r\n    const [lastVisible, setLastVisible] = useState(null);\r\n    const [firstVisible, setFirstVisible] = useState(null);\r\n    const [searchText, setSearchText] = useState('');\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n\r\n    useEffect(() => {\r\n        const q = query(\r\n            collection(db, 'accounts'),\r\n            orderBy('timestamp', 'desc'),\r\n            limit(pageSize)\r\n        );\r\n        const unsubscribe = onSnapshot(q, (documents) => {\r\n            const logsDatabaseData = [];\r\n            documents.forEach((document) => {\r\n                logsDatabaseData.push({\r\n                    id: document.id,\r\n                    ...document.data(),\r\n                });\r\n            });\r\n            dispatch(setAccountListData(logsDatabaseData));\r\n            setLastVisible(documents.docs[documents.docs.length - 1]);\r\n            setFirstVisible(documents.docs[0]);\r\n        });\r\n        return () => unsubscribe();\r\n\r\n    }, []);\r\n\r\n    const fetchNextData = async () => {\r\n\r\n        if (searchText === '') {\r\n\r\n\r\n            const q = query(\r\n                collectionGroup(projectControlFirestore, 'accounts'),\r\n                orderBy('timestamp', 'desc'),\r\n                startAfter(lastVisible),\r\n                limit(pageSize)\r\n            );\r\n\r\n            const documents = await getDocs(q);\r\n            updateState(documents, 'next');\r\n\r\n\r\n\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n        }\r\n\r\n        else {\r\n            const q = query(\r\n                collection(projectControlFirestore, 'accounts'),\r\n                where('keywords', 'array-contains', searchText.toLowerCase()),\r\n                orderBy('timestamp', 'desc'),\r\n                startAfter(lastVisible),\r\n                limit(pageSize)\r\n            );\r\n\r\n            const documents = await getDocs(q);\r\n            updateState(documents, 'next');\r\n\r\n\r\n\r\n            dispatch(setLoadingModalVisible(false));\r\n        }\r\n\r\n    };\r\n\r\n\r\n    const fetchPreviousData = async () => {\r\n        if (searchText === '') {\r\n\r\n\r\n            const q = query(\r\n                collection(projectControlFirestore, 'logs'),\r\n                orderBy('timestamp', 'desc'),\r\n                endBefore(firstVisible),\r\n                limitToLast(pageSize)\r\n            );\r\n\r\n\r\n            const documents = await getDocs(q);\r\n            updateState(documents, 'prev')\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n        }\r\n\r\n        else {\r\n\r\n            const q = query(\r\n                collection(projectControlFirestore, 'logs'),\r\n                where('keywords', 'array-contains', searchText.toLowerCase()),\r\n                orderBy('timestamp', 'desc'),\r\n                endBefore(firstVisible),\r\n                limitToLast(pageSize)\r\n            );\r\n\r\n            const documents = await getDocs(q);\r\n            updateState(documents, 'prev');\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    const fetchFirstPage = (documents) => {\r\n\r\n\r\n        const accountListDatabaseData = [];\r\n\r\n        documents.forEach((document) => {\r\n            accountListDatabaseData.push({\r\n                id: document.id,\r\n                ...document.data(),\r\n            });\r\n        });\r\n\r\n        dispatch(setAccountListData(accountListDatabaseData));\r\n\r\n        if (documents?.docs[0]) {\r\n            setFirstVisible(documents.docs[0]);\r\n        }\r\n        if (documents?.docs[documents.docs.length - 1]) {\r\n            setLastVisible(documents.docs[documents.docs.length - 1]);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    const updateState = async (documents, pageClicked) => {\r\n\r\n\r\n        if (!documents.empty) {\r\n            const accountListDatabaseData = [];\r\n            documents.forEach((document) => {\r\n                accountListDatabaseData.push({\r\n                    id: document.id,\r\n                    ...document.data(),\r\n                });\r\n            });\r\n\r\n\r\n\r\n            if (documents?.docs[0]) {\r\n                setFirstVisible(documents.docs[0]);\r\n            }\r\n            if (documents?.docs[documents.docs.length - 1]) {\r\n                setLastVisible(documents.docs[documents.docs.length - 1]);\r\n            }\r\n\r\n            if (pageClicked == 'next') {\r\n                setCurrentPage(currentPage + 1);\r\n            }\r\n            if (pageClicked == 'prev') {\r\n                setCurrentPage(currentPage - 1);\r\n            }\r\n\r\n            dispatch(setAccountListData(accountListDatabaseData));\r\n        }\r\n\r\n        else {\r\n\r\n            if (searchText == '') {\r\n                setCurrentPage(1);\r\n\r\n                const q = query(\r\n                    collection(projectControlFirestore, 'logs'),\r\n                    orderBy('timestamp', 'desc'),\r\n                    limit(pageSize)\r\n                );\r\n                const firstPageDocuments = await getDocs(q);\r\n                fetchFirstPage(firstPageDocuments);\r\n\r\n            }\r\n            else {\r\n\r\n                setCurrentPage(1);\r\n\r\n                const q = query(\r\n                    collection(projectControlFirestore, 'accounts'),\r\n                    where('keywords', 'array-contains', searchText.toLowerCase()),\r\n                    orderBy('timestamp', 'desc'),\r\n                    limit(pageSize)\r\n                );\r\n                const firstPageDocuments = await getDocs(q);\r\n                fetchFirstPage(firstPageDocuments);\r\n\r\n            }\r\n\r\n\r\n        }\r\n\r\n\r\n    };\r\n\r\n\r\n    const handleNextPage = async () => {\r\n        // setPageClicked('next');\r\n        dispatch(setLoadingModalVisible(true));\r\n        // setCurrentPage(currentPage + 1);\r\n        await fetchNextData();\r\n\r\n\r\n\r\n\r\n    };\r\n\r\n    const handlePreviousPage = async () => {\r\n        // setPageClicked('previous');\r\n        dispatch(setLoadingModalVisible(true));\r\n        // setCurrentPage(currentPage - 1);\r\n        await fetchPreviousData();\r\n\r\n\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        searchData();\r\n\r\n    }, [searchText]);\r\n\r\n    const searchData = async () => {\r\n\r\n        dispatch(setLoadingModalVisible(true));\r\n\r\n        if (searchText === '') {\r\n\r\n            setCurrentPage(1);\r\n            const q = query(\r\n                collection(projectControlFirestore, 'accounts'),\r\n                orderBy('timestamp', 'desc'),\r\n                limit(pageSize)\r\n            );\r\n\r\n            const firstPageDocuments = await getDocs(q);\r\n            fetchFirstPage(firstPageDocuments);\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n\r\n        }\r\n\r\n        else {\r\n\r\n            setCurrentPage(1);\r\n            const q = query(\r\n                collection(projectControlFirestore, 'logs'),\r\n                where('keywords', 'array-contains', searchText.toLowerCase()),\r\n                orderBy('timestamp', 'desc'),\r\n                limit(pageSize)\r\n            );\r\n\r\n            const firstPageDocuments = await getDocs(q);\r\n            fetchFirstPage(firstPageDocuments);\r\n            dispatch(setLoadingModalVisible(false));\r\n        }\r\n    };\r\n\r\n    const handleSearchEnter = () => {\r\n\r\n        if (searchInputRef.current?.value !== '') {\r\n            setSearchText(searchInputRef.current.value.trim());\r\n        }\r\n        else {\r\n            setSearchText('');\r\n\r\n            if (searchText == '') {\r\n                searchData();\r\n            }\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const handleToggleAccountTypeAd = useCallback(() => {\r\n        const text = 'admin';\r\n\r\n        setSelectedType(text);\r\n        setSelectedTypeDisplay('Admin');\r\n        setSelectedItemType(text);\r\n    }, []);\r\n\r\n    const handleToggleAccountTypeDevAd = useCallback(() => {\r\n        const text = 'devadmin';\r\n\r\n        setSelectedTypeDisplay('Developer Admin');\r\n\r\n        setSelectedType(text);\r\n        setSelectedItemType(text);\r\n\r\n    }, []);\r\n\r\n    const handleToggleAccountType3 = useCallback(() => {\r\n        const text = 'staff';\r\n\r\n        setSelectedType(text);\r\n\r\n        setSelectedTypeDisplay('Staff');\r\n        setSelectedItemType(text);\r\n    }, []);\r\n\r\n    const handleToggleAccountType4 = useCallback(() => {\r\n        const text = 'booking';\r\n\r\n\r\n        setSelectedType(text);\r\n        setSelectedTypeDisplay('Booking');\r\n        setSelectedItemType(text);\r\n    }, []);\r\n\r\n    const handleToggleAccountTypeSpAd = useCallback(() => {\r\n        const text = 'superadmin';\r\n\r\n        setSelectedItemType(text);\r\n        setSelectedType(text);\r\n        setSelectedTypeDisplay('Super Admin');\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // console.log(selectedType);\r\n        // console.log(selectedTypeDisplay);\r\n\r\n    }, [selectedType, selectedTypeDisplay])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const q = query(collection(db, 'accounts'), orderBy('dateOfCreation', 'desc')); // Replace 'your-collection' with the actual collection name and 'timestamp' with the timestamp field in your documents\r\n                const querySnapshot = await getDocs(q);\r\n                const docs = querySnapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\r\n                setData(docs);\r\n                setFilteredData(docs);\r\n            } catch (error) {\r\n                console.error('Error retrieving data:', error);\r\n            }\r\n        };\r\n\r\n        const unsubscribe = onSnapshot(query(collection(db, 'accounts'), orderBy('dateOfCreation', 'desc')), (snapshot) => {\r\n            const updatedData = snapshot.docs.map((doc) => doc.data());\r\n            setData(updatedData);\r\n            setFilteredData(updatedData);\r\n        });\r\n\r\n        fetchData();\r\n\r\n        return () => {\r\n            unsubscribe();\r\n        };\r\n    }, []);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n    }, [isSelectedLogs, isSelectedAddAccount, isSelectedAccountList]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n    }, [typeOfAccount]);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n\r\n            if (!user) {\r\n                // navigation.navigate(\"Login\")\r\n                navigate(\"/Login\")\r\n            }\r\n\r\n        })\r\n\r\n        return unsubscribe\r\n    }, [])\r\n\r\n    const firebaseFirestore = getFirestore();\r\n\r\n\r\n\r\n\r\n    // const handleUpdate = async () => {\r\n    //     setIsDisabled(true);\r\n    //     setIsLoading(true);\r\n\r\n    //     if (\r\n    //         validateEmail() === false ||\r\n    //         inputName === ''\r\n    //     ) {\r\n    //         setTimeout(() => {\r\n    //             // Reset loading and disabled state\r\n    //             setIsLoading(false);\r\n    //             setIsDisabled(false);\r\n    //         }, 500);\r\n    //     } else {\r\n    //         try {\r\n    //             const signInMethods = await fetchSignInMethodsForEmail(auth, inputEmail);\r\n    //             if (signInMethods.length > 0) {\r\n    //                 // Email already exists\r\n    //                 setIsEmailDuplicate(true);\r\n    //                 setEmailError(false);\r\n    //                 validateEmail(false);\r\n    //                 setIsLoading(false);\r\n    //                 setIsDisabled(false);\r\n    //                 return;\r\n    //             }\r\n\r\n    //             await createUserWithEmailAndPassword(authForCreateUser, inputEmail, inputPassword)\r\n    //                 .then((userCredential) => {\r\n\r\n    //                     const user = userCredential.user;\r\n    //                     try {\r\n    //                         const customID = inputEmail; // Replace 'your-custom-id' with your desired custom ID\r\n    //                         const docRef = doc(db, 'accounts', selectedItem.email); // Replace 'myCollection' with the name of your desired collection\r\n    //                         updateDoc(docRef, {\r\n    //                             // Specify the data you want to add to the document\r\n    //                             email: inputEmail,\r\n    //                             name: inputName,\r\n    //                             pass: inputPassword,\r\n    //                             type: typeOfAccount,\r\n    //                             // ...\r\n    //                         });\r\n\r\n    //                         addLogToCollection(logData);\r\n    //                         // console.log(logData);\r\n    //                         setIsLoading(false);\r\n    //                         setIsDisabled(false);\r\n    //                         handleClear();\r\n    //                         setShowModal(true);\r\n\r\n    //                         // console.log('Document added with custom ID: ', customID);\r\n    //                     } catch (error) {\r\n    //                         console.error('Error adding document: ', error);\r\n    //                     }\r\n\r\n\r\n    //                     // Reset loading and disabled state\r\n\r\n\r\n\r\n    //                 })\r\n    //                 .catch((error) => {\r\n    //                     // console.log('An error occurred during sign-up. Please try again later.');\r\n    //                     console.log(error);\r\n    //                     setIsLoading(false);\r\n    //                     setIsDisabled(false);\r\n    //                 });\r\n    //         } catch (error) {\r\n    //             const errorCode = error.code;\r\n    //             const errorMessage = error.message;\r\n    //             console.log('An error occurred while checking the email existence. Please try again later.');\r\n    //             // console.log(errorCode, errorMessage);\r\n    //             setIsLoading(false);\r\n    //             setIsDisabled(false);\r\n    //         }\r\n    //     }\r\n    // };\r\n\r\n    const handleClear = useCallback(() => {\r\n        const text = '';\r\n\r\n        ref0.current.value = \"\";\r\n        ref1.current.value = \"\";\r\n        ref2.current.value = \"\";\r\n        ref3.current.value = \"\";\r\n        setAccountTypeAd(false);\r\n        setAccountTypeSpAd(false);\r\n        setAccountTypeDevAd(false);\r\n        setAccountType3(false);\r\n        setAccountType4(false);\r\n        setEmailError(false);\r\n        setIsEmailDuplicate(false);\r\n\r\n\r\n        setInputConfirmPassword('');\r\n        setInputEmail('');\r\n        setInputName('');\r\n        setInputPassword('');\r\n\r\n\r\n    }, []);\r\n\r\n\r\n    // const handleToggleLogs = useCallback(() => {\r\n    //     // setIsSelectedLogs(true);\r\n\r\n    //     // setIsSelectedAddAccount(false);\r\n    //     // setIsSelectedAccountList(false);\r\n    //     // setIsSelected3(false);\r\n    //     // setIsSelected4(false);\r\n\r\n    //     navigation.navigate(\"LOGS\");\r\n    // }, []);\r\n    // const handleToggleAddAccount = useCallback(() => {\r\n    //     // setIsSelectedAddAccount(true);\r\n\r\n    //     // setIsSelectedLogs(false);\r\n    //     // setIsSelectedAccountList(false);\r\n    //     // setIsSelected3(false);\r\n    //     // setIsSelected4(false);\r\n\r\n    //     navigation.navigate(\"ADD C-HUB ACCOUNT\");\r\n    // }, []);\r\n\r\n    // const handleToggleAccountList = useCallback(() => {\r\n    //     // setIsSelectedAccountList(true);\r\n\r\n    //     // setIsSelectedAddAccount(false);\r\n    //     // setIsSelected3(false);\r\n    //     // setIsSelected4(false);\r\n    //     // setIsSelectedLogs(false);\r\n    //     navigation.navigate(\"ACCOUNT LIST\");\r\n    // }, []);\r\n\r\n    // const handleToggleAddVehicle = useCallback(() => {\r\n    //     // setIsSelected3(true);\r\n\r\n    //     // setIsSelectedAddAccount(false);\r\n    //     // setIsSelectedAccountList(false);\r\n    //     // setIsSelected4(false);\r\n    //     // setIsSelectedLogs(false);\r\n    //     navigation.navigate(\"ADD NEW VEHICLE\");\r\n    // }, []);\r\n\r\n    // const handleVehicleList = useCallback(() => {\r\n    //     navigation.navigate(\"VEHICLE LIST\");\r\n    // }, []);\r\n\r\n    const handleDocumentChange = (snapshot) => {\r\n\r\n\r\n        if (snapshot.exists()) {\r\n            const data = snapshot.data();\r\n            const isActive = data.active;\r\n\r\n            if (!isActive) {\r\n                signOut(auth)\r\n                    .then(() => {\r\n                        // navigation.navigate('Login');\r\n                        navigate(\"/Login\")\r\n\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error('Error signing out:', error);\r\n                    });\r\n            }\r\n        } else {\r\n            signOut(auth)\r\n                .then(() => {\r\n                    // navigation.navigate('Login');\r\n                    navigate(\"/Login\")\r\n\r\n                })\r\n                .catch((error) => {\r\n                    console.error('Error signing out:', error);\r\n                });\r\n        }\r\n\r\n\r\n    };\r\n    const subscribeToFieldChange = () => {\r\n        const userId = auth.currentUser?.email;\r\n        if (userId) {\r\n            const userRef = doc(firestore, 'accounts', userId);\r\n            const unsubscribe = onSnapshot(userRef, handleDocumentChange);\r\n            return unsubscribe;\r\n        } else {\r\n            // Return a no-op function if there's no user\r\n            return () => {\r\n                navigate(\"/login\")\r\n            };\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = subscribeToFieldChange();\r\n\r\n        return () => {\r\n            // This will now always be a function\r\n            unsubscribe();\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const currentUserEmail = getEmailOfCurrentUser();\r\n        if (currentUserEmail) {\r\n            getFieldValueByEmail(currentUserEmail);\r\n            setEmail(currentUserEmail)\r\n            const documentId = currentUserEmail;\r\n            listenForNameChange(documentId);\r\n        }\r\n\r\n    }, []);\r\n\r\n    const listenForNameChange = (documentId) => {\r\n        const userRef = doc(db, 'accounts', documentId);\r\n\r\n        const unsubscribe = onSnapshot(userRef, (doc) => {\r\n            if (doc.exists()) {\r\n                const name = doc.data().name;\r\n                const type = doc.data().type;\r\n                setName(name);\r\n                setType(type);\r\n                // Perform any necessary actions with the name value\r\n            } else {\r\n                console.log('Document does not exist');\r\n            }\r\n        });\r\n\r\n        // To stop listening for updates, you can call unsubscribe()\r\n        // unsubscribe();\r\n    };\r\n\r\n    useEffect(() => {\r\n        getEmailFromDocument('accounts', auth.currentUser?.email);\r\n        // console.log(authEmail, authPassword)\r\n    }, [authEmail, authPassword]);\r\n\r\n    const getEmailFromDocument = async (collectionPath, documentId) => {\r\n        const firestore = getFirestore();\r\n        const documentRef = doc(firestore, collectionPath, documentId);\r\n\r\n        try {\r\n            const documentSnapshot = await getDoc(documentRef);\r\n            if (documentSnapshot.exists()) {\r\n                const email = documentSnapshot.data().email;\r\n                const pass = documentSnapshot.data().pass;\r\n\r\n                setAuthEmail(email);\r\n                setAuthPassword(pass);\r\n            } else {\r\n                console.log('Document does not exist');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error retrieving email:', error);\r\n        }\r\n    };\r\n\r\n\r\n    const getFieldValueByEmail = async (email) => {\r\n        try {\r\n            const accountDocRef = doc(firestore, 'accounts', email);\r\n            const accountDocSnapshot = await getDoc(accountDocRef);\r\n\r\n            if (accountDocSnapshot.exists()) {\r\n                const data = accountDocSnapshot.data();\r\n                const fieldType = data.type;\r\n                const fieldName = data.name;\r\n                dispatch(setLoginName(data.name));\r\n\r\n            } else {\r\n                console.log('Document does not exist');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching field value:', error);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const validateEmail = () => {\r\n        // Regular expression for email validation\r\n        const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n        const isValid = emailRegex.test(inputEmail);\r\n\r\n        return isValid;\r\n\r\n\r\n    };\r\n\r\n\r\n    const handleSignOut = () => {\r\n\r\n        signOut(auth).then(() => {\r\n            // navigation.navigate('Login');\r\n            navigate(\"/Login\")\r\n\r\n            setEmail('');\r\n            setName('');\r\n        }).catch((error) => {\r\n            // An error happened.\r\n        });\r\n\r\n\r\n    };\r\n\r\n    // useEffect(() => {\r\n    //     const handleScreenResize = () => {\r\n    //         const screenWidth = Dimensions.get('window').width;\r\n    //         setIsMobileView(screenWidth < 1200);\r\n    //     };\r\n\r\n    //     // Initial check on component mount\r\n    //     handleScreenResize();\r\n\r\n    //     // Listen for screen dimension changes\r\n    //     Dimensions.addEventListener('change', handleScreenResize);\r\n\r\n    //     // Cleanup event listener on component unmount\r\n    //     return () => {\r\n    //         Dimensions.removeEventListener('change', handleScreenResize);\r\n    //     };\r\n    // }, []);\r\n\r\n\r\n\r\n    // const showDrawerIcon = useBreakpointValue([true, true, true, false]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const handleEdit = useCallback((id) => {\r\n        const selectedItem = data.find((item) => item.id === id);\r\n\r\n        setSelectedItem(selectedItem);\r\n        setInputName(selectedItem.name);\r\n        setInputPassword(selectedItem.pass);\r\n        setInputEmail(selectedItem.email);\r\n        setTypeOfAccountDisplay(selectedItem.typeDisplay);\r\n        setTypeOfAccount(selectedItem.type);\r\n        setModalVisible(true);\r\n        setSelectedItemType(selectedItem.type);\r\n        setSelectedType(selectedItem.type);\r\n        setSelectedTypeDisplay(selectedItem.typeDisplay);\r\n        setIsEmailDuplicate(false);\r\n        // console.log(selectedItem);\r\n\r\n        if (inputEmailRef.current) {\r\n            inputEmailRef.current.setNativeProps({ text: selectedItem.email });\r\n        }\r\n\r\n        if (inputNameRef.current) {\r\n            inputNameRef.current.setNativeProps({ text: selectedItem.name });\r\n        }\r\n        if (inputPassRef.current) {\r\n            inputPassRef.current.setNativeProps({ text: selectedItem.pass });\r\n        }\r\n    }, [data]);\r\n\r\n\r\n\r\n    const handleInputEmailChange = debounce((value) => {\r\n        setInputEmail(value);\r\n    }, 50);\r\n\r\n    const handleInputNameChange = debounce((value) => {\r\n        setInputName(value);\r\n    }, 50);\r\n\r\n    const handleInputPassChange = debounce((value) => {\r\n        setInputPassword(value);\r\n    }, 50);\r\n\r\n\r\n    const handleOpenDisableModal = (id) => {\r\n        const selectedItem = data.find((item) => item.id === id);\r\n        setSelectedItem(selectedItem);\r\n        setInputName(selectedItem.name);\r\n        setInputEmail(selectedItem.email);\r\n        setTypeOfAccountDisplay(selectedItem.typeDisplay);\r\n        setTypeOfAccount(selectedItem.type);\r\n        setShowDisableModal(true);\r\n    };\r\n\r\n    const handleOpenEnableModal = (id) => {\r\n        const selectedItem = data.find((item) => item.id === id);\r\n        setSelectedItem(selectedItem);\r\n        setInputName(selectedItem.name);\r\n        setInputEmail(selectedItem.email);\r\n        setTypeOfAccountDisplay(selectedItem.typeDisplay);\r\n        setTypeOfAccount(selectedItem.type);\r\n        setShowEnableModal(true);\r\n    };\r\n\r\n    const handleOpenDeleteModal = (id) => {\r\n        const selectedItem = data.find((item) => item.id === id);\r\n        setSelectedItem(selectedItem);\r\n        setInputName(selectedItem.name);\r\n        setInputEmail(selectedItem.email);\r\n        setTypeOfAccountDisplay(selectedItem.typeDisplay);\r\n        setTypeOfAccount(selectedItem.type);\r\n        setShowDeleteModal(true);\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setModalVisible(false);\r\n        setShow(false);\r\n    };\r\n\r\n    const handleCloseDisableModal = () => {\r\n        setShowDisableModal(false);\r\n    };\r\n\r\n    const handleOpenSaveSuccessModal = () => {\r\n        setShowDisableModal(false);\r\n    };\r\n\r\n\r\n    const handleCloseDeleteModal = () => {\r\n        setShowDeleteModal(false);\r\n    };\r\n    const handleCloseEnableModal = () => {\r\n        setShowEnableModal(false);\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n\r\n    }, [selectedItem]);\r\n    const addLogToCollection = async (data) => {\r\n        try {\r\n            const firestore = getFirestore();\r\n            const logsCollectionRef = collection(firestore, 'logs');\r\n\r\n            // Add a new document to the \"logs\" collection\r\n            await addDoc(logsCollectionRef, data);\r\n\r\n        } catch (error) {\r\n            console.error('Error adding document:', error);\r\n        }\r\n    };\r\n    // useEffect(() => {\r\n    //     const fetchTime = async () => {\r\n    //         try {\r\n    //             const response = await axios.get('http://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n    //             const { datetime } = response.data;\r\n    //             const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n    //             setTime(formattedTime);\r\n    //         } catch (error) {\r\n    //             console.error('Error fetching time:', error);\r\n    //         }\r\n    //     };\r\n\r\n    //     const interval = setInterval(() => {\r\n    //         if (isIntervalActive) {\r\n    //             fetchTime();\r\n    //         }\r\n    //     }, 1000);\r\n\r\n    //     return () => {\r\n    //         clearInterval(interval);\r\n    //     };\r\n    // }, [isIntervalActive]);\r\n\r\n    const openSuccessModal = () => {\r\n        setShowSuccessModal(true);\r\n\r\n    };\r\n\r\n    const closeSuccessModal = () => {\r\n        setShowSuccessModal(false);\r\n        setIsDisabled(false);\r\n        setIsYesLoading(false);\r\n    };\r\n\r\n\r\n    // async function disableUserByUid(uid) {\r\n    //     try {\r\n    //         await updateDisabled(auth, uid, true);\r\n    //         console.log('User account disabled successfully');\r\n    //     } catch (error) {\r\n    //         console.error('Error disabling user account:', error);\r\n    //     }\r\n    // }\r\n\r\n    const handleEnable = useCallback(async (id) => {\r\n        const selectedItem = data.find((item) => item.id === id);\r\n        setSelectedItem(selectedItem);\r\n        setInputName(selectedItem.name);\r\n        setInputEmail(selectedItem.email);\r\n        setTypeOfAccountDisplay(selectedItem.typeDisplay);\r\n        setTypeOfAccount(selectedItem.type);\r\n        setIsDisabled(true);\r\n        setIsYesLoading(true);\r\n        try {\r\n            const itemDocRef = doc(firestore, 'accounts', selectedItem.email);\r\n            const updates = {\r\n                active: true,\r\n            };\r\n\r\n            const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n            const { datetime } = response.data;\r\n            const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n            const year = moment(datetime).format('YYYY');\r\n            const month = moment(datetime).format('MM');\r\n            const monthWithDay = moment(datetime).format('MM/DD');\r\n            const date = moment(datetime).format('YYYY/MM/DD');\r\n            const day = moment(datetime).format('DD');\r\n            const time = moment(datetime).format('HH:mm');\r\n            const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n            setTime(formattedTime);\r\n\r\n            await updateDoc(itemDocRef, updates);\r\n\r\n            const updatedData = data.map((item) => {\r\n                if (item.id === id) {\r\n                    return { ...item, active: true };\r\n                }\r\n                return item;\r\n            });\r\n\r\n            setData(updatedData);\r\n            const filteredData = applySearchFilter(updatedData, searchInputValue); // Apply search filter to updated data\r\n            setFilteredData(filteredData);\r\n            // console.log('Field updated successfully.');\r\n\r\n            const logData = {\r\n                message: `Account Enabled: The account \"${selectedItem.email}\" of \"${selectedItem.name}\" has been enabled by \"${name}\".`,\r\n                keywords: [\r\n                    formattedTime.toLowerCase(),\r\n                    `Account Enabled: The account \"${selectedItem.email}\" of \"${selectedItem.name}\" has been enabled by \"${name}\".`.toLowerCase(),\r\n                    'Account Enabled'.toLowerCase(),\r\n                    'Enabled'.toLowerCase(),\r\n                    selectedItem.email.toLowerCase(),\r\n                    selectedItem.name.toLowerCase(),\r\n                    name.toLowerCase(),\r\n                    year.toLowerCase(),\r\n                    month.toLowerCase(),\r\n                    monthWithDay.toLowerCase(),\r\n                    date.toLowerCase(),\r\n                    day.toLowerCase(),\r\n                    time.toLowerCase(),\r\n                    timeWithMinutesSeconds.toLowerCase(),\r\n                ],\r\n                timestamp: formattedTime,\r\n                colorScheme: true,\r\n            };\r\n            addLogToCollection(logData);\r\n            setIsDisabled(false);\r\n            setIsYesLoading(false);\r\n            handleCloseEnableModal();\r\n        } catch (error) {\r\n            console.error('Error updating field:', error);\r\n        }\r\n    }, [data]);\r\n\r\n    const deleteDocument = async (collectionPath, customId) => {\r\n        const firestore = getFirestore();\r\n        const documentRef = doc(firestore, collectionPath, customId);\r\n\r\n        try {\r\n            await deleteDoc(documentRef);\r\n            console.log('Document deleted successfully.');\r\n        } catch (error) {\r\n            console.error('Error deleting document:', error);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    const handleDelete = useCallback(async (id) => {\r\n        const selectedItem = data.find((item) => item.id === id);\r\n        setSelectedItem(selectedItem);\r\n        setInputName(selectedItem.name);\r\n        setInputEmail(selectedItem.email);\r\n        setTypeOfAccountDisplay(selectedItem.typeDisplay);\r\n        setTypeOfAccount(selectedItem.type);\r\n        setIsDisabled(true);\r\n        setIsYesLoading(true);\r\n\r\n\r\n        try {\r\n\r\n            const userCredential = await signInWithEmailAndPassword(auth, selectedItem.email, selectedItem.pass);\r\n            const user = userCredential.user;\r\n\r\n            const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n            const { datetime } = response.data;\r\n            const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n            const year = moment(datetime).format('YYYY');\r\n            const month = moment(datetime).format('MM');\r\n            const monthWithDay = moment(datetime).format('MM/DD');\r\n            const date = moment(datetime).format('YYYY/MM/DD');\r\n            const day = moment(datetime).format('DD');\r\n            const time = moment(datetime).format('HH:mm');\r\n            const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n            setTime(formattedTime);\r\n\r\n            await deleteUser(user);\r\n            const logData = {\r\n                message: `Account Deleted: The account \"${selectedItem.email}\" of \"${selectedItem.name}\" has been deleted by \"${name}\".`,\r\n                timestamp: formattedTime,\r\n                colorScheme: false,\r\n                keywords: [\r\n                    formattedTime.toLowerCase(),\r\n                    `Account Deleted: The account \"${selectedItem.email}\" of \"${selectedItem.name}\" has been deleted by \"${name}\".`.toLowerCase(),\r\n                    'Account Deleted'.toLowerCase(),\r\n                    'Deleted'.toLowerCase(),\r\n                    selectedItem.email.toLowerCase(),\r\n                    selectedItem.name.toLowerCase(),\r\n                    name.toLowerCase(),\r\n                    monthWithDay.toLowerCase(),\r\n                    year.toLowerCase(),\r\n                    month.toLowerCase(),\r\n                    day.toLowerCase(),\r\n                    date.toLowerCase(),\r\n                    time.toLowerCase(),\r\n                    timeWithMinutesSeconds.toLowerCase(),\r\n                ],\r\n            };\r\n            addLogToCollection(logData);\r\n\r\n\r\n            console.log('Account deleted successfully');\r\n\r\n            const signInCredential = await signInWithEmailAndPassword(\r\n                auth,\r\n                authEmail,\r\n                authPassword\r\n            );\r\n            const signedInUser = signInCredential.user;\r\n            signedInUser\r\n            deleteDocument('accounts', selectedItem.email);\r\n            // setData(updatedData);\r\n            // const filteredData = applySearchFilter(updatedData, searchInput.current?.value); // Apply search filter to updated data\r\n            setFilteredData(filteredData);\r\n            navigate('/account-list')\r\n            // console.log('Field updated successfully.');\r\n            setIsDisabled(false);\r\n            setIsYesLoading(false);\r\n\r\n            handleCloseDeleteModal();\r\n        } catch (error) {\r\n            console.error('Error updating field:', error);\r\n        }\r\n    }, [data]);\r\n\r\n    const handleDisable = useCallback(async (id) => {\r\n        setIsDisabled(true);\r\n        setIsYesLoading(true);\r\n        const selectedItem = data.find((item) => item.id === id);\r\n        setSelectedItem(selectedItem);\r\n        setInputName(selectedItem.name);\r\n        setInputEmail(selectedItem.email);\r\n        setTypeOfAccountDisplay(selectedItem.typeDisplay);\r\n        setTypeOfAccount(selectedItem.type);\r\n\r\n        try {\r\n            const itemDocRef = doc(firestore, 'accounts', selectedItem.email);\r\n            const updates = {\r\n                active: false,\r\n            };\r\n\r\n            await updateDoc(itemDocRef, updates);\r\n\r\n            const updatedData = data.map((item) => {\r\n                if (item.id === id) {\r\n                    return { ...item, active: false };\r\n                }\r\n                return item;\r\n            });\r\n\r\n            setData(updatedData);\r\n            const filteredData = applySearchFilter(updatedData, searchInput.current?.value); // Apply search filter to updated data\r\n            setFilteredData(filteredData);\r\n            // console.log('Field updated successfully.');\r\n            const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n            const { datetime } = response.data;\r\n            const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n            const year = moment(datetime).format('YYYY');\r\n            const month = moment(datetime).format('MM');\r\n            const monthWithDay = moment(datetime).format('MM/DD');\r\n            const date = moment(datetime).format('YYYY/MM/DD');\r\n            const day = moment(datetime).format('DD');\r\n            const time = moment(datetime).format('HH:mm');\r\n            const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n            setTime(formattedTime);\r\n\r\n            const logData = {\r\n                message: `Account Disabled: The account \"${selectedItem.email}\" of \"${selectedItem.name}\" has been disabled by \"${name}\".`,\r\n                timestamp: formattedTime,\r\n                colorScheme: false,\r\n                keywords: [\r\n                    formattedTime.toLowerCase(),\r\n                    `Account Disabled: The account \"${selectedItem.email}\" of \"${selectedItem.name}\" has been disabled by \"${name}\".`.toLowerCase(),\r\n                    'Account Disabled'.toLowerCase(),\r\n                    'Disabled'.toLowerCase(),\r\n                    selectedItem.email.toLowerCase(),\r\n                    selectedItem.name.toLowerCase(),\r\n                    name.toLowerCase(),\r\n                    year.toLowerCase(),\r\n                    month.toLowerCase(),\r\n                    monthWithDay.toLowerCase(),\r\n                    date.toLowerCase(),\r\n                    day.toLowerCase(),\r\n                    time.toLowerCase(),\r\n                    timeWithMinutesSeconds.toLowerCase(),\r\n                ],\r\n\r\n            };\r\n            addLogToCollection(logData);\r\n            setIsDisabled(false);\r\n            setIsYesLoading(false);\r\n            handleCloseDisableModal();\r\n        } catch (error) {\r\n            console.error('Error updating field:', error);\r\n            setIsDisabled(false);\r\n            setIsSaveLoading(false);\r\n        }\r\n    }, [data]);\r\n\r\n    // Apply search filter to the data\r\n    const applySearchFilter = (data, searchInputValue) => {\r\n        if (!searchInputValue) {\r\n            return data;\r\n        }\r\n        const filteredData = data.filter((item) =>\r\n            item.email.toLowerCase().includes(searchInputValue.toLowerCase()) ||\r\n            item.name.toLowerCase().includes(searchInputValue.toLowerCase()) ||\r\n            item.typeDisplay.toLowerCase().includes(searchInputValue.toLowerCase())\r\n        );\r\n        return filteredData;\r\n    };\r\n\r\n\r\n\r\n    const handleSave = async (id) => {\r\n        const selectedItem = data.find((item) => item.id === id);\r\n        setIsDisabled(true);\r\n        setIsSaveLoading(true);\r\n        if (\r\n            isPasswordLengthLabel() === false ||\r\n            validateEmail() === false ||\r\n            inputName === ''\r\n        ) {\r\n            setTimeout(() => {\r\n                // Reset loading and disabled state\r\n                setIsLoading(false);\r\n                setIsDisabled(false);\r\n            }, 500);\r\n        } else {\r\n\r\n            if (inputEmail === selectedItem.email && inputPassword === selectedItem.pass) {\r\n\r\n\r\n                const documentRef = doc(db, 'accounts', selectedItem.id);\r\n\r\n                const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n                const { datetime } = response.data;\r\n                const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n                setTime(formattedTime);\r\n\r\n                const updatedFields = {\r\n                    name: inputName,\r\n                    type: selectedType,\r\n                    typeDisplay: selectedTypeDisplay,\r\n                    lastUpdatedDate: formattedTime,\r\n                    // Add more fields as needed\r\n\r\n                };\r\n\r\n                try {\r\n\r\n                    await updateDoc(documentRef, updatedFields);\r\n                    setIsDisabled(false);\r\n                    setIsSaveLoading(false);\r\n\r\n\r\n                    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n                    const { datetime } = response.data;\r\n                    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n                    const year = moment(datetime).format('YYYY');\r\n                    const month = moment(datetime).format('MM');\r\n                    const monthWithDay = moment(datetime).format('MM/DD');\r\n                    const date = moment(datetime).format('YYYY/MM/DD');\r\n                    const day = moment(datetime).format('DD');\r\n                    const time = moment(datetime).format('HH:mm');\r\n                    const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n                    setTime(formattedTime);\r\n\r\n                    const logData = {\r\n                        message: `Updated: The name \"${selectedItem.name}\" of \"${selectedItem.email}\" has been changed to  \"${inputName}\", updated by \"${name}\".`,\r\n                        timestamp: formattedTime,\r\n                        colorScheme: true,\r\n                        keywords: [\r\n                            formattedTime.toLowerCase(),\r\n                            `Updated: The name \"${selectedItem.name}\" of \"${selectedItem.email}\" has been changed to  \"${inputName}\", updated by \"${name}\".`.toLowerCase(),\r\n                            'Updated'.toLowerCase(),\r\n                            selectedItem.email.toLowerCase(),\r\n                            selectedItem.name.toLowerCase(),\r\n                            inputName.toLowerCase(),\r\n                            name.toLowerCase(),\r\n                            year.toLowerCase(),\r\n                            month.toLowerCase(),\r\n                            monthWithDay.toLowerCase(),\r\n                            date.toLowerCase(),\r\n                            day.toLowerCase(),\r\n                            time.toLowerCase(),\r\n                            timeWithMinutesSeconds.toLowerCase(),\r\n                        ],\r\n                    }\r\n\r\n                    addLogToCollection(logData);\r\n\r\n                    const updatedData = data.map((item) => {\r\n                        if (item.id === id) {\r\n                            item.name = inputName;\r\n                            item.type = selectedType;\r\n                            item.typeDisplay = selectedTypeDisplay;\r\n                            item.lastUpdatedDate = formattedTime;\r\n                        }\r\n                        return item;\r\n                    });\r\n                    setData(updatedData);\r\n                    const filteredData = applySearchFilter(updatedData, searchInput.current?.value); // Apply search filter to updated data\r\n                    setFilteredData(filteredData);\r\n                    // console.log('Field updated successfully.');\r\n                    // console.log('Document successfully updated!');\r\n                    handleCloseModal();\r\n                    setShowSuccessModal(true);\r\n                } catch (error) {\r\n                    console.error('Error updating document:', error);\r\n                }\r\n\r\n            }\r\n\r\n            else if (inputEmail === selectedItem.email && inputPassword !== selectedItem.pass) {\r\n\r\n                const userCredential = await signInWithEmailAndPassword(auth, selectedItem.email, selectedItem.pass);\r\n                const user = userCredential.user;\r\n\r\n                const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n                const { datetime } = response.data;\r\n                const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n                setTime();\r\n\r\n                try {\r\n                    await updatePassword(user, inputPassword);\r\n\r\n                    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n                    const { datetime } = response.data;\r\n                    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n                    const year = moment(datetime).format('YYYY');\r\n                    const month = moment(datetime).format('MM');\r\n                    const monthWithDay = moment(datetime).format('MM/DD');\r\n                    const date = moment(datetime).format('YYYY/MM/DD');\r\n                    const day = moment(datetime).format('DD');\r\n                    const time = moment(datetime).format('HH:mm');\r\n                    const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n                    setTime();\r\n                    // console.log('Password changed successfully');\r\n                    const userDocRef = doc(firestore, 'accounts', selectedItem.email);\r\n\r\n\r\n                    const updatedFields = {\r\n                        email: inputEmail,\r\n                        name: inputName,\r\n                        type: selectedType,\r\n                        typeDisplay: selectedTypeDisplay,\r\n                        dateOfCreation: selectedItem.dateOfCreation,\r\n                        lastUpdatedDate: formattedTime,\r\n                        pass: inputPassword,\r\n                        active: true,\r\n\r\n                        // Add more fields as needed\r\n                    };\r\n                    // Perform setDoc operation\r\n                    await setDoc(userDocRef, updatedFields);\r\n\r\n                    const signInCredential = await signInWithEmailAndPassword(\r\n                        auth,\r\n                        authEmail,\r\n                        authPassword\r\n                    );\r\n\r\n                    const signedInUser = signInCredential.user;\r\n                    signedInUser\r\n\r\n\r\n                    // console.log(authEmail, authPassword);\r\n                    setIsDisabled(false);\r\n                    setIsSaveLoading(false);\r\n\r\n                    setTime(formattedTime);\r\n\r\n                    const logData = {\r\n                        message: `Password Changed: The password of \"${selectedItem.email}\" of \"${selectedItem.name}\" has been changed by \"${name}\".`,\r\n                        timestamp: formattedTime,\r\n                        colorScheme: true,\r\n                        keywords: [\r\n                            formattedTime.toLowerCase(),\r\n                            `Password Changed: The password of \"${selectedItem.email}\" of \"${selectedItem.name}\" has been changed by \"${name}\".`.toLowerCase(),\r\n                            'Password Changed'.toLowerCase(),\r\n                            'Password'.toLowerCase(),\r\n                            selectedItem.email.toLowerCase(),\r\n                            selectedItem.name.toLowerCase(),\r\n                            name.toLowerCase(),\r\n                            year.toLowerCase(),\r\n                            month.toLowerCase(),\r\n                            monthWithDay.toLowerCase(),\r\n                            date.toLowerCase(),\r\n                            day.toLowerCase(),\r\n                            time.toLowerCase(),\r\n                            timeWithMinutesSeconds.toLowerCase(),\r\n                        ],\r\n                    };\r\n                    addLogToCollection(logData);\r\n\r\n                    const updatedItem = {\r\n                        ...selectedItem,\r\n                        email: inputEmail,\r\n                        name: inputName,\r\n                        type: selectedType,\r\n                        typeDisplay: selectedTypeDisplay,\r\n                        lastUpdatedDate: formattedTime,\r\n                    };\r\n\r\n                    const updatedData = data.map((item) => {\r\n                        if (item.id === id) {\r\n                            item.name = inputName;\r\n                            item.type = selectedType;\r\n                            item.typeDisplay = selectedTypeDisplay;\r\n                            item.lastUpdatedDate = formattedTime;\r\n                            item.pass = inputPassword;\r\n                        }\r\n                        return item;\r\n                    });\r\n                    setData(updatedData);\r\n                    const filteredData = applySearchFilter(updatedData, searchInputValue); // Apply search filter to updated data\r\n                    setFilteredData(filteredData);\r\n                    // console.log('Document set successfully');\r\n                    handleCloseModal();\r\n                    setShowSuccessModal(true);\r\n                } catch (error) {\r\n                    console.error('Error:', error);\r\n                }\r\n\r\n            }\r\n\r\n            else if (inputEmail !== selectedItem.email) {\r\n                const userCredential = await signInWithEmailAndPassword(auth, selectedItem.email, selectedItem.pass);\r\n                const user = userCredential.user;\r\n\r\n\r\n                // updateEmail(user, inputEmail)\r\n                //     .then(async () => {\r\n                //         // Email change successful\r\n                //         setIsDisabled(false);\r\n                //         setIsSaveLoading(false);\r\n                //         const documentRef = doc(db, 'accounts', selectedItem.email);\r\n\r\n                const oldDocumentRef = doc(db, 'accounts', selectedItem.email);\r\n                const newDocumentRef = doc(db, 'accounts', inputEmail);\r\n\r\n                const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n                const { datetime } = response.data;\r\n                const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n                setTime(formattedTime);\r\n\r\n                try {\r\n                    // Get the data from the old document\r\n                    const documentSnapshot = await getDoc(oldDocumentRef);\r\n                    if (documentSnapshot.exists()) {\r\n                        const documentData = documentSnapshot.data();\r\n\r\n                        // Merge the updated fields with the existing document data\r\n\r\n                        // Create the new document with the desired ID and copy the merged data\r\n\r\n                        const updatedFields = {\r\n                            email: inputEmail,\r\n                            name: inputName,\r\n                            type: selectedType,\r\n                            typeDisplay: selectedTypeDisplay,\r\n                            dateOfCreation: selectedItem.dateOfCreation,\r\n                            lastUpdatedDate: formattedTime,\r\n                            pass: inputPassword,\r\n                            active: true,\r\n\r\n                            // Add more fields as needed\r\n                        };\r\n\r\n                        await setDoc(newDocumentRef, updatedFields);\r\n                        await deleteDoc(oldDocumentRef);\r\n                        // Optionally, delete the old document\r\n\r\n                        try {\r\n                            const userCredential = await createUserWithEmailAndPassword(auth, inputEmail, inputPassword);\r\n                            // console.log('User created successfully:', userCredential.user);\r\n\r\n                            setIsDisabled(false);\r\n                            setIsSaveLoading(false);\r\n\r\n                            const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n                            const { datetime } = response.data;\r\n                            const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n                            const year = moment(datetime).format('YYYY');\r\n                            const month = moment(datetime).format('MM');\r\n                            const monthWithDay = moment(datetime).format('MM/DD');\r\n                            const date = moment(datetime).format('YYYY/MM/DD');\r\n                            const day = moment(datetime).format('DD');\r\n                            const time = moment(datetime).format('HH:mm');\r\n                            const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n                            setTime(formattedTime);\r\n\r\n                            const logData = {\r\n                                message: `Updated: The email \"${selectedItem.email}\" of \"${selectedItem.name}\" has been changed to  \"${inputEmail}\", updated by \"${name}\".`,\r\n                                timestamp: formattedTime,\r\n                                colorScheme: true,\r\n                                keywords: [\r\n                                    formattedTime.toLowerCase(),\r\n                                    `Updated: The email \"${selectedItem.email}\" of \"${selectedItem.name}\" has been changed to  \"${inputEmail}\", updated by \"${name}\".`.toLowerCase(),\r\n                                    'Updated'.toLowerCase(),\r\n                                    'Email'.toLowerCase(),\r\n                                    selectedItem.email.toLowerCase(),\r\n                                    selectedItem.name.toLowerCase(),\r\n                                    inputEmail.toLowerCase(),\r\n                                    monthWithDay.toLowerCase(),\r\n                                    name.toLowerCase(),\r\n                                    year.toLowerCase(),\r\n                                    month.toLowerCase(),\r\n                                    day.toLowerCase(),\r\n                                    date.toLowerCase(),\r\n                                    time.toLowerCase(),\r\n                                    timeWithMinutesSeconds.toLowerCase(),\r\n                                ],\r\n                            }\r\n                            try {\r\n                                await deleteUser(user);\r\n                                // console.log('User authentication record deleted successfully.');\r\n\r\n\r\n\r\n                                setIsDisabled(false);\r\n                                setIsSaveLoading(false);\r\n\r\n                                const signInCredential = await signInWithEmailAndPassword(\r\n                                    auth,\r\n                                    authEmail,\r\n                                    authPassword\r\n                                );\r\n\r\n                                const signedInUser = signInCredential.user;\r\n                                signedInUser\r\n\r\n                                const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n                                const { datetime } = response.data;\r\n                                const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n                                setTime(formattedTime);\r\n\r\n                                const updatedItem = {\r\n                                    ...selectedItem,\r\n                                    email: inputEmail,\r\n                                    name: inputName,\r\n                                    type: selectedType,\r\n                                    typeDisplay: selectedTypeDisplay,\r\n                                    lastUpdatedDate: formattedTime,\r\n                                };\r\n\r\n                                const updatedData = data.map((item) =>\r\n                                    item.id === id ? updatedItem : item\r\n                                );\r\n                                setData(updatedData);\r\n                                const filteredData = applySearchFilter(updatedData, searchInputValue);\r\n                                setFilteredData(filteredData);\r\n                                // console.log(authEmail, authPassword);\r\n\r\n\r\n                            } catch (error) {\r\n                                console.error('Error deleting user authentication record:', error);\r\n                            }\r\n\r\n                            addLogToCollection(logData);\r\n                            handleCloseModal();\r\n                            setShowSuccessModal(true);\r\n\r\n                            // console.log('Document ID successfully changed!');\r\n                        } catch (error) {\r\n                            console.error('Error creating user:', error);\r\n                        }\r\n                    } else {\r\n                        console.error('Old document does not exist!');\r\n                    }\r\n\r\n                } catch (error) {\r\n                    console.error('Error changing document ID:', error);\r\n                    setIsDisabled(false);\r\n                    setIsSaveLoading(false);\r\n                }\r\n\r\n\r\n                // })\r\n                // .catch((error) => {\r\n                //     console.error('Error changing email:', error);\r\n                // });\r\n            }\r\n\r\n\r\n\r\n\r\n            else {\r\n                try {\r\n                    const signInMethods = await fetchSignInMethodsForEmail(auth, inputEmail);\r\n                    if (signInMethods.length > 0) {\r\n                        // Email already exists                        \r\n                        setIsDisabled(false);\r\n                        setIsSaveLoading(false);\r\n                        setIsEmailDuplicate(true);\r\n                        setEmailError(false);\r\n                        validateEmail(false);\r\n\r\n                        return;\r\n                    }\r\n\r\n\r\n                } catch (error) {\r\n                    const errorCode = error.code;\r\n                    const errorMessage = error.message;\r\n                    console.log('An error occurred while checking the email existence. Please try again later.');\r\n                    // console.log(errorCode, errorMessage);\r\n                    setIsLoading(false);\r\n                    setIsDisabled(false);\r\n                }\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n        }\r\n    };\r\n\r\n    const handleChangeEmailText = (text) => {\r\n        setInputEmail(text);\r\n    };\r\n\r\n\r\n\r\n    const isPasswordLengthLabel = () => {\r\n        return inputPassword.length >= 6;\r\n    };\r\n    // const handlePasswordChange = _.debounce((value) => {\r\n    //     setInputPassword(value);\r\n    // }, 50);\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const q = query(collection(db, 'accounts'), orderBy('dateOfCreation', 'desc'));\r\n                const unsubscribe = onSnapshot(q, (snapshot) => {\r\n                    const documents = snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\r\n                    setData(documents);\r\n                });\r\n\r\n                return () => unsubscribe();\r\n            } catch (error) {\r\n                console.error('Error retrieving data:', error);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setPage(0);\r\n    }, [itemsPerPage]);\r\n\r\n    const filtered = useMemo(() => {\r\n        return data.filter(\r\n            (item) =>\r\n                item.email.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                item.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n                item.typeDisplay.toLowerCase().includes(searchQuery.toLowerCase())\r\n        );\r\n    }, [searchQuery, data]);\r\n\r\n    const paginatedData = useMemo(() => {\r\n        const startIndex = page * itemsPerPage;\r\n        const endIndex = startIndex + itemsPerPage;\r\n        return filtered.slice(startIndex, endIndex);\r\n    }, [page, itemsPerPage, searchQuery, data, filtered]);\r\n\r\n\r\n    const handleSearch = debounce((text) => {\r\n        setSearchQuery(text);\r\n    }, 300);\r\n\r\n    const startIndex = page * itemsPerPage;\r\n    const endIndex = Math.min(startIndex + itemsPerPage, data.length);\r\n\r\n    const showPopover = () => {\r\n        setShowNamePopover(true);\r\n    };\r\n\r\n    // Function to hide the Popover\r\n    const hidePopover = () => {\r\n        setShowNamePopover(false);\r\n    };\r\n    const NamePopover = ({ name, handleSignOut }) => {\r\n        const [showNamePopover, setShowNamePopover] = useState(false);\r\n\r\n        const showPopover = () => {\r\n            setShowNamePopover(!showNamePopover);\r\n        };\r\n\r\n        return (\r\n            <Box w={[100, 200, 1020]} h={[10, 10, 10]} flex={1}>\r\n                <Flex direction=\"row-reverse\">\r\n                    <Popover\r\n                        isOpen={showNamePopover}\r\n                        trigger={(triggerProps) => (\r\n                            <Text color=\"white\" marginTop={[2, 2, 2]} fontSize={[17, 18, 20]} marginRight={[1, 3, 5]} {...triggerProps} onPress={showPopover}>\r\n                                <MaterialCommunityIcons name=\"account\" size={[20, 25, 30]} color=\"white\" /> {name} <Ionicons name=\"caret-down\" size={16} color=\"white\" />\r\n                            </Text>\r\n                        )}\r\n                        onClose={() => setShowNamePopover(!showNamePopover)}\r\n                        placement='bottom right'\r\n                        trapFocus={false}\r\n                    >\r\n                        <Popover.Content backgroundColor={'#7B9CFF'}>\r\n                            {/* <Popover.Arrow bgColor={'#7B9CFF'} /> */}\r\n                            <Popover.Body backgroundColor={'#7B9CFF'}>\r\n                                <Button _hover={{ bgColor: 'blueGray.500' }} onPress={handleSignOut} leftIcon={<MaterialCommunityIcons name=\"logout\" size={20} color=\"white\" />} bgColor={'transparent'}>\r\n                                    Logout\r\n                                </Button>\r\n                            </Popover.Body>\r\n                        </Popover.Content>\r\n                    </Popover>\r\n                </Flex>\r\n            </Box>\r\n        );\r\n    };\r\n    const styles = StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n        },\r\n        image: {\r\n            flex: 1,\r\n        },\r\n    });\r\n    return (\r\n        <NativeBaseProvider>\r\n\r\n            <Box bgColor=\"#A6BCFE\" h=\"100vh\" w=\"full\" flexDirection=\"column\">\r\n                {/* Header */}\r\n                <Box\r\n                    px=\"3\"\r\n                    bgColor='#7b9cff'\r\n                    height={54}\r\n                    position=\"sticky\"\r\n                    top={0}\r\n                    zIndex={999}\r\n                    flexDirection=\"row\"\r\n                    alignItems=\"center\"\r\n                    borderBottomWidth={2}\r\n                    borderBottomColor={'cyan.500'}\r\n\r\n                >\r\n                    <SideDrawer\r\n                        selectedScreen={selectedScreen} />\r\n\r\n                    <Box w={[0, 0, 0, 850]} h={[10, 10, 10, 10]} marginBottom={1.5} marginTop={1.5} paddingLeft={5}>\r\n                        <FastImage\r\n                            source={{\r\n                                uri: logo,\r\n                                priority: FastImage.priority.high,\r\n                            }}\r\n                            resizeMode={FastImage.resizeMode.stretch}\r\n                            style={styles.image}\r\n                        />\r\n                    </Box>\r\n                    {/* {showDrawerIcon && <MobileViewDrawer\r\n                        selectedScreen={selectedScreen}\r\n                    />} */}\r\n\r\n\r\n\r\n                    <Box w={[150, 200, 250, 0]} h={[6, 8, 10, 10]} marginBottom={1.5} marginTop={1.5} marginLeft={[3, 3, 3, 10]}>\r\n\r\n                        <FastImage\r\n                            source={{\r\n                                uri: logo2,\r\n                                priority: FastImage.priority.high,\r\n                            }}\r\n                            resizeMode={FastImage.resizeMode.stretch}\r\n                            style={styles.image}\r\n                        />\r\n                    </Box>\r\n                    <NamePopover name={loginName} handleSignOut={handleSignOut} />\r\n                    {/* <Box w={[100, 200, 1020]} h={[10, 10, 10]} flex={1}>\r\n                        <Flex direction=\"row-reverse\">\r\n                            <Popover isOpen={showNamePopover} trigger={triggerProps => {\r\n                                return <Text color=\"white\" marginTop={[2, 2, 2]} fontSize={[17, 18, 20]} marginRight={[1, 3, 5]} {...triggerProps} onPress={showPopover}>\r\n                                    <MaterialCommunityIcons name=\"account\" size={[20, 25, 30]} color=\"white\" /> {name}  <Ionicons name=\"caret-down\" size={16} color=\"white\" />\r\n                                </Text>;\r\n                            }} onClose={() => setShowNamePopover(!showNamePopover)} placement='bottom right' trapFocus={false}>\r\n                                <Popover.Content backgroundColor={'#7B9CFF'}>\r\n                                    <Popover.Body backgroundColor={'#7B9CFF'}>\r\n                                        <Button _hover={{ bgColor: 'blueGray.500', }} onPress={handleSignOut} leftIcon={<MaterialCommunityIcons name=\"logout\" size={20} color=\"white\" />} bgColor={'transparent'}>\r\n                                            Logout\r\n                                        </Button>\r\n                                    </Popover.Body>\r\n                                </Popover.Content>\r\n                            </Popover>\r\n                        </Flex>\r\n                    </Box> */}\r\n\r\n                </Box>\r\n\r\n                {/* Content */}\r\n                <Box flex={[1]} flexDirection=\"row\" >\r\n                    {/* Sidebar */}\r\n                    {/* <SideDrawer\r\n                        selectedScreen={selectedScreen}\r\n                    /> */}\r\n\r\n                    {/* Main Content */}\r\n                    <Box flex={1} flexGrow={1} minHeight={0}>\r\n                        {/* Main Content Content */}\r\n                        <Input ref={searchInput} onChangeText={handleSearch} placeholder=\"Search\" bgColor={'white'} />\r\n                        <ScrollView flex={1} contentContainerStyle={{ flexGrow: 1 }}>\r\n                            <Box height={'100%'}>\r\n\r\n                                <DataTable margin={[0, 0, 0, 1, 1, 1]}>\r\n                                    <Box borderWidth={1} borderColor=\"gray.200\" borderRadius={4} overflow=\"hidden\" display={['none', 'none', 'none', '', '', '']}>\r\n                                        <Box flexDirection=\"row\" borderBottomWidth={1} borderColor=\"gray.200\" bgColor={'#0642F4'} >\r\n                                            <Box flex={1} padding={2}>\r\n                                                <Text fontWeight=\"bold\" color={'white'} >Email</Text>\r\n                                            </Box>\r\n                                            <Box flex={1} padding={2}>\r\n                                                <Text fontWeight=\"bold\" color={'white'} >Name</Text>\r\n                                            </Box>\r\n                                            <Box flex={1} padding={2}>\r\n                                                <Text fontWeight=\"bold\" color={'white'} >Type of Account</Text>\r\n                                            </Box>\r\n                                            <Box flex={1} padding={2}>\r\n                                                <Text fontWeight=\"bold\" color={'white'} >Date of Creation</Text>\r\n                                            </Box>\r\n                                            <Box flex={1} padding={2}>\r\n                                                <Text fontWeight=\"bold\" color={'white'} >Last Updated</Text>\r\n                                            </Box>\r\n                                            <Box flex={1} padding={2}>\r\n                                                <Text fontWeight=\"bold\" color={'white'} >Status</Text>\r\n                                            </Box>\r\n                                            <Box flex={1} padding={2}>\r\n                                                <Text fontWeight=\"bold\" color={'white'} >Operate</Text>\r\n                                            </Box>\r\n                                        </Box>\r\n                                    </Box>\r\n                                    <PresenceTransition visible={true} initial={{\r\n                                        opacity: 0\r\n                                    }} animate={{\r\n                                        opacity: 1,\r\n                                        transition: {\r\n                                            duration: 250\r\n                                        }\r\n                                    }}>\r\n                                        {paginatedData.map((item) => (\r\n                                            <Box key={item.id} margin={[2, 2, 2, 0, 0, 0]} flexDirection={['column', 'column', 'column', 'row', 'row', 'row']} bgColor={item.active ? 'blue.200' : 'amber.500'} borderColor={'gray.200'} borderWidth={[2, 2, 2, 1, 1, 1]} paddingBottom={1} marginRight={0}>\r\n                                                <Box flex={1} padding={[0, 0, 0, 2, 2, 2]}>\r\n                                                    <Box flexDirection={['row', 'row', 'row', '', '', '']}>\r\n                                                        <Box display={['block', 'block', 'block', 'none', 'none', 'none']} flex={2} borderColor=\"gray.200\" bgColor={'#7b9cff'}>\r\n                                                            <Text fontWeight=\"bold\" color={'white'} fontSize={[12, 14, 14, 0, 0, 0]}> Email</Text>\r\n                                                        </Box>\r\n                                                        <Text flex={[5, 5, 5, 0, 0, 0]} borderBottomWidth={[1, 1, 1, 0, 0, 0]} borderBottomColor={'blueGray.400'}>{item.email}</Text>\r\n\r\n\r\n                                                    </Box>\r\n                                                </Box>\r\n                                                <Box flex={1} padding={[0, 0, 0, 2, 2, 2]}>\r\n                                                    <Box flexDirection={['row', 'row', 'row', '', '', '']}>\r\n                                                        <Box display={['block', 'block', 'block', 'none', 'none', 'none']} flex={2} borderColor=\"gray.200\" bgColor={'#7b9cff'} marginRight={0}>\r\n                                                            <Text fontWeight=\"bold\" color={'white'} fontSize={[12, 14, 14, 0, 0, 0]} > Name</Text>\r\n                                                        </Box>\r\n                                                        <Text flex={[5, 5, 5, 0, 0, 0]} borderBottomWidth={[1, 1, 1, 0, 0, 0]} borderBottomColor={'blueGray.400'}>{item.name}</Text>\r\n                                                    </Box>\r\n\r\n                                                </Box>\r\n                                                <Box flex={1} padding={[0, 0, 0, 2, 2, 2]}>\r\n                                                    <Box flexDirection={['row', 'row', 'row', '', '', '']}>\r\n                                                        <Box display={['block', 'block', 'block', 'none', 'none', 'none']} flex={2} borderColor=\"gray.200\" bgColor={'#7b9cff'} marginRight={0}>\r\n                                                            <Text fontWeight=\"bold\" color={'white'} fontSize={[12, 14, 14, 0, 0, 0]}  > Type of Account</Text>\r\n                                                        </Box>\r\n                                                        <Text flex={[5, 5, 5, 0, 0, 0]} borderBottomWidth={[1, 1, 1, 0, 0, 0]} borderBottomColor={'blueGray.400'}>{item.typeDisplay}</Text>\r\n                                                    </Box>\r\n\r\n                                                </Box>\r\n                                                <Box flex={1} padding={[0, 0, 0, 2, 2, 2]}>\r\n                                                    <Box flexDirection={['row', 'row', 'row', '', '', '']}>\r\n                                                        <Box display={['block', 'block', 'block', 'none', 'none', 'none']} flex={2} borderColor=\"gray.200\" bgColor={'#7b9cff'} marginRight={0}>\r\n                                                            <Text fontWeight=\"bold\" color={'white'} fontSize={[12, 14, 14, 0, 0, 0]} > Date of Creation</Text>\r\n                                                        </Box>\r\n                                                        <Text flex={[5, 5, 5, 0, 0, 0]} borderBottomWidth={[1, 1, 1, 0, 0, 0]} borderBottomColor={'blueGray.400'}>{item.dateOfCreation}</Text>\r\n                                                    </Box>\r\n\r\n                                                </Box>\r\n                                                <Box flex={1} padding={[0, 0, 0, 2, 2, 2]}>\r\n                                                    <Box flexDirection={['row', 'row', 'row', '', '', '']}>\r\n                                                        <Box display={['block', 'block', 'block', 'none', 'none', 'none']} flex={2} borderColor=\"gray.200\" bgColor={'#7b9cff'} marginRight={0}>\r\n                                                            <Text fontWeight=\"bold\" color={'white'} fontSize={[12, 14, 14, 0, 0, 0]} > Last Updated</Text>\r\n                                                        </Box>\r\n                                                        <Text flex={[5, 5, 5, 0, 0, 0]} borderBottomWidth={[1, 1, 1, 0, 0, 0]} borderBottomColor={'blueGray.400'}>{item.lastUpdatedDate}</Text>\r\n                                                    </Box>\r\n\r\n                                                </Box>\r\n                                                <Box flex={1} padding={[0, 0, 0, 2, 2, 2]}>\r\n                                                    <Box flexDirection={['row', 'row', 'row', '', '', '']}>\r\n                                                        <Box display={['block', 'block', 'block', 'none', 'none', 'none']} flex={2} borderColor=\"gray.200\" bgColor={'#7b9cff'} marginRight={0}>\r\n                                                            <Text fontWeight=\"bold\" color={'white'} fontSize={[12, 14, 14, 0, 0, 0]} > Status</Text>\r\n                                                        </Box>\r\n                                                        <Text flex={[5, 5, 5, 0, 0, 0]} borderBottomWidth={[1, 1, 1, 0, 0, 0]} borderBottomColor={'blueGray.400'}>{item.active ? 'Enabled' : 'Disabled'}</Text>\r\n                                                    </Box>\r\n\r\n                                                </Box>\r\n                                                <Box flex={1} padding={[0, 0, 0, 2, 2, 2]}>\r\n                                                    <Box flexDirection={['row', 'row', 'row', '', '', '']}>\r\n                                                        <Box display={['block', 'block', 'block', 'none', 'none', 'none']} flex={2} borderColor=\"gray.200\" bgColor={'#7b9cff'} marginRight={0}>\r\n                                                            <Text fontWeight=\"bold\" color={'white'} fontSize={[12, 14, 14, 0, 0, 0]}> Operate</Text>\r\n                                                        </Box>\r\n                                                        <HStack space={1} flex={[5, 5, 5, 1, 1, 1]}>\r\n                                                            <Button\r\n                                                                onPress={() => handleEdit(item.id)}\r\n                                                                flex={[1, 1, 1, 2, 2, 2]}\r\n                                                                padding={1}\r\n                                                                justifyContent='center'\r\n                                                                alignItems='center'\r\n                                                                flexDirection='row'>\r\n                                                                <Text textAlign={'center'} fontSize={[0, 0, 0, 0, 12, 14]} color={'white'}>Edit</Text>\r\n                                                                <Icon as={<MaterialIcons name={\"edit\"} />} color={'white'} size={[5, 5, 5, 5, 0]} />\r\n                                                            </Button>\r\n                                                            {item.active ? (\r\n                                                                <Button onPress={() => handleOpenDisableModal(item.id)} flex={[1, 1, 1, 2, 2, 2]} padding={1} colorScheme={'amber'} _text={{ fontSize: [0, 0, 0, 0, 12, 14], }}>\r\n                                                                    <Text textAlign={'center'} fontSize={[0, 0, 0, 0, 12, 14]} color={'white'}>Disable</Text>\r\n                                                                    <Icon as={<MaterialIcons name={\"block\"} />} color={'white'} size={[5, 5, 5, 5, 0]} />\r\n                                                                </Button>\r\n                                                            ) : (\r\n                                                                <Button onPress={() => handleOpenEnableModal(item.id)} flex={[1, 1, 1, 2, 2, 2]} padding={1} colorScheme={'success'} _text={{ fontSize: [0, 0, 0, 0, 12, 14], }}>\r\n                                                                    <Text textAlign={'center'} fontSize={[0, 0, 0, 0, 12, 14]} color={'white'}>Enable</Text>\r\n                                                                    <Icon as={<MaterialIcons name={\"check-circle\"} />} color={'white'} size={[5, 5, 5, 5, 0]} />\r\n                                                                </Button>\r\n                                                            )}\r\n                                                            <Button onPress={() => handleOpenDeleteModal(item.id)} flex={[1, 1, 1, 2, 2, 2]} padding={1} colorScheme={'error'} _text={{ fontSize: [0, 0, 0, 0, 12, 14], }}>\r\n                                                                <Text textAlign={'center'} fontSize={[0, 0, 0, 0, 12, 14]} color={'white'}>Delete</Text>\r\n                                                                <Icon as={<MaterialIcons name={\"delete\"} />} color={'white'} size={[5, 5, 5, 5, 0]} />\r\n                                                            </Button>\r\n                                                        </HStack>\r\n                                                    </Box>\r\n                                                </Box>\r\n\r\n                                            </Box>\r\n\r\n                                        ))}\r\n                                    </PresenceTransition>\r\n                                    <DataTable.Pagination\r\n                                        page={page}\r\n                                        numberOfPages={Math.ceil(filtered.length / itemsPerPage)}\r\n                                        onPageChange={(page) => setPage(page)}\r\n                                        label={`${startIndex + 1}-${endIndex} of ${filtered.length}`}\r\n                                        optionsPerPage={optionsPerPage}\r\n                                        itemsPerPage={itemsPerPage}\r\n                                        setItemsPerPage={setItemsPerPage}\r\n                                        showFastPagination\r\n                                        optionsLabel={'Rows per page'}\r\n                                    />\r\n                                </DataTable>\r\n                            </Box>\r\n                            <Modal isOpen={modalVisible} onClose={handleCloseModal}>\r\n                                <Modal.Content>\r\n                                    <Modal.CloseButton />\r\n                                    <Modal.Header borderBottomWidth={0}>Edit Acccount</Modal.Header>\r\n                                    <Modal.Body>\r\n\r\n                                        {selectedItem && (\r\n                                            <VStack>\r\n                                                <VStack><Text>Email: </Text> <Input color={!isEmailDuplicate ? 'black' : 'red.500'} borderBottomColor={validateEmail() ? 'green.300' : 'red.500'} borderBottomWidth={2} defaultValue={inputEmail} ref={inputEmailRef} onChangeText={handleInputEmailChange} /></VStack>\r\n                                                {!validateEmail() && (\r\n                                                    <Text color={'#D22730'} bold>Invalid Email!</Text>\r\n                                                )}\r\n                                                {isEmailDuplicate && (\r\n                                                    <Text color={'#D22730'} bold>Email already in use! Please use a different email!</Text>\r\n                                                )}\r\n                                                <VStack><Text>Name: </Text> <Input borderBottomColor={inputName !== '' ? 'green.300' : 'red.500'} borderBottomWidth={2} defaultValue={inputName} ref={inputNameRef} onChangeText={handleInputNameChange} /></VStack>\r\n                                                {inputName === '' && (\r\n                                                    <Text color={'#D22730'} bold>Empty Name!</Text>\r\n                                                )}\r\n                                                <VStack><Text>Password: </Text>\r\n                                                    <Input borderBottomColor={isPasswordLengthLabel() ? 'green.300' : 'red.500'} borderBottomWidth={2} defaultValue={inputPassword} ref={inputPassRef} onChangeText={handleInputPassChange} type={show ? \"text\" : \"password\"} InputLeftElement={<Icon as={<FontAwesome name={show ? \"unlock-alt\" : \"lock\"} />} size={5} ml=\"2\" />} InputRightElement={<Pressable onPress={() => setShow(!show)} >\r\n                                                        <Icon as={<MaterialIcons name={show ? \"visibility\" : \"visibility-off\"} />} size={5} mr=\"2\" />\r\n                                                    </Pressable>} />\r\n                                                </VStack>\r\n\r\n                                                <VStack><Text>Type of Account:</Text>\r\n                                                    <HStack space={1} justifyContent=\"center\" >\r\n                                                        <Button _hover={{ bgColor: 'booking' === selectedItemType ? '#0642F4' : 'blueGray.400', }} size=\"sm\" borderWidth='1' borderColor='white' w={{\r\n                                                            base: 90,\r\n                                                            md: 90,\r\n                                                            sm: 90,\r\n                                                        }} onPress={handleToggleAccountType4} bgColor={'booking' === selectedItemType ? '#0642F4' : '#CED5EA'} ><Text style={{ color: 'white', }}>Booking</Text></Button>\r\n\r\n                                                        <Button _hover={{ bgColor: 'staff' === selectedItemType ? '#0642F4' : 'blueGray.400', }} size=\"sm\" borderWidth='1' borderColor='white' w={{\r\n                                                            base: 90,\r\n                                                            md: 90,\r\n                                                            sm: 90,\r\n                                                        }} onPress={handleToggleAccountType3} bgColor={'staff' === selectedItemType ? '#0642F4' : '#CED5EA'}  ><Text style={{ color: 'white', }}>Staff</Text></Button>\r\n\r\n                                                        <Button _hover={{ bgColor: 'admin' === selectedItemType ? '#0642F4' : 'blueGray.400', }} size=\"sm\" borderWidth='1' borderColor='white' w={{\r\n                                                            base: 90,\r\n                                                            md: 90,\r\n                                                            sm: 90,\r\n                                                        }} onPress={handleToggleAccountTypeAd} bgColor={'admin' === selectedItemType ? '#0642F4' : '#CED5EA'}  ><Text style={{ color: 'white', }}>Admin</Text></Button>\r\n\r\n\r\n\r\n                                                    </HStack>\r\n                                                    <HStack space={1} justifyContent=\"center\" marginTop={1}>\r\n                                                        <Button _hover={{ bgColor: 'superadmin' === selectedItemType ? '#0642F4' : 'blueGray.400', }} size=\"sm\" borderWidth='1' borderColor='white' w={{\r\n                                                            base: 90,\r\n                                                            md: 90,\r\n                                                            sm: 90,\r\n                                                        }} onPress={handleToggleAccountTypeSpAd} bgColor={'superadmin' === selectedItemType ? '#0642F4' : '#CED5EA'} ><Text style={{ color: 'white', }}>Super Admin</Text></Button>\r\n                                                        <Button _hover={{ bgColor: 'devadmin' === selectedItemType ? '#0642F4' : 'blueGray.400', }} size=\"sm\" borderWidth='1' borderColor='white' w={{\r\n                                                            base: 90,\r\n                                                            md: 90,\r\n                                                            sm: 90,\r\n                                                        }} onPress={handleToggleAccountTypeDevAd} bgColor={'devadmin' === selectedItemType ? '#0642F4' : '#CED5EA'} ><Text style={{ color: 'white', }}>Dev Admin</Text></Button>\r\n                                                    </HStack>\r\n                                                </VStack>\r\n\r\n                                                {/* Add additional input fields or form components to edit the data */}\r\n                                            </VStack>\r\n                                        )}\r\n                                    </Modal.Body>\r\n                                    <Modal.Footer borderTopWidth={0}>\r\n                                        <Button onPress={handleCloseModal} flex={1} padding={1} margin={1}>Close</Button>\r\n                                        <Button onPress={() => handleSave(selectedItem.id)} disabled={isDisabled} flex={1} padding={1} colorScheme={'success'} margin={1}>{isSaveLoading ? <Spinner color=\"white\" size={21} /> : 'Save'}</Button>\r\n                                        {/* Add a save button or other action button to update the data */}\r\n                                    </Modal.Footer>\r\n                                </Modal.Content>\r\n                            </Modal>\r\n\r\n                            <Modal isOpen={showDisableModal} onClose={handleCloseDisableModal}>\r\n                                <Modal.Content bgColor={'amber.500'}>\r\n                                    <Modal.CloseButton />\r\n                                    <Modal.Header bgColor={'amber.500'} borderBottomWidth={0} _text={{ color: 'white', }}>Disable Account?</Modal.Header>\r\n                                    <Modal.Body bgColor={'amber.500'}>\r\n                                        {selectedItem && (\r\n                                            <VStack>\r\n                                                <Text color={'white'}>Email: {selectedItem.email}</Text>\r\n                                                <Text color={'white'}>Name: {selectedItem.name}</Text>\r\n                                                <Text color={'white'}>Type of Account: {selectedItem.typeDisplay}</Text>\r\n                                                {/* Add additional input fields or form components to edit the data */}\r\n                                            </VStack>\r\n                                        )}\r\n                                    </Modal.Body>\r\n                                    <Modal.Footer bgColor={'amber.500'} borderTopWidth={0}>\r\n                                        <Button onPress={handleCloseDisableModal} flex={1} padding={1} margin={1}>No</Button>\r\n                                        <Button onPress={() => handleDisable(selectedItem.id)} colorScheme={'error'} flex={1} padding={1} margin={1} disabled={isDisabled}>{isYesLoading ? <Spinner color=\"white\" size={21} /> : 'Yes'}</Button>\r\n                                        {/* Add a save button or other action button to update the data */}\r\n                                    </Modal.Footer>\r\n                                </Modal.Content>\r\n                            </Modal>\r\n\r\n                            <Modal isOpen={showDeleteModal} onClose={handleCloseDeleteModal}>\r\n                                <Modal.Content bgColor={'error.300'}>\r\n                                    <Modal.CloseButton />\r\n                                    <Modal.Header bgColor={'error.300'} borderBottomWidth={0} >Delete Account?</Modal.Header>\r\n                                    <Modal.Body bgColor={'error.300'}>\r\n                                        {selectedItem && (\r\n                                            <VStack>\r\n                                                <Text >Email: {selectedItem.email}</Text>\r\n                                                <Text >Name: {selectedItem.name}</Text>\r\n                                                <Text >Type of Account: {selectedItem.typeDisplay}</Text>\r\n                                                {/* Add additional input fields or form components to edit the data */}\r\n                                            </VStack>\r\n                                        )}\r\n                                    </Modal.Body>\r\n                                    <Modal.Footer bgColor={'error.300'} borderTopWidth={0}>\r\n                                        <Button onPress={handleCloseDisableModal} flex={1} padding={1} margin={1}>No</Button>\r\n                                        <Button onPress={() => handleDelete(selectedItem.id)} colorScheme={'error'} flex={1} padding={1} margin={1} disabled={isDisabled}>{isYesLoading ? <Spinner color=\"white\" size={21} /> : 'Yes'}</Button>\r\n                                        {/* Add a save button or other action button to update the data */}\r\n                                    </Modal.Footer>\r\n                                </Modal.Content>\r\n                            </Modal>\r\n\r\n\r\n                            <Modal isOpen={showEnableModal} onClose={handleCloseEnableModal}>\r\n                                <Modal.Content bgColor={'success.200'}>\r\n                                    <Modal.CloseButton />\r\n                                    <Modal.Header bgColor={'success.200'} borderBottomWidth={0}>Enable Account?</Modal.Header>\r\n                                    <Modal.Body bgColor={'success.200'}>\r\n                                        {selectedItem && (\r\n                                            <VStack>\r\n                                                <Text>Email: {selectedItem.email}</Text>\r\n                                                <Text>Name: {selectedItem.name}</Text>\r\n                                                <Text>Type of Account: {selectedItem.typeDisplay}</Text>\r\n                                                {/* Add additional input fields or form components to edit the data */}\r\n                                            </VStack>\r\n                                        )}\r\n                                    </Modal.Body>\r\n                                    <Modal.Footer bgColor={'success.200'} borderTopWidth={0}>\r\n                                        <Button onPress={handleCloseEnableModal} flex={1} padding={1} margin={1}>No</Button>\r\n                                        <Button onPress={() => handleEnable(selectedItem.id)} colorScheme={'success'} flex={1} padding={1} margin={1} disabled={isDisabled}>{isYesLoading ? <Spinner color=\"white\" size={21} /> : 'Yes'}</Button>\r\n                                        {/* Add a save button or other action button to update the data */}\r\n                                    </Modal.Footer>\r\n                                </Modal.Content>\r\n                            </Modal>\r\n                            <Modal isOpen={showSuccessModal} onClose={() => setShowSuccessModal(false)} size=\"lg\"  >\r\n                                <Modal.Content maxWidth=\"350\" bgColor={'green.600'} borderWidth={3} borderColor={'green.400'}>\r\n                                    <Modal.Header bgColor={'green.600'} borderBottomWidth={0}><Text color=\"white\" textAlign={'center'} bold> Success! </Text></Modal.Header>\r\n                                    <Modal.Body >\r\n                                        <Text color=\"white\" textAlign={'center'}>The account update was successful.</Text>\r\n                                    </Modal.Body>\r\n                                    <Modal.Footer bgColor={'green.600'} borderTopWidth={0}>\r\n                                        <Button _hover={{ bgColor: 'green.500', }} variant={'outline'} flex=\"1\" onPress={() => setShowSuccessModal(false)}>\r\n                                            <Text color=\"white\" textAlign={'center'}>Proceed</Text>\r\n                                        </Button>\r\n                                    </Modal.Footer>\r\n                                </Modal.Content>\r\n                            </Modal>\r\n                        </ScrollView>\r\n                    </Box>\r\n                </Box>\r\n            </Box>\r\n        </NativeBaseProvider>\r\n    );\r\n}\r\n\r\n\r\n\r\n","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { View, TouchableOpacity, StyleSheet, Dimensions, TextInput } from 'react-native';\r\nimport {\r\n  Input,\r\n  Icon,\r\n  Stack,\r\n  Pressable,\r\n  Center,\r\n  PresenceTransition,\r\n  NativeBaseProvider,\r\n  Button,\r\n  Box,\r\n  HStack,\r\n  Image,\r\n  Container,\r\n  Header,\r\n  Left,\r\n  Body,\r\n  Title,\r\n  Content,\r\n  Text,\r\n  Heading,\r\n  Flex,\r\n  VStack,\r\n  ScrollView,\r\n  SectionList,\r\n  useBreakpointValue,\r\n  Spinner,\r\n  Modal,\r\n  Divider,\r\n  Popover\r\n} from \"native-base\";\r\nimport {\r\n  FontAwesome,\r\n  Entypo,\r\n  MaterialIcons,\r\n  Ionicons,\r\n  Fontisto,\r\n  EvilIcons,\r\n  AntDesign,\r\n  MaterialCommunityIcons,\r\n  Feather,\r\n  FontAwesome5Brands,\r\n} from 'react-native-vector-icons';\r\nimport 'react-native-gesture-handler';\r\n// import { createDrawerNavigator } from '@react-navigation/drawer';\r\nimport { signOut, onAuthStateChanged, reload, getAuth, getIdTokenResult, createUserWithEmailAndPassword, fetchSignInMethodsForEmail } from 'firebase/auth';\r\nimport { authForCreateUser } from '../../firebasecontrolCreateUser';\r\nimport { app, db, getFirestore, collection, addDoc, doc, setDoc, auth, getDoc, onSnapshot, updateDoc } from '../../firebasecontrol'\r\nimport { useNavigation } from '@react-navigation/core'\r\nimport './../style.css';\r\nimport { debounce } from 'lodash';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport FastImage from 'react-native-fast-image-web-support';\r\nimport { setLoginName } from './redux/store';\r\nimport MobileViewDrawer from './SideDrawer/MobileViewDrawer';\r\nimport SideDrawer from './SideDrawer/SideDrawer';\r\nimport { useNavigate } from 'react-router-dom';\r\nlet selectedScreen = 'ADD C-HUB ACCOUNT'\r\n\r\nconst { width, height } = Dimensions.get('window');\r\nconst windowHeight = Dimensions.get('window').height;\r\n\r\nconst firestore = getFirestore();\r\nconst getEmailOfCurrentUser = () => {\r\n  const user = auth.currentUser;\r\n  if (user) {\r\n    const email = user.email;\r\n    return email;\r\n  } else {\r\n    console.log('No user is currently authenticated');\r\n    return null;\r\n  }\r\n};\r\n\r\n// const Drawer = createDrawerNavigator();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function AddAccount() {\r\n  const dispatch = useDispatch();\r\n  const loginName = useSelector((state) => state.loginName);\r\n  const [email, setEmail] = useState('');\r\n  const [type, setType] = useState('');\r\n  const logo = require('../../assets/C-Hub.png');\r\n  const logo2 = require('../../assets/C-Hub Logo Only.png');\r\n  const screenWidth = Dimensions.get('window').width;\r\n  const [isMobileView, setIsMobileView] = useState(false);\r\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\r\n  const [name, setName] = useState('');\r\n  const [show, setShow] = React.useState(false);\r\n  const [show2, setShow2] = React.useState(false);\r\n  const [isDisabled, setIsDisabled] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  // const navigation = useNavigation();\r\n  const navigate = useNavigate();\r\n\r\n  const [isSelectedLogs, setIsSelectedLogs] = useState(false);\r\n  const [isSelectedAddAccount, setIsSelectedAddAccount] = useState(true);\r\n  const [isSelectedAccountList, setIsSelectedAccountList] = useState(false);\r\n  const [isSelected3, setIsSelected3] = useState(false);\r\n  const [isSelected4, setIsSelected4] = useState(false);\r\n\r\n  const [accountTypeSpAd, setAccountTypeSpAd] = useState(false);\r\n  const [accountTypeDevAd, setAccountTypeDevAd] = useState(false);\r\n  const [accountTypeAd, setAccountTypeAd] = useState(false);\r\n  const [accountType3, setAccountType3] = useState(false);\r\n  const [accountType4, setAccountType4] = useState(false);\r\n\r\n\r\n  const [nameVerify, setNameVerify] = useState(false);\r\n  const [emailVerify, setEmailVerify] = useState(false);\r\n  const [passwordVerify, setPasswordVerify] = useState(false);\r\n  const [confirmPasswordVerify, setConfirmPasswordVerify] = useState(false);\r\n  const [accountTypeVerify, setAccountTypeVerify] = useState(false);\r\n  const [isEmailDuplicate, setIsEmailDuplicate] = useState(false);\r\n  const [emailError, setEmailError] = useState(false);\r\n  // const [inputName, setInputName] = useState('');\r\n  // const [inputEmail, setInputEmail] = useState('');\r\n  // const [inputPassword, setInputPassword] = useState('');\r\n  // const [inputConfirmPassword, setInputConfirmPassword] = useState('');\r\n  const [typeOfAccount, setTypeOfAccount] = useState('');\r\n  const [typeOfAccountDisplay, setTypeOfAccountDisplay] = useState('');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const inputRefs = useRef([]);\r\n\r\n\r\n  const inputName = useRef(null);\r\n  const inputEmail = useRef(null);\r\n  const inputPassword = useRef(null);\r\n  const inputConfirmPassword = useRef(null);\r\n\r\n  const [passwordMatch, setPasswordMatch] = useState(false);\r\n  const [passwordMatchLabel, setPasswordMatchLabel] = useState(true);\r\n  const [passwordLengthLabel, setPasswordLengthLabel] = useState(false);\r\n  const [isNameEmpty, setIsNameEmpty] = useState(true);\r\n\r\n  const [formattedTime, setFormattedTime] = useState('');\r\n\r\n  const [time, setTime] = useState('');\r\n  const fetchTimeRef = useRef();\r\n  const [isIntervalActive, setIsIntervalActive] = useState(true);\r\n\r\n  const [showNamePopover, setShowNamePopover] = useState(false);\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n\r\n  }, [isSelectedLogs, isSelectedAddAccount, isSelectedAccountList]);\r\n\r\n\r\n\r\n\r\n  const SuccessModal = () => {\r\n    return <Center>\r\n      <Modal isOpen={showModal} onClose={closeModal} size=\"lg\"  >\r\n        <Modal.Content maxWidth=\"350\" bgColor={'green.600'} borderWidth={3} borderColor={'green.400'}>\r\n          <Modal.Header bgColor={'green.600'} borderBottomWidth={0}><Text textAlign={'center'} bold> Success! </Text></Modal.Header>\r\n          <Modal.Body >\r\n\r\n            <Text textAlign={'center'}>Account creation for Real Motor Japan Control Hub was successful.</Text>\r\n          </Modal.Body>\r\n          <Modal.Footer bgColor={'green.600'} borderTopWidth={0}>\r\n            <Button _hover={{ bgColor: 'green.500', }} variant={'outline'} flex=\"1\" onPress={closeModal} _text={{ color: 'black', }}>\r\n              Ok\r\n            </Button>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n    </Center>;\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n  }, [typeOfAccount]);\r\n\r\n  const handleToggleAccountTypeSpAd = () => {\r\n    const text = 'superadmin';\r\n    setAccountTypeSpAd(true);\r\n\r\n    setAccountTypeDevAd(false);\r\n    setAccountTypeAd(false);\r\n    setAccountType3(false);\r\n    setAccountType4(false);\r\n    setTypeOfAccount(text);\r\n    setTypeOfAccountDisplay('Super Admin');\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      if (!user) {\r\n        // navigation.navigate(\"Login\")\r\n        navigate(\"/Login\")\r\n      }\r\n\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n  const firebaseFirestore = getFirestore();\r\n\r\n\r\n  const addLogToCollection = async (data) => {\r\n    try {\r\n      const firestore = getFirestore();\r\n      const logsCollectionRef = collection(firestore, 'logs');\r\n\r\n      // Add a new document to the \"logs\" collection\r\n      await addDoc(logsCollectionRef, data);\r\n\r\n      console.log('Document added successfully!');\r\n    } catch (error) {\r\n      console.error('Error adding document:', error);\r\n    }\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   const fetchTime = async () => {\r\n  //     try {\r\n  //       const response = await axios.get('http://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n  //       const { datetime } = response.data;\r\n  //       const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n  //       setTime(formattedTime);\r\n  //     } catch (error) {\r\n  //       console.error('Error fetching time:', error);\r\n  //     }\r\n  //   };\r\n  //   const interval = setInterval(fetchTime, 1000);\r\n  //   return () => clearInterval(interval);\r\n  // }, []);\r\n  // useEffect(() => {\r\n  //   const fetchTime = async () => {\r\n  //     try {\r\n  //       const response = await axios.get('http://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n  //       const { datetime } = response.data;\r\n  //       const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n  //       setTime(formattedTime);\r\n  //     } catch (error) {\r\n  //       console.error('Error fetching time:', error);\r\n  //     }\r\n  //   };\r\n\r\n  //   const interval = setInterval(() => {\r\n  //     if (isIntervalActive) {\r\n  //       fetchTime();\r\n  //     }\r\n  //   }, 1000);\r\n\r\n  //   return () => {\r\n  //     clearInterval(interval);\r\n  //   };\r\n  // }, [isIntervalActive]);\r\n\r\n  const openModal = () => {\r\n    setShowModal(true);\r\n    setIsIntervalActive(false); // Pause the interval when the modal is opened\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n    setIsIntervalActive(true); // Resume the interval when the modal is closed\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  const handleAddAccount = async () => {\r\n    setIsDisabled(true);\r\n    setIsLoading(true);\r\n    if (\r\n      passwordLengthLabel === false ||\r\n      passwordMatch === false ||\r\n      passwordMatchLabel === false ||\r\n      validateEmail() === false ||\r\n      isNameEmpty === true ||\r\n      isAccountType() === false\r\n    ) {\r\n      setTimeout(() => {\r\n        // Reset loading and disabled state\r\n        setIsLoading(false);\r\n        setIsDisabled(false);\r\n      }, 500);\r\n    } else {\r\n      try {\r\n        const signInMethods = await fetchSignInMethodsForEmail(auth, inputEmail.current?.value);\r\n        if (signInMethods.length > 0) {\r\n          // Email already exists\r\n          setIsEmailDuplicate(true);\r\n          setEmailError(false);\r\n          validateEmail(false);\r\n          setIsLoading(false);\r\n          setIsDisabled(false);\r\n          return;\r\n        }\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        await createUserWithEmailAndPassword(authForCreateUser, inputEmail.current.value, inputPassword.current.value)\r\n          .then((userCredential) => {\r\n\r\n            const user = userCredential.user;\r\n\r\n\r\n\r\n            try {\r\n\r\n              // setTime(formattedTime);\r\n\r\n              const customID = inputEmail.current.value; // Replace 'your-custom-id' with your desired custom ID\r\n              const docRef = doc(db, 'accounts', customID); // Replace 'myCollection' with the name of your desired collection\r\n              const logData = {\r\n                message: `Account Added: \"${name}\" added an account for \"${inputName.current?.value}\" with \"${typeOfAccountDisplay}\" privilege.`,\r\n                timestamp: formattedTime,\r\n                keywords: [\r\n                  formattedTime.toLowerCase(),\r\n                  `Account Added: \"${name}\" added an account for \"${inputName.current?.value}\" with \"${typeOfAccountDisplay}\" privilege.`.toLowerCase(),\r\n                  'Account Added'.toLowerCase(),\r\n                  'Added'.toLowerCase(),\r\n                  inputName.current.value.toLowerCase(),\r\n                  typeOfAccountDisplay.toLowerCase(),\r\n                  name.toLowerCase(),\r\n                  year.toLowerCase(),\r\n                  month.toLowerCase(),\r\n                  monthWithDay.toLowerCase(),\r\n                  date.toLowerCase(),\r\n                  day.toLowerCase(),\r\n                  time.toLowerCase(),\r\n                  timeWithMinutesSeconds.toLowerCase(),\r\n                ],\r\n                colorScheme: true,\r\n              };\r\n\r\n              setDoc(docRef, {\r\n                // Specify the data you want to add to the document\r\n                email: inputEmail.current?.value,\r\n                name: inputName.current?.value,\r\n                pass: inputPassword.current?.value,\r\n                type: typeOfAccount,\r\n                typeDisplay: typeOfAccountDisplay,\r\n                dateOfCreation: formattedTime,\r\n                lastUpdatedDate: formattedTime,\r\n                active: true,\r\n                // ...\r\n              });\r\n\r\n              addLogToCollection(logData);\r\n              console.log(logData);\r\n              console.log(formattedTime);\r\n              setIsLoading(false);\r\n              setIsDisabled(false);\r\n              handleClear();\r\n              openModal();\r\n\r\n              console.log('Document added with custom ID: ', customID);\r\n            } catch (error) {\r\n              console.error('Error adding document: ', error);\r\n            }\r\n\r\n\r\n\r\n\r\n            // Reset loading and disabled state\r\n\r\n\r\n\r\n          })\r\n          .catch((error) => {\r\n            console.log('An error occurred during sign-up. Please try again later.');\r\n            console.log(error);\r\n            setIsLoading(false);\r\n            setIsDisabled(false);\r\n          });\r\n      } catch (error) {\r\n        const errorCode = error.code;\r\n        const errorMessage = error.message;\r\n        console.log('An error occurred while checking the email existence. Please try again later.');\r\n        // console.log(errorCode, errorMessage);\r\n        setIsLoading(false);\r\n        setIsDisabled(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleClear = () => {\r\n    const text = '';\r\n\r\n    inputName.current.value = \"\";\r\n    inputEmail.current.value = \"\";\r\n    inputPassword.current.value = \"\";\r\n    inputConfirmPassword.current.value = \"\";\r\n    setAccountTypeAd(false);\r\n    setAccountTypeSpAd(false);\r\n    setAccountTypeDevAd(false);\r\n    setAccountType3(false);\r\n    setAccountType4(false);\r\n    setEmailError(false);\r\n    setIsEmailDuplicate(false);\r\n    setIsNameEmpty(true);\r\n\r\n    setPasswordLengthLabel(false);\r\n    setPasswordMatch(false);\r\n    setPasswordMatchLabel(true);\r\n\r\n\r\n    // setInputConfirmPassword('');\r\n    // setInputEmail('');\r\n    // setInputName('');\r\n    // setInputPassword('');\r\n\r\n\r\n  };\r\n\r\n  const registerInputRef = (index) => (ref) => {\r\n    inputRefs.current[index] = ref;\r\n  };\r\n\r\n  const handleToggleAccountTypeAd = () => {\r\n    const text = 'admin';\r\n    setAccountTypeAd(true);\r\n    setAccountTypeSpAd(false);\r\n    setAccountTypeDevAd(false);\r\n    setAccountType3(false);\r\n    setAccountType4(false);\r\n\r\n\r\n    setTypeOfAccount(text);\r\n    setTypeOfAccountDisplay('Admin');\r\n  };\r\n\r\n  const handleToggleAccountTypeDevAd = () => {\r\n    const text = 'devadmin';\r\n    setAccountTypeDevAd(true);\r\n\r\n    setAccountTypeAd(false);\r\n    setAccountTypeSpAd(false);\r\n    setAccountType3(false);\r\n    setAccountType4(false);\r\n    setTypeOfAccountDisplay('Developer Admin');\r\n\r\n    setTypeOfAccount(text);\r\n\r\n  };\r\n\r\n  const handleToggleAccountType3 = () => {\r\n    const text = 'staff';\r\n    setAccountType3(true);\r\n    setAccountTypeDevAd(false);\r\n    setAccountTypeAd(false);\r\n    setAccountTypeSpAd(false);\r\n    setAccountType4(false);\r\n\r\n    setTypeOfAccount(text);\r\n\r\n    setTypeOfAccountDisplay('Staff');\r\n  };\r\n\r\n  const handleToggleAccountType4 = () => {\r\n    const text = 'booking';\r\n    setAccountType4(true);\r\n    setAccountType3(false);\r\n    setAccountTypeDevAd(false);\r\n    setAccountTypeAd(false);\r\n    setAccountTypeSpAd(false);\r\n\r\n\r\n    setTypeOfAccount(text);\r\n    setTypeOfAccountDisplay('Booking');\r\n  };\r\n\r\n  // const handleToggleLogs = useCallback(() => {\r\n\r\n\r\n  //   navigation.navigate(\"LOGS\");\r\n  // }, []);\r\n\r\n  // const handleToggleAddAccount = useCallback(() => {\r\n\r\n  //   navigation.navigate(\"ADD C-HUB ACCOUNT\");\r\n  // }, []);\r\n\r\n  // const handleToggleAccountList = useCallback(() => {\r\n\r\n  //   navigation.navigate(\"ACCOUNT LIST\");\r\n  // }, []);\r\n\r\n  // const handleToggleAddVehicle = useCallback(() => {\r\n\r\n  //   navigation.navigate(\"ADD NEW VEHICLE\");\r\n  // }, []);\r\n\r\n  // const handleVehicleList = useCallback(() => {\r\n  //   navigation.navigate(\"VEHICLE LIST\");\r\n  // }, []);\r\n\r\n  const handleDocumentChange = (snapshot) => {\r\n    if (snapshot.exists()) {\r\n      const data = snapshot.data();\r\n      const isActive = data.active;\r\n\r\n      if (!isActive) {\r\n        signOut(auth)\r\n          .then(() => {\r\n            // navigation.navigate('Login');\r\n            navigate(\"/Login\")\r\n          })\r\n          .catch((error) => {\r\n            console.error('Error signing out:', error);\r\n          });\r\n      }\r\n    } else {\r\n      signOut(auth)\r\n        .then(() => {\r\n          // navigation.navigate('Login');\r\n          navigate(\"/Login\")\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error signing out:', error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const subscribeToFieldChange = () => {\r\n    const userId = auth.currentUser?.email;\r\n    if (userId) {\r\n      const userRef = doc(firestore, 'accounts', userId);\r\n      const unsubscribe = onSnapshot(userRef, handleDocumentChange);\r\n      return unsubscribe;\r\n    } else {\r\n      // Return a no-op function if there's no user\r\n      return () => {\r\n        navigate(\"/login\")\r\n      };\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = subscribeToFieldChange();\r\n\r\n    return () => {\r\n      // This will now always be a function\r\n      unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const currentUserEmail = getEmailOfCurrentUser();\r\n    if (currentUserEmail) {\r\n      getFieldValueByEmail(currentUserEmail);\r\n      setEmail(currentUserEmail)\r\n      const documentId = currentUserEmail;\r\n      listenForNameChange(documentId);\r\n    }\r\n  }, []);\r\n\r\n  const listenForNameChange = (documentId) => {\r\n    const userRef = doc(db, 'accounts', documentId);\r\n\r\n    const unsubscribe = onSnapshot(userRef, (doc) => {\r\n      if (doc.exists()) {\r\n        const name = doc.data().name;\r\n        const type = doc.data().type;\r\n        setName(name);\r\n        setType(type);\r\n        // Perform any necessary actions with the name value\r\n      } else {\r\n        console.log('Document does not exist');\r\n      }\r\n    });\r\n\r\n    // To stop listening for updates, you can call unsubscribe()\r\n    // unsubscribe();\r\n  };\r\n\r\n\r\n\r\n  const getFieldValueByEmail = async (email) => {\r\n    try {\r\n      const accountDocRef = doc(firestore, 'accounts', email);\r\n      const accountDocSnapshot = await getDoc(accountDocRef);\r\n\r\n      if (accountDocSnapshot.exists()) {\r\n        const data = accountDocSnapshot.data();\r\n        const fieldType = data.type;\r\n        const fieldName = data.name;\r\n        dispatch(setLoginName(data.name));\r\n\r\n      } else {\r\n        console.log('Document does not exist');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching field value:', error);\r\n    }\r\n  };\r\n\r\n\r\n  const handlePasswordChange = () => {\r\n    // const inputPasswordValue = inputPassword.current?.value;\r\n    // const inputConfirmPasswordValue = inputConfirmPassword.current?.value;\r\n    // const inputPasswordValueLength = inputPasswordValue ? inputPasswordValue.length : 0;\r\n\r\n    // setPasswordMatch(\r\n    //   inputPasswordValue === inputConfirmPasswordValue && inputPasswordValueLength >= 6\r\n    // );\r\n    // setPasswordMatchLabel(inputPasswordValue === inputConfirmPasswordValue);\r\n    // setPasswordLengthLabel(inputPasswordValueLength >= 6);\r\n    handlePasswordStatus();\r\n  };\r\n\r\n  const handleConfirmPasswordChange = () => {\r\n    const inputPasswordValue = inputPassword.current?.value;\r\n    const inputConfirmPasswordValue = inputConfirmPassword.current?.value;\r\n    const inputPasswordValueLength = inputPasswordValue ? inputPasswordValue.length : 0;\r\n\r\n    setPasswordMatch(\r\n      inputPasswordValue === inputConfirmPasswordValue && inputPasswordValueLength >= 6\r\n    );\r\n    setPasswordMatchLabel(inputPasswordValue === inputConfirmPasswordValue);\r\n  };\r\n\r\n\r\n  const handlePasswordStatus = () => {\r\n    const inputPasswordValue = inputPassword.current?.value;\r\n    const inputConfirmPasswordValue = inputConfirmPassword.current?.value;\r\n    const inputPasswordValueLength = inputPasswordValue ? inputPasswordValue.length : 0;\r\n\r\n    setPasswordMatch(\r\n      inputPasswordValue === inputConfirmPasswordValue && inputPasswordValueLength >= 6\r\n    );\r\n    setPasswordMatchLabel(inputPasswordValue === inputConfirmPasswordValue);\r\n    setPasswordLengthLabel(inputPasswordValueLength >= 6);\r\n\r\n  };\r\n\r\n  // const isPasswordMatch = () => {\r\n  //   const inputPasswordValue = inputPassword.current?.value;\r\n  //   const inputConfirmPasswordValue = inputConfirmPassword.current?.value;\r\n  //   const inputPasswordValueLength = inputPasswordValue ? inputPasswordValue.length : 0;\r\n\r\n  //   return (\r\n  //     inputPasswordValue === inputConfirmPasswordValue &&\r\n  //     inputPasswordValueLength >= 6\r\n  //   );\r\n  // };\r\n\r\n  const isAccountType = () => {\r\n    return accountTypeDevAd || accountTypeSpAd || accountTypeAd || accountType3 || accountType4 === true;\r\n  };\r\n\r\n  // const isPasswordMatchLabel = () => {\r\n  //   const inputPasswordValue = inputPassword.current?.value;\r\n  //   const inputPasswordValueLength = inputPasswordValue ? inputPasswordValue.length : 0;\r\n  //   return inputPassword.current?.value === inputConfirmPassword.current?.value;\r\n  // };\r\n\r\n  // const isPasswordLengthLabel = () => {\r\n  //   const inputPasswordValue = inputPassword.current?.value;\r\n  //   const inputPasswordValueLength = inputPasswordValue ? inputPasswordValue.length : 0;\r\n  //   return inputPasswordValueLength >= 6;\r\n  // };\r\n\r\n\r\n  const handleEmailChange = () => {\r\n    setIsEmailDuplicate(false);\r\n    handleEmailSubmit();\r\n  };\r\n\r\n  const handleNameChange = () => {\r\n    setIsNameEmpty(inputName.current?.value === '')\r\n  };\r\n\r\n\r\n  const validateEmail = () => {\r\n    const emailValue = inputEmail.current?.value;\r\n    const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n    const isValid = emailRegex.test(emailValue);\r\n\r\n    return isValid;\r\n  };\r\n\r\n  const handleEmailSubmit = (value) => {\r\n    setEmailError(validateEmail(value));\r\n\r\n    if (emailError) {\r\n      // console.log(emailError);\r\n      // setEmailError(validateEmail());\r\n    } else {\r\n\r\n    }\r\n  };\r\n\r\n\r\n  const handleSignOut = () => {\r\n\r\n    signOut(auth).then(() => {\r\n      // navigation.navigate('Login');\r\n      navigate(\"/Login\")\r\n      setEmail('');\r\n      setName('');\r\n    }).catch((error) => {\r\n      // An error happened.\r\n    });\r\n\r\n\r\n  };\r\n\r\n  // useEffect(() => {\r\n  //   const handleScreenResize = () => {\r\n  //     const screenWidth = Dimensions.get('window').width;\r\n  //     setIsMobileView(screenWidth < 1200);\r\n  //   };\r\n\r\n  //   // Initial check on component mount\r\n  //   handleScreenResize();\r\n\r\n  //   // Listen for screen dimension changes\r\n  //   Dimensions.addEventListener('change', handleScreenResize);\r\n\r\n  //   // Cleanup event listener on component unmount\r\n  //   return () => {\r\n  //     Dimensions.removeEventListener('change', handleScreenResize);\r\n  //   };\r\n  // }, []);\r\n\r\n  const sidebarListData = [{\r\n    title: \"VEHICLE INFORMATION INPUT\",\r\n    data: [\"Add New Vehicle\", \"Vehicle List\",]\r\n  },];\r\n\r\n  // const showDrawerIcon = useBreakpointValue([true, true, true, false]);\r\n\r\n  const showPopover = () => {\r\n    setShowNamePopover(true);\r\n  };\r\n\r\n  // Function to hide the Popover\r\n  const hidePopover = () => {\r\n    setShowNamePopover(false);\r\n  };\r\n  const NamePopover = ({ name, handleSignOut }) => {\r\n    const [showNamePopover, setShowNamePopover] = useState(false);\r\n\r\n    const showPopover = () => {\r\n      setShowNamePopover(!showNamePopover);\r\n    };\r\n\r\n    return (\r\n      <Box w={[100, 200, 1020]} h={[10, 10, 10]} flex={1}>\r\n        <Flex direction=\"row-reverse\">\r\n          <Popover\r\n            isOpen={showNamePopover}\r\n            trigger={(triggerProps) => (\r\n              <Text color=\"white\" marginTop={[2, 2, 2]} fontSize={[17, 18, 20]} marginRight={[1, 3, 5]} {...triggerProps} onPress={showPopover}>\r\n                <MaterialCommunityIcons name=\"account\" size={[20, 25, 30]} color=\"white\" /> {name} <Ionicons name=\"caret-down\" size={16} color=\"white\" />\r\n              </Text>\r\n            )}\r\n            onClose={() => setShowNamePopover(!showNamePopover)}\r\n            placement='bottom right'\r\n            trapFocus={false}\r\n          >\r\n            <Popover.Content backgroundColor={'#7B9CFF'}>\r\n              {/* <Popover.Arrow bgColor={'#7B9CFF'} /> */}\r\n              <Popover.Body backgroundColor={'#7B9CFF'}>\r\n                <Button _hover={{ bgColor: 'blueGray.500' }} onPress={handleSignOut} leftIcon={<MaterialCommunityIcons name=\"logout\" size={20} color=\"white\" />} bgColor={'transparent'}>\r\n                  Logout\r\n                </Button>\r\n              </Popover.Body>\r\n            </Popover.Content>\r\n          </Popover>\r\n        </Flex>\r\n      </Box>\r\n    );\r\n  };\r\n  const styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n    },\r\n    image: {\r\n      flex: 1,\r\n    },\r\n  });\r\n  return (\r\n    <NativeBaseProvider>\r\n      <SuccessModal />\r\n      <Box bgColor=\"#A6BCFE\" h=\"100vh\" w=\"full\" flexDirection=\"column\">\r\n        {/* Header */}\r\n        <Box\r\n          px=\"3\"\r\n          bgColor='#7b9cff'\r\n          height={54}\r\n          position=\"sticky\"\r\n          top={0}\r\n          zIndex={999}\r\n          flexDirection=\"row\"\r\n          alignItems=\"center\"\r\n          borderBottomWidth={2}\r\n          borderBottomColor={'cyan.500'}\r\n\r\n        >\r\n\r\n          <SideDrawer\r\n            selectedScreen={selectedScreen} />\r\n\r\n          <Box w={[0, 0, 0, 850]} h={[10, 10, 10, 10]} marginBottom={1.5} marginTop={1.5} paddingLeft={5}>\r\n            <FastImage\r\n              source={{\r\n                uri: logo,\r\n                priority: FastImage.priority.high,\r\n              }}\r\n              resizeMode={FastImage.resizeMode.stretch}\r\n              style={styles.image}\r\n            />\r\n          </Box>\r\n\r\n          {/* {showDrawerIcon && <MobileViewDrawer\r\n            selectedScreen={selectedScreen}\r\n          />} */}\r\n          <Box w={[150, 200, 250, 0]} h={[6, 8, 10, 10]} marginBottom={1.5} marginTop={1.5} marginLeft={[3, 3, 3, 10]}>\r\n\r\n            <FastImage\r\n              source={{\r\n                uri: logo2,\r\n                priority: FastImage.priority.high,\r\n              }}\r\n              resizeMode={FastImage.resizeMode.stretch}\r\n              style={styles.image}\r\n            />\r\n          </Box>\r\n          <NamePopover name={loginName} handleSignOut={handleSignOut} />\r\n\r\n\r\n        </Box>\r\n\r\n        {/* Content */}\r\n        <Box flex={[1]} flexDirection=\"row\" >\r\n\r\n\r\n          {/* Main Content */}\r\n          <Box flex={1} flexGrow={1} minHeight={0}>\r\n            {/* Main Content Content */}\r\n            <ScrollView flex={1} contentContainerStyle={{ flexGrow: 1 }}>\r\n\r\n              {/* <AddAccount/> */}\r\n\r\n              <Box px=\"3\" bgColor=\"#A6BCFE\" height=\"full\" >\r\n\r\n\r\n                <Box bgColor='#A6BCFE' w='100%' h='100%' margin={1}>\r\n                  <Center flex={1}>\r\n                    <Center px=\"3\">\r\n\r\n\r\n                      <Stack space={4} w=\"100%\" alignItems=\"center\">\r\n                        <Text marginTop={5} marginBottom={1} fontSize={[12, 14, 16]} color={'white'} bold={'center'}>ADD ACCOUNT FOR REAL MOTOR JAPAN CONTROL HUB</Text>\r\n                        <Input w={{\r\n                          base: \"90%\",\r\n                          md: \"90%\",\r\n                          sm: \"90%\",\r\n                        }} ref={inputName} onSubmitEditing={handleAddAccount} onChangeText={handleNameChange} borderColor={'white'} borderBottomColor={!isNameEmpty ? 'green.300' : 'red.500'} borderBottomWidth={2} fontSize='16' InputLeftElement={<Icon as={<AntDesign name=\"idcard\" />} size={5} ml=\"2\" color=\"white\" />} placeholder=\"Name\" placeholderTextColor='white' color='white' />\r\n                        <Input w={{\r\n                          base: \"90%\",\r\n                          md: \"90%\",\r\n                          sm: \"90%\",\r\n                        }} ref={inputEmail} onChangeText={handleEmailChange} onSubmitEditing={handleAddAccount} color={!isEmailDuplicate ? 'white' : 'red.500'} borderColor={'white'} borderBottomColor={validateEmail() ? 'green.300' : 'red.500'} borderBottomWidth={2} fontSize='16' InputLeftElement={<Icon as={<MaterialIcons name=\"person\" />} size={5} ml=\"2\" color=\"white\" />} placeholder=\"Email\" placeholderTextColor='white' />\r\n\r\n\r\n                        <Input w={{\r\n                          base: \"90%\",\r\n                          md: \"90%\",\r\n                          sm: \"90%\",\r\n                        }} ref={inputPassword} onSubmitEditing={handleAddAccount} borderBottomColor={passwordLengthLabel ? 'green.300' : 'red.500'} borderBottomWidth={2} onChangeText={handlePasswordChange} fontSize='16' borderColor={'white'} type={show ? \"text\" : \"password\"} InputLeftElement={<Icon as={<FontAwesome name={show ? \"unlock-alt\" : \"lock\"} />} size={5} ml=\"2\" color=\"white\" />} InputRightElement={<Pressable onPress={() => setShow(!show)} >\r\n                          <Icon as={<MaterialIcons name={show ? \"visibility\" : \"visibility-off\"} />} size={5} mr=\"2\" color=\"white\" />\r\n                        </Pressable>} placeholder=\"Password\" placeholderTextColor='gray' color='white' />\r\n                        <Input w={{\r\n                          base: \"90%\",\r\n                          md: \"90%\",\r\n                          sm: \"90%\",\r\n                        }} ref={inputConfirmPassword} onSubmitEditing={handleAddAccount} borderBottomColor={passwordMatch ? 'green.300' : 'red.500'} borderBottomWidth={2} onChangeText={handleConfirmPasswordChange} fontSize='16' borderColor={'white'} type={show2 ? \"text\" : \"password\"} InputLeftElement={<Icon as={<FontAwesome name={show2 ? \"unlock-alt\" : \"lock\"} />} size={5} ml=\"2\" color=\"white\" />} InputRightElement={<Pressable onPress={() => setShow2(!show2)}>\r\n                          <Icon as={<MaterialIcons name={show2 ? \"visibility\" : \"visibility-off\"} />} size={5} mr=\"2\" color=\"white\" />\r\n                        </Pressable>} placeholder=\"Confirm Password\" placeholderTextColor='white' color='white' />\r\n                        {!validateEmail() && (\r\n                          <Text fontSize={[12, 14, 16]} color={'#D22730'} bold>Invalid Email!</Text>\r\n                        )}\r\n                        {isEmailDuplicate && (\r\n                          <Text fontSize={[12, 14, 16]} color={'#D22730'} bold>Email already in use! Please use a different email!</Text>\r\n                        )}\r\n                        {!passwordLengthLabel && (\r\n                          <Text fontSize={[12, 14, 16]} color={'#D22730'} bold>Password must be at least 6 characters or above!</Text>\r\n                        )}\r\n                        {!passwordMatchLabel && (\r\n                          <Text fontSize={[12, 14, 16]} color={'#D22730'} bold>Passwords do not match!</Text>\r\n                        )}\r\n\r\n                        <Text fontSize={16} color={'white'} bold>ACCOUNT TYPE:                                                             </Text>\r\n                        <Box borderColor={isAccountType() ? 'green.300' : 'red.500'} borderWidth={2}>\r\n                          <HStack space={1} justifyContent=\"center\" >\r\n                            <Button _hover={{ bgColor: accountType4 ? '#0642F4' : 'blueGray.400', }} size=\"sm\" borderWidth='1' borderColor='white' w={{\r\n                              base: 90,\r\n                              md: 90,\r\n                              sm: 90,\r\n                            }} onPress={handleToggleAccountType4} bgColor={accountType4 ? '#0642F4' : '#CED5EA'} ><Text style={{ color: 'white', }}>Booking</Text></Button>\r\n                            <Button _hover={{ bgColor: accountType3 ? '#0642F4' : 'blueGray.400', }} size=\"sm\" borderWidth='1' borderColor='white' w={{\r\n                              base: 90,\r\n                              md: 90,\r\n                              sm: 90,\r\n                            }} onPress={handleToggleAccountType3} bgColor={accountType3 ? '#0642F4' : '#CED5EA'}  ><Text style={{ color: 'white', }}>Staff</Text></Button>\r\n                            <Button _hover={{ bgColor: accountTypeAd ? '#0642F4' : 'blueGray.400', }} size=\"sm\" borderWidth='1' borderColor='white' w={{\r\n                              base: 90,\r\n                              md: 90,\r\n                              sm: 90,\r\n                            }} onPress={handleToggleAccountTypeAd} bgColor={accountTypeAd ? '#0642F4' : '#CED5EA'}  ><Text style={{ color: 'white', }}>Admin</Text></Button>\r\n                            <Button _hover={{ bgColor: accountTypeSpAd ? '#0642F4' : 'blueGray.400', }} size=\"sm\" borderWidth='1' borderColor='white' w={{\r\n                              base: 90,\r\n                              md: 90,\r\n                              sm: 90,\r\n                            }} onPress={handleToggleAccountTypeSpAd} bgColor={accountTypeSpAd ? '#0642F4' : '#CED5EA'} ><Text style={{ color: 'white', }}>Super Admin</Text></Button>\r\n\r\n                          </HStack>\r\n                          <HStack space={1} justifyContent=\"center\" marginTop={1}>\r\n                            <Button _hover={{ bgColor: accountTypeDevAd ? '#0642F4' : 'blueGray.400', }} size=\"sm\" borderWidth='1' borderColor='white' w={{\r\n                              base: 90,\r\n                              md: 90,\r\n                              sm: 90,\r\n                            }} onPress={handleToggleAccountTypeDevAd} bgColor={accountTypeDevAd ? '#0642F4' : '#CED5EA'} ><Text style={{ color: 'white', }}>Dev Admin</Text></Button>\r\n                          </HStack>\r\n                        </Box>\r\n                        <HStack space={1} justifyContent=\"center\" marginBottom={5}>\r\n                          <Button _hover={{ bgColor: '#D9D9D9', }} _pressed={{ bgColor: '#D9D9D9', }} _focus={{ bgColor: '#D9D9D9', }} bgColor='warmGray.200' size=\"lg\" borderWidth='1' borderColor='white' w={{\r\n                            base: 130,\r\n                            md: 130,\r\n                            sm: 130,\r\n                          }} onPress={handleClear} ><Text style={{ color: 'gray', }}>Clear</Text></Button>\r\n                          <Button _hover={{ bgColor: '#537EFC', }} _pressed={{ bgColor: '#537EFC', }} _focus={{ bgColor: '#537EFC', }} bgColor='#7b9cff' size=\"lg\" borderWidth='1' borderColor='white' w={{\r\n                            base: 130,\r\n                            md: 130,\r\n                            sm: 130,\r\n                          }} onPress={handleAddAccount} disabled={isDisabled}>{isLoading ? <Spinner color=\"white\" size={16} /> : <Text style={{ color: 'white', }}>Add Acccount</Text>}</Button>\r\n\r\n                        </HStack>\r\n\r\n\r\n                      </Stack>\r\n\r\n                    </Center>\r\n\r\n\r\n                  </Center>\r\n\r\n\r\n                </Box>\r\n\r\n              </Box>\r\n\r\n            </ScrollView>\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n    </NativeBaseProvider>\r\n\r\n\r\n  );\r\n}\r\n\r\n\r\n\r\n","import {\r\n  Box,\r\n  Button,\r\n  Center,\r\n  Flex,\r\n  HStack,\r\n  Icon,\r\n  Image as NativeImage,\r\n  Input,\r\n  Modal,\r\n  NativeBaseProvider,\r\n  Popover,\r\n  Pressable,\r\n  Spinner,\r\n  Text,\r\n  VStack,\r\n  useBreakpointValue,\r\n  TextArea,\r\n  InputRightAddon,\r\n  InputGroup,\r\n  Select,\r\n  CheckIcon,\r\n  ScrollView,\r\n  PresenceTransition,\r\n  Drawer,\r\n  InputLeftAddon,\r\n  Heading,\r\n  FormControl,\r\n  WarningOutlineIcon\r\n} from 'native-base';\r\nimport React, { useEffect, useRef, useState, useCallback, useMemo, useLayoutEffect } from 'react';\r\nimport { Dimensions, TouchableOpacity, StyleSheet, Platform } from 'react-native';\r\nimport 'react-native-gesture-handler';\r\nimport {\r\n  AntDesign,\r\n  FontAwesome,\r\n  Ionicons,\r\n  MaterialCommunityIcons,\r\n  MaterialIcons,\r\n  Entypo\r\n} from 'react-native-vector-icons';\r\n// import { createDrawerNavigator } from '@react-navigation/drawer';\r\nimport { useNavigation } from '@react-navigation/core';\r\nimport axios from 'axios';\r\nimport { signOut } from 'firebase/auth';\r\nimport { addDoc, collection, doc, getDoc, getDocs, getFirestore, onSnapshot, setDoc, arrayUnion, updateDoc, query, where } from 'firebase/firestore';\r\nimport moment from 'moment';\r\nimport './../style.css';\r\nimport { projectControlFirestore, projectControlAuth, projectExtensionFirestore, projectExtensionFirebase, projectControlFirebase } from \"../../crossFirebase\";\r\nimport { launchImageLibrary } from 'react-native-image-picker';\r\nimport { getStorage, ref, uploadBytes, getDownloadURL, listAll, deleteObject, } from 'firebase/storage';\r\nimport { DragSortableView } from \"react-native-drag-sort\";\r\nimport DraggableFlatList from \"react-native-draggable-flatlist\";\r\nimport SelectDropdown from 'react-native-select-dropdown';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport SideDrawer from './SideDrawer/SideDrawer';\r\nimport { cloneDeep } from 'lodash';\r\nimport ImageMarker, { Position } from \"react-native-image-marker\";\r\n\r\n\r\n\r\nimport {\r\n  // setModelData,\r\n  setMakeData,\r\n  setIsLoading,\r\n  setSelectedImages,\r\n  setIsAddPhotoVisible,\r\n  setAddAnotherImages,\r\n  setLoginName,\r\n  setDeleteImageVisible,\r\n  setExpenseNameData,\r\n  setPaidToData,\r\n  setCurrentDate,\r\n  setSupplyChainsCostsData,\r\n  setSelectedExpenseName,\r\n  setSelectedPaidTo,\r\n  setLoadingModalVisible,\r\n  setIsSuccessModalOpen,\r\n  setIsUpdateSuccessModalOpen\r\n\r\n} from './redux/store'\r\n\r\n\r\nimport \"setimmediate\";\r\n\r\n\r\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\r\nimport 'react-lazy-load-image-component/src/effects/opacity.css'; // Import a CSS effect for the lazy loading transition\r\nimport FastImage from 'react-native-fast-image-web-support';\r\nimport MobileViewDrawer from './SideDrawer/MobileViewDrawer';\r\nimport { Calendar, LocaleConfig } from 'react-native-calendars';\r\n\r\nimport { AutocompleteDropdown, AutocompleteDropdownContextProvider } from 'react-native-autocomplete-dropdown';\r\nimport { nanoid } from 'nanoid';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst { width } = Dimensions.get('window');\r\n\r\n\r\nconst childrenWidth = 76;\r\nconst childrenHeight = 76;\r\nconst marginChildrenTop = 7;\r\nconst marginChildrenBottom = 0;\r\n\r\nlet globalJpyToUsd = '';\r\nlet globalUsdToJpy = '';\r\n\r\nlet globalSupplyChainCostsData = [];\r\nlet globalSelectedExpenseName = '';\r\nlet globalSupplyChainCostsAmount = 0;\r\nlet globalSelectedPaidTo = '';\r\nlet globalModelDataVariable = [];\r\nlet globalMakeDataVariable = [];\r\nlet globalRegYearDataVariable = [];\r\nlet globalPortDataVariable = [];\r\nlet globalSalesDataVariable = [];\r\nlet globalBuyerDataVariable = [];\r\nlet globalTransmissionDataVariable = [];\r\nlet globalExteriorColorDataVariable = [];\r\nlet globalFuelDataVariable = [];\r\nlet globalDriveTypeDataVariable = [];\r\nlet globalBodyTypeDataVariable = [];\r\nlet globalSelectedImages = [];\r\nlet globalVehicleFolderName = '';\r\nlet selectedScreen = 'ADD NEW VEHICLE'\r\nlet globalReferenceNumber = '';\r\nlet globalSPCSelectedDate = '';\r\nlet globalFobPrice = '';\r\n\r\nconst firestore = getFirestore();\r\n\r\nconst UpdateSuccessModal = ({ onClose, bodyText, headerText }) => {\r\n\r\n  const isUpdateSuccessModalOpen = useSelector((state) => state.isUpdateSuccessModalOpen);\r\n\r\n  return (\r\n    <Modal isOpen={isUpdateSuccessModalOpen} onClose={onClose} >\r\n      <Modal.Content bgColor={'green.100'}>\r\n        <Modal.Header borderBottomWidth={0} bgColor={'green.100'}>\r\n          <Text textAlign={'center'} color={'#102A43'} bold>\r\n             Success! \r\n          </Text>\r\n        </Modal.Header>\r\n        <Modal.Body\r\n          justifyContent={'center'}\r\n          alignItems={'center'}\r\n          bgColor={'green.200'}\r\n          borderLeftWidth={4}\r\n          borderLeftColor={'green.600'}\r\n          margin={5}\r\n        >\r\n          <Box flex={1}>\r\n            <Text color={'green.600'} bold>\r\n              {headerText}\r\n              {/* Vehicle Added! */}\r\n            </Text>\r\n            <Text color={'green.600'}>\r\n              {bodyText}\r\n              {/* Vehicle was successfully added! You can view it in the vehicle list. */}\r\n            </Text>\r\n          </Box>\r\n        </Modal.Body>\r\n        <Modal.Footer borderTopWidth={0} bgColor={'green.100'}>\r\n          <HStack space={5} flex={1}>\r\n            <Button colorScheme={'success'} flex=\"1\" onPress={onClose} _text={{ color: 'white' }}>\r\n              Ok\r\n            </Button>\r\n          </HStack>\r\n        </Modal.Footer>\r\n      </Modal.Content>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst UploadSuccessModal = ({ onClose, bodyText, headerText }) => {\r\n\r\n  const isSuccessModalOpen = useSelector((state) => state.isSuccessModalOpen);\r\n\r\n  return (\r\n    <Modal isOpen={isSuccessModalOpen} onClose={onClose} >\r\n      <Modal.Content bgColor={'green.100'}>\r\n        <Modal.Header borderBottomWidth={0} bgColor={'green.100'}>\r\n          <Text textAlign={'center'} color={'#102A43'} bold>\r\n             Success! \r\n          </Text>\r\n        </Modal.Header>\r\n        <Modal.Body\r\n          justifyContent={'center'}\r\n          alignItems={'center'}\r\n          bgColor={'green.200'}\r\n          borderLeftWidth={4}\r\n          borderLeftColor={'green.600'}\r\n          margin={5}\r\n        >\r\n          <Box flex={1}>\r\n            <Text color={'green.600'} bold>\r\n              {headerText}\r\n              {/* Vehicle Added! */}\r\n            </Text>\r\n            <Text color={'green.600'}>\r\n              {bodyText}\r\n              {/* Vehicle was successfully added! You can view it in the vehicle list. */}\r\n            </Text>\r\n          </Box>\r\n        </Modal.Body>\r\n        <Modal.Footer borderTopWidth={0} bgColor={'green.100'}>\r\n          <HStack space={5} flex={1}>\r\n            <Button colorScheme={'success'} flex=\"1\" onPress={onClose} _text={{ color: 'white' }}>\r\n              Ok\r\n            </Button>\r\n          </HStack>\r\n        </Modal.Footer>\r\n      </Modal.Content>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nconst LoadingModal = () => {\r\n  const loadingModalVisible = useSelector((state) => state.loadingModalVisible);\r\n\r\n\r\n  return (\r\n\r\n    <Box\r\n      position=\"absolute\"\r\n      top={0}\r\n      bottom={0}\r\n      left={0}\r\n      right={0}\r\n      backgroundColor=\"rgba(0, 0, 0, 0.5)\"\r\n      flex={1}\r\n      display={loadingModalVisible ? '' : 'none'}\r\n    >\r\n      {/* Content within the modal */}\r\n      <Center flex={1}>\r\n        <Box style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n          <Spinner size=\"lg\" color=\"white\" />\r\n          <Text color={'white'}>Loading, please wait!</Text>\r\n        </Box>\r\n      </Center>\r\n    </Box>\r\n\r\n\r\n  );\r\n\r\n}\r\n\r\n\r\nconst SelectExpenseName = ({ expenseNameIsError, selectExpenseNameRef, selectResetKey }) => {\r\n\r\n  const dispatch = useDispatch();\r\n  const expenseNameData = useSelector((state) => state.expenseNameData);\r\n  const selectedExpenseName = useSelector((state) => state.selectedExpenseName);\r\n  const [key, setKey] = useState(nanoid());\r\n\r\n\r\n\r\n  return <Select\r\n    selectedValue={selectedExpenseName}\r\n    borderColor={expenseNameIsError ? 'error.400' : 'muted.300'}\r\n    flex={3}\r\n    onValueChange={(value) => {\r\n      globalSelectedExpenseName = value\r\n      dispatch(setSelectedExpenseName(value));\r\n    }}\r\n    accessibilityLabel=\"Choose Expense Name\"\r\n    placeholder=\"Choose Expense Name\"\r\n    _selectedItem={{\r\n      bg: \"teal.600\",\r\n      endIcon: <CheckIcon size=\"5\" />\r\n    }}>\r\n    {expenseNameData.map((item) => (\r\n\r\n      <Select.Item key={item} label={item} value={item} />\r\n\r\n    ))}\r\n  </Select>\r\n\r\n\r\n};\r\nconst SelectPaidTo = ({ paidToIsError, }) => {\r\n\r\n  const dispatch = useDispatch();\r\n  const paidToData = useSelector((state) => state.paidToData);\r\n  const selectedPaidTo = useSelector((state) => state.selectedPaidTo);\r\n\r\n\r\n\r\n  return <Select\r\n    selectedValue={selectedPaidTo}\r\n    borderColor={paidToIsError ? 'error.400' : 'muted.300'}\r\n    flex={3}\r\n    onValueChange={(value) => {\r\n      globalSelectedPaidTo = value\r\n      dispatch(setSelectedPaidTo(value));\r\n    }}\r\n    accessibilityLabel=\"Choose Paid To\"\r\n    placeholder=\"Choose Paid To\"\r\n    _selectedItem={{\r\n      bg: \"teal.600\",\r\n      endIcon: <CheckIcon size=\"5\" />\r\n    }}>\r\n    {paidToData.map((item) => (\r\n\r\n      <Select.Item key={item} label={item} value={item} />\r\n\r\n    ))}\r\n  </Select>\r\n    ;\r\n};\r\n\r\n\r\nconst ModalCalendar = ({ selectedDate, setSelectedDate }) => {\r\n\r\n  const [modalCalendarVisible, setModalCalendarVisible] = useState(false);\r\n\r\n\r\n  const handleModalCalendarOpen = () => {\r\n    setModalCalendarVisible(true);\r\n  };\r\n\r\n  const handleModalCalendarClose = () => {\r\n    setModalCalendarVisible(false);\r\n  };\r\n\r\n\r\n\r\n  return (\r\n\r\n    <>\r\n      <Pressable onPress={handleModalCalendarOpen} flex={3}>\r\n        <Input value={selectedDate} onFocus={handleModalCalendarOpen} />\r\n      </Pressable>\r\n\r\n      <Modal isOpen={modalCalendarVisible} onClose={handleModalCalendarClose} useRNModal>\r\n        <Modal.CloseButton />\r\n        <Modal.Content>\r\n          <Box height={'full'} flex={1}>\r\n\r\n            <Calendar\r\n              onDayPress={useCallback(day => {\r\n                setSelectedDate(day.dateString);\r\n                // console.log(day.dateString);\r\n                globalSPCSelectedDate = day.dateString;\r\n                handleModalCalendarClose();\r\n              }, [])}\r\n              markedDates={{\r\n                [selectedDate]: { selected: true, disableTouchEvent: true, selectedDotColor: '#7b9cff' }\r\n              }}\r\n              renderArrow={(direction) => (\r\n                direction === 'left' ? <MaterialIcons name='arrow-back-ios' color='#7b9cff' /> : <MaterialIcons name='arrow-forward-ios' color='#7b9cff' />\r\n              )}\r\n              enableSwipeMonths={true}\r\n              initialDate={selectedDate}\r\n              showSixWeeks />\r\n\r\n          </Box>\r\n\r\n        </Modal.Content>\r\n\r\n      </Modal></>\r\n\r\n  );\r\n\r\n}\r\n\r\nconst SupplyChainsCosts = ({\r\n  handleAddExpenseNameTextChange,\r\n  textAreaAddExpenseName,\r\n  inputExpenseAmount,\r\n  handleInputExpenseAmountChange,\r\n  handleAddPaidToTextChange,\r\n  paidToData,\r\n  inputCarNotes,\r\n\r\n}) => {\r\n\r\n  const dispatch = useDispatch();\r\n  const supplyChainsCostsData = useSelector((state) => state.supplyChainsCostsData);\r\n  const [sccData, setSccData] = useState([]);\r\n  const currentDate = useSelector((state) => state.currentDate);\r\n  const [supplyChainsCostsModalVisible, setSupplyChainsCostsModalVisible] = useState(false);\r\n  const [modalCalendarVisible, setModalCalendarVisible] = useState(false);\r\n  const expenseNameData = useSelector((state) => state.expenseNameData);\r\n\r\n  const [clearModalVisible, setClearModalVisible] = useState(false);\r\n  const [data, setData] = useState([]);\r\n\r\n  const [selectedDate, setSelectedDate] = useState(currentDate);\r\n  const [inputAmountIsError, setInputAmountIsError] = useState(false);\r\n  const [expenseNameIsError, setExpenseNameIsError] = useState(false);\r\n  const [paidToIsError, setPaidToIsError] = useState(false);\r\n  const [totalAmount, setTotalAmount] = useState(globalSupplyChainCostsAmount);\r\n  // const selectedExpenseName = useSelector((state) => state.selectedExpenseName);\r\n  // const selectedPaidTo = useSelector((state) => state.selectedPaidTo);\r\n  const [selectResetKey, setSelectResetKey] = useState(nanoid());\r\n  const selectExpenseNameRef = useRef(null);\r\n  const selectPaidToRef = useRef(null);\r\n\r\n\r\n\r\n\r\n\r\n  const handleModalSupplyChainsCostsOpen = () => {\r\n    setSupplyChainsCostsModalVisible(true);\r\n  };\r\n\r\n  const handleModalSupplyChainsCostsClose = () => {\r\n    setSupplyChainsCostsModalVisible(false);\r\n    inputExpenseAmount.current?.clear();\r\n    globalSelectedExpenseName = '';\r\n    setSelectResetKey(nanoid());\r\n    globalSelectedPaidTo = '';\r\n    setSelectedDate(currentDate);\r\n    globalSPCSelectedDate = currentDate;\r\n    dispatch(setSelectedExpenseName(''));\r\n    dispatch(setSelectedPaidTo(''));\r\n    setInputAmountIsError(false);\r\n    setExpenseNameIsError(false);\r\n    setPaidToIsError(false);\r\n  };\r\n\r\n  const handleClearModalOpen = () => {\r\n    setClearModalVisible(true);\r\n  };\r\n\r\n  const handleClearModalClose = () => {\r\n    setClearModalVisible(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const amounts = supplyChainsCostsData.map((item) => {\r\n      const expenseName = Object.keys(item)[0];\r\n      const expenseData = item[expenseName];\r\n      return parseFloat(expenseData.amount.replace(',', '')) || 0;\r\n    });\r\n\r\n    // Use reduce to add up all the amounts\r\n    const totalAmount = amounts.reduce((accumulator, currentValue) => accumulator + currentValue, 0);\r\n    const formattedTotalAmount = totalAmount.toLocaleString();\r\n    setTotalAmount(formattedTotalAmount);\r\n    globalSupplyChainCostsAmount = formattedTotalAmount;\r\n\r\n  }, [supplyChainsCostsData]);\r\n\r\n  const handleSave = useCallback(() => {\r\n\r\n\r\n\r\n    if (inputExpenseAmount.current?.value == ''\r\n      || inputExpenseAmount.current?.value == 0\r\n      || globalSelectedExpenseName == ''\r\n      || globalSelectedPaidTo == ''\r\n    ) {\r\n\r\n      if (inputExpenseAmount.current?.value == '' || inputExpenseAmount.current?.value == 0) {\r\n        setInputAmountIsError(true);\r\n      }\r\n\r\n      if (globalSelectedExpenseName == '') {\r\n        setExpenseNameIsError(true);\r\n      }\r\n\r\n      if (globalSelectedPaidTo == '') {\r\n        setPaidToIsError(true);\r\n      }\r\n    }\r\n\r\n    else {\r\n      const existingIndex = globalSupplyChainCostsData.findIndex(item => item[globalSelectedExpenseName]);\r\n\r\n      if (existingIndex !== -1) {\r\n        // If an entry with the same expense name exists, update it\r\n        const updatedData = cloneDeep(globalSupplyChainCostsData);\r\n        updatedData[existingIndex][globalSelectedExpenseName] = {\r\n          expenseName: globalSelectedExpenseName,\r\n          amount: inputExpenseAmount.current?.value,\r\n          date: globalSPCSelectedDate,\r\n          paidName: globalSelectedPaidTo,\r\n        };\r\n        globalSupplyChainCostsData = updatedData;\r\n        dispatch(setSupplyChainsCostsData(globalSupplyChainCostsData));\r\n        dispatch(setSelectedExpenseName(''));\r\n        dispatch(setSelectedPaidTo(''));\r\n        inputExpenseAmount.current.clear();\r\n        globalSelectedExpenseName = '';\r\n        globalSelectedPaidTo = '';\r\n        setSelectedDate(currentDate);\r\n        globalSPCSelectedDate = currentDate;\r\n\r\n      } else {\r\n        setInputAmountIsError(false);\r\n        setExpenseNameIsError(false);\r\n        setPaidToIsError(false);\r\n        // If no entry with the same expense name exists, add a new entry\r\n        const newData = {\r\n          [globalSelectedExpenseName]: {\r\n            expenseName: globalSelectedExpenseName,\r\n            amount: inputExpenseAmount.current?.value,\r\n            date: globalSPCSelectedDate,\r\n            paidName: globalSelectedPaidTo,\r\n          },\r\n        };\r\n        globalSupplyChainCostsData = [...globalSupplyChainCostsData, newData];\r\n        console.log(globalSupplyChainCostsData);\r\n        // const updatedData = { ...supplyChainsCostsData, ...newData };\r\n        dispatch(setSupplyChainsCostsData(globalSupplyChainCostsData));\r\n        // globalSupplyChainCostsData = [...supplyChainsCostsData, newData];\r\n        setSelectResetKey(nanoid());\r\n        inputExpenseAmount.current.clear();\r\n        globalSelectedExpenseName = '';\r\n        globalSelectedPaidTo = '';\r\n        setSelectedDate(currentDate);\r\n        globalSPCSelectedDate = currentDate;\r\n        dispatch(setSelectedExpenseName(''));\r\n        dispatch(setSelectedPaidTo(''));\r\n\r\n\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n  }, []);\r\n\r\n\r\n\r\n  const handleEditPress = useCallback((item) => {\r\n    console.log(item.amount);\r\n    inputExpenseAmount.current.setNativeProps({ text: item.amount });\r\n    dispatch(setSelectedExpenseName(item.expenseName));\r\n    globalSelectedExpenseName = item.expenseName;\r\n    dispatch(setSelectedPaidTo(item.paidName));\r\n    globalSelectedPaidTo = item.paidName;\r\n    globalSPCSelectedDate = item.date;\r\n    setSelectedDate(item.date);\r\n  }, [])\r\n\r\n\r\n  const handleDeleteItem = (expenseName) => {\r\n    // Find the index of the item to be deleted\r\n    const itemIndex = globalSupplyChainCostsData.findIndex((item) => Object.keys(item)[0] === expenseName);\r\n\r\n    if (itemIndex !== -1) {\r\n      // Create a copy of the data array and remove the item at the found index\r\n      const newData = [...globalSupplyChainCostsData];\r\n      newData.splice(itemIndex, 1);\r\n\r\n      // Update the state with the new array\r\n      dispatch(setSupplyChainsCostsData(newData));\r\n      globalSupplyChainCostsData = newData;\r\n    }\r\n  };\r\n\r\n  const handleFirstModalClose = () => {\r\n    setSupplyChainsCostsModalVisible(false);\r\n\r\n  };\r\n  const handleFirstModalOpen = () => {\r\n    setSupplyChainsCostsModalVisible(true);\r\n\r\n  };\r\n  return (\r\n    <>\r\n      <Button\r\n        borderRadius={3}\r\n        flex={1}\r\n        onPress={handleModalSupplyChainsCostsOpen}\r\n        variant={'outline'}\r\n        _text={{ color: 'black', }}\r\n        leftIcon={<MaterialIcons name=\"payments\" size={20} color=\"black\" />}>\r\n        <Text>Supply Chains Costs: {totalAmount}</Text>\r\n      </Button>\r\n\r\n      <Modal isOpen={supplyChainsCostsModalVisible} onClose={handleModalSupplyChainsCostsClose} size={'full'}>\r\n        <Modal.Content bgColor={'white'} w={'50%'} h={'auto'}>\r\n          <Modal.CloseButton />\r\n          <Modal.Header bgColor={'#7B9CFF'}>\r\n            <Text color={'white'} fontSize={20} bold>Supply Chains Costs</Text>\r\n\r\n\r\n          </Modal.Header>\r\n\r\n          <Modal.Body>\r\n            <Box height={'full'}>\r\n              <Box paddingBottom={5}>\r\n                <Box flexDir={'row'} paddingBottom={1} >\r\n                  <Box bgColor={'#7B9CFF'} flex={1} flexDir={'row'} alignItems={'center'} justifyContent={'center'} borderRadius={3}>\r\n                    <Text color={'white'} alignSelf={'center'} marginLeft={2} flex={1}>Expense</Text>\r\n\r\n                    <SupplyChainsCostsSortAndAddModal\r\n                      docName='ExpenseName'\r\n                      handleAddTextChange={handleAddExpenseNameTextChange}\r\n                      textAreaAdd={textAreaAddExpenseName}\r\n                      title='Expense Name'\r\n                      dataName={'expenseName'}\r\n                      databaseInit={projectExtensionFirestore}\r\n                      headerText=\"Rearrange/Add Expense Name\"\r\n                      data={expenseNameData}\r\n                      handleFirstModalClose={handleFirstModalClose}\r\n                      handleFirstModalOpen={handleFirstModalOpen}\r\n                    />\r\n                  </Box>\r\n\r\n                  <SelectExpenseName expenseNameIsError={expenseNameIsError} selectExpenseNameRef={selectExpenseNameRef} selectResetKey={selectResetKey} setSelectResetKey={setSelectResetKey} />\r\n                  {/* <Select\r\n                    // ref={selectExpenseNameRef}\r\n                    key={`expenseName${resetKey}`}\r\n                    borderColor={expenseNameIsError ? 'error.400' : 'muted.300'}\r\n                    flex={3}\r\n                    onValueChange={(value) => {\r\n                      globalSelectedExpenseName = value\r\n                    }}\r\n                    accessibilityLabel=\"Choose Expense Name\"\r\n                    placeholder=\"Choose Expense Name\"\r\n                    _selectedItem={{\r\n                      bg: \"teal.600\",\r\n                      endIcon: <CheckIcon size=\"5\" />\r\n                    }}>\r\n                    {expenseNameData.map((item) => (\r\n\r\n                      <Select.Item key={item} label={item} value={item} />\r\n\r\n                    ))}\r\n                  </Select> */}\r\n\r\n\r\n                </Box>\r\n\r\n\r\n                <Box flexDir={'row'} paddingBottom={1} >\r\n                  <Box bgColor={'#7B9CFF'} flex={1} flexDir={'row'} alignItems={'center'} justifyContent={'center'} borderRadius={3}>\r\n                    <Text color={'white'} alignSelf={'center'} marginLeft={2} flex={1} >Amount</Text>\r\n                  </Box>\r\n                  <Input\r\n                    borderColor={inputAmountIsError ? 'error.400' : 'muted.300'}\r\n                    flex={3}\r\n                    ref={inputExpenseAmount}\r\n                    onChangeText={handleInputExpenseAmountChange}\r\n                    placeholder=\"Amount\"\r\n                    bgColor={'white'}\r\n                    placeholderTextColor={'muted.400'}\r\n                    InputLeftElement={<Icon as={<FontAwesome name=\"yen\" />} size={5} ml=\"2\" color=\"muted.400\" />} />\r\n                </Box>\r\n\r\n                <Box flexDir={'row'} paddingBottom={1} >\r\n                  <Box bgColor={'#7B9CFF'} flex={1} flexDir={'row'} alignItems={'center'} justifyContent={'center'} borderRadius={3}>\r\n                    <Text color={'white'} alignSelf={'center'} marginLeft={2} flex={1}>Date</Text>\r\n                  </Box>\r\n\r\n                  <ModalCalendar setSelectedDate={setSelectedDate} selectedDate={selectedDate} />\r\n                </Box>\r\n\r\n                <Box flexDir={'row'} paddingBottom={1} >\r\n                  <Box bgColor={'#7B9CFF'} flex={1} flexDir={'row'} alignItems={'center'} justifyContent={'center'} borderRadius={3}>\r\n                    <Text color={'white'} alignSelf={'center'} marginLeft={2} flex={1}>Paid to</Text>\r\n\r\n\r\n                    <SupplyChainsCostsSortAndAddModal\r\n                      docName='PaidTo'\r\n                      handleAddTextChange={handleAddPaidToTextChange}\r\n                      textAreaAdd={textAreaAddExpenseName}\r\n                      title='Paid To'\r\n                      dataName={'paidTo'}\r\n                      databaseInit={projectExtensionFirestore}\r\n                      headerText=\"Rearrange/Add Paid To\"\r\n                      data={paidToData}\r\n                      handleFirstModalClose={handleFirstModalClose}\r\n                      handleFirstModalOpen={handleFirstModalOpen}\r\n                    />\r\n\r\n                  </Box>\r\n\r\n                  <SelectPaidTo paidToIsError={paidToIsError} />\r\n                </Box>\r\n\r\n                <Button\r\n                  onPress={handleSave}\r\n                  colorScheme={'success'}\r\n                  size={'sm'}\r\n                  borderRadius={5}\r\n                  margin={1}\r\n                  flex={1}\r\n                  width={'40%'}\r\n                  alignSelf={'center'}\r\n                  leftIcon={<MaterialIcons name='add' color='white' size={20} />}\r\n                >\r\n                  ADD\r\n                </Button>\r\n              </Box>\r\n\r\n              <Box>\r\n                <Box flexDirection=\"row\" borderBottomWidth={1} borderColor=\"gray.200\" bgColor=\"#0642F4\">\r\n                  <Text flex={1} color={'white'} marginLeft={1} bold>Expense Name</Text>\r\n                  <Text flex={1} color={'white'} marginLeft={1} bold>Amount</Text>\r\n                  <Text flex={1} color={'white'} marginLeft={1} bold>Date</Text>\r\n                  <Text flex={1} color={'white'} marginLeft={1} bold>Paid To</Text>\r\n                  <Text flex={1} color={'white'} marginLeft={1} bold>Modify</Text>\r\n                </Box>\r\n                {supplyChainsCostsData.map((item, index) => {\r\n                  const expenseName = Object.keys(item)[0];\r\n                  const expenseData = item[expenseName];\r\n\r\n                  return (\r\n                    <Box key={index} flexDirection=\"row\" bgColor={'muted.300'} borderBottomColor=\"gray.200\" borderBottomWidth={1}\r\n                      justifyContent={'center'} alignItems={'center'}>\r\n                      <Text flex={1} marginLeft={1}>{expenseData.expenseName}</Text>\r\n                      <Text flex={1} marginLeft={1}>{expenseData.amount}</Text>\r\n                      <Text flex={1} marginLeft={1}>{expenseData.date}</Text>\r\n                      <Text flex={1} marginLeft={1}>{expenseData.paidName}</Text>\r\n                      <Box flex={1} marginLeft={1} flexDir={'row'}>\r\n\r\n                        <Pressable flex={1} margin={1} onPress={() => handleEditPress(expenseData)}>\r\n                          {({\r\n                            isHovered,\r\n                            isFocused,\r\n                            isPressed\r\n                          }) => {\r\n                            return <Box flex={1} bgColor={isHovered ? 'primary.700' : 'primary.500'} borderRadius={3}>\r\n                              <Text flex={1} textAlign={'center'} color={'white'}>Edit</Text>\r\n                            </Box>\r\n                          }}\r\n                        </Pressable>\r\n\r\n                        <Pressable flex={1} margin={1} onPress={() => handleDeleteItem(expenseData.expenseName)}>\r\n                          {({\r\n                            isHovered,\r\n                            isFocused,\r\n                            isPressed\r\n                          }) => {\r\n                            return <Box flex={1} bgColor={isHovered ? 'error.800' : 'error.500'} borderRadius={3}>\r\n                              <Text flex={1} textAlign={'center'} color={'white'}>Delete</Text>\r\n                            </Box>\r\n                          }}\r\n                        </Pressable>\r\n                      </Box>\r\n                    </Box>\r\n                  );\r\n                })}\r\n              </Box>\r\n\r\n            </Box>\r\n\r\n\r\n          </Modal.Body>\r\n\r\n\r\n          <HStack space={5} width={'full'} justifyContent={'space-between'}>\r\n            <Box flex={4} />\r\n            <Button\r\n              onPress={handleModalSupplyChainsCostsClose}\r\n              colorScheme={'gray'}\r\n              size={'sm'}\r\n              borderRadius={5}\r\n              margin={1}\r\n              flex={1}\r\n            >\r\n              Close\r\n            </Button>\r\n          </HStack>\r\n\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n      <Modal isOpen={clearModalVisible} onClose={handleClearModalClose} useRNModal>\r\n        <Modal.Content bgColor={'amber.100'}>\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0} bgColor={'amber.100'}>\r\n            <Text color={'#102A43'} bold>\r\n              Clear\r\n            </Text>\r\n          </Modal.Header>\r\n          <Modal.Body\r\n            justifyContent={'center'}\r\n            alignItems={'center'}\r\n            bgColor={'amber.200'}\r\n            borderLeftWidth={4}\r\n            borderLeftColor={'amber.600'}\r\n            margin={5}\r\n          >\r\n            <Box flex={1}>\r\n              <Text color={'amber.600'} bold>\r\n                Warning!\r\n              </Text>\r\n              <Text color={'amber.600'}>\r\n                Are you sure you want to clear?\r\n              </Text>\r\n            </Box>\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} bgColor={'amber.100'}>\r\n            <HStack space={5} flex={1}>\r\n              <Button\r\n                onPress={handleClearModalClose}\r\n                colorScheme={'warmGray'}\r\n                flex={1}\r\n                size={'sm'}\r\n                borderRadius={5}\r\n              >\r\n                No\r\n              </Button>\r\n              <Button\r\n                onPress={() => {\r\n\r\n                }}\r\n                flex={1} size={'sm'} colorScheme={'amber'} borderRadius={5}>\r\n                Clear\r\n              </Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n\r\n    </>\r\n  );\r\n};\r\n\r\nconst getEmailOfCurrentUser = () => {\r\n  const user = projectControlAuth.currentUser;\r\n  if (user) {\r\n    const email = user.email;\r\n    return email;\r\n  } else {\r\n    console.log('No user is currently authenticated');\r\n    return null;\r\n  }\r\n};\r\n\r\n// const Drawer = createDrawerNavigator();\r\n\r\n\r\nconst storage = getStorage(projectExtensionFirebase);\r\n\r\nconst ClearImagesModal = ({ modalDeleteImagesVisible, setModalDeleteImagesVisible, handleClearImages, selectedImages, isAddPhotoVisible }) => {\r\n  // const [modalDeleteImagesVisible, setModalDeleteImagesVisible] = useState(false);\r\n\r\n  const handleModalDeleteOpen = () => {\r\n    setModalDeleteImagesVisible(true);\r\n  };\r\n\r\n  const handleModalDeleteClose = () => {\r\n    setModalDeleteImagesVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        position=\"absolute\"\r\n        top={0}\r\n        right={0}\r\n        bg=\"error.500\"\r\n        borderRadius={3}\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n        display={isAddPhotoVisible ? 'none' : 'block'}\r\n      >\r\n        <Pressable onPress={handleModalDeleteOpen} flex={1}>\r\n          <Icon as={<Ionicons name=\"trash-sharp\" />} size={5} color=\"white\" cursor={'pointer'} />\r\n        </Pressable>\r\n      </Box>\r\n\r\n      <Modal isOpen={modalDeleteImagesVisible} onClose={handleModalDeleteClose} useRNModal>\r\n        <Modal.Content bgColor={'error.100'}>\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0} bgColor={'error.100'}>\r\n            <Text color={'#102A43'} bold>\r\n              Clear Images\r\n            </Text>\r\n          </Modal.Header>\r\n          <Modal.Body\r\n            justifyContent={'center'}\r\n            alignItems={'center'}\r\n            bgColor={'error.200'}\r\n            borderLeftWidth={4}\r\n            borderLeftColor={'danger.400'}\r\n            margin={5}\r\n          >\r\n            <Box flex={1}>\r\n              <Text color={'danger.500'} bold>\r\n                Alert!\r\n              </Text>\r\n              <Text color={'danger.500'}>\r\n                Are you sure you want to clear <Text color={'danger.500'} bold>{selectedImages.length} </Text>selected image(s)?\r\n              </Text>\r\n            </Box>\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} bgColor={'error.100'}>\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleModalDeleteClose} colorScheme={'warmGray'} flex={1} size={'sm'} borderRadius={5}>\r\n                No\r\n              </Button>\r\n              <Button onPress={handleClearImages} flex={1} size={'sm'} colorScheme={'error'} borderRadius={5}>\r\n                Clear Images\r\n              </Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ImageUploader = ({ dragSortableViewRef, handleClearImagesExtra }) => {\r\n  const dispatch = useDispatch();\r\n  const { width } = Dimensions.get('window');\r\n\r\n  const deleteImageVisible = useSelector((state) => state.deleteImageVisible);\r\n  const [boolean, setBoolean] = useState(true);\r\n  const selectedImages = useSelector((state) => state.selectedImages);\r\n  // const [selectedImages, setSelectedImages] = useState([]);\r\n  const isAddPhotoVisible = useSelector((state) => state.isAddPhotoVisible);\r\n  const addAnotherImages = useSelector((state) => state.addAnotherImages);\r\n  // const [IsAddPhotoVisible, setIsAddPhotoVisible] = useState(true);\r\n  // const [addAnotherImages, setAddAnotherImages] = useState(false);\r\n  // const modalDeleteImagesVisible = useSelector((state) => state.modalDeleteImagesVisible);\r\n  const [modalDeleteImagesVisible, setModalDeleteImagesVisible] = useState(false);\r\n  const [scrollEnabled, setscrollEnabled] = useState(true);\r\n  const [isEnterEdit, setisEnterEdit] = useState(false);\r\n  const [widthState, setWidthState] = useState(Dimensions.get('window').width);\r\n  const [isCursorLoading, setIsCursorLoading] = useState(false);\r\n  const [modalImageUri, setModalImageUri] = useState('');\r\n  const [imageModalVisible, setImageModalVisible] = useState(false);\r\n  const [isFileSizeLimitModal, setIsFileSizeLimitModal] = useState(false);\r\n\r\n  const handleImagePress = useCallback((uri) => {\r\n    // const base64Image = toString(uri);\r\n    // setIsLoading(true);\r\n    setIsCursorLoading(true);\r\n    setModalImageUri(uri);\r\n    setImageModalVisible(true);\r\n    // console.log(\"URI: \", uri);\r\n\r\n  }, []);\r\n\r\n  const styles = StyleSheet.create({\r\n    dropdown: {\r\n      margin: 16,\r\n      height: 50,\r\n      borderBottomColor: 'gray',\r\n      borderBottomWidth: 0.5,\r\n    },\r\n    icon: {\r\n      marginRight: 5,\r\n    },\r\n    placeholderStyle: {\r\n      fontSize: 16,\r\n    },\r\n    selectedTextStyle: {\r\n      fontSize: 16,\r\n    },\r\n    iconStyle: {\r\n      width: 20,\r\n      height: 20,\r\n    },\r\n    inputSearchStyle: {\r\n      height: 40,\r\n      fontSize: 16,\r\n    },\r\n    container: {\r\n      flex: 1,\r\n      paddingTop: 20,\r\n\r\n    },\r\n    txt: {\r\n      fontSize: 18,\r\n      lineHeight: 24,\r\n      padding: 5\r\n    },\r\n    sort: {\r\n    },\r\n    item_children: {\r\n      width: 90,\r\n      height: 90,\r\n      backgroundColor: 'black',\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n    item_delete_icon: {\r\n      width: 14,\r\n      height: 14,\r\n      position: \"absolute\",\r\n      right: 1,\r\n      top: 1\r\n    },\r\n    item_icon: {\r\n      width: 90,\r\n      height: 90,\r\n      resizeMode: \"contain\",\r\n      position: \"absolute\"\r\n    }\r\n  });\r\n\r\n  const handleImageAddToSelection = async () => {\r\n    dispatch(setDeleteImageVisible(true));\r\n    if (selectedImages.length === 40) {\r\n      return; // Limit reached, do not add a new image\r\n    }\r\n\r\n    const options = {\r\n      mediaType: 'photo',\r\n      // quality: 10,\r\n      maxWidth: 1000,\r\n      maxHeight: 1000,\r\n      selectionLimit: 40 - selectedImages.length, // Adjust the selection limit based on the remaining slots\r\n      storageOptions: {\r\n        skipBackup: true,\r\n        path: 'images',\r\n      },\r\n    };\r\n\r\n    try {\r\n      const response = await launchImageLibrary(options);\r\n      if (response.didCancel) {\r\n        console.log('User cancelled image picker');\r\n        return;\r\n      } else if (response.error) {\r\n        console.log('ImagePicker Error: ', response.error);\r\n        return;\r\n      } else if (!response.assets || response.assets.length === 0) {\r\n        console.log('No images selected.');\r\n        return;\r\n      }\r\n\r\n      // Filter out images larger than 10MB\r\n      const newImages = [...selectedImages];\r\n      const promises = response.assets.map(async (asset) => {\r\n        const file = await fetch(asset.uri).then((res) => res.blob());\r\n        const fileSize = file.size;\r\n        if (fileSize / 1024 / 1024 < 10) {\r\n          const exists = newImages.some((image) => image.uri === asset.uri);\r\n          if (!exists) {\r\n            newImages.push(asset); // Add the asset to the array if it doesn't exist\r\n          }\r\n        } else {\r\n          setIsFileSizeLimitModal(true);\r\n        }\r\n      });\r\n\r\n      await Promise.all(promises);\r\n\r\n      const limitedImages = newImages.slice(0, 40);\r\n      dispatch(setSelectedImages(limitedImages));\r\n      globalSelectedImages = limitedImages;\r\n\r\n      if (limitedImages.length >= 40) {\r\n        dispatch(setAddAnotherImages(false));\r\n      }\r\n\r\n      // limitedImages.forEach((image) => {\r\n      //   console.log(`File size: ${image.fileSize}`);\r\n      // });\r\n\r\n    } catch (error) {\r\n      console.log('ImagePicker Error: ', error);\r\n    }\r\n  };\r\n\r\n  const reloadData = useCallback(() => {\r\n    if (selectedImages.length > 0) {\r\n      // ... Logic to reload data using selectedImages and width\r\n\r\n      // Assuming your logic has updated selectedImages, you can directly use it here\r\n      const updatedSelectedImages = [...selectedImages];\r\n\r\n      // Dispatch the updatedSelectedImages array to the state\r\n      dispatch(setSelectedImages(updatedSelectedImages));\r\n    }\r\n\r\n  }, [widthState]);\r\n\r\n  useEffect(() => {\r\n    const handleWidthChange = ({ window }) => {\r\n      setWidthState(window.width);\r\n    };\r\n\r\n    Dimensions.addEventListener('change', handleWidthChange);\r\n\r\n    return () => {\r\n      Dimensions.removeEventListener('change', handleWidthChange);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    reloadData();\r\n  }, [reloadData]);\r\n\r\n\r\n\r\n  const handleClearImages = useCallback(() => {\r\n    setModalDeleteImagesVisible(false);\r\n    // dispatch(setSelectedImages([]));\r\n    // globalSelectedImages = [];\r\n    // dispatch(setIsAddPhotoVisible(true));\r\n    // dispatch(setAddAnotherImages(false));\r\n    // dispatch(setDeleteImageVisible(true));\r\n    handleClearImagesExtra();\r\n\r\n  }, []);\r\n\r\n\r\n\r\n  const renderItem = useCallback((item) => {\r\n\r\n    // console.log(item.id);\r\n    // console.log(index)\r\n    if (isEnterEdit) {\r\n\r\n      return (\r\n\r\n        <Box key={item.uri} style={styles.item}>\r\n          <Box style={styles.item_children}>\r\n\r\n            <FastImage\r\n              style={styles.item_icon}\r\n              source={{\r\n                uri: item.uri,\r\n                priority: FastImage.priority.normal,\r\n              }}\r\n              resizeMode={FastImage.resizeMode.contain}\r\n            />\r\n            <Box\r\n              position=\"absolute\"\r\n              top={-3}\r\n              right={-3}\r\n              bg=\"rgba(0, 0, 0, 0.5)\"\r\n              borderRadius={10}\r\n              alignItems=\"center\"\r\n              justifyContent=\"center\"\r\n            >\r\n              <Pressable onPress={() => handleDeleteImagePress(item.uri)} display={boolean ? 'block' : 'none'}>\r\n                <Icon as={<Entypo name=\"circle-with-cross\" />} size={4} color={\"white\"} cursor={'pointer'} />\r\n              </Pressable>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n\r\n      );\r\n    } else {\r\n\r\n      return (\r\n\r\n        <Box key={item.id} style={styles.item}>\r\n          <Box style={styles.item_children}>\r\n\r\n            <FastImage\r\n              style={styles.item_icon}\r\n              source={{\r\n                uri: item.uri,\r\n                priority: FastImage.priority.normal,\r\n              }}\r\n              resizeMode={FastImage.resizeMode.contain}\r\n\r\n            />\r\n\r\n            <Box\r\n              position=\"absolute\"\r\n              top={-3}\r\n              right={-3}\r\n              bg=\"rgba(0, 0, 0, 0.5)\"\r\n              borderRadius={10}\r\n              alignItems=\"center\"\r\n              justifyContent=\"center\"\r\n            >\r\n              <Pressable onPress={() => handleDeleteImagePress(item.uri)} display={boolean ? 'block' : 'none'}>\r\n                <Icon as={<Entypo name=\"circle-with-cross\" />} size={4} color={\"white\"} cursor={'pointer'} />\r\n              </Pressable>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n\r\n  }, []);\r\n\r\n  const getImagesRenderItem = useCallback((item) => {\r\n\r\n    // console.log(item.id);\r\n    // console.log(index)\r\n    if (isEnterEdit) {\r\n\r\n      return (\r\n\r\n        <Box key={item.uri} style={styles.item}>\r\n          <Box style={styles.item_children}>\r\n\r\n            <FastImage\r\n              style={styles.item_icon}\r\n              source={{\r\n                uri: item.uri,\r\n                priority: FastImage.priority.normal,\r\n              }}\r\n              resizeMode={FastImage.resizeMode.contain}\r\n            />\r\n\r\n\r\n          </Box>\r\n        </Box>\r\n\r\n      );\r\n    } else {\r\n\r\n      return (\r\n\r\n        <Box key={item.id} style={styles.item}>\r\n          <Box style={styles.item_children}>\r\n\r\n            <FastImage\r\n              style={styles.item_icon}\r\n              source={{\r\n                uri: item.uri,\r\n                priority: FastImage.priority.normal,\r\n              }}\r\n              resizeMode={FastImage.resizeMode.contain}\r\n\r\n            />\r\n\r\n          </Box>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n\r\n  }, []);\r\n\r\n\r\n  const handleImageSelection = async () => {\r\n    const options = {\r\n      mediaType: 'photo',\r\n      // quality: 10,\r\n      maxWidth: 1000,\r\n      maxHeight: 1000,\r\n      selectionLimit: 40,\r\n      storageOptions: {\r\n        skipBackup: true,\r\n        path: 'images',\r\n      },\r\n    };\r\n\r\n    try {\r\n      const response = await launchImageLibrary(options);\r\n      if (response.didCancel) {\r\n        console.log('User cancelled image picker');\r\n        return;\r\n      } else if (response.error) {\r\n        console.log('ImagePicker Error: ', response.error);\r\n        return;\r\n      } else if (!response.assets || response.assets.length === 0) {\r\n        console.log('No images selected.');\r\n        return;\r\n      }\r\n\r\n      // Remove duplicates from the selected images\r\n      const uniqueImages = response.assets.filter(\r\n        (asset, index, self) => index === self.findIndex((a) => a.uri === asset.uri)\r\n      );\r\n\r\n      // Filter out images larger than 10MB\r\n      const filteredImages = [];\r\n      const imageOrder = [];\r\n      for (let index = 0; index < uniqueImages.length; index++) {\r\n        const image = uniqueImages[index];\r\n        const file = await fetch(image.uri).then((res) => res.blob());\r\n        const fileSize = file.size;\r\n        if (fileSize / 1024 / 1024 < 10) {\r\n          filteredImages.push(image);\r\n          imageOrder.push(index);\r\n        } else {\r\n          setIsFileSizeLimitModal(true);\r\n        }\r\n      }\r\n\r\n\r\n      // Sort the filtered images based on their original order\r\n      const sortedImages = filteredImages.sort((a, b) => {\r\n        const indexA = imageOrder[filteredImages.indexOf(a)];\r\n        const indexB = imageOrder[filteredImages.indexOf(b)];\r\n        return indexA - indexB;\r\n      });\r\n\r\n\r\n\r\n      // Limit the number of selected images to 40\r\n      const limitedImages = sortedImages.slice(0, 40);\r\n\r\n      globalSelectedImages = limitedImages;\r\n      if (limitedImages.length > 0) {\r\n        dispatch(setIsAddPhotoVisible(false));\r\n        dispatch(setAddAnotherImages(true));\r\n      }\r\n\r\n      if (limitedImages.length >= 40) {\r\n        dispatch(setIsAddPhotoVisible(false));\r\n        dispatch(setAddAnotherImages(false));\r\n      }\r\n\r\n      dispatch(setSelectedImages(globalSelectedImages));\r\n\r\n    } catch (error) {\r\n      console.log('ImagePicker Error: ', error);\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  const handleDeleteImagePress = useCallback((uri) => {\r\n\r\n    globalSelectedImages = globalSelectedImages.filter((item) => {\r\n      // Replace 'uriToDelete' with the URI you want to delete\r\n      return item.uri !== uri;\r\n    });\r\n\r\n    if (globalSelectedImages.length < 40) {\r\n      dispatch(setAddAnotherImages(true));\r\n    }\r\n\r\n    if (globalSelectedImages.length == 0) {\r\n      dispatch(setAddAnotherImages(false));\r\n      dispatch(setIsAddPhotoVisible(true));\r\n    }\r\n    dispatch(setSelectedImages(globalSelectedImages));\r\n    // dispatch(setSelectedImages((prevImages) => {\r\n    //   const updatedImages = prevImages.filter((image) => image.uri !== uri);\r\n\r\n    //   if (updatedImages.length < 40) {\r\n    //     dispatch(setAddAnotherImages(true));\r\n    //   }\r\n    //   if (updatedImages.length == 0) {\r\n    //    dispatch(setAddAnotherImages(false));\r\n    //     dispatch(setIsAddPhotoVisible(true));\r\n    //   }\r\n    //   return updatedImages;\r\n    // }));\r\n\r\n    // console.log(globalSelectedImages.map((item) => item.uri));\r\n  }, []);\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      {/* <Box flex={1} flexDir={['column', 'column', 'column', 'row', 'row', 'row']}> */}\r\n\r\n\r\n      <Box flex={1} borderColor={'white'} borderWidth={1}>\r\n        <ScrollView flex={1} contentContainerStyle={{ flexGrow: 1 }}>\r\n          <Box justifyContent={'center'} alignItems={'center'} h={'full'} w={'full'}>\r\n\r\n            <ClearImagesModal\r\n              modalDeleteImagesVisible={modalDeleteImagesVisible}\r\n              setModalDeleteImagesVisible={setModalDeleteImagesVisible}\r\n              handleClearImages={handleClearImages}\r\n              selectedImages={selectedImages}\r\n              isAddPhotoVisible={isAddPhotoVisible} />\r\n\r\n            <Box justifyContent={'center'} alignSelf={'center'} alignItems={'center'} margin={3}>\r\n\r\n              <Icon display={isAddPhotoVisible ? 'block' : 'none'} onPress={handleImageSelection} as={<MaterialIcons name=\"add-photo-alternate\" />} size={100} ml=\"2\" color=\"white\" />\r\n\r\n\r\n              <ScrollView\r\n                scrollEnabled={scrollEnabled}\r\n                flex={1}\r\n              >\r\n                <Box flex={1} display={deleteImageVisible ? 'flex' : 'none'} width={'full'} alignItems={'center'} justifyContent={'center'}>\r\n\r\n\r\n                  <DragSortableView\r\n\r\n                    ref={dragSortableViewRef}\r\n                    dataSource={selectedImages}\r\n                    delayLongPress={100}\r\n                    parentWidth={width * 0.33}\r\n                    childrenWidth={100}\r\n                    childrenHeight={100}\r\n                    marginChildrenTop={3}\r\n                    marginChildrenBottom={0}\r\n                    marginChildrenLeft={0}\r\n                    marginChildrenRight={0}\r\n                    onDragStart={useCallback(() => {\r\n                      if (!isEnterEdit) {\r\n                        setisEnterEdit(true);\r\n                        setscrollEnabled(false);\r\n                      } else {\r\n                        setscrollEnabled(false);\r\n                      }\r\n                    }, [])}\r\n                    onDragEnd={useCallback(() => {\r\n                      setscrollEnabled(true);\r\n                    }, [])}\r\n                    onDataChange={useCallback((data) => {\r\n\r\n                      if (data.length !== data) {\r\n                        dispatch(setSelectedImages(data));\r\n                        globalSelectedImages = data;\r\n                      }\r\n\r\n                    }, [])}\r\n                    onClickItem={(item, index) => {\r\n                      handleImagePress(index.uri);\r\n                    }}\r\n                    keyExtractor={(item) => item.uri} // FlatList\r\n                    renderItem={\r\n                      useCallback((item, index) => renderItem(item, index), [])} />\r\n\r\n                  <Center>\r\n                    <Icon display={addAnotherImages ? 'block' : 'none'} onPress={handleImageAddToSelection} as={<Entypo name=\"plus\" />} ml={'2'} size={50} color=\"white\" />\r\n                  </Center>\r\n\r\n                </Box>\r\n\r\n\r\n\r\n                <Box flex={1} display={deleteImageVisible ? 'none' : 'flex'} width={'full'}>\r\n\r\n\r\n                  <DragSortableView\r\n                    sortable={false}\r\n                    ref={dragSortableViewRef}\r\n                    dataSource={selectedImages}\r\n                    parentWidth={width * 0.33}\r\n                    childrenWidth={100}\r\n                    childrenHeight={100}\r\n                    marginChildrenTop={3}\r\n                    marginChildrenBottom={0}\r\n                    marginChildrenLeft={0}\r\n                    marginChildrenRight={0}\r\n                    onClickItem={(item, index) => {\r\n                      handleImagePress(index.uri);\r\n                    }}\r\n                    keyExtractor={(item) => item.uri} // FlatList\r\n                    renderItem={\r\n                      useCallback((item, index) => getImagesRenderItem(item, index), [])} />\r\n\r\n                </Box>\r\n              </ScrollView>\r\n\r\n\r\n\r\n\r\n            </Box>\r\n\r\n\r\n            <Box\r\n              position=\"absolute\"\r\n              top={0}\r\n              left={0}\r\n              borderRadius={3}\r\n              bgColor={'rgba(0, 0, 0, 0.5)'}\r\n              alignItems=\"center\"\r\n              justifyContent=\"center\"\r\n              display={isAddPhotoVisible ? 'none' : 'block'}>\r\n              <Text marginLeft={1} marginRight={1} color={'white'} bold italic fontSize={12}>Selected {selectedImages.length} image(s) (Maximum of 40)</Text>\r\n            </Box>\r\n          </Box>\r\n\r\n        </ScrollView>\r\n\r\n\r\n\r\n      </Box>\r\n\r\n      {/* </Box> */}\r\n\r\n      <Modal isOpen={imageModalVisible} onClose={() => setImageModalVisible(false)} size={'100%'}>\r\n\r\n        <Box w={'80%'} h={'80%'} bgColor={'rgba(0, 0, 0, 0.7)'} borderRadius={10} display=\"flex\" alignItems=\"center\" justifyContent=\"center\" alignContent={'center'}>\r\n          <Modal.CloseButton color={'white'} />\r\n          <NativeImage\r\n            key={modalImageUri}\r\n            source={{ uri: modalImageUri }}\r\n            resizeMode='contain'\r\n            flex={1}\r\n            alt={modalImageUri}\r\n            h={720}\r\n            w={1280}\r\n          />\r\n\r\n        </Box>\r\n\r\n      </Modal>\r\n\r\n      <Modal isOpen={isFileSizeLimitModal} onClose={() => setIsFileSizeLimitModal(false)} >\r\n        <Modal.Content bgColor={'danger.100'}>\r\n          <Modal.Header borderBottomWidth={0} bgColor={'danger.100'}>\r\n            <Text color={'#102A43'} bold>\r\n              Failed!\r\n            </Text>\r\n          </Modal.Header>\r\n          <Modal.Body\r\n            bgColor={'danger.200'}\r\n            borderLeftWidth={4}\r\n            borderLeftColor={'danger.600'}\r\n            margin={5}\r\n          >\r\n            <Box flex={1}>\r\n              <Text color={'danger.600'} bold>\r\n                Failed!\r\n              </Text>\r\n              <Text color={'danger.600'}>\r\n                Please select image(s) smaller than 10MB!\r\n              </Text>\r\n            </Box>\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} bgColor={'danger.100'}>\r\n            <HStack space={5} flex={1}>\r\n              <Button colorScheme={'primary'} flex=\"1\" onPress={() => setIsFileSizeLimitModal(false)} _text={{ color: 'white' }}>\r\n                Ok\r\n              </Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\n\r\nconst SuccessFailModal = ({ isSuccessOpen, isFailedOpen, handleFailModalClose, inputStockIDNumber, handleSuccessModalClose }) => {\r\n  const okSuccessButtonRef = useRef(null);\r\n  const okFailButtonRef = useRef(null);\r\n\r\n  return (\r\n    <><Modal isOpen={isSuccessOpen} onClose={handleSuccessModalClose} initialFocusRef={okSuccessButtonRef} finalFocusRef={inputStockIDNumber}>\r\n      <Modal.Content bgColor={'green.100'}>\r\n        <Modal.Header borderBottomWidth={0} bgColor={'green.100'}>\r\n          <Text color={'#102A43'} bold>\r\n            Success!\r\n          </Text>\r\n        </Modal.Header>\r\n        <Modal.Body\r\n          bgColor={'green.200'}\r\n          borderLeftWidth={4}\r\n          borderLeftColor={'green.600'}\r\n          margin={5}\r\n        >\r\n          <Box flex={1}>\r\n            <Text color={'green.600'} bold>\r\n              Success!\r\n            </Text>\r\n            <Text color={'green.600'}>\r\n              Stock ID Exist!\r\n            </Text>\r\n          </Box>\r\n        </Modal.Body>\r\n        <Modal.Footer borderTopWidth={0} bgColor={'green.100'}>\r\n          <HStack space={5} flex={1}>\r\n            <Button ref={okSuccessButtonRef} colorScheme={'primary'} flex=\"1\" onPress={handleSuccessModalClose} _text={{ color: 'white' }}>\r\n              Ok\r\n            </Button>\r\n          </HStack>\r\n        </Modal.Footer>\r\n      </Modal.Content>\r\n    </Modal>\r\n\r\n      <Modal isOpen={isFailedOpen} onClose={handleFailModalClose} initialFocusRef={okFailButtonRef} finalFocusRef={inputStockIDNumber} >\r\n        <Modal.Content bgColor={'danger.100'}>\r\n          <Modal.Header borderBottomWidth={0} bgColor={'danger.100'}>\r\n            <Text color={'#102A43'} bold>\r\n              Failed!\r\n            </Text>\r\n          </Modal.Header>\r\n          <Modal.Body\r\n            bgColor={'danger.200'}\r\n            borderLeftWidth={4}\r\n            borderLeftColor={'danger.600'}\r\n            margin={5}\r\n          >\r\n            <Box flex={1}>\r\n              <Text color={'danger.600'} bold>\r\n                Failed!\r\n              </Text>\r\n              <Text color={'danger.600'}>\r\n                Stock ID Do Not Exist!\r\n              </Text>\r\n            </Box>\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} bgColor={'danger.100'}>\r\n            <HStack space={5} flex={1}>\r\n              <Button ref={okFailButtonRef} colorScheme={'primary'} flex=\"1\" onPress={handleFailModalClose} _text={{ color: 'white' }}>\r\n                Ok\r\n              </Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal></>\r\n  );\r\n}\r\n\r\n\r\nconst StockIDAndMakeAndModel = ({\r\n  selectStockStatus,\r\n  handleSetBordersWhite,\r\n  inputFobUsd,\r\n  handleClearIfError,\r\n  monthNumbers,\r\n  steeringData,\r\n  selectPort,\r\n  selectSales,\r\n  selectBuyer,\r\n  inputRefNum,\r\n  inputChassis,\r\n  inputModelCode,\r\n  inputEngineCode,\r\n  inputEngineDis,\r\n  selectSteering,\r\n  inputMileage,\r\n  selectTransmission,\r\n  selectExteriorColor,\r\n  inputNumOfSeats,\r\n  inputDoors,\r\n  inputPurchasedPrice,\r\n  selectFuel,\r\n  inputDimensionLength,\r\n  inputDimensionWidth,\r\n  inputDimensionHeight,\r\n  inputDimensionCubicMeters,\r\n  selectDriveType,\r\n  inputWeight,\r\n  selectBodyType,\r\n  inputCarName,\r\n  inputCarDesc,\r\n  inputFobJpy,\r\n  selectRegYear,\r\n  selectRegMonth,\r\n  setRefNumFromSelects,\r\n  inputStockIDNumber,\r\n  stockIDNumError,\r\n  selectMakeForModelRef,\r\n  textAreaAddModel,\r\n  selectMakeForAddModelRef,\r\n  handleAddMakeTextChange,\r\n  textAreaAddMake,\r\n  makeError,\r\n  modelError,\r\n  selectMakeBoxRef,\r\n  selectMakeRef,\r\n  selectModelRef,\r\n  selectModelBoxRef,\r\n  setCarNameFromSelects,\r\n  setCarNameFromSelectsModel,\r\n  inputCarNotes,\r\n  inputCarMemo,\r\n  purchasedPriceError,\r\n  handleInputPurchasedPriceChange }) => {\r\n\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  // const deleteImageVisible = useSelector((state) => state.deleteImageVisible);\r\n  // const isAddPhotoVisible = useSelector((state) => state.isAddPhotoVisible);\r\n  const makeData = useSelector((state) => state.makeData);\r\n  const stockStatusData = useSelector((state) => state.stockStatusData);\r\n  const portData = useSelector((state) => state.portData);\r\n  // const isLoading = useSelector((state) => state.isLoading);\r\n  const transmissionData = useSelector((state) => state.transmissionData);\r\n  const fuelData = useSelector((state) => state.fuelData);\r\n  const buyerData = useSelector((state) => state.buyerData);\r\n  const salesData = useSelector((state) => state.salesData);\r\n  const driveTypeData = useSelector((state) => state.driveTypeData);\r\n  const bodyTypeData = useSelector((state) => state.bodyTypeData);\r\n  const exteriorColorData = useSelector((state) => state.exteriorColorData);\r\n  const jpyToUsd = useSelector((state) => state.jpyToUsd);\r\n  // const usdToJpy = useSelector((state) => state.usdToJpy);\r\n\r\n\r\n  const [modelData, setModelData] = useState([]);\r\n  const [isSearchLoading, setIsSearchLoading] = useState(false);\r\n  const [isSuccessOpen, setIsSuccessOpen] = useState(false);\r\n  const [isFailedOpen, setIsFailedOpen] = useState(false);\r\n  const [fetchedData, setFetchedData] = useState([]);\r\n  const [model, setModel] = useState('');\r\n  const [key, setKey] = useState(0);\r\n  // useEffect(() => {\r\n\r\n  //   selectModelRef.current.selectIndex(modelData.indexOf(model));\r\n  //   console.log(model);\r\n  // }, [modelData]);\r\n\r\n  // const exportFunction = () => {\r\n  //   const clearModelData = () =>{\r\n  //       setModelData([]);\r\n  //   };\r\n\r\n  //   return clearModelData;\r\n  // }\r\n\r\n  const handleInputFobJpyChange = (text) => {\r\n    const numericValue = text.replace(/[^0-9]/g, '');\r\n    // console.log(globalJpyToUsd);\r\n    // Check if the numeric value starts with 0\r\n    if (numericValue.startsWith('0')) {\r\n      // Handle the case when the value starts with 0\r\n      inputFobUsd.current.setNativeProps({ text: '' });\r\n      return;\r\n    }\r\n\r\n    // Truncate the numeric value to a maximum of 9 digits\r\n    const truncatedValue = numericValue.slice(0, 9);\r\n\r\n    const formattedValue = truncatedValue.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n\r\n    if (formattedValue !== '') {\r\n      const multipliedValue = parseFloat(truncatedValue) * jpyToUsd;\r\n\r\n      if (!isNaN(multipliedValue)) {\r\n        const formattedMultipliedValue = multipliedValue.toFixed(0).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n\r\n        inputFobJpy.current.value = formattedValue;\r\n        inputFobUsd.current.setNativeProps({ text: formattedMultipliedValue });\r\n      } else {\r\n        // Handle the case when the multipliedValue is NaN\r\n        inputFobJpy.current.value = formattedValue;\r\n        inputFobUsd.current.setNativeProps({ text: '' });\r\n      }\r\n    } else {\r\n      // Handle the case when formattedValue is empty\r\n      inputFobJpy.current.value = '';\r\n      inputFobUsd.current.setNativeProps({ text: '' });\r\n    }\r\n  };\r\n\r\n\r\n  const getImages = useCallback(async (folderName) => {\r\n    // const dispatch = useDispatch();\r\n    dispatch(setLoadingModalVisible(true));\r\n    try {\r\n\r\n      const imageRefs = await listAll(ref(storage, `${folderName}/`)); // Use the provided folderName\r\n      // selectModelRef.current.selectIndex(globalModelDataVariable.indexOf(modelVariable.text));\r\n\r\n      const urls = await Promise.all(\r\n        imageRefs.items.map(async (itemRef) => {\r\n          const uri = await getDownloadURL(itemRef);\r\n          return { uri, fileName: itemRef.name };\r\n        })\r\n      );\r\n\r\n      // Sort the URLs array in ascending order based on the fileName (which is a number)\r\n      urls.sort((a, b) => {\r\n        const fileNameA = parseInt(a.fileName);\r\n        const fileNameB = parseInt(b.fileName);\r\n        return fileNameA - fileNameB;\r\n      });\r\n\r\n      if (urls.length > 0) {\r\n        dispatch(setDeleteImageVisible(false));\r\n        dispatch(setSelectedImages(urls));\r\n        dispatch(setIsAddPhotoVisible(false));\r\n        dispatch(setAddAnotherImages(false));\r\n        globalSelectedImages = urls;\r\n\r\n      }\r\n\r\n      else {\r\n        dispatch(setDeleteImageVisible(true));\r\n        dispatch(setIsAddPhotoVisible(true));\r\n        dispatch(setAddAnotherImages(false));\r\n        dispatch(setSelectedImages([]));\r\n        dispatch(setDeleteImageVisible(true));\r\n        globalSelectedImages = [];\r\n      }\r\n\r\n\r\n      console.log(urls);\r\n\r\n    } catch (error) {\r\n      // Handle any errors that may occur during the Firebase operations\r\n      console.error('Error getting image URLs:', error);\r\n    }\r\n  }, []);\r\n\r\n\r\n  const handleSearchPress = useCallback(async () => {\r\n\r\n\r\n    if (inputStockIDNumber.current?.value !== '') {\r\n      dispatch(setLoadingModalVisible(true));\r\n      setIsSearchLoading(true);\r\n      setIsSuccessOpen(false);\r\n      setIsFailedOpen(false);\r\n\r\n      const q = query(collection(projectExtensionFirestore, 'VehicleProducts'), where('stockID', '==', inputStockIDNumber.current?.value));\r\n\r\n      const querySnapshot = await getDocs(q);\r\n\r\n      if (querySnapshot.empty) {\r\n        console.log('No documents found');\r\n        // setIsLoading(false);\r\n        dispatch(setDeleteImageVisible(true));\r\n        setIsSearchLoading(false);\r\n        setIsFailedOpen(true);\r\n        dispatch(setIsAddPhotoVisible(true));\r\n        dispatch(setAddAnotherImages(false));\r\n        dispatch(setSelectedImages([]));\r\n        globalSelectedImages = [];\r\n        dispatch(setLoadingModalVisible(false));\r\n\r\n      }\r\n\r\n\r\n      else {\r\n\r\n        // dispatch(setSelectedImages([]));\r\n        // globalSelectedImages = [];\r\n\r\n        querySnapshot.forEach(async (item) => {\r\n          const data = item.data();\r\n          selectModelRef.current.reset();\r\n          // console.log(item.id, \" => \", item.data().make);\r\n          setIsSearchLoading(false);\r\n          // setIsSuccessOpen(true);\r\n\r\n          // fetchModelData();\r\n          // setModel(data.model);\r\n\r\n          // console.log(portData);    \r\n          async function fetchDataAndSelectIndex() {\r\n            try {\r\n              const collectionRef = doc(projectExtensionFirestore, 'Model', data.make);\r\n              const docSnapshot = await getDoc(collectionRef);\r\n              if (docSnapshot.exists()) {\r\n                selectModelRef.current.selectIndex(globalModelDataVariable.indexOf(modelVariable.text));\r\n              }\r\n            } catch (error) {\r\n              console.error('Error fetching models data from Firebase: ', error);\r\n            }\r\n          }\r\n\r\n          try {\r\n            const collectionRef = doc(projectExtensionFirestore, 'Model', data.make);\r\n            const docSnapshot = await getDoc(collectionRef);\r\n            if (docSnapshot.exists()) {\r\n              const modelsDataFromFirebase = docSnapshot.data().model;\r\n              setModelData(modelsDataFromFirebase);\r\n              globalModelDataVariable = modelsDataFromFirebase;\r\n            }\r\n          } catch (error) {\r\n            console.error('Error fetching models data from Firebase: ', error);\r\n          }\r\n\r\n          handleSetBordersWhite();\r\n          fetchDataAndSelectIndex();\r\n          selectStockStatus.current.selectIndex(stockStatusData.indexOf(data.stockStatus));\r\n          selectMakeRef.current.selectIndex(makeData.indexOf(data.make));\r\n          // selectRegYear.current.selectIndex(globalRegYearDataVariable.indexOf(data.regYear));\r\n          selectRegYear.current.selectIndex(globalRegYearDataVariable.indexOf(parseInt(data.regYear, 10)));\r\n          selectRegMonth.current.selectIndex(monthNumbers.indexOf(data.regMonth));\r\n          selectPort.current.selectIndex(portData.findIndex(item => item.id === data.portID));\r\n          selectSales.current.selectIndex(salesData.findIndex(item => item.id === data.salesID));\r\n          selectBuyer.current.selectIndex(buyerData.findIndex(item => item.id === data.buyerID));\r\n          inputRefNum.current.setNativeProps({ text: data.referenceNumber || '' });\r\n          inputChassis.current.setNativeProps({ text: data.chassisNumber || '' });\r\n          inputModelCode.current.setNativeProps({ text: data.modelCode || '' });\r\n          inputEngineCode.current.setNativeProps({ text: data.engineCode || '' });\r\n          inputEngineDis.current.setNativeProps({ text: data.engineDisplacement ? data.engineDisplacement.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : '' });\r\n          selectSteering.current.selectIndex(steeringData.indexOf(data.steering));\r\n          inputMileage.current.setNativeProps({ text: data.mileage ? data.mileage.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : '' });\r\n          selectTransmission.current.selectIndex(transmissionData.indexOf(data.transmission));\r\n          selectExteriorColor.current.selectIndex(exteriorColorData.indexOf(data.exteriorColor));\r\n          inputNumOfSeats.current.setNativeProps({ text: data.numberOfSeats || '' });\r\n          inputDoors.current.setNativeProps({ text: data.doors || '' });\r\n          inputPurchasedPrice.current.setNativeProps({ text: data.purchasedPrice ? data.purchasedPrice.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\").toString() : '' });\r\n          selectFuel.current.selectIndex(fuelData.indexOf(data.fuel));\r\n          inputDimensionLength.current.setNativeProps({ text: data.dimensionLength ? data.dimensionLength.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : '' });\r\n          inputDimensionWidth.current.setNativeProps({ text: data.dimensionWidth ? data.dimensionWidth.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : '' });\r\n          inputDimensionHeight.current.setNativeProps({ text: data.dimensionHeight ? data.dimensionHeight.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : '' });\r\n          inputDimensionCubicMeters.current.setNativeProps({ text: data.dimensionCubicMeters || '' });\r\n          selectDriveType.current.selectIndex(driveTypeData.indexOf(data.driveType));\r\n          inputWeight.current.setNativeProps({ text: data.weight ? data.weight.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : '' });\r\n          // selectBodyType.current.selectIndex(bodyTypeData.indexOf(data.bodyType));\r\n          selectBodyType.current.selectIndex(bodyTypeData.findIndex(item => item.toLowerCase() === data.bodyType.toLowerCase()));\r\n          inputCarName.current.setNativeProps({ text: data.carName || '' });\r\n          inputCarDesc.current.setNativeProps({ text: data.carDescription || '' });\r\n          inputFobJpy.current.setNativeProps({ text: data.fobPrice ? data.fobPrice.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : '' });\r\n          globalFobPrice = data.fobPrice ? data.fobPrice.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : '';\r\n          handleInputFobJpyChange(data.fobPrice ? data.fobPrice : \"0\");\r\n          // selectMakeRef.current.selectIndex(makeData.indexOf(data.make));\r\n          // selectRegYear.current.selectIndex(globalRegYearDataVariable.indexOf(data.regYear));\r\n          // selectRegMonth.current.selectIndex(monthNumbers.indexOf(data.regMonth));\r\n          // selectPort.current.selectIndex(portData.findIndex(item => item.name === data.port));\r\n          // selectSales.current.selectIndex(salesData.findIndex(item => item.name === data.sales));\r\n          // selectBuyer.current.selectIndex(buyerData.findIndex(item => item.name === data.buyer));\r\n          // inputRefNum.current.setNativeProps({ text: data.referenceNumber });\r\n          // inputChassis.current.setNativeProps({ text: data.chassisNumber });\r\n          // inputModelCode.current.setNativeProps({ text: data.modelCode });\r\n          // inputEngineCode.current.setNativeProps({ text: data.engineCode });\r\n          // inputEngineDis.current.setNativeProps({ text: data.engineDisplacement.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") });\r\n          // selectSteering.current.selectIndex(steeringData.indexOf(data.steering));\r\n          // inputMileage.current.setNativeProps({ text: data.mileage.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") });\r\n          // selectTransmission.current.selectIndex(transmissionData.indexOf(data.transmission));\r\n          // selectExteriorColor.current.selectIndex(exteriorColorData.indexOf(data.exteriorColor));\r\n          // inputNumOfSeats.current.setNativeProps({ text: data.numberOfSeats });\r\n          // inputDoors.current.setNativeProps({ text: data.doors });\r\n          // selectFuel.current.selectIndex(fuelData.indexOf(data.fuel));\r\n          // inputDimensionLength.current.setNativeProps({ text: data.dimensionLength.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") });\r\n          // inputDimensionWidth.current.setNativeProps({ text: data.dimensionWidth.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") });\r\n          // inputDimensionHeight.current.setNativeProps({ text: data.dimensionHeight.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") });\r\n          // inputDimensionCubicMeters.current.setNativeProps({ text: data.dimensionCubicMeters });\r\n          // selectDriveType.current.selectIndex(driveTypeData.indexOf(data.driveType));\r\n          // inputWeight.current.setNativeProps({ text: data.weight ? data.weight.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : \"0\",});          \r\n          // selectBodyType.current.selectIndex(bodyTypeData.indexOf(data.bodyType));\r\n          // inputCarName.current.setNativeProps({ text: data.carName });\r\n          // inputCarDesc.current.setNativeProps({ text: data.carDescription });\r\n          // inputFobJpy.current.setNativeProps({ text: data.fobPrice ? data.fobPrice.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\") : \"0\",});\r\n          // handleInputFobJpyChange(data.fobPrice);\r\n\r\n          if (data.notes == undefined) {\r\n            inputCarNotes.current.setNativeProps({ text: '' });\r\n          }\r\n          else {\r\n            inputCarNotes.current.setNativeProps({ text: data.notes });\r\n          }\r\n\r\n          if (data.memo == undefined) {\r\n            inputCarMemo.current.setNativeProps({ text: '' });\r\n\r\n          }\r\n          else {\r\n            inputCarMemo.current.setNativeProps({ text: data.memo });\r\n\r\n          }\r\n\r\n          featuresState.SafetySystemAnBrSy = data.SafetySystemAnBrSy;\r\n          featuresState.SafetySystemDrAi = data.SafetySystemDrAi;\r\n          featuresState.SafetySystemPaAi = data.SafetySystemPaAi;\r\n          featuresState.SafetySystemSiAi = data.SafetySystemSiAi;\r\n          featuresState.ComfortAiCoFr = data.ComfortAiCoFr;\r\n          featuresState.ComfortAiCoRe = data.ComfortAiCoRe;\r\n          featuresState.ComfortAMFMRa = data.ComfortAMFMRa;\r\n          featuresState.ComfortAMFMSt = data.ComfortAMFMSt;\r\n          featuresState.ComfortCDPl = data.ComfortCDPl;\r\n          featuresState.ComfortCDCh = data.ComfortCDCh;\r\n          featuresState.ComfortCrSpCo = data.ComfortCrSpCo;\r\n          featuresState.ComfortDiSp = data.ComfortDiSp;\r\n          featuresState.ComfortDVDPl = data.ComfortDVDPl;\r\n          featuresState.ComfortHDD = data.ComfortHDD;\r\n          featuresState.ComfortNaSyGPS = data.ComfortNaSyGPS;\r\n          featuresState.ComfortPoSt = data.ComfortPoSt;\r\n          featuresState.ComfortPrAuSy = data.ComfortPrAuSy;\r\n          featuresState.ComfortReKeSy = data.ComfortReKeSy;\r\n          featuresState.ComfortTiStWh = data.ComfortTiStWh;\r\n          featuresState.InteriorLeSe = data.InteriorLeSe;\r\n          featuresState.InteriorPoDoLo = data.InteriorPoDoLo;\r\n          featuresState.InteriorPoMi = data.InteriorPoMi;\r\n          featuresState.InteriorPoSe = data.InteriorPoSe;\r\n          featuresState.InteriorPoWi = data.InteriorPoWi;\r\n          featuresState.InteriorReWiDe = data.InteriorReWiDe;\r\n          featuresState.InteriorReWiWi = data.InteriorReWiWi;\r\n          featuresState.InteriorThRoSe = data.InteriorThRoSe;\r\n          featuresState.InteriorTiGl = data.InteriorTiGl;\r\n          featuresState.ExteriorAlWh = data.ExteriorAlWh;\r\n          featuresState.ExteriorPoSlDo = data.ExteriorPoSlDo;\r\n          featuresState.ExteriorSuRo = data.ExteriorSuRo;\r\n          featuresState.SellingPointsCuWh = data.SellingPointsCuWh;\r\n          featuresState.SellingPointsFuLo = data.SellingPointsFuLo;\r\n          featuresState.SellingPointsMaHiAv = data.SellingPointsMaHiAv;\r\n          featuresState.SellingPointsBrNeTi = data.SellingPointsBrNeTi;\r\n          featuresState.SellingPointsNoAcHi = data.SellingPointsNoAcHi;\r\n          featuresState.SellingPointsNoSmPrOw = data.SellingPointsNoSmPrOw;\r\n          featuresState.SellingPointsOnOwHi = data.SellingPointsOnOwHi;\r\n          featuresState.SellingPointsPeRaTi = data.SellingPointsPeRaTi;\r\n          featuresState.SellingPointsReBo = data.SellingPointsReBo;\r\n          featuresState.SellingPointsTuEn = data.SellingPointsTuEn;\r\n          featuresState.SellingPointsUpAuSy = data.SellingPointsUpAuSy;\r\n\r\n          resetKey++;\r\n\r\n          stockStatusVariable.text = data.stockStatus ? data.stockStatus : \"\";\r\n          makeVariable.text = data.make ? data.make : \"\";\r\n          modelVariable.text = data.model ? data.model : \"\";\r\n          regYearVariable.text = data.regYear ? data.regYear : \"\";\r\n          regMonthVariable.text = data.regMonth ? data.regMonth : \"\";\r\n          portVariable.text = data.port ? data.port : \"\";\r\n          salesVariable.text = data.sales ? data.sales : \"\";\r\n          buyerVariable.text = data.buyer ? data.buyer : \"\";\r\n          portVariable.id = data.portID ? data.portID : \"\";\r\n          salesVariable.id = data.salesID ? data.salesID : \"\";\r\n          buyerVariable.id = data.buyerID ? data.buyerID : \"\";\r\n          referenceNumberVariable.text = data.referenceNumber ? data.referenceNumber : \"\";\r\n          globalVehicleFolderName = data.stockID ? data.stockID : \"\";\r\n          steeringVariable.text = data.steering ? data.steering : \"\";\r\n          transmissionVariable.text = data.transmission ? data.transmission : \"\";\r\n          exteriorColorVariable.text = data.exteriorColor ? data.exteriorColor : \"\";\r\n          fuelVariable.text = data.fuel ? data.fuel : \"\";\r\n          driveTypeVariable.text = data.driveType ? data.driveType : \"\";\r\n          bodyTypeVariable.text = data.bodyType ? data.bodyType : \"\";\r\n          stockStatusVariable.text = data.stockStatus ? data.stockStatus : \"\";\r\n          globalSupplyChainCostsData = data.supplyChainsCostsData ? data.supplyChainsCostsData : [];\r\n          dispatch(setSupplyChainsCostsData(data.supplyChainsCostsData ? data.supplyChainsCostsData : []));\r\n\r\n          await getImages(globalVehicleFolderName);\r\n\r\n          dispatch(setLoadingModalVisible(false));\r\n\r\n          // const unsubscribe = onSnapshot(doc(collection(projectExtensionFirestore, 'Model'), makeVariable.text), (snapshot) => {\r\n          //   setModelData(snapshot.data()?.model || []);\r\n          //   selectModelRef.current.selectIndex(modelData.indexOf(data.model));\r\n\r\n          //   return () => unsubscribe();\r\n          // });\r\n\r\n\r\n        });\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n  }, []);;\r\n\r\n\r\n  // useEffect(() => {\r\n\r\n  //   if (isFailedOpen == false) {\r\n  //     handleClearIfError();\r\n  //   }\r\n\r\n\r\n  // }, [isFailedOpen])\r\n  const handleFailModalClose = useCallback(() => {\r\n    setIsFailedOpen(false);\r\n\r\n    handleClearIfError();\r\n\r\n\r\n  }, []);\r\n\r\n  const handleSuccessModalClose = useCallback(() => {\r\n    setIsSuccessOpen(false);\r\n\r\n    selectModelRef.current.selectIndex(globalModelDataVariable.indexOf(modelVariable.text));\r\n    // console.log(globalModelDataVariable.indexOf(makeVariable.text));\r\n\r\n\r\n  }, []);\r\n\r\n  const handleModelChange = useCallback(() => {\r\n    // console.log('Selected make:', value);\r\n    setCarNameFromSelectsModel();\r\n\r\n  }, []);\r\n\r\n\r\n  const handleMakeChange = useCallback(async (item) => {\r\n    setCarNameFromSelects();\r\n    // dispatch(setSelectedMake(item));\r\n    // fetchModelData();\r\n    //  dispatch(setIsLoading(true));\r\n    try {\r\n      if (makeVariable.text !== '') {\r\n\r\n        try {\r\n\r\n          const collectionRef = doc(projectExtensionFirestore, 'Model', item);\r\n\r\n          const docSnapshot = await getDoc(collectionRef);\r\n          if (docSnapshot.exists()) {\r\n            const modelsDataFromFirebase = docSnapshot.data().model;\r\n            setModelData(modelsDataFromFirebase);\r\n            globalModelDataVariable = modelsDataFromFirebase;\r\n            // console.log(globalModelVariable);\r\n\r\n            // modelKey++;\r\n            // console.log(modelKey);\r\n            // dispatch(setIsLoading(false));\r\n          }\r\n        } catch (error) {\r\n          console.error('Error fetching models data from Firebase: ', error);\r\n        }\r\n\r\n      }\r\n\r\n      else {\r\n        //  dispatch(setModelData([]));\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching models data from Firebase: ', error);\r\n    }\r\n\r\n  }, [projectExtensionFirestore, modelData, makeData]);\r\n\r\n  const handleInputStockIDNumberChange = useCallback((text) => {\r\n    // Remove any non-numeric characters\r\n    const numericValue = text.replace(/[^0-9]/g, '');\r\n    const truncatedValue = numericValue.slice(0, 10);\r\n    inputStockIDNumber.current.value = truncatedValue;\r\n    globalVehicleFolderName = truncatedValue;\r\n    setRefNumFromSelects();\r\n    // // Limit the numeric value to a maximum of 4 characters\r\n    // const truncatedValue = numericValue.slice(5);\r\n\r\n    // // Format the truncated numeric value with comma separator\r\n    // const formattedValue = Number(truncatedValue).toLocaleString();\r\n\r\n    // // Remove comma separator from the formatted value\r\n    // const valueWithoutCommas = formattedValue.replace(/,/g, '');\r\n\r\n    // inputStockIDNumber.current.value = valueWithoutCommas;\r\n  }, []);\r\n\r\n  const handleModelOnFocus = useCallback(() => {\r\n    // console.log(globalModelVariable.length);\r\n    const condition = makeVariable.text === '' && globalModelDataVariable.length > 0;\r\n\r\n    if (condition) {\r\n      globalModelDataVariable = [];\r\n      setModelData([]);\r\n    }\r\n\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'}>\r\n        <Box flexDir={'row'} alignSelf={'center'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Stock ID Number</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n        <Box bgColor={'white'} flex={1} borderColor={stockIDNumError} borderWidth={1}><Input onSubmitEditing={handleSearchPress} defaultValue=\"\" ref={inputStockIDNumber} onChangeText={handleInputStockIDNumberChange} placeholder=\" Stock ID Number\"\r\n          InputRightElement={\r\n            <Button isLoading={isSearchLoading} isLoadingText=\"Search\" size={'xs'} colorScheme={'primary'}\r\n              leftIcon={<Icon as={<MaterialIcons name=\"search\" />} size={5} color=\"white\" />}\r\n              onPress={() => {\r\n                handleSearchPress()\r\n                selectModelRef.current.selectIndex(globalModelDataVariable.indexOf(modelVariable.text));\r\n              }}>Search</Button>\r\n          }\r\n        />\r\n        </Box>\r\n        <SuccessFailModal inputStockIDNumber={inputStockIDNumber} isSuccessOpen={isSuccessOpen} setIsSuccessOpen={setIsSuccessOpen} isFailedOpen={isFailedOpen} setIsFailedOpen={setIsFailedOpen} handleSuccessModalClose={handleSuccessModalClose} handleFailModalClose={handleFailModalClose} />\r\n\r\n\r\n\r\n      </Box>\r\n\r\n      <Box flexDir={'row'} borderColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'} >\r\n        <Box flexDir={'row'} alignSelf={'center'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Purchase Price</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n        <Box bgColor={'white'} flex={1} borderColor={purchasedPriceError} borderWidth={1}>\r\n          <Input keyboardType=\"numeric\" flex={1} ref={inputPurchasedPrice} onChangeText={handleInputPurchasedPriceChange} bgColor={'white'} InputLeftElement={<Icon as={<FontAwesome name=\"yen\" />} size={5} ml=\"2\" color=\"muted.400\" />} placeholder=\"Purchase Price\" placeholderTextColor={'muted.400'} />\r\n        </Box>\r\n      </Box>\r\n\r\n      <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'}>\r\n        <Box bgColor={'#8096D7'} flex={1} flexDir={'row'}><Text color={'white'} alignSelf={'center'} fontSize={[14, 14, 12, 12, 16, 18]}> Make</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text>\r\n          <SortAndAddModal docName='Make' handleAddTextChange={handleAddMakeTextChange} textAreaAdd={textAreaAddMake} title='Make' dataName={'make'} databaseInit={projectExtensionFirestore} headerText=\"Rearrange/Add Make\" data={makeData} />\r\n        </Box>\r\n\r\n        <Box ref={selectMakeBoxRef} bgColor={'white'} flex={1} borderColor={makeError} borderWidth={1}>\r\n\r\n\r\n          <SelectDropdown\r\n            ref={selectMakeRef}\r\n            buttonStyle={{\r\n              flex: 1,\r\n              width: '100%',\r\n              backgroundColor: 'white',\r\n              borderColor: '#E0E0E0',\r\n              borderWidth: 1,\r\n              borderRadius: 4,\r\n              padding: 4,\r\n            }}\r\n            buttonTextStyle={{\r\n              textAlign: 'left',\r\n              color: '#424242',\r\n              fontSize: 12,\r\n            }}\r\n            dropdownStyle={{\r\n              backgroundColor: '#FFFFFF',\r\n              borderColor: '#E0E0E0',\r\n              borderWidth: 1,\r\n              borderRadius: 4,\r\n              shadowColor: '#000000',\r\n              shadowOffset: { width: 0, height: 2 },\r\n              shadowOpacity: 0.1,\r\n              shadowRadius: 4,\r\n              elevation: 2,\r\n            }}\r\n            rowStyle={{\r\n              backgroundColor: '#FFFFFF',\r\n              paddingVertical: 10,\r\n              paddingHorizontal: 15,\r\n            }}\r\n            rowTextStyle={{\r\n              color: '#424242',\r\n              fontSize: 16,\r\n            }}\r\n            data={makeData}\r\n            onSelect={useCallback((selectedItem) => {\r\n              makeVariable.text = selectedItem;\r\n              selectModelRef.current.reset();\r\n              modelVariable.text = '';\r\n              handleMakeChange(selectedItem);\r\n\r\n\r\n            }, [])}\r\n            defaultButtonText=\"-- Choose Make --\"\r\n            buttonTextAfterSelection={(selectedItem) => {\r\n              return selectedItem;\r\n            }} SelectDropdown\r\n            renderDropdownIcon={(isOpened) => {\r\n              return (\r\n                <Ionicons\r\n                  name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                  color={'#424242'}\r\n                  size={18}\r\n                />\r\n              );\r\n            }}\r\n            rowTextForSelection={(item) => {\r\n              return item;\r\n            }}\r\n            searchPlaceHolder=\"Search for Make\"\r\n            searchInputStyle={{ marginTop: 2, }}\r\n            disableAutoScroll\r\n            search />\r\n\r\n        </Box>\r\n      </Box>\r\n\r\n      <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} >\r\n        <Box bgColor={'#8096D7'} flex={1} flexDir={'row'}><Text color={'white'} alignSelf={'center'} fontSize={[14, 14, 12, 12, 16, 18]}> Model</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text>\r\n\r\n          <ModelSortAndAddModal\r\n            selectMakeForAddModelRef={selectMakeForAddModelRef}\r\n            selectMakeForModelRef={selectMakeForModelRef}\r\n            textAreaAddModel={textAreaAddModel}\r\n            makeData={makeData} />\r\n        </Box>\r\n        <Box ref={selectModelBoxRef} bgColor={'white'} flex={1} borderColor={modelError} borderWidth={1}>\r\n\r\n\r\n          <SelectDropdown\r\n\r\n            onFocus={handleModelOnFocus}\r\n            ref={selectModelRef}\r\n            // disabled={makeVariable.text === '' ? true : false}\r\n            // key={`make${key}`}\r\n            buttonStyle={{\r\n              flex: 1,\r\n              width: '100%',\r\n              backgroundColor: 'white',\r\n              borderColor: '#E0E0E0',\r\n              borderWidth: 1,\r\n              borderRadius: 4,\r\n              padding: 4,\r\n            }}\r\n            buttonTextStyle={{\r\n              textAlign: 'left',\r\n              color: '#424242',\r\n              fontSize: 12,\r\n            }}\r\n            dropdownStyle={{\r\n              backgroundColor: '#FFFFFF',\r\n              borderColor: '#E0E0E0',\r\n              borderWidth: 1,\r\n              borderRadius: 4,\r\n              shadowColor: '#000000',\r\n              shadowOffset: { width: 0, height: 2 },\r\n              shadowOpacity: 0.1,\r\n              shadowRadius: 4,\r\n              elevation: 2,\r\n            }}\r\n            rowStyle={{\r\n              backgroundColor: '#FFFFFF',\r\n              paddingVertical: 10,\r\n              paddingHorizontal: 15,\r\n            }}\r\n            rowTextStyle={{\r\n              color: '#424242',\r\n              fontSize: 16,\r\n            }}\r\n            // data={modelData.map((item) => item)}\r\n            data={modelData}\r\n            onSelect={useCallback((selectedItem) => {\r\n              modelVariable.text = selectedItem;\r\n              // console.log(modelVariable.text);\r\n\r\n\r\n              handleModelChange()\r\n            }, [])}\r\n            defaultButtonText=\"-- Choose Model --\"\r\n            buttonTextAfterSelection={(selectedItem) => {\r\n              return selectedItem;\r\n            }}\r\n            renderDropdownIcon={(isOpened) => {\r\n              return (\r\n                <Ionicons\r\n                  name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                  color={'#424242'}\r\n                  size={18}\r\n                />\r\n              );\r\n            }}\r\n            rowTextForSelection={(item) => {\r\n              return item;\r\n            }}\r\n            searchPlaceHolder=\"Search for Model\"\r\n            searchInputStyle={{ marginTop: 2, width: '100%', }}\r\n            disableAutoScroll\r\n            search\r\n\r\n          />\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n\r\n};\r\n\r\nconst SupplyChainsCostsSortAndAddModal = ({ headerText, data, title, dataName, databaseInit, textAreaAdd, handleAddTextChange, docName, handleFirstModalOpen, handleFirstModalClose }) => {\r\n  const [modalSortOpen, setModalSortOpen] = useState(false);\r\n  const [modalAddOpen, setModalAddOpen] = useState(false);\r\n  const [modalAddSuccess, setModalAddSuccess] = useState(false);\r\n  const [modalSave, setModalSave] = useState(false);\r\n  const [modalSaveLoading, setModalSaveLoading] = useState(false);\r\n  const [modalData, setModalData] = useState(data);\r\n  const [modalIsLoading, setModalIsLoading] = useState(false);\r\n\r\n  const handleDeleteItemPress = useCallback(\r\n    (item) => {\r\n      setModalData((prevData) => {\r\n        const updatedData = prevData.filter((value) => value !== item);\r\n        return updatedData;\r\n      });\r\n    },\r\n    []\r\n  );\r\n\r\n  // useEffect(() => {\r\n\r\n  //   fetchData();\r\n\r\n  // }, [modalSortOpen]);\r\n\r\n  const addLogToCollection = async (data) => {\r\n    try {\r\n      const logsCollectionRef = collection(projectControlFirestore, 'logs');\r\n\r\n      // Add a new document to the \"logs\" collection\r\n      await addDoc(logsCollectionRef, data);\r\n\r\n      console.log('Document added successfully!');\r\n    } catch (error) {\r\n      console.error('Error adding document:', error);\r\n    }\r\n  };\r\n\r\n  const fetchData = useCallback(async () => {\r\n    const modalDocRef = doc(collection(databaseInit, docName), docName);\r\n    const modalDocSnap = await getDoc(modalDocRef);\r\n    if (modalDocSnap.exists()) {\r\n      // setModalData(modalDocSnap.data()?.dataName || []);\r\n      setModalData(modalDocSnap.data()?.[dataName] || []);\r\n    }\r\n  }, [databaseInit, modalData]);\r\n\r\n  // useEffect(() => {\r\n  //   const unsubscribe = onSnapshot(doc(collection(databaseInit, docName), docName), (snapshot) => {\r\n  //     setModalData(snapshot.data()?.[dataName] || []);\r\n  //   });\r\n\r\n  //   return () => unsubscribe();\r\n  // }, [dataName, databaseInit, docName]);\r\n\r\n  const handleSave = useCallback(async () => {\r\n    setModalSaveLoading(true);\r\n\r\n    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n    const { datetime } = response.data;\r\n    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n    const year = moment(datetime).format('YYYY');\r\n    const month = moment(datetime).format('MM');\r\n    const monthWithDay = moment(datetime).format('MM/DD');\r\n    const date = moment(datetime).format('YYYY/MM/DD');\r\n    const day = moment(datetime).format('DD');\r\n    const time = moment(datetime).format('HH:mm');\r\n    const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n    try {\r\n      await updateDoc(doc(collection(databaseInit, docName), docName), { [dataName]: modalData });\r\n      setModalSaveLoading(false);\r\n      setModalSortOpen(true);\r\n      setModalSave(false);\r\n\r\n\r\n      const logData = {\r\n        message: `\"${title}\" updated: \"${nameVariable.text}\" updated \"${title}\"`,\r\n        timestamp: formattedTime,\r\n        colorScheme: true,\r\n        keywords: [\r\n          formattedTime.toLowerCase(),\r\n          `\"${title}\" updated: \"${nameVariable.text}\" updated \"${title}\"`.toLowerCase(),\r\n          `${title} updated`.toLowerCase(),\r\n          `\"${title}\" updated`.toLowerCase(),\r\n          'updated'.toLowerCase(),\r\n          title.toLowerCase(),\r\n          nameVariable.text.toLowerCase(),\r\n          year.toLowerCase(),\r\n          month.toLowerCase(),\r\n          monthWithDay.toLowerCase(),\r\n          date.toLowerCase(),\r\n          day.toLowerCase(),\r\n          time.toLowerCase(),\r\n          timeWithMinutesSeconds.toLowerCase(),\r\n        ],\r\n      };\r\n\r\n      addLogToCollection(logData);\r\n\r\n    } catch (error) {\r\n      setModalSaveLoading(false);\r\n      handleModalSaveClose();\r\n      console.error(error);\r\n    }\r\n\r\n\r\n  }, [databaseInit, modalData, dataName, docName]);\r\n\r\n\r\n  const handleSortModalOpen = useCallback(() => {\r\n    setModalIsLoading(true);\r\n    fetchData();\r\n    setModalSortOpen(true);\r\n    handleFirstModalClose();\r\n  }, [modalSortOpen, modalIsLoading]);\r\n\r\n  const handleSortModalClose = useCallback(async () => {\r\n    handleFirstModalOpen();\r\n    setModalSortOpen(false);\r\n    setModalIsLoading(false);\r\n\r\n  }, [modalSortOpen, modalIsLoading]);\r\n  // const handleAddTextChange = () => {\r\n  //   const newText = textAreaAdd.current?.value?.toUpperCase();\r\n  //   textAreaAdd.current?.setNativeProps({ text: newText });\r\n  // };\r\n\r\n\r\n  const handleModalAddOpen = useCallback(() => {\r\n    setModalAddOpen(true);\r\n    handleSortModalClose();\r\n    setModalIsLoading(true);\r\n    handleFirstModalClose();\r\n\r\n  }, [])\r\n\r\n  const handleModalAddClose = useCallback(() => {\r\n    setModalAddOpen(false);\r\n    handleSortModalOpen();\r\n    textAreaAdd.current?.clear();\r\n  }, [modalAddOpen])\r\n\r\n  const handleModalAddSuccessClose = useCallback(() => {\r\n    setModalAddSuccess(false);\r\n    // setIsLoading(false);\r\n    handleSortModalOpen();\r\n  }, [modalAddSuccess])\r\n\r\n  const handleModalAddSuccessOpen = useCallback(() => {\r\n    setModalAddSuccess(true);\r\n    handleSortModalClose();\r\n    setModalAddOpen(false);\r\n    setModalIsLoading(true);\r\n    handleFirstModalClose();\r\n  }, [modalAddSuccess, modalAddOpen, modalIsLoading])\r\n\r\n  const handleModalSaveOpen = useCallback(() => {\r\n    setModalSave(true);\r\n    setModalSortOpen(false);\r\n    setModalIsLoading(true);\r\n  }, [modalSave, modalSortOpen, modalIsLoading])\r\n\r\n  const handleModalSaveClose = useCallback(() => {\r\n    setModalSave(false);\r\n    setModalSortOpen(true);\r\n  }, [modalSave, modalSortOpen]);\r\n\r\n  const handleAddSubmit = async () => {\r\n\r\n    const data = textAreaAdd.current?.value;\r\n    const dataArray = data.split('\\n').map((item) => item.trim());\r\n\r\n    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n    const { datetime } = response.data;\r\n    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n    const year = moment(datetime).format('YYYY');\r\n    const month = moment(datetime).format('MM');\r\n    const monthWithDay = moment(datetime).format('MM/DD');\r\n    const date = moment(datetime).format('YYYY/MM/DD');\r\n    const day = moment(datetime).format('DD');\r\n    const time = moment(datetime).format('HH:mm');\r\n    const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n    if (data !== '') {\r\n\r\n      setModalSaveLoading(true);\r\n\r\n      try {\r\n        const modalCollectionRef = collection(databaseInit, docName);\r\n        const modalDocRef = doc(modalCollectionRef, docName);\r\n        await setDoc(modalDocRef, { [dataName]: arrayUnion(...dataArray) }, { merge: true });\r\n\r\n        const logData = {\r\n          message: `\"${title}\" added: \"${nameVariable.text}\" added \"${title}\"(s).`,\r\n          timestamp: formattedTime,\r\n          colorScheme: true,\r\n          keywords: [\r\n            formattedTime.toLowerCase(),\r\n            `\"${title}\" added: \"${nameVariable.text}\" added \"${title}\"(s).`.toLowerCase(),\r\n            `${title} added`.toLowerCase(),\r\n            `\"${title}\" added`.toLowerCase(),\r\n            'added'.toLowerCase(),\r\n            title.toLowerCase(),\r\n            nameVariable.text.toLowerCase(),\r\n            year.toLowerCase(),\r\n            month.toLowerCase(),\r\n            monthWithDay.toLowerCase(),\r\n            date.toLowerCase(),\r\n            day.toLowerCase(),\r\n            time.toLowerCase(),\r\n            timeWithMinutesSeconds.toLowerCase(),\r\n          ],\r\n        };\r\n        addLogToCollection(logData);\r\n        setModalSaveLoading(false);\r\n\r\n        handleModalAddSuccessOpen();\r\n\r\n\r\n\r\n        console.log('Data added to Firestore');\r\n      } catch (error) {\r\n        console.error('Error adding data to Firestore:', error);\r\n        setModalSaveLoading(false);\r\n      }\r\n    }\r\n    else {\r\n\r\n    }\r\n\r\n\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box flex={1} justifyContent=\"center\" alignItems={'flex-end'} marginRight={1}>\r\n\r\n        {!modalIsLoading ? (\r\n          <TouchableOpacity focusable={false} onPress={handleSortModalOpen} >\r\n            <Icon as={<MaterialCommunityIcons name=\"playlist-edit\" />} size={5} color=\"white\" />\r\n          </TouchableOpacity>\r\n        ) : (\r\n          <Spinner color=\"white\" />\r\n        )}\r\n\r\n\r\n      </Box>\r\n\r\n      <Modal\r\n        isOpen={modalSortOpen}\r\n        onClose={handleSortModalClose} useRNModal>\r\n        <Modal.Content>\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>{headerText}</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1}>\r\n            <Box w={'full'} flexDir={'column'}>\r\n              <Box alignItems={'flex-end'}>\r\n                <Pressable onPress={handleModalAddOpen} ><Icon as={<FontAwesome name=\"plus-circle\" />} size={5} color=\"#102A43\" /></Pressable>\r\n              </Box>\r\n\r\n              <Box flex={1} borderWidth={1} borderColor={'#102A43'} borderRadius={5}>\r\n\r\n                <DraggableFlatList\r\n                  style={{ alignContent: 'center', flex: 1, }}\r\n                  data={modalData}\r\n                  keyExtractor={(item) => item}\r\n                  renderItem={({ item, drag }) => (\r\n\r\n                    <Box flex={1} bgColor={'rgba(16,42,67, 0.5)'} borderBottomWidth={1} borderBottomColor={'warmGray.400'} flexDir={'row'} justifyContent={'center'} alignItems={'center'}>\r\n                      <Pressable onPress={() => handleDeleteItemPress(item)}><Icon as={<AntDesign name=\"minuscircle\" />} size={4} color=\"#102A43\" /></Pressable>\r\n                      <Text flex={1} textAlign={'center'} color={'white'}>{item}</Text>\r\n                      <Pressable onPressIn={drag}><Icon as={<Entypo name=\"menu\" />} size={4} color=\"#102A43\" /></Pressable>\r\n                    </Box>\r\n\r\n                  )}\r\n                  onDragEnd={useCallback(({ data }) => setModalData(data), [])} />\r\n\r\n              </Box>\r\n\r\n            </Box>\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0}>\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleSortModalClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>Close</Button>\r\n              <Button onPress={handleModalSaveOpen} flex={1} size={'sm'} borderRadius={5}>Save</Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n      <Modal\r\n        isOpen={modalSave}\r\n        onClose={handleModalSaveClose}>\r\n        <Modal.Content >\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>Save Order?</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1} >\r\n\r\n            <Text>Are you sure you want to save changes?</Text>\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} >\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleModalSaveClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>No</Button>\r\n              <Button onPress={handleSave} flex={1} size={'sm'} borderRadius={5} isLoading={modalSaveLoading ? true : false}>Yes</Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n      <Modal\r\n        useRNModal\r\n        isOpen={modalAddOpen}\r\n        onClose={handleModalAddClose}\r\n        initialFocusRef={textAreaAdd}>\r\n        <Modal.Content >\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>Add {title}</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1} >\r\n\r\n            <TextArea\r\n              textAlign={'center'}\r\n              w={'full'}\r\n              ref={textAreaAdd}\r\n              multiline\r\n              onChangeText={handleAddTextChange}\r\n              totalLines={4}\r\n              placeholder=\"Enter your data, separated by new lines\" />\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} >\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleModalAddClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>Close</Button>\r\n              <Button onPress={handleAddSubmit} isLoading={modalSaveLoading ? true : false} flex={1} size={'sm'} borderRadius={5}>Add</Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n      {/* <SuccessModal isOpen={modalAddMakeSuccess} onClose={handleModalAddMakeSuccessClose} headerText={'Added successfully!'} bodyText={'Added successfully!'}/> */}\r\n      <Modal isOpen={modalAddSuccess} onClose={handleModalAddSuccessClose} >\r\n        <Modal.Content bgColor={'green.100'}>\r\n          <Modal.Header borderBottomWidth={0} bgColor={'green.100'}>\r\n            <Text textAlign={'center'} color={'#102A43'} bold>\r\n               Success! \r\n            </Text>\r\n          </Modal.Header>\r\n          <Modal.Body\r\n            justifyContent={'center'}\r\n            alignItems={'center'}\r\n            bgColor={'green.200'}\r\n            borderLeftWidth={4}\r\n            borderLeftColor={'green.600'}\r\n            margin={5}\r\n          >\r\n            <Box flex={1}>\r\n              <Text color={'green.600'} bold>\r\n                Added successfully!\r\n              </Text>\r\n              <Text color={'green.600'}>\r\n                Added successfully!\r\n              </Text>\r\n            </Box>\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} bgColor={'green.100'}>\r\n            <HStack space={5} flex={1}>\r\n              <Button colorScheme={'success'} flex=\"1\" onPress={handleModalAddSuccessClose} _text={{ color: 'white' }}>\r\n                Ok\r\n              </Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n    </>\r\n\r\n\r\n  );\r\n};\r\n\r\nconst SortAndAddModal = ({ headerText, data, title, dataName, databaseInit, textAreaAdd, handleAddTextChange, docName }) => {\r\n  const [modalSortOpen, setModalSortOpen] = useState(false);\r\n  const [modalAddOpen, setModalAddOpen] = useState(false);\r\n  const [modalAddSuccess, setModalAddSuccess] = useState(false);\r\n  const [modalSave, setModalSave] = useState(false);\r\n  const [modalSaveLoading, setModalSaveLoading] = useState(false);\r\n  const [modalData, setModalData] = useState(data);\r\n  const [modalIsLoading, setModalIsLoading] = useState(false);\r\n\r\n  const handleDeleteItemPress = useCallback(\r\n    (item) => {\r\n      setModalData((prevData) => {\r\n        const updatedData = prevData.filter((value) => value !== item);\r\n        return updatedData;\r\n      });\r\n    },\r\n    []\r\n  );\r\n\r\n  // useEffect(() => {\r\n\r\n  //   fetchData();\r\n\r\n  // }, [modalSortOpen]);\r\n\r\n  const addLogToCollection = async (data) => {\r\n    try {\r\n      const logsCollectionRef = collection(projectControlFirestore, 'logs');\r\n\r\n      // Add a new document to the \"logs\" collection\r\n      await addDoc(logsCollectionRef, data);\r\n\r\n      console.log('Document added successfully!');\r\n    } catch (error) {\r\n      console.error('Error adding document:', error);\r\n    }\r\n  };\r\n\r\n  const fetchData = useCallback(async () => {\r\n    const modalDocRef = doc(collection(databaseInit, docName), docName);\r\n    const modalDocSnap = await getDoc(modalDocRef);\r\n    if (modalDocSnap.exists()) {\r\n      // setModalData(modalDocSnap.data()?.dataName || []);\r\n      setModalData(modalDocSnap.data()?.[dataName] || []);\r\n    }\r\n  }, [databaseInit, modalData]);\r\n\r\n  // useEffect(() => {\r\n  //   const unsubscribe = onSnapshot(doc(collection(databaseInit, docName), docName), (snapshot) => {\r\n  //     setModalData(snapshot.data()?.[dataName] || []);\r\n  //   });\r\n\r\n  //   return () => unsubscribe();\r\n  // }, [dataName, databaseInit, docName]);\r\n\r\n  const handleSave = useCallback(async () => {\r\n    setModalSaveLoading(true);\r\n\r\n    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n    const { datetime } = response.data;\r\n    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n    const year = moment(datetime).format('YYYY');\r\n    const month = moment(datetime).format('MM');\r\n    const monthWithDay = moment(datetime).format('MM/DD');\r\n    const date = moment(datetime).format('YYYY/MM/DD');\r\n    const day = moment(datetime).format('DD');\r\n    const time = moment(datetime).format('HH:mm');\r\n    const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n    try {\r\n      await updateDoc(doc(collection(databaseInit, docName), docName), { [dataName]: modalData });\r\n      setModalSaveLoading(false);\r\n      setModalSortOpen(true);\r\n      setModalSave(false);\r\n\r\n\r\n      const logData = {\r\n        message: `\"${title}\" updated: \"${nameVariable.text}\" updated \"${title}\"`,\r\n        timestamp: formattedTime,\r\n        colorScheme: true,\r\n        keywords: [\r\n          formattedTime.toLowerCase(),\r\n          `\"${title}\" updated: \"${nameVariable.text}\" updated \"${title}\"`.toLowerCase(),\r\n          `${title} updated`.toLowerCase(),\r\n          `\"${title}\" updated`.toLowerCase(),\r\n          'updated'.toLowerCase(),\r\n          title.toLowerCase(),\r\n          nameVariable.text.toLowerCase(),\r\n          year.toLowerCase(),\r\n          month.toLowerCase(),\r\n          monthWithDay.toLowerCase(),\r\n          date.toLowerCase(),\r\n          day.toLowerCase(),\r\n          time.toLowerCase(),\r\n          timeWithMinutesSeconds.toLowerCase(),\r\n        ],\r\n      };\r\n\r\n      addLogToCollection(logData);\r\n\r\n    } catch (error) {\r\n      setModalSaveLoading(false);\r\n      handleModalSaveClose();\r\n      console.error(error);\r\n    }\r\n\r\n\r\n  }, [databaseInit, modalData, dataName, docName]);\r\n\r\n\r\n  const handleSortModalOpen = useCallback(() => {\r\n    setModalIsLoading(true);\r\n    fetchData();\r\n    setModalSortOpen(true);\r\n  }, [modalSortOpen, modalIsLoading]);\r\n\r\n  const handleSortModalClose = useCallback(async () => {\r\n    setModalSortOpen(false);\r\n    setModalIsLoading(false);\r\n  }, [modalSortOpen, modalIsLoading]);\r\n\r\n  // const handleAddTextChange = () => {\r\n  //   const newText = textAreaAdd.current?.value?.toUpperCase();\r\n  //   textAreaAdd.current?.setNativeProps({ text: newText });\r\n  // };\r\n\r\n\r\n  const handleModalAddOpen = useCallback(() => {\r\n    setModalAddOpen(true);\r\n    handleSortModalClose();\r\n    setModalIsLoading(true);\r\n\r\n  }, [])\r\n\r\n  const handleModalAddClose = useCallback(() => {\r\n    setModalAddOpen(false);\r\n    handleSortModalOpen();\r\n    textAreaAdd.current?.clear();\r\n  }, [modalAddOpen])\r\n\r\n  const handleModalAddSuccessClose = useCallback(() => {\r\n    setModalAddSuccess(false);\r\n    // setIsLoading(false);\r\n    handleSortModalOpen();\r\n  }, [modalAddSuccess])\r\n\r\n  const handleModalAddSuccessOpen = useCallback(() => {\r\n    setModalAddSuccess(true);\r\n    handleSortModalClose();\r\n    setModalAddOpen(false);\r\n    setModalIsLoading(true);\r\n  }, [modalAddSuccess, modalAddOpen, modalIsLoading])\r\n\r\n  const handleModalSaveOpen = useCallback(() => {\r\n    setModalSave(true);\r\n    setModalSortOpen(false);\r\n    setModalIsLoading(true);\r\n  }, [modalSave, modalSortOpen, modalIsLoading])\r\n\r\n  const handleModalSaveClose = useCallback(() => {\r\n    setModalSave(false);\r\n    setModalSortOpen(true);\r\n  }, [modalSave, modalSortOpen]);\r\n\r\n  const handleAddSubmit = async () => {\r\n\r\n    const data = textAreaAdd.current?.value;\r\n    const dataArray = data.split('\\n').map((item) => item.trim());\r\n\r\n    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n    const { datetime } = response.data;\r\n    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n    const year = moment(datetime).format('YYYY');\r\n    const month = moment(datetime).format('MM');\r\n    const monthWithDay = moment(datetime).format('MM/DD');\r\n    const date = moment(datetime).format('YYYY/MM/DD');\r\n    const day = moment(datetime).format('DD');\r\n    const time = moment(datetime).format('HH:mm');\r\n    const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n    if (data !== '') {\r\n\r\n      setModalSaveLoading(true);\r\n\r\n      try {\r\n        const modalCollectionRef = collection(databaseInit, docName);\r\n        const modalDocRef = doc(modalCollectionRef, docName);\r\n        await setDoc(modalDocRef, { [dataName]: arrayUnion(...dataArray) }, { merge: true });\r\n\r\n        const logData = {\r\n          message: `\"${title}\" added: \"${nameVariable.text}\" added \"${title}\"(s).`,\r\n          timestamp: formattedTime,\r\n          colorScheme: true,\r\n          keywords: [\r\n            formattedTime.toLowerCase(),\r\n            `\"${title}\" added: \"${nameVariable.text}\" added \"${title}\"(s).`.toLowerCase(),\r\n            `${title} added`.toLowerCase(),\r\n            `\"${title}\" added`.toLowerCase(),\r\n            'added'.toLowerCase(),\r\n            title.toLowerCase(),\r\n            nameVariable.text.toLowerCase(),\r\n            year.toLowerCase(),\r\n            month.toLowerCase(),\r\n            monthWithDay.toLowerCase(),\r\n            date.toLowerCase(),\r\n            day.toLowerCase(),\r\n            time.toLowerCase(),\r\n            timeWithMinutesSeconds.toLowerCase(),\r\n          ],\r\n        };\r\n        addLogToCollection(logData);\r\n        setModalSaveLoading(false);\r\n\r\n        handleModalAddSuccessOpen();\r\n\r\n\r\n\r\n        console.log('Data added to Firestore');\r\n      } catch (error) {\r\n        console.error('Error adding data to Firestore:', error);\r\n        setModalSaveLoading(false);\r\n      }\r\n    }\r\n    else {\r\n\r\n    }\r\n\r\n\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box flex={1} justifyContent=\"center\" alignItems={'flex-end'} marginRight={1}>\r\n\r\n        {!modalIsLoading ? (\r\n          <TouchableOpacity focusable={false} onPress={handleSortModalOpen} >\r\n            <Icon as={<MaterialCommunityIcons name=\"playlist-edit\" />} size={5} color=\"white\" />\r\n          </TouchableOpacity>\r\n        ) : (\r\n          <Spinner color=\"white\" />\r\n        )}\r\n\r\n\r\n      </Box>\r\n\r\n      <Modal\r\n        isOpen={modalSortOpen}\r\n        onClose={handleSortModalClose}>\r\n        <Modal.Content>\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>{headerText}</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1}>\r\n            <Box w={'full'} flexDir={'column'}>\r\n              <Box alignItems={'flex-end'}>\r\n                <Pressable onPress={handleModalAddOpen} ><Icon as={<FontAwesome name=\"plus-circle\" />} size={5} color=\"#102A43\" /></Pressable>\r\n              </Box>\r\n\r\n              <Box flex={1} borderWidth={1} borderColor={'#102A43'} borderRadius={5}>\r\n\r\n                <DraggableFlatList\r\n                  style={{ alignContent: 'center', flex: 1, }}\r\n                  data={modalData}\r\n                  keyExtractor={(item) => item}\r\n                  renderItem={({ item, drag }) => (\r\n\r\n                    <Box flex={1} bgColor={'rgba(16,42,67, 0.5)'} borderBottomWidth={1} borderBottomColor={'warmGray.400'} flexDir={'row'} justifyContent={'center'} alignItems={'center'}>\r\n                      <Pressable onPress={() => handleDeleteItemPress(item)}><Icon as={<AntDesign name=\"minuscircle\" />} size={4} color=\"#102A43\" /></Pressable>\r\n                      <Text flex={1} textAlign={'center'} color={'white'}>{item}</Text>\r\n                      <Pressable onPressIn={drag}><Icon as={<Entypo name=\"menu\" />} size={4} color=\"#102A43\" /></Pressable>\r\n                    </Box>\r\n\r\n                  )}\r\n                  onDragEnd={useCallback(({ data }) => setModalData(data), [])} />\r\n\r\n              </Box>\r\n\r\n            </Box>\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0}>\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleSortModalClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>Close</Button>\r\n              <Button onPress={handleModalSaveOpen} flex={1} size={'sm'} borderRadius={5}>Save</Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n      <Modal\r\n        isOpen={modalSave}\r\n        onClose={handleModalSaveClose}>\r\n        <Modal.Content >\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>Save Order?</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1} >\r\n\r\n            <Text>Are you sure you want to save changes?</Text>\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} >\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleModalSaveClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>No</Button>\r\n              <Button onPress={handleSave} flex={1} size={'sm'} borderRadius={5} isLoading={modalSaveLoading ? true : false}>Yes</Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n      <Modal\r\n        isOpen={modalAddOpen}\r\n        onClose={handleModalAddClose}\r\n        initialFocusRef={textAreaAdd}>\r\n        <Modal.Content >\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>Add {title}</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1} >\r\n\r\n            <TextArea\r\n              textAlign={'center'}\r\n              w={'full'}\r\n              ref={textAreaAdd}\r\n              multiline\r\n              onChangeText={handleAddTextChange}\r\n              totalLines={4}\r\n              placeholder=\"Enter your data, separated by new lines\" />\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} >\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleModalAddClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>Close</Button>\r\n              <Button onPress={handleAddSubmit} isLoading={modalSaveLoading ? true : false} flex={1} size={'sm'} borderRadius={5}>Add</Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n      {/* <SuccessModal isOpen={modalAddMakeSuccess} onClose={handleModalAddMakeSuccessClose} headerText={'Added successfully!'} bodyText={'Added successfully!'}/> */}\r\n      <Modal isOpen={modalAddSuccess} onClose={handleModalAddSuccessClose} >\r\n        <Modal.Content bgColor={'green.100'}>\r\n          <Modal.Header borderBottomWidth={0} bgColor={'green.100'}>\r\n            <Text textAlign={'center'} color={'#102A43'} bold>\r\n               Success! \r\n            </Text>\r\n          </Modal.Header>\r\n          <Modal.Body\r\n            justifyContent={'center'}\r\n            alignItems={'center'}\r\n            bgColor={'green.200'}\r\n            borderLeftWidth={4}\r\n            borderLeftColor={'green.600'}\r\n            margin={5}\r\n          >\r\n            <Box flex={1}>\r\n              <Text color={'green.600'} bold>\r\n                Added successfully!\r\n              </Text>\r\n              <Text color={'green.600'}>\r\n                Added successfully!\r\n              </Text>\r\n            </Box>\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} bgColor={'green.100'}>\r\n            <HStack space={5} flex={1}>\r\n              <Button colorScheme={'success'} flex=\"1\" onPress={handleModalAddSuccessClose} _text={{ color: 'white' }}>\r\n                Ok\r\n              </Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n    </>\r\n\r\n\r\n  );\r\n};\r\n\r\n\r\nconst PSBSortAndAddModal = ({ headerText, data, title, dataName, databaseInit, textAreaAddCode, textAreaAdd, handleAddTextChange, handleAddCodeTextChange, docName }) => {\r\n  const [modalSortOpen, setModalSortOpen] = useState(false);\r\n  const [modalAddOpen, setModalAddOpen] = useState(false);\r\n  const [modalAddSuccess, setModalAddSuccess] = useState(false);\r\n  const [modalSave, setModalSave] = useState(false);\r\n  const [modalSaveLoading, setModalSaveLoading] = useState(false);\r\n  const [modalData, setModalData] = useState(data);\r\n  const [modalIsLoading, setModalIsLoading] = useState(false);\r\n\r\n  const handleDeleteItemPress = useCallback(\r\n    (item) => {\r\n      setModalData((prevData) => {\r\n        const updatedData = prevData.filter((value) => value !== item);\r\n        return updatedData;\r\n      });\r\n    },\r\n    []\r\n  );\r\n\r\n  // useEffect(() => {\r\n\r\n  //   fetchData();\r\n\r\n  // }, [modalSortOpen]);\r\n\r\n  const addLogToCollection = async (data) => {\r\n    try {\r\n      const logsCollectionRef = collection(projectControlFirestore, 'logs');\r\n\r\n      // Add a new document to the \"logs\" collection\r\n      await addDoc(logsCollectionRef, data);\r\n\r\n      console.log('Document added successfully!');\r\n    } catch (error) {\r\n      console.error('Error adding document:', error);\r\n    }\r\n  };\r\n\r\n  const fetchData = useCallback(async () => {\r\n    const modalDocRef = doc(collection(databaseInit, docName), docName);\r\n    const modalDocSnap = await getDoc(modalDocRef);\r\n    if (modalDocSnap.exists()) {\r\n      // setModalData(modalDocSnap.data()?.dataName || []);\r\n      setModalData(modalDocSnap.data()?.[dataName] || []);\r\n    }\r\n  }, [databaseInit, modalData]);\r\n\r\n  // useEffect(() => {\r\n  //   const unsubscribe = onSnapshot(doc(collection(databaseInit, docName), docName), (snapshot) => {\r\n  //     setModalData(snapshot.data()?.[dataName] || []);\r\n  //   });\r\n\r\n  //   return () => unsubscribe();\r\n  // }, [dataName, databaseInit, docName]);\r\n\r\n  const handleSave = useCallback(async () => {\r\n    setModalSaveLoading(true);\r\n\r\n    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n    const { datetime } = response.data;\r\n    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n    const year = moment(datetime).format('YYYY');\r\n    const month = moment(datetime).format('MM');\r\n    const monthWithDay = moment(datetime).format('MM/DD');\r\n    const date = moment(datetime).format('YYYY/MM/DD');\r\n    const day = moment(datetime).format('DD');\r\n    const time = moment(datetime).format('HH:mm');\r\n    const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n    try {\r\n      await updateDoc(doc(collection(databaseInit, docName), docName), { [dataName]: modalData });\r\n      setModalSaveLoading(false);\r\n      setModalSortOpen(true);\r\n      setModalSave(false);\r\n\r\n\r\n      const logData = {\r\n        message: `\"${title}\" updated: \"${nameVariable.text}\" updated \"${title}\"`,\r\n        timestamp: formattedTime,\r\n        colorScheme: true,\r\n        keywords: [\r\n          formattedTime.toLowerCase(),\r\n          `\"${title}\" updated: \"${nameVariable.text}\" updated \"${title}\"`.toLowerCase(),\r\n          `${title} updated`.toLowerCase(),\r\n          `\"${title}\" updated`.toLowerCase(),\r\n          'updated'.toLowerCase(),\r\n          title.toLowerCase(),\r\n          nameVariable.text.toLowerCase(),\r\n          year.toLowerCase(),\r\n          month.toLowerCase(),\r\n          monthWithDay.toLowerCase(),\r\n          date.toLowerCase(),\r\n          day.toLowerCase(),\r\n          time.toLowerCase(),\r\n          timeWithMinutesSeconds.toLowerCase(),\r\n        ],\r\n      };\r\n\r\n      addLogToCollection(logData);\r\n\r\n    } catch (error) {\r\n      setModalSaveLoading(false);\r\n      handleModalSaveClose();\r\n      console.error(error);\r\n    }\r\n\r\n\r\n  }, [databaseInit, modalData, dataName, docName]);\r\n\r\n\r\n  const handleSortModalOpen = useCallback(() => {\r\n    setModalIsLoading(true);\r\n    fetchData();\r\n    setModalSortOpen(true);\r\n  }, []);\r\n\r\n  const handleSortModalClose = useCallback(async () => {\r\n    setModalSortOpen(false);\r\n    setModalIsLoading(false);\r\n  }, []);\r\n\r\n  // const handleAddTextChange = () => {\r\n  //   const newText = textAreaAdd.current?.value?.toUpperCase();\r\n  //   textAreaAdd.current?.setNativeProps({ text: newText });\r\n  // };\r\n\r\n\r\n  const handleModalAddOpen = useCallback(() => {\r\n    setModalAddOpen(true);\r\n    handleSortModalClose();\r\n    setModalIsLoading(true);\r\n    textAreaAdd.current.clear();\r\n    textAreaAddCode.current.clear();\r\n  }, [])\r\n\r\n  const handleModalAddClose = useCallback(() => {\r\n    setModalAddOpen(false);\r\n    handleSortModalOpen();\r\n\r\n  }, [])\r\n\r\n  const handleModalAddSuccessClose = useCallback(() => {\r\n    setModalAddSuccess(false);\r\n    // setIsLoading(false);\r\n    handleSortModalOpen();\r\n  }, [])\r\n\r\n  const handleModalAddSuccessOpen = useCallback(() => {\r\n    setModalAddSuccess(true);\r\n    handleSortModalClose();\r\n    setModalAddOpen(false);\r\n    setModalIsLoading(true);\r\n\r\n  }, [])\r\n\r\n  const handleModalSaveOpen = useCallback(() => {\r\n    setModalSave(true);\r\n    setModalSortOpen(false);\r\n    setModalIsLoading(true);\r\n  }, [])\r\n\r\n  const handleModalSaveClose = useCallback(() => {\r\n    setModalSave(false);\r\n    setModalSortOpen(true);\r\n  }, []);\r\n\r\n  const handleAddSubmit = async () => {\r\n\r\n    const data = textAreaAdd.current?.value;\r\n    const dataCode = textAreaAddCode.current?.value;\r\n    const dataArray = data.split('\\n').map((item) => item.trim());\r\n    const dataCodeArray = dataCode.split('\\n').map((item) => item.trim());\r\n\r\n    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n    const { datetime } = response.data;\r\n    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n    const year = moment(datetime).format('YYYY');\r\n    const month = moment(datetime).format('MM');\r\n    const monthWithDay = moment(datetime).format('MM/DD');\r\n    const date = moment(datetime).format('YYYY/MM/DD');\r\n    const day = moment(datetime).format('DD');\r\n    const time = moment(datetime).format('HH:mm');\r\n    const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n\r\n    if (data !== '' && dataCode !== '') {\r\n      setModalSaveLoading(true);\r\n      try {\r\n        const modalCollectionRef = collection(databaseInit, docName);\r\n        const modalDocRef = doc(modalCollectionRef, docName);\r\n\r\n        const dataToUpdate = dataArray.map((data, index) => ({\r\n          id: dataCodeArray[index],\r\n          name: data,\r\n        }));\r\n\r\n        const updateObject = {};\r\n        updateObject[dataName] = arrayUnion(...dataToUpdate);\r\n\r\n        await setDoc(modalDocRef, updateObject, { merge: true });\r\n        // const updateData = {\r\n        //   [dataName]: arrayUnion({ id: arrayUnion(...dataCodeArray), name: arrayUnion(...dataArray) })\r\n        // };\r\n\r\n        // await setDoc(modalDocRef, updateData, { merge: true });\r\n\r\n        const logData = {\r\n          message: `\"${title}\" added: \"${nameVariable.text}\" added \"${title}\"(s).`,\r\n          timestamp: formattedTime,\r\n          colorScheme: true,\r\n          keywords: [\r\n            formattedTime.toLowerCase(),\r\n            `\"${title}\" added: \"${nameVariable.text}\" added \"${title}\"(s).`.toLowerCase(),\r\n            `${title} added`.toLowerCase(),\r\n            `\"${title}\" added`.toLowerCase(),\r\n            'added'.toLowerCase(),\r\n            title.toLowerCase(),\r\n            nameVariable.text.toLowerCase(),\r\n            year.toLowerCase(),\r\n            month.toLowerCase(),\r\n            monthWithDay.toLowerCase(),\r\n            date.toLowerCase(),\r\n            day.toLowerCase(),\r\n            time.toLowerCase(),\r\n            timeWithMinutesSeconds.toLowerCase(),\r\n          ],\r\n        };\r\n        addLogToCollection(logData);\r\n        setModalSaveLoading(false);\r\n\r\n        handleModalAddSuccessOpen();\r\n\r\n\r\n\r\n        console.log('Data added to Firestore');\r\n      } catch (error) {\r\n        console.error('Error adding data to Firestore:', error);\r\n        setModalSaveLoading(false);\r\n      }\r\n    }\r\n    else {\r\n\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box flex={1} justifyContent=\"center\" alignItems={'flex-end'} marginRight={1}>\r\n\r\n        {!modalIsLoading ? (\r\n          <TouchableOpacity onPress={handleSortModalOpen} focusable={false}>\r\n            <Icon as={<MaterialCommunityIcons name=\"playlist-edit\" />} size={5} color=\"white\" />\r\n          </TouchableOpacity>\r\n        ) : (\r\n          <Spinner color=\"white\" />\r\n        )}\r\n\r\n\r\n      </Box>\r\n\r\n      <Modal\r\n        isOpen={modalSortOpen}\r\n        onClose={handleSortModalClose}>\r\n        <Modal.Content>\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>{headerText}</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1}>\r\n            <Box w={'full'} flexDir={'column'}>\r\n              <Box alignItems={'flex-end'}>\r\n                <Pressable onPress={handleModalAddOpen} ><Icon as={<FontAwesome name=\"plus-circle\" />} size={5} color=\"#102A43\" /></Pressable>\r\n              </Box>\r\n\r\n              <Box flex={1} borderWidth={1} borderColor={'#102A43'} borderRadius={5}>\r\n\r\n                <DraggableFlatList\r\n                  style={{ alignContent: 'center', flex: 1, }}\r\n                  data={modalData}\r\n                  keyExtractor={(item) => item.id}\r\n                  renderItem={({ item, drag }) => (\r\n\r\n                    <Box flex={1} bgColor={'rgba(16,42,67, 0.5)'} borderBottomWidth={1} borderBottomColor={'warmGray.400'} flexDir={'row'} justifyContent={'center'} alignItems={'center'}>\r\n                      <Pressable onPress={() => handleDeleteItemPress(item)}><Icon as={<AntDesign name=\"minuscircle\" />} size={4} color=\"#102A43\" /></Pressable>\r\n                      <Text flex={1} textAlign={'center'} color={'white'}>{item.name}</Text>\r\n                      <Pressable onPressIn={drag}><Icon as={<Entypo name=\"menu\" />} size={4} color=\"#102A43\" /></Pressable>\r\n                    </Box>\r\n\r\n                  )}\r\n                  onDragEnd={useCallback(({ data }) => setModalData(data), [])} />\r\n\r\n              </Box>\r\n\r\n            </Box>\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0}>\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleSortModalClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>Close</Button>\r\n              <Button onPress={handleModalSaveOpen} flex={1} size={'sm'} borderRadius={5}>Save</Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n      <Modal\r\n        isOpen={modalSave}\r\n        onClose={handleModalSaveClose}>\r\n        <Modal.Content >\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>Save Order?</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1} >\r\n\r\n            <Text>Are you sure you want to save changes?</Text>\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} >\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleModalSaveClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>No</Button>\r\n              <Button onPress={handleSave} flex={1} size={'sm'} borderRadius={5} isLoading={modalSaveLoading ? true : false}>Yes</Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n      <Modal\r\n        isOpen={modalAddOpen}\r\n        onClose={handleModalAddClose}\r\n        initialFocusRef={textAreaAddCode}\r\n        size={'lg'}>\r\n        <Modal.Content>\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>Add {title}</Text>\r\n          </Modal.Header>\r\n          {/* <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1} w={'full'}> */}\r\n          <HStack space={5} flex={1} margin={2}>\r\n            <VStack space={1} flex={1}>\r\n              <Text textAlign={'center'}>Code</Text>\r\n              <TextArea\r\n                flex={2}\r\n                textAlign={'center'}\r\n                w={'full'}\r\n                ref={textAreaAddCode}\r\n                multiline\r\n                onChangeText={handleAddCodeTextChange}\r\n                totalLines={8}\r\n                placeholder=\"Enter your data, separated by new lines\"\r\n              />\r\n            </VStack>\r\n            <VStack space={1} flex={1}>\r\n              <Text textAlign={'center'}>Name</Text>\r\n              <TextArea\r\n                flex={2}\r\n                textAlign={'center'}\r\n                w={'full'}\r\n                ref={textAreaAdd}\r\n                multiline\r\n                onChangeText={handleAddTextChange}\r\n                totalLines={8}\r\n                placeholder=\"Enter your data, separated by new lines\"\r\n              />\r\n            </VStack>\r\n          </HStack>\r\n          {/* </Modal.Body> */}\r\n          <Modal.Footer borderTopWidth={0}>\r\n            <HStack space={5} flex={1}>\r\n              <Button\r\n                onPress={handleModalAddClose}\r\n                colorScheme={'muted'}\r\n                flex={1}\r\n                size={'sm'}\r\n                borderRadius={5}>\r\n                Close\r\n              </Button>\r\n              <Button\r\n                onPress={handleAddSubmit}\r\n                isLoading={modalSaveLoading ? true : false}\r\n                flex={1}\r\n                size={'sm'}\r\n                borderRadius={5}>\r\n                Add\r\n              </Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n      {/* <SuccessModal isOpen={modalAddMakeSuccess} onClose={handleModalAddMakeSuccessClose} headerText={'Added successfully!'} bodyText={'Added successfully!'}/> */}\r\n      <Modal isOpen={modalAddSuccess} onClose={handleModalAddSuccessClose} >\r\n        <Modal.Content bgColor={'green.100'}>\r\n          <Modal.Header borderBottomWidth={0} bgColor={'green.100'}>\r\n            <Text textAlign={'center'} color={'#102A43'} bold>\r\n               Success! \r\n            </Text>\r\n          </Modal.Header>\r\n          <Modal.Body\r\n            justifyContent={'center'}\r\n            alignItems={'center'}\r\n            bgColor={'green.200'}\r\n            borderLeftWidth={4}\r\n            borderLeftColor={'green.600'}\r\n            margin={5}\r\n          >\r\n            <Box flex={1}>\r\n              <Text color={'green.600'} bold>\r\n                Added successfully!\r\n              </Text>\r\n              <Text color={'green.600'}>\r\n                Added successfully!\r\n              </Text>\r\n            </Box>\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} bgColor={'green.100'}>\r\n            <HStack space={5} flex={1}>\r\n              <Button colorScheme={'success'} flex=\"1\" onPress={handleModalAddSuccessClose} _text={{ color: 'white' }}>\r\n                Ok\r\n              </Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n    </>\r\n\r\n\r\n  );\r\n};\r\n\r\n\r\n\r\nconst ModelSortAndAddModal = ({ selectMakeForAddModelRef, selectMakeForModelRef, textAreaAddModel, makeData }) => {\r\n\r\n  const [modalAddModel, setModalAddModel] = useState(false);\r\n  const [modalSaveModel, setModalSaveModel] = useState(false);\r\n  const [modalModel, setModalModel] = useState(false);\r\n  const [modalAddModelSuccess, setModalAddModelSuccess] = useState(false);\r\n  const [keySelectMakeForModel, setKeySelectMakeForModel] = useState(1);\r\n  const [keySelectMakeForAddModel, setKeySelectMakeForAddModel] = useState(1);\r\n  const [modelSortData, setModelSortData] = useState([]);\r\n  const [isAddModelDisabled, setIsAddModelDisabled] = useState(false);\r\n  const [modalSaveModelLoading, setModalSaveModelLoading] = useState(false);\r\n  const [isSuccessModalOpen, setIsSuccessModalOpen] = useState(false);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [modalIsLoading, setModalIsLoading] = useState(false);\r\n  const [modalSaveLoading, setModalSaveLoading] = useState(false);\r\n\r\n  const fetchModelSortData = async () => {\r\n\r\n    if (selectMakeForModelRef.current?.value !== '__NativebasePlaceholder__') {\r\n\r\n      const modelSortDocRef = doc(collection(projectExtensionFirestore, 'Model'), selectMakeForModelRef.current?.value);\r\n      const modelSortDocSnap = await getDoc(modelSortDocRef);\r\n      if (modelSortDocSnap.exists()) {\r\n        setModelSortData(modelSortDocSnap.data()?.model || []);\r\n\r\n      }\r\n      else {\r\n        setModelSortData([]);\r\n      }\r\n\r\n    }\r\n\r\n\r\n  };\r\n\r\n  // useEffect(() => {\r\n\r\n  //   if (selectMakeForModelRef.current?.value !== '__NativebasePlaceholder__') {\r\n\r\n  //     const unsubscribe = onSnapshot(doc(collection(projectExtensionFirestore, 'Model'), selectMakeForModelRef.current?.value), (snapshot) => {\r\n  //       setModelSortData(snapshot.data()?.model || []);\r\n  //       return () => unsubscribe();\r\n  //     });\r\n\r\n  //   }\r\n\r\n  // }, []);\r\n\r\n  const handleDeleteModelPress = useCallback(\r\n    (item) => {\r\n      setModelSortData((prevModelData) => {\r\n        const updatedModelData = prevModelData.filter((model) => model !== item);\r\n        return updatedModelData;\r\n      });\r\n    },\r\n    []\r\n  );\r\n\r\n  const addLogToCollection = async (data) => {\r\n    try {\r\n      const logsCollectionRef = collection(projectControlFirestore, 'logs');\r\n\r\n      // Add a new document to the \"logs\" collection\r\n      await addDoc(logsCollectionRef, data);\r\n\r\n      console.log('Document added successfully!');\r\n    } catch (error) {\r\n      console.error('Error adding document:', error);\r\n    }\r\n  };\r\n\r\n  const handleSaveModel = useCallback(async () => {\r\n    setModalSaveModelLoading(true);\r\n    console.log(selectMakeForModelRef.current?.value);\r\n\r\n    if (selectMakeForModelRef.current?.value !== '__NativebasePlaceholder__') {\r\n      try {\r\n        await updateDoc(doc(collection(projectExtensionFirestore, 'Model'), selectMakeForModelRef.current?.value), { model: modelSortData });\r\n        setModalSaveModelLoading(false);\r\n\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        const logData = {\r\n          message: `Model updated: \"${nameVariable.text}\" updated the Model(s) for \"${selectMakeForModelRef.current?.value}\"`,\r\n          timestamp: formattedTime,\r\n          colorScheme: true,\r\n          keywords: [\r\n            formattedTime.toLowerCase(),\r\n            `Model updated: \"${nameVariable.text}\" updated the Model(s) for \"${selectMakeForModelRef.current?.value}\"`.toLowerCase(),\r\n            'Model Update'.toLowerCase(),\r\n            'Model'.toLowerCase(),\r\n            'Update'.toLowerCase(),\r\n            selectMakeForModelRef.current.value.toLowerCase(),\r\n            nameVariable.text.toLowerCase(),\r\n            year.toLowerCase(),\r\n            month.toLowerCase(),\r\n            monthWithDay.toLowerCase(),\r\n            date.toLowerCase(),\r\n            day.toLowerCase(),\r\n            time.toLowerCase(),\r\n            timeWithMinutesSeconds.toLowerCase(),\r\n          ],\r\n        };\r\n\r\n        addLogToCollection(logData);\r\n\r\n        handleModalSaveModelClose();\r\n      } catch (error) {\r\n        console.error(error);\r\n        setModalSaveModelLoading(false);\r\n        handleModalSaveModelClose();\r\n      }\r\n\r\n    }\r\n    else {\r\n      setModalSaveModelLoading(false);\r\n    }\r\n\r\n\r\n\r\n\r\n  }, [projectExtensionFirestore, modelSortData]);\r\n\r\n  const handleAddModelTextChange = () => {\r\n    const newText = textAreaAddModel.current?.value?.toUpperCase();\r\n    textAreaAddModel.current?.setNativeProps({ text: newText });\r\n\r\n  };\r\n\r\n  const handleMakeForModelChange = useCallback(() => {\r\n    makeForAddModelVariable.text = selectMakeForAddModelRef.current?.value;\r\n    fetchModelSortData();\r\n\r\n    // console.log(selectMakeForModelRef.current?.value);\r\n  }, []);\r\n\r\n  const handleMakeForAddModelChange = useCallback(() => {\r\n    setIsAddModelDisabled(false);\r\n\r\n  }, []);\r\n\r\n\r\n  const handleModalModelOpen = useCallback(() => {\r\n    setModalIsLoading(true);\r\n    setModalModel(true);\r\n    fetchModelSortData();\r\n    setIsLoading(true);\r\n  }, []);\r\n\r\n  const handleModalModelClose = useCallback(() => {\r\n    setModalIsLoading(false);\r\n\r\n    setModalModel(false);\r\n    setIsLoading(false);\r\n    setKeySelectMakeForModel(prevKey => prevKey + 1);\r\n    setModelSortData([]);\r\n  }, []);\r\n\r\n  const handleModalAddModelOpen = useCallback(() => {\r\n    setModalIsLoading(true);\r\n    setModalAddModel(true);\r\n    // handleModalModelClose();\r\n    setModalModel(false);\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  const handleModalAddModelClose = useCallback(() => {\r\n    handleModalModelOpen();\r\n    setModalAddModel(false);\r\n    textAreaAddModel.current.clear();\r\n    setIsAddModelDisabled(true);\r\n    setIsLoading(false);\r\n    setKeySelectMakeForAddModel(prevKey => prevKey + 1);\r\n\r\n  }, []);\r\n\r\n  const handleModalAddModelSuccessOpen = useCallback(() => {\r\n    setModalIsLoading(true);\r\n    setModalAddModel(false);\r\n    setModalModel(false);\r\n    textAreaAddModel.current.clear();\r\n    setModalAddModelSuccess(true);\r\n\r\n\r\n  }, []);\r\n\r\n  const handleModalAddModelSuccessClose = useCallback(() => {\r\n    setModalAddModelSuccess(false);\r\n    handleModalModelOpen();\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  const handleModalSaveModelOpen = useCallback(() => {\r\n    setModalIsLoading(true);\r\n\r\n    if (selectMakeForModelRef.current?.value !== '__NativebasePlaceholder__') {\r\n      setModalSaveModel(true);\r\n      // handleModalModelClose();\r\n      setModalModel(false);\r\n      setIsLoading(false);\r\n    }\r\n\r\n\r\n  }, []);\r\n\r\n\r\n  const handleModalSaveModelClose = useCallback(() => {\r\n    setModalSaveModel(false);\r\n    handleModalModelOpen();\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  const handleAddModelSubmit = async () => {\r\n    const data = textAreaAddModel.current?.value;\r\n    const dataArray = data.split('\\n').map((item) => item.trim());\r\n\r\n    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n    const { datetime } = response.data;\r\n    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n    const year = moment(datetime).format('YYYY');\r\n    const month = moment(datetime).format('MM');\r\n    const monthWithDay = moment(datetime).format('MM/DD');\r\n    const date = moment(datetime).format('YYYY/MM/DD');\r\n    const day = moment(datetime).format('DD');\r\n    const time = moment(datetime).format('HH:mm');\r\n    const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n    if (data !== '') {\r\n      setModalSaveLoading(true);\r\n      try {\r\n\r\n        const makeCollectionRef = collection(projectExtensionFirestore, 'Model');\r\n        const makeDocRef = doc(makeCollectionRef, selectMakeForAddModelRef.current?.value);\r\n        await setDoc(makeDocRef, { model: arrayUnion(...dataArray) }, { merge: true });\r\n\r\n        const logData = {\r\n          message: `Model Added: \"${nameVariable.text}\" added Model(s) for \"${selectMakeForAddModelRef.current?.value}\" .`,\r\n          timestamp: formattedTime,\r\n          colorScheme: true,\r\n          keywords: [\r\n            formattedTime.toLowerCase(),\r\n            `Model Added: \"${nameVariable.text}\" added Model(s) for \"${selectMakeForAddModelRef.current?.value}\" .`.toLowerCase(),\r\n            'Model Added'.toLowerCase(),\r\n            'Model'.toLowerCase(),\r\n            'Added'.toLowerCase(),\r\n            selectMakeForAddModelRef.current.value.toLowerCase(),\r\n            nameVariable.text.toLowerCase(),\r\n            year.toLowerCase(),\r\n            month.toLowerCase(),\r\n            monthWithDay.toLowerCase(),\r\n            date.toLowerCase(),\r\n            day.toLowerCase(),\r\n            time.toLowerCase(),\r\n            timeWithMinutesSeconds.toLowerCase(),\r\n          ],\r\n        };\r\n        setModalSaveLoading(false);\r\n        addLogToCollection(logData);\r\n\r\n        handleModalAddModelSuccessOpen();\r\n\r\n        console.log('Data added to Firestore');\r\n      } catch (error) {\r\n        console.error('Error adding data to Firestore:', error);\r\n        setModalSaveLoading(false);\r\n      }\r\n    }\r\n    else {\r\n\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n\r\n      <Box flex={1} justifyContent=\"center\" alignItems={'flex-end'} marginRight={1}>\r\n\r\n        {!modalIsLoading ? (\r\n          <TouchableOpacity focusable={false} onPress={handleModalModelOpen}>\r\n            <Icon as={<MaterialCommunityIcons name=\"playlist-edit\" />} size={5} color=\"white\" />\r\n          </TouchableOpacity>\r\n        ) :\r\n          (<Spinner color=\"white\" />)\r\n        }\r\n\r\n      </Box>\r\n\r\n      <Modal\r\n        isOpen={modalModel}\r\n        onClose={handleModalModelClose} >\r\n        <Modal.Content >\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>Rearrange/Add Model</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1} >\r\n            <Box w={'full'} flexDir={'column'} height={'f'}>\r\n              <Box alignItems={'flex-end'}>\r\n                <Pressable onPress={handleModalAddModelOpen}><Icon as={<FontAwesome name=\"plus-circle\" />} size={5} color=\"#102A43\" /></Pressable>\r\n              </Box>\r\n              <Box>\r\n                <Select key={keySelectMakeForModel} ref={selectMakeForModelRef} onValueChange={handleMakeForModelChange} accessibilityLabel=\"Choose Make\" placeholder=\"Choose Make\" _selectedItem={{\r\n                  bg: \"teal.600\",\r\n                  endIcon: <CheckIcon size=\"5\" />\r\n                }}>\r\n                  {makeData.map((item) => (\r\n\r\n                    <Select.Item key={item} label={item} value={item} />\r\n\r\n                  ))}\r\n                </Select>\r\n              </Box>\r\n              <Box flex={1} borderWidth={1} borderColor={'#102A43'} borderRadius={5}>\r\n\r\n                <DraggableFlatList\r\n                  style={{ alignContent: 'center', flex: 1, }}\r\n                  data={modelSortData}\r\n                  keyExtractor={(item) => item}\r\n                  renderItem={({ item, drag }) => (\r\n\r\n                    <Box flex={1} bgColor={'rgba(16, 42, 67, 0.5)'} borderBottomWidth={1} borderBottomColor={'warmGray.400'} flexDir={'row'} justifyContent={'center'} alignItems={'center'}>\r\n                      <Pressable onPress={() => handleDeleteModelPress(item)}><Icon as={<AntDesign name=\"minuscircle\" />} size={4} color=\"#102A43\" /></Pressable>\r\n                      <Text flex={1} textAlign={'center'} color={'white'}>{item}</Text>\r\n                      <Pressable onPressIn={drag}><Icon as={<Entypo name=\"menu\" />} size={4} color=\"#102A43\" /></Pressable>\r\n                    </Box>\r\n\r\n                  )}\r\n                  onDragEnd={useCallback(({ data }) => setModelSortData(data), [])} />\r\n\r\n              </Box>\r\n\r\n            </Box>\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} >\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleModalModelClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>Close</Button>\r\n              <Button onPress={handleModalSaveModelOpen} flex={1} size={'sm'} borderRadius={5}>Save</Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n\r\n\r\n\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n      <Modal\r\n        isOpen={modalAddModel}\r\n        onClose={handleModalAddModelClose}\r\n        initialFocusRef={selectMakeForAddModelRef}>\r\n        <Modal.Content >\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>Add Model</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1} >\r\n            <Select key={keySelectMakeForAddModel} ref={selectMakeForAddModelRef} onValueChange={handleMakeForAddModelChange} accessibilityLabel=\"Choose Make\" placeholder=\"Choose Make\" _selectedItem={{\r\n              bg: \"teal.600\",\r\n              endIcon: <CheckIcon size=\"5\" />\r\n            }}>\r\n              {makeData.map((item) => (\r\n\r\n                <Select.Item key={item} label={item} value={item} />\r\n\r\n              ))}\r\n            </Select>\r\n            <TextArea\r\n              textAlign={'center'}\r\n              w={'full'}\r\n              ref={textAreaAddModel}\r\n              multiline\r\n              onChangeText={handleAddModelTextChange}\r\n              totalLines={4}\r\n              placeholder=\"Enter your data, separated by new lines\"\r\n              isDisabled={isAddModelDisabled ? true : false}\r\n            />\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} >\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleModalAddModelClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>Close</Button>\r\n              <Button onPress={handleAddModelSubmit} isLoading={modalSaveLoading ? true : false} flex={1} size={'sm'} borderRadius={5}>Add</Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n\r\n\r\n      <Modal\r\n        isOpen={modalSaveModel}\r\n        onClose={handleModalSaveModelClose}>\r\n        <Modal.Content >\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>Save Model Order?</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1} >\r\n\r\n            <Text>Are you sure you want to save changes?</Text>\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} >\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleModalSaveModelClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>No</Button>\r\n              <Button onPress={handleSaveModel} flex={1} size={'sm'} borderRadius={5} isLoading={modalSaveModelLoading ? true : false}>Yes</Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n      <Modal isOpen={modalAddModelSuccess} onClose={handleModalAddModelSuccessClose} >\r\n        <Modal.Content bgColor={'green.100'}>\r\n          <Modal.Header borderBottomWidth={0} bgColor={'green.100'}>\r\n            <Text textAlign={'center'} color={'#102A43'} bold>\r\n               Success! \r\n            </Text>\r\n          </Modal.Header>\r\n          <Modal.Body\r\n            justifyContent={'center'}\r\n            alignItems={'center'}\r\n            bgColor={'green.200'}\r\n            borderLeftWidth={4}\r\n            borderLeftColor={'green.600'}\r\n            margin={5}\r\n          >\r\n            <Box flex={1}>\r\n              <Text color={'green.600'} bold>\r\n                Model Added!\r\n                {/* Vehicle Added! */}\r\n              </Text>\r\n              <Text color={'green.600'}>\r\n                Model was successfully added! You can view it in the model list.\r\n                {/* Vehicle was successfully added! You can view it in the vehicle list. */}\r\n              </Text>\r\n            </Box>\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} bgColor={'green.100'}>\r\n            <HStack space={5} flex={1}>\r\n              <Button colorScheme={'success'} flex=\"1\" onPress={handleModalAddModelSuccessClose} _text={{ color: 'white' }}>\r\n                Ok\r\n              </Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\n\r\nconst referenceNumberVariable = {\r\n  text: \"\",\r\n};\r\n\r\n\r\nconst nameVariable = {\r\n  text: \"\",\r\n};\r\n\r\n\r\nconst makeVariable = {\r\n  text: \"\",\r\n};\r\n\r\nconst makeForAddModelVariable = {\r\n  text: \"\",\r\n};\r\n\r\n\r\n\r\nconst modelVariable = {\r\n  text: \"\",\r\n};\r\n\r\nconst regYearVariable = {\r\n  text: \"\",\r\n};\r\n\r\nconst regMonthVariable = {\r\n  text: \"\",\r\n};\r\n\r\nconst steeringVariable = {\r\n  text: \"\",\r\n};\r\n\r\nconst transmissionVariable = {\r\n  text: \"\",\r\n};\r\n\r\nconst exteriorColorVariable = {\r\n  text: \"\",\r\n};\r\n\r\nconst fuelVariable = {\r\n  text: \"\",\r\n};\r\n\r\nconst portVariable = {\r\n  text: \"\",\r\n  id: \"\",\r\n};\r\n\r\nconst salesVariable = {\r\n  text: \"\",\r\n  id: \"\",\r\n};\r\n\r\nconst buyerVariable = {\r\n  text: \"\",\r\n  id: \"\",\r\n};\r\n\r\nconst driveTypeVariable = {\r\n  text: \"\",\r\n};\r\n\r\nconst bodyTypeVariable = {\r\n  text: \"\",\r\n};\r\n\r\nconst stockStatusVariable = {\r\n  text: \"\",\r\n};\r\n\r\n\r\nlet resetKey = 0;\r\nconst featuresState = {\r\n  SafetySystemAnBrSy: false,\r\n  SafetySystemDrAi: false,\r\n  SafetySystemPaAi: false,\r\n  SafetySystemSiAi: false,\r\n  ComfortAiCoFr: false,\r\n  ComfortAiCoRe: false,\r\n  ComfortAMFMRa: false,\r\n  ComfortAMFMSt: false,\r\n  ComfortCDPl: false,\r\n  ComfortCDCh: false,\r\n  ComfortCrSpCo: false,\r\n  ComfortDiSp: false,\r\n  ComfortDVDPl: false,\r\n  ComfortHDD: false,\r\n  ComfortNaSyGPS: false,\r\n  ComfortPoSt: false,\r\n  ComfortPrAuSy: false,\r\n  ComfortReKeSy: false,\r\n  ComfortTiStWh: false,\r\n  InteriorLeSe: false,\r\n  InteriorPoDoLo: false,\r\n  InteriorPoMi: false,\r\n  InteriorPoSe: false,\r\n  InteriorPoWi: false,\r\n  InteriorReWiDe: false,\r\n  InteriorReWiWi: false,\r\n  InteriorThRoSe: false,\r\n  InteriorTiGl: false,\r\n  ExteriorAlWh: false,\r\n  ExteriorPoSlDo: false,\r\n  ExteriorSuRo: false,\r\n  SellingPointsCuWh: false,\r\n  SellingPointsFuLo: false,\r\n  SellingPointsMaHiAv: false,\r\n  SellingPointsBrNeTi: false,\r\n  SellingPointsNoAcHi: false,\r\n  SellingPointsNoSmPrOw: false,\r\n  SellingPointsOnOwHi: false,\r\n  SellingPointsPeRaTi: false,\r\n  SellingPointsReBo: false,\r\n  SellingPointsTuEn: false,\r\n  SellingPointsUpAuSy: false,\r\n};\r\n\r\nconst CheckBoxButton = ({ label, onChange, variable }) => {\r\n  const [checked, setChecked] = useState(variable);\r\n\r\n  // useEffect(() => {console.log(checked)}, [checked])\r\n\r\n  const handlePress = () => {\r\n\r\n    setChecked(!checked);\r\n    onChange(!checked);\r\n\r\n  };\r\n\r\n  return (\r\n    <TouchableOpacity\r\n      style={{ flex: 1, justifyContent: 'center', }}\r\n      onPress={handlePress}\r\n    >\r\n      <Box\r\n        justifyContent=\"center\"\r\n        alignItems=\"center\"\r\n        borderRadius={3}\r\n        bgColor={checked ? '#7b9cff' : 'white'}\r\n        margin={1}\r\n        overflow={'hidden'}\r\n        // h={50}\r\n        // w={180}\r\n        padding={2}\r\n        borderWidth={1}\r\n        borderColor={checked ? 'white' : 'muted.400'}\r\n      >\r\n        <Text\r\n          // fontSize={[9, 11, 12, 11, 12, 13]}\r\n          // maxW={[85, 100, 180, 100, 130, 180]}\r\n          textAlign={'center'}\r\n          noOfLines={3}\r\n          color={checked ? 'white' : 'muted.400'}\r\n        >\r\n          {label}\r\n        </Text>\r\n      </Box>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\n\r\n\r\nexport default function AddVehicle() {\r\n  const screenWidth = Dimensions.get('window').width;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  const loginName = useSelector((state) => state.loginName);\r\n\r\n  const [renderLoading, setRenderLoading] = useState(false);\r\n  const [email, setEmail] = useState('');\r\n  const [type, setType] = useState('');\r\n  const logo = require('../../assets/C-Hub.png');\r\n  const logo2 = require('../../assets/C-Hub Logo Only.png');\r\n\r\n  const [name, setName] = useState(loginName);\r\n  // const navigation = useNavigation();\r\n  const navigate = useNavigate();\r\n\r\n  const [widthState, setWidthState] = useState(Dimensions.get('window').width);\r\n\r\n  const dragSortableViewRef = useRef();\r\n\r\n  nameVariable.text = loginName;\r\n\r\n  const inputCarNotes = useRef(null);\r\n  const inputCarMemo = useRef(null);\r\n  const inputCarName = useRef(null);\r\n  const inputCarDesc = useRef(null);\r\n  const inputFobJpy = useRef(null);\r\n  const inputFobUsd = useRef(null);\r\n  const inputRegYear = useRef(null);\r\n  const selectRegYear = useRef(null);\r\n  const selectRegMonth = useRef(null);\r\n  const inputRegMonth = useRef(null);\r\n  const inputRefNum = useRef(null);\r\n  const inputStockIDNumber = useRef(null);\r\n  const inputChassis = useRef(null);\r\n  const inputModelCode = useRef(null);\r\n  const inputEngineCode = useRef(null);\r\n  const inputEngineDis = useRef(null);\r\n  const selectSteering = useRef(null);\r\n  const inputMileage = useRef(null);\r\n  const selectTransmission = useRef(null);\r\n  const selectExteriorColor = useRef(null);\r\n  const inputNumOfSeats = useRef(null);\r\n  const inputDoors = useRef(null);\r\n  const inputPurchasedPrice = useRef(null);\r\n  const inputFuel = useRef(null);\r\n  const selectFuel = useRef(null);\r\n  const selectPort = useRef(null);\r\n  const selectSales = useRef(null);\r\n  const selectBuyer = useRef(null);\r\n  const selectDriveType = useRef(null);\r\n  const inputDimensionLength = useRef(null);\r\n  const inputDimensionWidth = useRef(null);\r\n  const inputDimensionHeight = useRef(null);\r\n  const inputDimensionCubicMeters = useRef(null);\r\n  const inputDriveType = useRef(null);\r\n  const inputWeight = useRef(null);\r\n  const selectBodyType = useRef(null);\r\n  const selectStockStatus = useRef(null);\r\n  const textAreaAddMake = useRef(null);\r\n  const textAreaAddModel = useRef(null);\r\n  const textAreaAddTransmission = useRef(null);\r\n  const textAreaAddExteriorColor = useRef(null);\r\n  const textAreaAddFuel = useRef(null);\r\n  const textAreaAddPort = useRef(null);\r\n  const textAreaAddPortCode = useRef(null);\r\n  const textAreaAddSales = useRef(null);\r\n  const textAreaAddBuyer = useRef(null);\r\n  const textAreaAddSalesCode = useRef(null);\r\n  const textAreaAddBuyerCode = useRef(null);\r\n  const textAreaAddDriveType = useRef(null);\r\n  const textAreaAddBodyType = useRef(null);\r\n  const textAreaAddExpenseName = useRef(null);\r\n  const textAreaAddPaidTo = useRef(null);\r\n  const inputExpenseAmount = useRef(null);\r\n\r\n  // const supplyChainsCostsData = useSelector((state) => state.supplyChainsCostsData);\r\n  const paidToData = useSelector((state) => state.paidToData);\r\n  // const selectedImages = useSelector((state) => state.selectedImages);\r\n  const portData = useSelector((state) => state.portData);\r\n  const isLoading = useSelector((state) => state.isLoading);\r\n  const transmissionData = useSelector((state) => state.transmissionData);\r\n  const fuelData = useSelector((state) => state.fuelData);\r\n  const buyerData = useSelector((state) => state.buyerData);\r\n  const salesData = useSelector((state) => state.salesData);\r\n  const driveTypeData = useSelector((state) => state.driveTypeData);\r\n  const bodyTypeData = useSelector((state) => state.bodyTypeData);\r\n  const stockStatusData = useSelector((state) => state.stockStatusData);\r\n  const exteriorColorData = useSelector((state) => state.exteriorColorData);\r\n  const jpyToUsd = useSelector((state) => state.jpyToUsd);\r\n  const currentYear = useSelector((state) => state.currentYear);\r\n\r\n  const minYear = 1970;\r\n  const years = Array.from({ length: currentYear - minYear + 1 }, (_, index) => currentYear - index);\r\n  globalRegYearDataVariable = years;\r\n\r\n\r\n\r\n\r\n  const steeringData = ['Left', 'Right'];\r\n\r\n\r\n  const selectMakeRef = useRef(null);\r\n  const selectModelRef = useRef(null);\r\n\r\n  const selectMakeForModelRef = useRef(null);\r\n  const selectMakeForAddModelRef = useRef(null);\r\n\r\n\r\n  const [isNoFeaturesSelected, setIsNoFeaturesSelected] = useState('white');\r\n\r\n\r\n  const [carNameError, setCarNameError] = useState('muted.500');\r\n  const [makeError, setMakeError] = useState('white');\r\n  const [modelError, setModelError] = useState('white');\r\n  const [regYearError, setRegYearError] = useState('white');\r\n  const [regMonthError, setRegMonthError] = useState('white');\r\n  const [refNumError, setRefNumError] = useState('white');\r\n  const [stockIDNumError, setStockIDNumError] = useState('white');\r\n  const [chassisError, setChassisError] = useState('white');\r\n  const [modelCodeError, setModelCodeError] = useState('white');\r\n  const [engineDisError, setEngineDisError] = useState('white');\r\n  const [steeringError, setSteeringError] = useState('white');\r\n  const [mileageError, setMileageError] = useState('white');\r\n  const [transmissionError, setTransmissionError] = useState('white');\r\n  const [exteriorColoError, setExteriorColoError] = useState('white');\r\n  const [numOfSeatsError, setNumOfSeatsError] = useState('white');\r\n  const [doorsError, setDoorsError] = useState('white');\r\n  const [purchasedPriceError, setPurchasedPriceError] = useState('white');\r\n  const [fuelError, setFuelError] = useState('white');\r\n  const [portError, setPortError] = useState('white');\r\n  const [buyerError, setBuyerError] = useState('white');\r\n  const [salesError, setSalesError] = useState('white');\r\n  const [dimensionLengthError, setDimensionLengthError] = useState('white');\r\n  const [dimensionWidthError, setDimensionWidthError] = useState('white');\r\n  const [dimensionHeightError, setDimensionHeightError] = useState('white');\r\n  const [driveTypeError, setDriveTypeError] = useState('white');\r\n  const [weightError, setWeightError] = useState('white');\r\n  const [bodyTypeError, setBodyTypeError] = useState('white');\r\n  const [stockStatusError, setStockStatusError] = useState('white');\r\n\r\n\r\n\r\n  const inputVehicleBoxRef = useRef(null);\r\n\r\n\r\n  const selectMakeBoxRef = useRef(null);\r\n  const selectModelBoxRef = useRef(null);\r\n  const selectRegYearBoxRef = useRef(null);\r\n  const selectRegMonthBoxRef = useRef(null);\r\n  const selectSteeringBoxRef = useRef(null);\r\n  const selectTransmissionBoxRef = useRef(null);\r\n  const selectExteriorColorBoxRef = useRef(null);\r\n  const selectFuelBoxRef = useRef(null);\r\n  const selectPortBoxRef = useRef(null);\r\n  const selectBuyerBoxRef = useRef(null);\r\n  const selectSalesBoxRef = useRef(null);\r\n  const selectDriveTypeBoxRef = useRef(null);\r\n  const selectBodyTypeBoxRef = useRef(null);\r\n  const selectStockStatusBoxRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n\r\n    handleClearImages();\r\n\r\n    dispatch(setSupplyChainsCostsData([]));\r\n    dispatch(setDeleteImageVisible(true));\r\n    portVariable.id = '';\r\n    portVariable.text = '';\r\n    salesVariable.id = '';\r\n    salesVariable.text = '';\r\n    buyerVariable.id = '';\r\n    buyerVariable.text = '';\r\n    makeVariable.text = '';\r\n    modelVariable.text = '';\r\n    regYearVariable.text = '';\r\n    regMonthVariable.text = '';\r\n    steeringVariable.text = '';\r\n    transmissionVariable.text = '';\r\n    exteriorColorVariable.text = '';\r\n    fuelVariable.text = '';\r\n    driveTypeVariable.text = '';\r\n    bodyTypeVariable.text = '';\r\n    stockStatusVariable.text = '';\r\n    Object.keys(featuresState).forEach(property => {\r\n      featuresState[property] = false;\r\n    });\r\n\r\n    console.log('Sample');\r\n\r\n    const currentUserEmail = getEmailOfCurrentUser();\r\n    if (currentUserEmail) {\r\n      getFieldValueByEmail(currentUserEmail);\r\n      setEmail(currentUserEmail)\r\n      const documentId = currentUserEmail;\r\n    }\r\n  }, []);\r\n\r\n\r\n  const getFieldValueByEmail = async (email) => {\r\n    try {\r\n      const accountDocRef = doc(firestore, 'accounts', email);\r\n      const accountDocSnapshot = await getDoc(accountDocRef);\r\n\r\n      if (accountDocSnapshot.exists()) {\r\n        const data = accountDocSnapshot.data();\r\n        const fieldType = data.type;\r\n        const fieldName = data.name;\r\n        dispatch(setLoginName(data.name));\r\n\r\n      } else {\r\n        console.log('Document does not exist');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching field value:', error);\r\n    }\r\n  };\r\n\r\n\r\n  const handleClearImages = useCallback(() => {\r\n    dispatch(setSelectedImages([]));\r\n    globalSelectedImages = [];\r\n    dispatch(setIsAddPhotoVisible(true));\r\n    dispatch(setAddAnotherImages(false));\r\n  }, []);\r\n\r\n\r\n  const handleClearIfError = useCallback(() => {\r\n\r\n\r\n    handleClearToggleButton();\r\n    clearSelect();\r\n\r\n    inputCarName.current?.clear();\r\n    inputCarDesc.current?.clear();\r\n    inputFobJpy.current?.clear();\r\n    inputFobUsd.current?.clear();\r\n\r\n    inputRegYear.current?.clear();\r\n    inputRegMonth.current?.clear();\r\n    inputRefNum.current?.clear();\r\n    inputChassis.current?.clear();\r\n    inputModelCode.current?.clear();\r\n    inputEngineCode.current?.clear();\r\n    inputEngineDis.current?.clear();\r\n    inputMileage.current?.clear();\r\n    inputNumOfSeats.current?.clear();\r\n    inputDoors.current?.clear();\r\n    inputPurchasedPrice.current?.clear();\r\n    inputFuel.current?.clear();\r\n    inputDimensionLength.current?.clear();\r\n    inputDimensionWidth.current?.clear();\r\n    inputDimensionHeight.current?.clear();\r\n    inputDimensionCubicMeters.current.value = \"0.00\";\r\n    inputDriveType.current?.clear();\r\n    inputWeight.current?.clear();\r\n\r\n    makeVariable.text = '';\r\n    modelVariable.text = '';\r\n    regYearVariable.text = '';\r\n    regMonthVariable.text = '';\r\n    steeringVariable.text = '';\r\n    transmissionVariable.text = '';\r\n    exteriorColorVariable.text = '';\r\n    fuelVariable.text = '';\r\n    portVariable.text = '';\r\n    salesVariable.text = '';\r\n    buyerVariable.text = '';\r\n    portVariable.id = '';\r\n    salesVariable.id = '';\r\n    buyerVariable.id = '';\r\n    driveTypeVariable.text = '';\r\n    bodyTypeVariable.text = '';\r\n    stockStatusVariable.text = '';\r\n    setIsNoFeaturesSelected('white');\r\n\r\n    setMakeError('white');\r\n    setModelError('white');\r\n    setRegYearError('white');\r\n    setRegMonthError('white');\r\n    setRefNumError('white');\r\n    setStockIDNumError('white');\r\n    setChassisError('white');\r\n    setModelCodeError('white');\r\n    setEngineDisError('white');\r\n    setSteeringError('white');\r\n    setMileageError('white');\r\n    setTransmissionError('white');\r\n    setExteriorColoError('white');\r\n    setNumOfSeatsError('white');\r\n    setDoorsError('white');\r\n    setPurchasedPriceError('white');\r\n    setFuelError('white');\r\n    setPortError('white');\r\n    setSalesError('white');\r\n    setBuyerError('white');\r\n    setDimensionLengthError('white');\r\n    setDimensionWidthError('white');\r\n    setDimensionHeightError('white');\r\n    setDriveTypeError('white');\r\n    setWeightError('white');\r\n    setBodyTypeError('white');\r\n    setStockStatusError('white');\r\n    setCarNameError('muted.500');\r\n\r\n    setIsNoFeaturesSelected('white');\r\n\r\n  }, []);\r\n\r\n  // const uploadImages = useCallback(async () => {\r\n  //   const storageRef = ref(storage, `${globalVehicleFolderName}`);\r\n  //   const ImageFormat = { jpg: 'jpg' };\r\n\r\n  //   try {\r\n  //     // Get the names of the images to keep\r\n  //     const imageNamesToKeep = globalSelectedImages.map((asset, index) => index.toString());\r\n\r\n  //     // Delete existing files in the folder that do not match the names of the images to keep\r\n  //     const listResult = await listAll(storageRef);\r\n  //     await Promise.all(\r\n  //       listResult.items\r\n  //         .filter((itemRef) => !imageNamesToKeep.includes(itemRef.name))\r\n  //         .map((itemRef) => deleteObject(itemRef))\r\n  //     );\r\n\r\n  //     // Upload new images with or without watermarks based on the platform\r\n  //     function blobToArrayBuffer(blob) {\r\n  //       return new Promise((resolve, reject) => {\r\n  //         const reader = new FileReader();\r\n  //         reader.onload = () => resolve(reader.result);\r\n  //         reader.onerror = reject;\r\n  //         reader.readAsArrayBuffer(blob);\r\n  //       });\r\n  //     }\r\n\r\n  //     // ...\r\n\r\n  //     await Promise.all(\r\n  //       globalSelectedImages.map(async (asset, index) => {\r\n  //         const { uri } = asset;\r\n  //         const imageName = index.toString();\r\n\r\n  //         const response = await fetch(uri);\r\n  //         const blob = await response.blob();\r\n\r\n  //         const imageRef = ref(storage, `${globalVehicleFolderName}/${imageName}`);\r\n\r\n  //         // Define your watermark options\r\n  //         const watermarkOptions = {\r\n  //           text: 'Real Motor Japan',\r\n  //           color: '#FFFFFF', // Text color\r\n  //           fontSize: 20,\r\n  //           opacity: 50, // Set opacity if needed\r\n  //         };\r\n\r\n  //         // Convert the blob to an ArrayBuffer\r\n  //         const arrayBuffer = await blobToArrayBuffer(blob);\r\n\r\n  //         // Use watermark.js to add the watermark\r\n  //         const watermarkedArrayBuffer = await watermark([arrayBuffer, watermarkOptions])\r\n  //           .image(watermark.image.bottomCenter())\r\n  //           .then((img) => img.arrayBuffer());\r\n\r\n  //         // Convert the ArrayBuffer back to a Blob\r\n  //         const watermarkedBlob = new Blob([watermarkedArrayBuffer]);\r\n\r\n  //         await uploadBytes(imageRef, watermarkedBlob, { contentType: 'image/jpeg' });\r\n  //       })\r\n  //     );\r\n\r\n  //     console.log(`Images uploaded to folder ${globalVehicleFolderName}`);\r\n  //   } catch (error) {\r\n  //     console.error('Error uploading images:', error);\r\n  //   }\r\n  // }, []);\r\n\r\n  const uploadImages = useCallback(async () => {\r\n\r\n    const storageRef = ref(storage, `${globalVehicleFolderName}`);\r\n    const ImageFormat = { jpg: 'jpg' };\r\n\r\n\r\n\r\n    try {\r\n      // Get the names of the images to keep\r\n      const imageNamesToKeep = globalSelectedImages.map((asset, index) => index.toString());\r\n\r\n      // Delete existing files in the folder that do not match the names of the images to keep\r\n      const listResult = await listAll(storageRef);\r\n      await Promise.all(\r\n        listResult.items\r\n          .filter((itemRef) => !imageNamesToKeep.includes(itemRef.name))\r\n          .map((itemRef) => deleteObject(itemRef))\r\n      );\r\n\r\n      await Promise.all(\r\n        globalSelectedImages.map(async (asset, index) => {\r\n          const { uri } = asset;\r\n          const imagename = index.toString();\r\n\r\n          const response = await fetch(uri);\r\n          const blob = await response.blob();\r\n\r\n          // Create an offscreen canvas\r\n          const canvas = document.createElement('canvas');\r\n          const ctx = canvas.getContext('2d');\r\n\r\n          // Create a new image object\r\n          const img = new Image();\r\n          img.src = URL.createObjectURL(blob);\r\n\r\n          // Draw the image on the canvas\r\n          img.onload = async () => {\r\n            // Create a canvas element\r\n            const canvas = document.createElement('canvas');\r\n            const ctx = canvas.getContext('2d');\r\n\r\n            // Calculate the desired width and height for the resized image\r\n            const maxWidth = 800; // Set your desired maximum width\r\n            const maxHeight = 600; // Set your desired maximum height\r\n            let newWidth = img.width;\r\n            let newHeight = img.height;\r\n\r\n            // Check if the image needs resizing\r\n            if (img.width > maxWidth) {\r\n              newWidth = maxWidth;\r\n              newHeight = (img.height * maxWidth) / img.width;\r\n            }\r\n\r\n            if (newHeight > maxHeight) {\r\n              newWidth = (newWidth * maxHeight) / newHeight;\r\n              newHeight = maxHeight;\r\n            }\r\n\r\n            // Set the canvas dimensions to the new width and height\r\n            canvas.width = newWidth;\r\n            canvas.height = newHeight;\r\n\r\n            // Draw the resized image onto the canvas\r\n            ctx.drawImage(img, 0, 0, newWidth, newHeight);\r\n\r\n            // Calculate the font size as a percentage of the image width\r\n            const fontSizePercentage = 3;\r\n            const imageRes = img.height * img.width;\r\n            const fontSize = (canvas.width * fontSizePercentage) / 100;\r\n\r\n            ctx.font = `bold ${fontSize}px Arial`;\r\n            ctx.fillStyle = '#fff';\r\n            ctx.shadowColor = 'transparent';\r\n            ctx.imageSmoothingEnabled = true;\r\n            ctx.lineWidth = 2;\r\n\r\n            // Calculate the position for the watermark text\r\n            const watermarkText = `Real Motor Japan ${globalReferenceNumber}`;\r\n            const textWidth = ctx.measureText(watermarkText).width;\r\n            const textHeight = fontSize; // Font size determines the text height\r\n\r\n            // Set padding around the text (adjust as needed)\r\n            const paddingX = 10;\r\n            const paddingY = 5;\r\n\r\n            // Calculate the position for the text shadow\r\n            const xShadow = (canvas.width - textWidth) / 2 + 2; // Adjust the horizontal position for the shadow\r\n            const yShadow = canvas.height - 20 + 2; // Adjust the vertical position for the shadow\r\n\r\n            // Increase the shadow thickness by adjusting the shadow blur radius\r\n            ctx.shadowBlur = 10; // Adjust this value to make the shadow thicker\r\n\r\n            // Draw the text shadow (black)\r\n            ctx.fillStyle = 'black';\r\n            ctx.fillText(watermarkText, xShadow, yShadow);\r\n\r\n            // Reset the shadow blur radius for the actual text\r\n            ctx.shadowBlur = 2; // Reset the shadow blur radius to the original value\r\n\r\n            // Calculate the position for the actual text\r\n            const x = (canvas.width - textWidth) / 2;\r\n            const y = canvas.height - 20;\r\n\r\n            // Draw the actual text (white)\r\n            ctx.fillStyle = '#fff';\r\n            ctx.fillText(watermarkText, x, y);\r\n\r\n            // Convert the canvas to a blob\r\n            const watermarkedImageBlob = await new Promise(resolve => {\r\n              canvas.toBlob(resolve, 'image/jpeg', 0.8); // You can adjust the quality (0.7 is a good compromise between size and quality)\r\n            });\r\n\r\n            // Upload the resized image to Firebase Storage\r\n            const imageRef = ref(storage, `${globalVehicleFolderName}/${imagename}`);\r\n            await uploadBytes(imageRef, watermarkedImageBlob, { contentType: 'image/jpeg' });\r\n          };\r\n\r\n        })\r\n\r\n      );\r\n\r\n\r\n      console.log(`Images uploaded to folder ${globalVehicleFolderName}`);\r\n    } catch (error) {\r\n      console.error('Error uploading images:', error);\r\n    }\r\n  }, []);\r\n\r\n\r\n  const handleUpload = useCallback(async () => {\r\n\r\n    dispatch(setLoadingModalVisible(true));\r\n\r\n    setCarNameError('muted.500');\r\n    setMakeError('white');\r\n    setModelError('white');\r\n    setRegYearError('white');\r\n    setRegMonthError('white');\r\n    setRefNumError('white');\r\n    setStockIDNumError('white');\r\n    setChassisError('white');\r\n    setModelCodeError('white');\r\n    setEngineDisError('white');\r\n    setSteeringError('white');\r\n    setMileageError('white');\r\n    setTransmissionError('white');\r\n    setExteriorColoError('white');\r\n    setNumOfSeatsError('white');\r\n    setDoorsError('white');\r\n    setPurchasedPriceError('white');\r\n    setFuelError('white');\r\n    setPortError('white');\r\n    setBuyerError('white');\r\n    setSalesError('white');\r\n    setDimensionLengthError('white');\r\n    setDimensionWidthError('white');\r\n    setDimensionHeightError('white');\r\n    setDriveTypeError('white');\r\n    setWeightError('white');\r\n    setBodyTypeError('white');\r\n    setStockStatusError('white');\r\n    setIsNoFeaturesSelected('white');\r\n\r\n    const selectIsEmpty = makeVariable.text == \"\" ||\r\n      modelVariable.text == \"\" ||\r\n      regYearVariable.text == \"\" ||\r\n      regMonthVariable.text == \"\" ||\r\n      steeringVariable.text == \"\" ||\r\n      transmissionVariable.text == \"\" ||\r\n      exteriorColorVariable.text == \"\" ||\r\n      fuelVariable.text == \"\" ||\r\n      portVariable.text == \"\" ||\r\n      buyerVariable.text == \"\" ||\r\n      salesVariable.text == \"\" ||\r\n      driveTypeVariable.text == \"\" ||\r\n      bodyTypeVariable.text == \"\" ||\r\n      stockStatusVariable.text == \"\";\r\n\r\n    const inputIsEmpty = inputStockIDNumber.current?.value == \"\" || inputRefNum.current?.value == \"\" ||\r\n      inputChassis.current?.value == \"\" ||\r\n      inputModelCode.current?.value == \"\" ||\r\n      inputEngineDis.current?.value == \"\" ||\r\n      inputEngineDis.current?.value == 0 ||\r\n      inputMileage.current?.value == \"\" ||\r\n      inputMileage.current?.value == 0 ||\r\n      inputNumOfSeats.current?.value == \"\" ||\r\n      inputDoors.current?.value == \"\" ||\r\n      inputNumOfSeats.current?.value == 0 ||\r\n      inputDoors.current?.value == 0 ||\r\n      inputPurchasedPrice.current?.value == 0 ||\r\n      inputPurchasedPrice.current?.value == \"\" ||\r\n      inputDimensionLength.current?.value == \"\" ||\r\n      inputDimensionWidth.current?.value == \"\" ||\r\n      inputDimensionHeight.current?.value == \"\" ||\r\n      inputDimensionCubicMeters.current?.value == \"\" ||\r\n      inputDimensionLength.current?.value == 0 ||\r\n      inputDimensionWidth.current?.value == 0 ||\r\n      inputDimensionHeight.current?.value == 0 ||\r\n      inputDimensionCubicMeters.current?.value == 0 ||\r\n      inputWeight.current?.value == \"\" ||\r\n      inputWeight.current?.value == 0 ||\r\n      inputCarName.current?.value == \"\";\r\n\r\n    // const inputExceedLength = input;\r\n    const allValuesAreFalse = Object.values(featuresState).every((value) => value === false);\r\n\r\n    console.log(inputIsEmpty || selectIsEmpty);\r\n\r\n    if (inputIsEmpty || selectIsEmpty || allValuesAreFalse) {\r\n      dispatch(setLoadingModalVisible(false));\r\n      inputVehicleBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n      if (allValuesAreFalse) {\r\n        // All features are false\r\n        console.log('All features are false');\r\n        setIsNoFeaturesSelected('danger.400');\r\n        // featureBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        // handleModalUploadClose();\r\n      } else {\r\n        // At least one feature is true\r\n        console.log('At least one feature is true.');\r\n        // handleModalUploadClose();\r\n      }\r\n\r\n      if (inputCarName.current?.value == \"\") {\r\n        inputCarName.current.scrollIntoView({ behavior: 'smooth' });\r\n        setCarNameError('danger.400');\r\n      }\r\n\r\n      if (bodyTypeVariable.text == \"\") {\r\n        selectBodyTypeBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setBodyTypeError('danger.400');\r\n      }\r\n\r\n      if (stockStatusVariable.text == \"\") {\r\n        selectStockStatusBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setStockStatusError('danger.400');\r\n      }\r\n\r\n      if (inputWeight.current?.value == \"\" || inputWeight.current?.value == 0) {\r\n        inputWeight.current.scrollIntoView({ behavior: 'smooth' });\r\n        setWeightError('danger.400');\r\n      }\r\n\r\n      if (driveTypeVariable.text == \"\") {\r\n        selectDriveTypeBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setDriveTypeError('danger.400');\r\n      }\r\n\r\n      if (inputDimensionHeight.current?.value == \"\" || inputDimensionHeight.current?.value == 0) {\r\n        inputDimensionHeight.current.scrollIntoView({ behavior: 'smooth' });\r\n        setDimensionHeightError('danger.400');\r\n      }\r\n\r\n      if (inputDimensionWidth.current?.value == \"\" || inputDimensionWidth.current?.value == 0) {\r\n        inputDimensionWidth.current.scrollIntoView({ behavior: 'smooth' });\r\n        setDimensionWidthError('danger.400');\r\n      }\r\n\r\n      if (inputDimensionLength.current?.value == \"\" || inputDimensionLength.current?.value == 0) {\r\n        inputDimensionLength.current.scrollIntoView({ behavior: 'smooth' });\r\n        setDimensionLengthError('danger.400');\r\n      }\r\n\r\n      if (fuelVariable.text == \"\") {\r\n        selectFuelBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setFuelError('danger.400');\r\n      }\r\n\r\n      if (inputDoors.current?.value == \"\" || inputDoors.current?.value == 0) {\r\n        inputDoors.current.scrollIntoView({ behavior: 'smooth' });\r\n        setDoorsError('danger.400');\r\n      }\r\n      if (inputPurchasedPrice.current?.value == \"\" || inputPurchasedPrice.current?.value == 0) {\r\n        inputPurchasedPrice.current.scrollIntoView({ behavior: 'smooth' });\r\n        setPurchasedPriceError('danger.400');\r\n      }\r\n\r\n      if (inputNumOfSeats.current?.value == \"\") {\r\n        inputNumOfSeats.current.scrollIntoView({ behavior: 'smooth' });\r\n        setNumOfSeatsError('danger.400');\r\n      }\r\n\r\n      if (exteriorColorVariable.text == \"\") {\r\n        selectExteriorColorBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setExteriorColoError('danger.400');\r\n      }\r\n\r\n      if (transmissionVariable.text == \"\") {\r\n        selectTransmissionBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setTransmissionError('danger.400');\r\n      }\r\n\r\n      if (inputMileage.current?.value == \"\" || inputMileage.current?.value == 0) {\r\n        inputMileage.current.scrollIntoView({ behavior: 'smooth' });\r\n        setMileageError('danger.400');\r\n      }\r\n\r\n      if (steeringVariable.text == \"\") {\r\n        selectSteeringBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setSteeringError('danger.400');\r\n      }\r\n\r\n      if (inputEngineDis.current?.value == \"\" || inputEngineDis.current?.value == 0) {\r\n        inputEngineDis.current.scrollIntoView({ behavior: 'smooth' });\r\n        setEngineDisError('danger.400');\r\n      }\r\n\r\n      if (inputModelCode.current?.value == \"\") {\r\n        inputModelCode.current.scrollIntoView({ behavior: 'smooth' });\r\n        setModelCodeError('danger.400');\r\n      }\r\n\r\n      if (inputChassis.current?.value == \"\") {\r\n        inputChassis.current.scrollIntoView({ behavior: 'smooth' });\r\n        setChassisError('danger.400');\r\n      }\r\n\r\n      if (inputRefNum.current?.value == \"\") {\r\n        inputRefNum.current.scrollIntoView({ behavior: 'smooth' });\r\n        setRefNumError('danger.400');\r\n      }\r\n      if (buyerVariable.text == \"\") {\r\n        selectBuyerBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setBuyerError('danger.400');\r\n      }\r\n\r\n      if (salesVariable.text == \"\") {\r\n        selectSalesBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setSalesError('danger.400');\r\n      }\r\n\r\n\r\n      if (portVariable.text == \"\") {\r\n        selectPortBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setPortError('danger.400');\r\n      }\r\n\r\n\r\n      if (regMonthVariable.text == \"\") {\r\n        selectRegMonthBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setRegMonthError('danger.400');\r\n      }\r\n\r\n      if (regYearVariable.text == \"\") {\r\n        selectRegYearBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setRegYearError('danger.400');\r\n      }\r\n\r\n      if (modelVariable.text == \"\") {\r\n        selectModelBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setModelError('danger.400');\r\n      }\r\n\r\n      if (makeVariable.text == \"\") {\r\n        selectMakeBoxRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        setMakeError('danger.400');\r\n      }\r\n\r\n      if (inputStockIDNumber.current?.value == \"\") {\r\n        inputStockIDNumber.current.scrollIntoView({ behavior: 'smooth' });\r\n        setStockIDNumError('danger.400');\r\n      }\r\n\r\n    }\r\n    else {\r\n      const stockCollectionRef = collection(projectExtensionFirestore, 'VehicleProducts');\r\n      const stockID = inputStockIDNumber.current?.value;\r\n      const docQuery = doc(stockCollectionRef, stockID);\r\n      const docSnap = await getDoc(docQuery);\r\n\r\n      dispatch(setLoadingModalVisible(true));\r\n      globalReferenceNumber = inputRefNum.current?.value;\r\n      const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n      const { datetime } = response.data;\r\n      const timestampForID = moment(datetime).format('YYYYMMDDHHmmss');\r\n      const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n      const year = moment(datetime).format('YYYY');\r\n      const month = moment(datetime).format('MM');\r\n      const monthWithDay = moment(datetime).format('MM/DD');\r\n      const date = moment(datetime).format('YYYY/MM/DD');\r\n      const day = moment(datetime).format('DD');\r\n      const time = moment(datetime).format('HH:mm');\r\n      const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n      // console.log(`${timestampForID}${inputRefNum.current?.value}`);\r\n\r\n      const collectionRef = collection(projectExtensionFirestore, 'VehicleProducts');\r\n      const docRef = doc(collectionRef, inputStockIDNumber.current?.value);\r\n\r\n      const docData = docSnap.data();\r\n      // Your data object to be added\r\n      const docSnapshot = await getDoc(docRef);\r\n\r\n\r\n\r\n\r\n      const keywordsData = [\r\n        inputRefNum.current?.value,\r\n        inputCarName.current?.value,\r\n        inputStockIDNumber.current?.value,\r\n        regYearVariable.text,\r\n        makeVariable.text,\r\n        modelVariable.text,\r\n        inputChassis.current?.value,\r\n        `${makeVariable.text} ${modelVariable.text}`,\r\n        `${regYearVariable.text} ${makeVariable.text}`,\r\n      ]\r\n      const fobHistoryData = {\r\n        date: formattedTime,\r\n        fobPrice: inputFobJpy.current.value.replace(/,/g, ''),\r\n        changedBy: nameVariable.text,\r\n      };\r\n\r\n      let fobHistoryValue;\r\n      const inputFobValue = inputFobJpy.current?.value;\r\n      if (globalFobPrice !== inputFobValue && inputFobValue !== '') {\r\n        fobHistoryValue = arrayUnion(fobHistoryData);\r\n      }\r\n\r\n      const data = {\r\n        keywords: keywordsData,\r\n        imageCount: globalSelectedImages.length,\r\n        supplyChainsCostsData: globalSupplyChainCostsData,\r\n        ...(fobHistoryValue && { fobHistory: fobHistoryValue }),\r\n        // ...(docSnap.exists() || docData.inputStockIDNumber.current?.value.hasOwnProperty('dateAdded')\r\n        // ? { updatedDate: formattedTime }\r\n        // : { dateAdded: formattedTime }),\r\n        // dateAdded: formattedTime, \r\n        display: false,\r\n        photos: false,\r\n        stockID: inputStockIDNumber.current?.value,\r\n        make: makeVariable.text,\r\n        model: modelVariable.text,\r\n        regYear: regYearVariable.text,\r\n        regMonth: regMonthVariable.text,\r\n        referenceNumber: inputRefNum.current?.value,\r\n        chassisNumber: inputChassis.current?.value,\r\n        modelCode: inputModelCode.current?.value,\r\n        engineCode: inputEngineCode.current?.value,\r\n        engineDisplacement: inputEngineDis.current.value.replace(/,/g, ''),\r\n        steering: steeringVariable.text,\r\n        mileage: inputMileage.current.value.replace(/,/g, ''),\r\n        transmission: transmissionVariable.text,\r\n        exteriorColor: exteriorColorVariable.text,\r\n        numberOfSeats: inputNumOfSeats.current?.value,\r\n        doors: inputDoors.current?.value,\r\n        purchasedPrice: inputPurchasedPrice.current.value.replace(/,/g, ''),\r\n        fuel: fuelVariable.text,\r\n        port: portVariable.text,\r\n        sales: salesVariable.text,\r\n        buyer: buyerVariable.text,\r\n        portID: portVariable.id,\r\n        salesID: salesVariable.id,\r\n        buyerID: buyerVariable.id,\r\n        dimensionLength: inputDimensionLength.current.value.replace(/,/g, ''),\r\n        dimensionWidth: inputDimensionWidth.current.value.replace(/,/g, ''),\r\n        dimensionHeight: inputDimensionHeight.current.value.replace(/,/g, ''),\r\n        dimensionCubicMeters: inputDimensionCubicMeters.current.value.replace(/,/g, ''),\r\n        driveType: driveTypeVariable.text,\r\n        weight: inputWeight.current.value.replace(/,/g, ''),\r\n        bodyType: bodyTypeVariable.text,\r\n        stockStatus: stockStatusVariable.text,\r\n        carName: inputCarName.current?.value,\r\n        carDescription: inputCarDesc.current?.value,\r\n        notes: inputCarNotes.current?.value,\r\n        memo: inputCarMemo.current?.value,\r\n\r\n        comfort: {\r\n          ComfortAiCoFr: featuresState.ComfortAiCoFr,\r\n          ComfortAiCoRe: featuresState.ComfortAiCoRe,\r\n          ComfortAMFMRa: featuresState.ComfortAMFMRa,\r\n          ComfortAMFMSt: featuresState.ComfortAMFMSt,\r\n          ComfortCDPl: featuresState.ComfortCDPl,\r\n          ComfortCDCh: featuresState.ComfortCDCh,\r\n          ComfortCrSpCo: featuresState.ComfortCrSpCo,\r\n          ComfortDiSp: featuresState.ComfortDiSp,\r\n          ComfortDVDPl: featuresState.ComfortDVDPl,\r\n          ComfortHDD: featuresState.ComfortHDD,\r\n          ComfortNaSyGPS: featuresState.ComfortNaSyGPS,\r\n          ComfortPoSt: featuresState.ComfortPoSt,\r\n          ComfortPrAuSy: featuresState.ComfortPrAuSy,\r\n          ComfortReKeSy: featuresState.ComfortReKeSy,\r\n          ComfortTiStWh: featuresState.ComfortTiStWh,\r\n        },\r\n\r\n        ComfortAiCoFr: featuresState.ComfortAiCoFr,\r\n        ComfortAiCoRe: featuresState.ComfortAiCoRe,\r\n        ComfortAMFMRa: featuresState.ComfortAMFMRa,\r\n        ComfortAMFMSt: featuresState.ComfortAMFMSt,\r\n        ComfortCDPl: featuresState.ComfortCDPl,\r\n        ComfortCDCh: featuresState.ComfortCDCh,\r\n        ComfortCrSpCo: featuresState.ComfortCrSpCo,\r\n        ComfortDiSp: featuresState.ComfortDiSp,\r\n        ComfortDVDPl: featuresState.ComfortDVDPl,\r\n        ComfortHDD: featuresState.ComfortHDD,\r\n        ComfortNaSyGPS: featuresState.ComfortNaSyGPS,\r\n        ComfortPoSt: featuresState.ComfortPoSt,\r\n        ComfortPrAuSy: featuresState.ComfortPrAuSy,\r\n        ComfortReKeSy: featuresState.ComfortReKeSy,\r\n        ComfortTiStWh: featuresState.ComfortTiStWh,\r\n\r\n        fobPrice: inputFobJpy.current.value.replace(/,/g, ''),\r\n\r\n        safetySystem: {\r\n          SafetySystemAnBrSy: featuresState.SafetySystemAnBrSy,\r\n          SafetySystemDrAi: featuresState.SafetySystemDrAi,\r\n          SafetySystemPaAi: featuresState.SafetySystemPaAi,\r\n          SafetySystemSiAi: featuresState.SafetySystemSiAi,\r\n\r\n        },\r\n\r\n        SafetySystemAnBrSy: featuresState.SafetySystemAnBrSy,\r\n        SafetySystemDrAi: featuresState.SafetySystemDrAi,\r\n        SafetySystemPaAi: featuresState.SafetySystemPaAi,\r\n        SafetySystemSiAi: featuresState.SafetySystemSiAi,\r\n\r\n        interior: {\r\n          InteriorLeSe: featuresState.InteriorLeSe,\r\n          InteriorPoDoLo: featuresState.InteriorPoDoLo,\r\n          InteriorPoMi: featuresState.InteriorPoMi,\r\n          InteriorPoSe: featuresState.InteriorPoSe,\r\n          InteriorPoWi: featuresState.InteriorPoWi,\r\n          InteriorReWiDe: featuresState.InteriorReWiDe,\r\n          InteriorReWiWi: featuresState.InteriorReWiWi,\r\n          InteriorThRoSe: featuresState.InteriorThRoSe,\r\n          InteriorTiGl: featuresState.InteriorTiGl,\r\n        },\r\n\r\n        InteriorLeSe: featuresState.InteriorLeSe,\r\n        InteriorPoDoLo: featuresState.InteriorPoDoLo,\r\n        InteriorPoMi: featuresState.InteriorPoMi,\r\n        InteriorPoSe: featuresState.InteriorPoSe,\r\n        InteriorPoWi: featuresState.InteriorPoWi,\r\n        InteriorReWiDe: featuresState.InteriorReWiDe,\r\n        InteriorReWiWi: featuresState.InteriorReWiWi,\r\n        InteriorThRoSe: featuresState.InteriorThRoSe,\r\n        InteriorTiGl: featuresState.InteriorTiGl,\r\n\r\n        exterior: {\r\n          ExteriorAlWh: featuresState.ExteriorAlWh,\r\n          ExteriorPoSlDo: featuresState.ExteriorPoSlDo,\r\n          ExteriorSuRo: featuresState.ExteriorSuRo,\r\n        },\r\n        ExteriorAlWh: featuresState.ExteriorAlWh,\r\n        ExteriorPoSlDo: featuresState.ExteriorPoSlDo,\r\n        ExteriorSuRo: featuresState.ExteriorSuRo,\r\n\r\n        sellingPoints: {\r\n          SellingPointsCuWh: featuresState.SellingPointsCuWh,\r\n          SellingPointsFuLo: featuresState.SellingPointsFuLo,\r\n          SellingPointsMaHiAv: featuresState.SellingPointsMaHiAv,\r\n          SellingPointsBrNeTi: featuresState.SellingPointsBrNeTi,\r\n          SellingPointsNoAcHi: featuresState.SellingPointsNoAcHi,\r\n          SellingPointsNoSmPrOw: featuresState.SellingPointsNoSmPrOw,\r\n          SellingPointsOnOwHi: featuresState.SellingPointsOnOwHi,\r\n          SellingPointsPeRaTi: featuresState.SellingPointsPeRaTi,\r\n          SellingPointsReBo: featuresState.SellingPointsReBo,\r\n          SellingPointsTuEn: featuresState.SellingPointsTuEn,\r\n          SellingPointsUpAuSy: featuresState.SellingPointsUpAuSy,\r\n        },\r\n\r\n        SellingPointsCuWh: featuresState.SellingPointsCuWh,\r\n        SellingPointsFuLo: featuresState.SellingPointsFuLo,\r\n        SellingPointsMaHiAv: featuresState.SellingPointsMaHiAv,\r\n        SellingPointsBrNeTi: featuresState.SellingPointsBrNeTi,\r\n        SellingPointsNoAcHi: featuresState.SellingPointsNoAcHi,\r\n        SellingPointsNoSmPrOw: featuresState.SellingPointsNoSmPrOw,\r\n        SellingPointsOnOwHi: featuresState.SellingPointsOnOwHi,\r\n        SellingPointsPeRaTi: featuresState.SellingPointsPeRaTi,\r\n        SellingPointsReBo: featuresState.SellingPointsReBo,\r\n        SellingPointsTuEn: featuresState.SellingPointsTuEn,\r\n        SellingPointsUpAuSy: featuresState.SellingPointsUpAuSy,\r\n\r\n\r\n        // Add more fields as needed\r\n      };\r\n\r\n      // Get a reference to the document with the given stock ID\r\n\r\n\r\n      // Get the document\r\n\r\n\r\n      // Check if the document exists\r\n      if (docSnap.exists()) {\r\n        updateDoc(docRef, data)\r\n          .then(async () => {\r\n            try {\r\n\r\n              await uploadImages();\r\n              dispatch(setLoadingModalVisible(false));\r\n              dispatch(setIsUpdateSuccessModalOpen(true));\r\n\r\n              try {\r\n                // Check if the document exists\r\n                const docSnapshot = await getDoc(docRef);\r\n\r\n                if (docSnap.exists()) {\r\n                  const dataDoc = docSnap.data();\r\n                  if (dataDoc) {\r\n                    if ('dateAdded' in dataDoc) {\r\n                      // The document exists and has a 'dateAdded' field\r\n                      console.log('Date Update');\r\n                      // Update the 'updatedDate' field without removing 'dateAdded'\r\n                      const updates = {\r\n                        updatedDate: formattedTime, // Replace 'formattedTime' with the updated date value\r\n                      };\r\n\r\n                      // Use updateDoc to only update the 'updatedDate' field in the document\r\n                      await updateDoc(docRef, updates);\r\n                    } else {\r\n                      // The document exists, but it doesn't have a 'dateAdded' field\r\n                      console.log('Date Added');\r\n                      // Update the 'dateAdded' field without removing other fields\r\n                      const updates = {\r\n                        dateAdded: formattedTime, // Replace 'formattedTime' with the date value\r\n                      };\r\n\r\n                      // Use updateDoc to only update the 'dateAdded' field in the document\r\n                      await updateDoc(docRef, updates);\r\n                    }\r\n                  } else {\r\n                    // The document exists, but it doesn't have a 'dateAdded' field\r\n                    console.log('Date Added');\r\n                    // Update the 'dateAdded' field without removing other fields\r\n                    const updates = {\r\n                      dateAdded: formattedTime, // Replace 'formattedTime' with the date value\r\n                    };\r\n\r\n                    // Use updateDoc to only update the 'dateAdded' field in the document\r\n                    await updateDoc(docRef, updates);\r\n                  }\r\n                } else {\r\n                  // The document does not exist\r\n                  console.log('Date Added');\r\n                }\r\n              } catch (error) {\r\n                console.error('Error checking document:', error);\r\n              }\r\n\r\n              const logData = {\r\n                message: `Vehicle Updated: \"${nameVariable.text}\" updated \"${inputCarName.current?.value}\" with a reference number of \"${inputRefNum.current?.value}\"`,\r\n                timestamp: formattedTime,\r\n                colorScheme: true,\r\n                keywords: [\r\n                  formattedTime.toLowerCase(),\r\n                  inputStockIDNumber.current.value.toLowerCase(),\r\n                  `Vehicle Updated: \"${nameVariable.text}\" updated \"${inputCarName.current?.value}\" with a reference number of \"${inputRefNum.current?.value}\"`.toLowerCase(),\r\n                  'Vehicle Updated'.toLowerCase(),\r\n                  'Vehicle'.toLowerCase(),\r\n                  'Updated'.toLowerCase(),\r\n                  inputCarName.current.value.toLowerCase(),\r\n                  inputRefNum.current.value.toLowerCase(),\r\n                  nameVariable.text.toLowerCase(),\r\n                  year.toLowerCase(),\r\n                  month.toLowerCase(),\r\n                  monthWithDay.toLowerCase(),\r\n                  date.toLowerCase(),\r\n                  day.toLowerCase(),\r\n                  time.toLowerCase(),\r\n                  timeWithMinutesSeconds.toLowerCase(),\r\n                ],\r\n              };\r\n              dispatch(setLoadingModalVisible(false));\r\n              handleClearImages();\r\n              addLogToCollection(logData);\r\n              handleClear();\r\n              console.log('Document updated successfully!');\r\n              // console.log(`Folder Name ${globalVehicleFolderName}`);\r\n            } catch (error) {\r\n              // Handle errors that may occur during the update process\r\n              console.error('Error updating document:', error);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            dispatch(setLoadingModalVisible(false));\r\n            console.error('Error updating document: ', error);\r\n          });\r\n      }\r\n      else {\r\n        const dataWithDateAdded = {\r\n          ...data,\r\n          dateAdded: formattedTime,\r\n        };\r\n\r\n        setDoc(docRef, dataWithDateAdded)\r\n          .then(async () => {\r\n\r\n            try {\r\n              await uploadImages();\r\n              dispatch(setLoadingModalVisible(false));\r\n              dispatch(setIsSuccessModalOpen(true));\r\n\r\n              // try {\r\n              //   // Check if the document exists\r\n              //   const docSnapshot = await getDoc(docRef);\r\n\r\n              //   if (docSnapshot.exists()) {\r\n              //     const data = docSnapshot.data();\r\n              //     if (data) {\r\n              //       if ('dateAdded' in data) {\r\n              //         // The document exists and has a 'dateAdded' field\r\n              //         console.log('Date Update');\r\n              //         // Update the 'updatedDate' field in the document\r\n              //         const updates = {\r\n              //           updatedDate: formattedTime, // Replace 'newFieldValue' with the updated date value\r\n              //         };\r\n\r\n              //         // Use setDoc to update the 'updatedDate' field in the document\r\n              //         await setDoc(docRef, updates, { merge: true });\r\n              //       } else {\r\n              //         // The document exists, but it doesn't have a 'dateAdded' field\r\n              //         console.log('Date Added');\r\n              //         // Update the 'dateAdded' field in the document\r\n              //         const updates = {\r\n              //           dateAdded: formattedTime, // Replace 'newFieldValue' with the date value\r\n              //         };\r\n\r\n              //         // Use setDoc to update the 'dateAdded' field in the document\r\n              //         await setDoc(docRef, updates, { merge: true });\r\n              //       }\r\n              //     } else {\r\n              //       // The document exists, but it doesn't have a 'dateAdded' field\r\n              //       console.log('Date Added');\r\n              //       // Update the 'dateAdded' field in the document\r\n              //       const updates = {\r\n              //         dateAdded: formattedTime, // Replace 'newFieldValue' with the date value\r\n              //       };\r\n\r\n              //       // Use setDoc to update the 'dateAdded' field in the document\r\n              //       await setDoc(docRef, updates, { merge: true });\r\n              //     }\r\n              //   } else {\r\n              //     // The document does not exist\r\n              //     console.log('Date Added');\r\n              //   }\r\n              // } catch (error) {\r\n              //   console.error('Error checking document:', error);\r\n              // }\r\n\r\n              const logData = {\r\n                message: `Vehicle Added: \"${nameVariable.text}\" added \"${inputCarName.current?.value}\" with a reference number of \"${inputRefNum.current?.value}\"`,\r\n                timestamp: formattedTime,\r\n                colorScheme: true,\r\n                keywords: [\r\n                  formattedTime.toLowerCase(),\r\n                  inputStockIDNumber.current.value.toLowerCase(),\r\n                  `Vehicle Added: \"${nameVariable.text}\" added \"${inputCarName.current?.value}\" with a reference number of \"${inputRefNum.current?.value}\"`.toLowerCase(),\r\n                  'Vehicle Added'.toLowerCase(),\r\n                  'Vehicle'.toLowerCase(),\r\n                  'Added'.toLowerCase(),\r\n                  inputCarName.current.value.toLowerCase(),\r\n                  inputRefNum.current.value.toLowerCase(),\r\n                  nameVariable.text.toLowerCase(),\r\n                  year.toLowerCase(),\r\n                  month.toLowerCase(),\r\n                  monthWithDay.toLowerCase(),\r\n                  date.toLowerCase(),\r\n                  day.toLowerCase(),\r\n                  time.toLowerCase(),\r\n                  timeWithMinutesSeconds.toLowerCase(),\r\n                ],\r\n              };\r\n\r\n              handleClearImages();\r\n              addLogToCollection(logData);\r\n              handleClear();\r\n              console.log('Document added successfully!');\r\n              // console.log(`Folder Name ${globalVehicleFolderName}`);\r\n            } catch (error) {\r\n\r\n            }\r\n\r\n\r\n          })\r\n          .catch((error) => {\r\n            dispatch(setLoadingModalVisible(false));\r\n            console.error('Error adding document: ', error);\r\n          });\r\n      }\r\n\r\n    }\r\n\r\n\r\n  }, []);\r\n\r\n\r\n\r\n\r\n  const addLogToCollection = async (data) => {\r\n    try {\r\n      const logsCollectionRef = collection(projectControlFirestore, 'logs');\r\n\r\n      // Add a new document to the \"logs\" collection\r\n      await addDoc(logsCollectionRef, data);\r\n\r\n      console.log('Document added successfully!');\r\n    } catch (error) {\r\n      console.error('Error adding document:', error);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const handleClearToggleButton = () => {\r\n    resetKey++;\r\n\r\n    featuresState.SafetySystemAnBrSy = false;\r\n    featuresState.SafetySystemDrAi = false;\r\n    featuresState.SafetySystemPaAi = false;\r\n    featuresState.SafetySystemSiAi = false;\r\n    featuresState.ComfortAiCoFr = false;\r\n    featuresState.ComfortAiCoRe = false;\r\n    featuresState.ComfortAMFMRa = false;\r\n    featuresState.ComfortAMFMSt = false;\r\n    featuresState.ComfortCDPl = false;\r\n    featuresState.ComfortCDCh = false;\r\n    featuresState.ComfortCrSpCo = false;\r\n    featuresState.ComfortDiSp = false;\r\n    featuresState.ComfortDVDPl = false;\r\n    featuresState.ComfortHDD = false;\r\n    featuresState.ComfortNaSyGPS = false;\r\n    featuresState.ComfortPoSt = false;\r\n    featuresState.ComfortPrAuSy = false;\r\n    featuresState.ComfortReKeSy = false;\r\n    featuresState.ComfortTiStWh = false;\r\n    featuresState.InteriorLeSe = false;\r\n    featuresState.InteriorPoDoLo = false;\r\n    featuresState.InteriorPoMi = false;\r\n    featuresState.InteriorPoSe = false;\r\n    featuresState.InteriorPoWi = false;\r\n    featuresState.InteriorReWiDe = false;\r\n    featuresState.InteriorReWiWi = false;\r\n    featuresState.InteriorThRoSe = false;\r\n    featuresState.InteriorTiGl = false;\r\n    featuresState.ExteriorAlWh = false;\r\n    featuresState.ExteriorPoSlDo = false;\r\n    featuresState.ExteriorSuRo = false;\r\n    featuresState.SellingPointsCuWh = false;\r\n    featuresState.SellingPointsFuLo = false;\r\n    featuresState.SellingPointsMaHiAv = false;\r\n    featuresState.SellingPointsBrNeTi = false;\r\n    featuresState.SellingPointsNoAcHi = false;\r\n    featuresState.SellingPointsNoSmPrOw = false;\r\n    featuresState.SellingPointsOnOwHi = false;\r\n    featuresState.SellingPointsPeRaTi = false;\r\n    featuresState.SellingPointsReBo = false;\r\n    featuresState.SellingPointsTuEn = false;\r\n    featuresState.SellingPointsUpAuSy = false;\r\n  };\r\n\r\n  const handleClear = useCallback(() => {\r\n\r\n    handleClearToggleButton();\r\n    handleClearImages();\r\n    clearSelect();\r\n\r\n\r\n    dispatch(setSupplyChainsCostsData([]));\r\n    globalSupplyChainCostsData = [];\r\n    globalSupplyChainCostsAmount = '';\r\n    globalFobPrice = '';\r\n\r\n    inputStockIDNumber.current?.clear();\r\n    inputCarName.current?.clear();\r\n    inputCarDesc.current?.clear();\r\n    inputFobJpy.current?.clear();\r\n    inputFobUsd.current?.clear();\r\n\r\n    inputRegYear.current?.clear();\r\n    inputRegMonth.current?.clear();\r\n    inputRefNum.current?.clear();\r\n    inputChassis.current?.clear();\r\n    inputModelCode.current?.clear();\r\n    inputEngineCode.current?.clear();\r\n    inputEngineDis.current?.clear();\r\n    inputMileage.current?.clear();\r\n    inputNumOfSeats.current?.clear();\r\n    inputDoors.current?.clear();\r\n    inputPurchasedPrice.current?.clear();\r\n    inputFuel.current?.clear();\r\n    inputDimensionLength.current?.clear();\r\n    inputDimensionWidth.current?.clear();\r\n    inputDimensionHeight.current?.clear();\r\n    inputDimensionCubicMeters.current.value = \"0.00\";\r\n    inputDriveType.current?.clear();\r\n    inputWeight.current?.clear();\r\n    inputCarNotes.current?.clear();\r\n    inputCarMemo.current?.clear();\r\n    makeVariable.text = '';\r\n    modelVariable.text = '';\r\n    regYearVariable.text = '';\r\n    regMonthVariable.text = '';\r\n    steeringVariable.text = '';\r\n    transmissionVariable.text = '';\r\n    exteriorColorVariable.text = '';\r\n    fuelVariable.text = '';\r\n    portVariable.text = '';\r\n    salesVariable.text = '';\r\n    buyerVariable.text = '';\r\n    portVariable.id = '';\r\n    salesVariable.id = '';\r\n    buyerVariable.id = '';\r\n    driveTypeVariable.text = '';\r\n    bodyTypeVariable.text = '';\r\n    stockStatusVariable.text = '';\r\n\r\n    setIsNoFeaturesSelected('white');\r\n\r\n    setMakeError('white');\r\n    setModelError('white');\r\n    setRegYearError('white');\r\n    setRegMonthError('white');\r\n    setRefNumError('white');\r\n    setStockIDNumError('white');\r\n    setChassisError('white');\r\n    setModelCodeError('white');\r\n    setEngineDisError('white');\r\n    setSteeringError('white');\r\n    setMileageError('white');\r\n    setTransmissionError('white');\r\n    setExteriorColoError('white');\r\n    setNumOfSeatsError('white');\r\n    setDoorsError('white');\r\n    setPurchasedPriceError('white');\r\n    setFuelError('white');\r\n    setPortError('white');\r\n    setSalesError('white');\r\n    setBuyerError('white');\r\n    setDimensionLengthError('white');\r\n    setDimensionWidthError('white');\r\n    setDimensionHeightError('white');\r\n    setDriveTypeError('white');\r\n    setWeightError('white');\r\n    setBodyTypeError('white');\r\n    setStockStatusError('white');\r\n    setCarNameError('muted.500');\r\n\r\n    setIsNoFeaturesSelected('white');\r\n\r\n    // handleModalClearClose();\r\n\r\n\r\n\r\n\r\n  }, []);\r\n\r\n\r\n\r\n\r\n  // const handleToggleLogs = useCallback(() => {\r\n\r\n\r\n  //   navigation.navigate(\"LOGS\");\r\n  // }, []);\r\n  // const handleToggleAddAccount = useCallback(() => {\r\n\r\n\r\n  //   navigation.navigate(\"ADD C-HUB ACCOUNT\");\r\n  // }, []);\r\n\r\n  // const handleToggleAccountList = useCallback(() => {\r\n\r\n  //   navigation.navigate(\"ACCOUNT LIST\");\r\n  // }, []);\r\n\r\n  // const handleToggleAddVehicle = useCallback(() => {\r\n\r\n  //   navigation.navigate(\"ADD NEW VEHICLE\");\r\n  // }, []);\r\n\r\n\r\n  // const handleVehicleList = useCallback(() => {\r\n  //   navigation.navigate(\"VEHICLE LIST\");\r\n  // }, []);\r\n\r\n  const handleDocumentChange = (snapshot) => {\r\n    if (snapshot.exists()) {\r\n      const data = snapshot.data();\r\n      const isActive = data.active;\r\n\r\n      if (!isActive) {\r\n        signOut(projectControlAuth)\r\n          .then(() => {\r\n            // navigation.navigate('Login');\r\n            navigate(\"/Login\");\r\n\r\n          })\r\n          .catch((error) => {\r\n            console.error('Error signing out:', error);\r\n          });\r\n      }\r\n    } else {\r\n      signOut(projectControlAuth)\r\n        .then(() => {\r\n          // navigation.navigate('Login');\r\n          navigate(\"/Login\");\r\n\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error signing out:', error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const subscribeToFieldChange = () => {\r\n    const userId = projectControlAuth.currentUser?.email;\r\n    if (userId) {\r\n      const userRef = doc(firestore, 'accounts', userId);\r\n      const unsubscribe = onSnapshot(userRef, handleDocumentChange);\r\n      return unsubscribe;\r\n    } else {\r\n      // Return a no-op function if there's no user\r\n      return () => {\r\n        navigate(\"/login\")\r\n      };\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const handleSignOut = () => {\r\n\r\n    signOut(projectControlAuth).then(() => {\r\n      // navigation.navigate('Login');\r\n      navigate(\"/Login\");\r\n      setEmail('');\r\n      setName('');\r\n    }).catch(() => {\r\n      // An error happened.\r\n    });\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  // const showDrawerIcon = useBreakpointValue([true, true, true, false]);\r\n\r\n\r\n\r\n  const { width } = Dimensions.get('window');\r\n\r\n\r\n  const handleInputPurchasedPriceChange = (text) => {\r\n    // Remove any non-numeric characters\r\n    const numericValue = text.replace(/[^0-9]/g, '');\r\n\r\n    // Limit the numeric value to a maximum of 4 characters\r\n    const truncatedValue = numericValue.slice(0, 9);\r\n\r\n    // Format the truncated numeric value with comma separator\r\n    const formattedValue = Number(truncatedValue).toLocaleString();\r\n\r\n    inputPurchasedPrice.current.value = formattedValue;\r\n\r\n  };\r\n\r\n\r\n  const handleInputFobJpyChange = (text) => {\r\n    const numericValue = text.replace(/[^0-9]/g, '');\r\n\r\n    // Check if the numeric value starts with 0\r\n    if (numericValue.startsWith('0')) {\r\n      // Handle the case when the value starts with 0\r\n      inputFobJpy.current.value = '';\r\n      inputFobUsd.current.setNativeProps({ text: '' });\r\n      return;\r\n    }\r\n\r\n    // Truncate the numeric value to a maximum of 9 digits\r\n    const truncatedValue = numericValue.slice(0, 9);\r\n\r\n    const formattedValue = truncatedValue.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n\r\n    if (formattedValue !== '') {\r\n      const multipliedValue = parseFloat(truncatedValue) * jpyToUsd;\r\n\r\n      if (!isNaN(multipliedValue)) {\r\n        const formattedMultipliedValue = multipliedValue.toFixed(0).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n\r\n        inputFobJpy.current.value = formattedValue;\r\n        inputFobUsd.current.setNativeProps({ text: formattedMultipliedValue });\r\n      } else {\r\n        // Handle the case when the multipliedValue is NaN\r\n        inputFobJpy.current.value = formattedValue;\r\n        inputFobUsd.current.setNativeProps({ text: '' });\r\n      }\r\n    } else {\r\n      // Handle the case when formattedValue is empty\r\n      inputFobJpy.current.value = '';\r\n      inputFobUsd.current.setNativeProps({ text: '' });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleInputFobJpyChange(inputFobJpy.current?.value);\r\n  }, [jpyToUsd]);\r\n\r\n\r\n\r\n  const handleAddMakeTextChange = () => {\r\n    const newText = textAreaAddMake.current?.value?.toUpperCase();\r\n    textAreaAddMake.current?.setNativeProps({ text: newText });\r\n\r\n  };\r\n\r\n\r\n  const handleAddTransmissionTextChange = () => {\r\n    const textAreaValue = textAreaAddTransmission.current?.value;\r\n    if (textAreaValue) {\r\n      const newText = textAreaValue\r\n        .split('\\n')\r\n        .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n        .join('\\n');\r\n      textAreaAddTransmission.current.setNativeProps({ text: newText });\r\n    }\r\n  };\r\n\r\n  const handleAddFuelTextChange = () => {\r\n    const textAreaValue = textAreaAddFuel.current?.value;\r\n    if (textAreaValue) {\r\n      const newText = textAreaValue\r\n        .split('\\n')\r\n        .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n        .join('\\n');\r\n      textAreaAddFuel.current.setNativeProps({ text: newText });\r\n    }\r\n  };\r\n\r\n\r\n  const handleAddPortTextChange = () => {\r\n    const textAreaValue = textAreaAddPort.current?.value;\r\n    if (textAreaValue) {\r\n      const newText = textAreaValue\r\n        .split('\\n')\r\n        .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n        .join('\\n');\r\n      textAreaAddPort.current.setNativeProps({ text: newText });\r\n    }\r\n  };\r\n\r\n  const handleAddPortCodeTextChange = () => {\r\n    const newText = textAreaAddPortCode.current?.value?.toUpperCase();\r\n    textAreaAddPortCode.current?.setNativeProps({ text: newText });\r\n    // Remove any non-numeric characters\r\n\r\n\r\n  };\r\n\r\n  const handleAddSalesTextChange = () => {\r\n    const textAreaValue = textAreaAddSales.current?.value;\r\n    if (textAreaValue) {\r\n      const newText = textAreaValue\r\n        .split('\\n')\r\n        .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n        .join('\\n');\r\n      textAreaAddSales.current.setNativeProps({ text: newText });\r\n    }\r\n  };\r\n\r\n  const handleAddSalesCodeTextChange = () => {\r\n    const newText = textAreaAddSalesCode.current?.value?.toUpperCase();\r\n    textAreaAddSalesCode.current?.setNativeProps({ text: newText });\r\n  };\r\n\r\n  const handleAddBuyerTextChange = () => {\r\n    const textAreaValue = textAreaAddBuyer.current?.value;\r\n    if (textAreaValue) {\r\n      const newText = textAreaValue\r\n        .split('\\n')\r\n        .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n        .join('\\n');\r\n      textAreaAddBuyer.current.setNativeProps({ text: newText });\r\n    }\r\n  };\r\n\r\n  const handleAddBuyerCodeTextChange = (text) => {\r\n\r\n    const numericValue = text.replace(/[^0-9\\n]/g, '');\r\n\r\n    // Update the value of the textarea while preventing new lines\r\n    textAreaAddBuyerCode.current.value = numericValue;\r\n  };\r\n\r\n  const handleAddDriveTypeTextChange = () => {\r\n    const textAreaValue = textAreaAddDriveType.current?.value;\r\n    if (textAreaValue) {\r\n      const newText = textAreaValue\r\n        .split('\\n')\r\n        .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n        .join('\\n');\r\n      textAreaAddDriveType.current.setNativeProps({ text: newText });\r\n    }\r\n  };\r\n\r\n  const handleAddBodyTypeTextChange = () => {\r\n    const textAreaValue = textAreaAddBodyType.current?.value;\r\n    if (textAreaValue) {\r\n      const newText = textAreaValue\r\n        .split('\\n')\r\n        .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n        .join('\\n');\r\n      textAreaAddBodyType.current.setNativeProps({ text: newText });\r\n    }\r\n  };\r\n\r\n\r\n  const handleAddExteriorColorTextChange = () => {\r\n    const textAreaValue = textAreaAddExteriorColor.current?.value;\r\n    if (textAreaValue) {\r\n      const newText = textAreaValue\r\n        .split('\\n')\r\n        .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n        .join('\\n');\r\n      textAreaAddExteriorColor.current.setNativeProps({ text: newText });\r\n    }\r\n  };\r\n\r\n  const handleAddExpenseNameTextChange = () => {\r\n    const textAreaValue = textAreaAddExpenseName.current?.value;\r\n    if (textAreaValue) {\r\n      const newText = textAreaValue\r\n        .split('\\n')\r\n        .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n        .join('\\n');\r\n      textAreaAddExpenseName.current.setNativeProps({ text: newText });\r\n    }\r\n  };\r\n\r\n  const handleAddPaidToTextChange = () => {\r\n    const textAreaValue = textAreaAddPaidTo.current?.value;\r\n    if (textAreaValue) {\r\n      const newText = textAreaValue\r\n        .split('\\n')\r\n        .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n        .join('\\n');\r\n      textAreaAddPaidTo.current.setNativeProps({ text: newText });\r\n    }\r\n  };\r\n\r\n  const handleInputRefNumChange = () => {\r\n    const newText = inputRefNum.current?.value?.toUpperCase();\r\n    inputRefNum.current?.setNativeProps({ text: newText });\r\n\r\n    setRefNumFromSelects();\r\n  };\r\n\r\n  const handleInputChassisChange = () => {\r\n    const newText = inputChassis.current?.value?.toUpperCase();\r\n    inputChassis.current?.setNativeProps({ text: newText });\r\n\r\n  };\r\n  const handleInputModelCodeChange = () => {\r\n    const newText = inputModelCode.current?.value?.toUpperCase();\r\n    inputModelCode.current?.setNativeProps({ text: newText });\r\n\r\n  };\r\n  const handleInputEngineCodeChange = () => {\r\n    const newText = inputEngineCode.current?.value?.toUpperCase();\r\n    inputEngineCode.current?.setNativeProps({ text: newText });\r\n\r\n  };\r\n\r\n\r\n\r\n  const handleInputEngineDisChange = (text) => {\r\n    // Remove any non-numeric characters\r\n    const numericValue = text.replace(/[^0-9]/g, '');\r\n\r\n\r\n    // Limit the numeric value to a maximum of 4 characters\r\n    const truncatedValue = numericValue.slice(0, 5);\r\n\r\n    // Format the truncated numeric value with comma separator\r\n    const formattedValue = Number(truncatedValue).toLocaleString();\r\n\r\n    inputEngineDis.current.value = formattedValue;\r\n  };\r\n\r\n  const handleInputExpenseAmountChange = (text) => {\r\n    // Remove any non-numeric characters\r\n    const numericValue = text.replace(/[^0-9]/g, '');\r\n\r\n    // Limit the numeric value to a maximum of 4 characters\r\n    const truncatedValue = numericValue.slice(0, 6);\r\n\r\n    // Format the truncated numeric value with comma separator\r\n    const formattedValue = Number(truncatedValue).toLocaleString();\r\n\r\n    inputExpenseAmount.current.value = formattedValue;\r\n  };\r\n\r\n\r\n  const handleInputMileageChange = (text) => {\r\n    // Remove any non-numeric characters\r\n    const numericValue = text.replace(/[^0-9]/g, '');\r\n\r\n    // Limit the numeric value to a maximum of 4 characters\r\n    const truncatedValue = numericValue.slice(0, 6);\r\n\r\n    // Format the truncated numeric value with comma separator\r\n    const formattedValue = Number(truncatedValue).toLocaleString();\r\n\r\n    inputMileage.current.value = formattedValue;\r\n  };\r\n\r\n  const handleInputNumOfSeatsChange = (text) => {\r\n    // Remove any non-numeric characters\r\n    const numericValue = text.replace(/[^0-9]/g, '');\r\n\r\n    // Limit the numeric value to a maximum of 4 characters\r\n    const truncatedValue = numericValue.slice(0, 3);\r\n\r\n    // Format the truncated numeric value with comma separator\r\n    const formattedValue = Number(truncatedValue).toLocaleString();\r\n\r\n    inputNumOfSeats.current.value = formattedValue;\r\n  };\r\n\r\n  const handleInputDoorsChange = (text) => {\r\n    // Remove any non-numeric characters\r\n    const numericValue = text.replace(/[^0-9]/g, '');\r\n\r\n    // Limit the numeric value to a maximum of 4 characters\r\n    const truncatedValue = numericValue.slice(0, 2);\r\n\r\n    // Format the truncated numeric value with comma separator\r\n    const formattedValue = Number(truncatedValue).toLocaleString();\r\n\r\n    inputDoors.current.value = formattedValue;\r\n  };\r\n\r\n  const handleInputDimensionLengthChange = (text) => {\r\n    // Remove any non-numeric characters and allow decimal points\r\n    const numericValue = text.replace(/[^0-9.]/g, '');\r\n\r\n    // Check if a dot already exists in the input\r\n    const dotIndex = numericValue.indexOf('.');\r\n    let truncatedValue;\r\n    if (dotIndex !== -1) {\r\n      // If a dot already exists, remove any additional dots\r\n      truncatedValue = numericValue.slice(0, dotIndex + 1) + numericValue.slice(dotIndex).replace(/\\./g, '');\r\n    } else {\r\n      truncatedValue = numericValue;\r\n    }\r\n\r\n    // Limit the numeric value to a maximum of 7 characters (4 digits, 1 decimal point, and 2 decimal places)\r\n    truncatedValue = truncatedValue.slice(0, 7);\r\n\r\n    // Format the truncated numeric value with comma separator\r\n    const formattedValue = truncatedValue.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n\r\n    inputDimensionLength.current.value = formattedValue;\r\n\r\n    calculateCubicMeters();\r\n  };\r\n\r\n\r\n  const handleInputDimensionWidthChange = (text) => {\r\n    // Remove any non-numeric characters and allow decimal points\r\n    const numericValue = text.replace(/[^0-9.]/g, '');\r\n\r\n    // Check if a dot already exists in the input\r\n    const dotIndex = numericValue.indexOf('.');\r\n    let truncatedValue;\r\n    if (dotIndex !== -1) {\r\n      // If a dot already exists, remove any additional dots\r\n      truncatedValue = numericValue.slice(0, dotIndex + 1) + numericValue.slice(dotIndex).replace(/\\./g, '');\r\n    } else {\r\n      truncatedValue = numericValue;\r\n    }\r\n\r\n    // Limit the numeric value to a maximum of 7 characters (4 digits, 1 decimal point, and 2 decimal places)\r\n    truncatedValue = truncatedValue.slice(0, 7);\r\n\r\n    // Format the truncated numeric value with comma separator\r\n    const formattedValue = truncatedValue.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n\r\n    inputDimensionWidth.current.value = formattedValue;\r\n\r\n    calculateCubicMeters();\r\n  };\r\n\r\n  const handleInputDimensionHeightChange = (text) => {\r\n    // Remove any non-numeric characters and allow decimal points\r\n    const numericValue = text.replace(/[^0-9.]/g, '');\r\n\r\n    // Check if a dot already exists in the input\r\n    const dotIndex = numericValue.indexOf('.');\r\n    let truncatedValue;\r\n    if (dotIndex !== -1) {\r\n      // If a dot already exists, remove any additional dots\r\n      truncatedValue = numericValue.slice(0, dotIndex + 1) + numericValue.slice(dotIndex).replace(/\\./g, '');\r\n    } else {\r\n      truncatedValue = numericValue;\r\n    }\r\n\r\n    // Limit the numeric value to a maximum of 7 characters (4 digits, 1 decimal point, and 2 decimal places)\r\n    truncatedValue = truncatedValue.slice(0, 7);\r\n\r\n    // Format the truncated numeric value with comma separator\r\n    const formattedValue = truncatedValue.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n\r\n    inputDimensionHeight.current.value = formattedValue;\r\n    calculateCubicMeters();\r\n\r\n  };\r\n\r\n  const handleInputDimensionCubicMetersChange = (text) => {\r\n    // Remove any non-numeric characters\r\n    const numericValue = text.replace(/[^0-9]/g, '');\r\n\r\n    // Limit the numeric value to a maximum of 4 characters\r\n    const truncatedValue = numericValue.slice(0, 6);\r\n\r\n    // Format the truncated numeric value with comma separator\r\n    const formattedValue = Number(truncatedValue).toLocaleString();\r\n\r\n    inputDimensionCubicMeters.current.value = formattedValue;\r\n    calculateCubicMeters();\r\n  };\r\n\r\n  const handleInputWeightChange = (text) => {\r\n    // Remove any non-numeric characters\r\n    const numericValue = text.replace(/[^0-9]/g, '');\r\n\r\n    // Limit the numeric value to a maximum of 4 characters\r\n    const truncatedValue = numericValue.slice(0, 5);\r\n\r\n    // Format the truncated numeric value with comma separator\r\n    const formattedValue = Number(truncatedValue).toLocaleString();\r\n\r\n    inputWeight.current.value = formattedValue;\r\n  };\r\n\r\n  const monthNumbers = [\r\n    '01',\r\n    '02',\r\n    '03',\r\n    '04',\r\n    '05',\r\n    '06',\r\n    '07',\r\n    '08',\r\n    '09',\r\n    '10',\r\n    '11',\r\n    '12'\r\n  ];\r\n\r\n  const calculateCubicMeters = () => {\r\n    const length = parseFloat(inputDimensionLength.current?.value?.replace(/,/g, '')) || 0;\r\n    const width = parseFloat(inputDimensionWidth.current?.value?.replace(/,/g, '')) || 0;\r\n    const height = parseFloat(inputDimensionHeight.current?.value?.replace(/,/g, '')) || 0;\r\n\r\n    const result = (length * width * height) / 1000000;\r\n    const resultFormatted = result.toFixed(2);\r\n\r\n    // setCubicMeters(resultFormatted);\r\n    inputDimensionCubicMeters.current.setNativeProps({ text: resultFormatted });\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  // useEffect(() => {\r\n\r\n  //   let makeValue = makeVariable.text;\r\n\r\n  //   if (makeValue !== '') {\r\n  //     setCarNameFromSelects();\r\n  //   }\r\n\r\n  // }, [modelData]);\r\n\r\n\r\n  const setRefNumFromSelects = () => {\r\n    let portValue = portVariable.id;\r\n    let stockIDValue = inputStockIDNumber.current?.value;\r\n    let salesValue = salesVariable.id;\r\n    let buyerValue = buyerVariable.id;\r\n\r\n    // // Check and update regYearValue if it's \"__NativebasePlaceholder__\"\r\n    // if (regYearValue === \"__NativebasePlaceholder__\") {\r\n    //   regYearValue = \"\";\r\n    // }\r\n\r\n    // // Check and update makeValue if it's \"__NativebasePlaceholder__\"\r\n    // if (makeValue === '') {\r\n    //   makeValue = \"\";\r\n    // }\r\n\r\n    // // Check and update modelValue if it's \"__NativebasePlaceholder__\"\r\n    // if (modelValue === '') {\r\n    //   modelValue = \"\";\r\n    // }\r\n\r\n    // Concatenate the values to form the car name\r\n    const carName = `${portValue}${stockIDValue}${salesValue}-${buyerValue}`;\r\n    // Update the inputCarName ref value using setNativeProps\r\n    // inputCarName.current.setNativeProps({ text: carName });\r\n    inputRefNum.current.setNativeProps({ text: carName });\r\n    referenceNumberVariable.text = carName;\r\n    // console.log(carName);\r\n  };\r\n\r\n\r\n  const setCarNameFromSelects = () => {\r\n    let regYearValue = regYearVariable.text;\r\n    let makeValue = makeVariable.text;\r\n    let modelValue = modelVariable.text;\r\n\r\n    // // Check and update regYearValue if it's \"__NativebasePlaceholder__\"\r\n    // if (regYearValue === \"__NativebasePlaceholder__\") {\r\n    //   regYearValue = \"\";\r\n    // }\r\n\r\n    // // Check and update makeValue if it's \"__NativebasePlaceholder__\"\r\n    // if (makeValue === '') {\r\n    //   makeValue = \"\";\r\n    // }\r\n\r\n    // // Check and update modelValue if it's \"__NativebasePlaceholder__\"\r\n    // if (modelValue === '') {\r\n    //   modelValue = \"\";\r\n    // }\r\n\r\n    // Concatenate the values to form the car name\r\n    const carName = `${regYearValue} ${makeValue} ${modelValue}`;\r\n    // Update the inputCarName ref value using setNativeProps\r\n    inputCarName.current.setNativeProps({ text: carName });\r\n\r\n  };\r\n\r\n  const setCarNameFromSelectsModel = () => {\r\n    let regYearValue = regYearVariable.text;\r\n    let makeValue = makeVariable.text;\r\n    let modelValue = modelVariable.text;\r\n\r\n    // // Check and update regYearValue if it's \"__NativebasePlaceholder__\"\r\n    // if (regYearValue === \"__NativebasePlaceholder__\") {\r\n    //   regYearValue = \"\";\r\n    // }\r\n\r\n    // // Check and update makeValue if it's \"__NativebasePlaceholder__\"\r\n    // if (makeValue === '') {\r\n    //   makeValue = \"\";\r\n    // }\r\n\r\n    // // Check and update modelValue if it's \"__NativebasePlaceholder__\"\r\n    // if (modelValue === '') {\r\n    //   modelValue = \"\";\r\n    // }\r\n\r\n    // Concatenate the values to form the car name\r\n    const carName = `${regYearValue} ${makeValue} ${modelValue}`;\r\n    // Update the inputCarName ref value using setNativeProps\r\n    inputCarName.current.setNativeProps({ text: carName });\r\n\r\n\r\n  };\r\n  // const [selectedMake, setSelectedMake] = useState();\r\n\r\n\r\n  // useEffect(() => {\r\n\r\n\r\n\r\n  // }, []);\r\n\r\n  const clearSelect = () => {\r\n    // setModelData([]);\r\n\r\n    // if (makeVariable.text !== '') {\r\n    //   dispatch(setModelData([]));\r\n    // }\r\n\r\n\r\n\r\n    selectMakeRef.current.reset();\r\n    selectModelRef.current.reset();\r\n    selectRegYear.current.reset();\r\n    selectRegMonth.current.reset();\r\n    selectSteering.current.reset();\r\n    selectTransmission.current.reset();\r\n    selectExteriorColor.current.reset();\r\n    selectFuel.current.reset();\r\n    selectPort.current.reset();\r\n    selectSales.current.reset();\r\n    selectBuyer.current.reset();\r\n    selectDriveType.current.reset();\r\n    selectBodyType.current.reset();\r\n    selectStockStatus.current.reset();\r\n\r\n\r\n  };\r\n\r\n\r\n\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n\r\n\r\n  const ClearModalButton = ({ handleClear }) => {\r\n    const [modalClearVisible, setModalClearVisible] = useState(false);\r\n\r\n    const handleModalClearOpen = useCallback(() => {\r\n      setModalClearVisible(true);\r\n\r\n\r\n      // selectMakeRef.current.selectIndex(makeData.indexOf('TOYOTA'));\r\n    }, []);\r\n\r\n    const handleModalClearClose = useCallback(() => {\r\n      setModalClearVisible(false);\r\n    }, []);\r\n\r\n\r\n\r\n    return (\r\n      <>\r\n        <Button\r\n          borderRadius={3}\r\n          flex={1}\r\n          bgColor={'#D9D9D9'}\r\n          onPress={handleModalClearOpen}\r\n          _text={{ color: 'muted.500' }}\r\n          _hover={{ bgColor: '#f0eded' }}\r\n        >\r\n          Clear\r\n        </Button>\r\n\r\n        <Modal isOpen={modalClearVisible} onClose={handleModalClearClose}>\r\n          <Modal.Content bgColor={'amber.100'}>\r\n            <Modal.CloseButton />\r\n            <Modal.Header borderBottomWidth={0} bgColor={'amber.100'}>\r\n              <Text color={'#102A43'} bold>\r\n                Clear\r\n              </Text>\r\n            </Modal.Header>\r\n            <Modal.Body\r\n              justifyContent={'center'}\r\n              alignItems={'center'}\r\n              bgColor={'amber.200'}\r\n              borderLeftWidth={4}\r\n              borderLeftColor={'amber.600'}\r\n              margin={5}\r\n            >\r\n              <Box flex={1}>\r\n                <Text color={'amber.600'} bold>\r\n                  Warning!\r\n                </Text>\r\n                <Text color={'amber.600'}>\r\n                  Are you sure you want to clear all inputs? This action will clear all the fields and cannot be undone!\r\n                </Text>\r\n              </Box>\r\n            </Modal.Body>\r\n            <Modal.Footer borderTopWidth={0} bgColor={'amber.100'}>\r\n              <HStack space={5} flex={1}>\r\n                <Button\r\n                  onPress={handleModalClearClose}\r\n                  colorScheme={'warmGray'}\r\n                  flex={1}\r\n                  size={'sm'}\r\n                  borderRadius={5}\r\n                >\r\n                  No\r\n                </Button>\r\n                <Button\r\n                  onPress={() => {\r\n                    handleModalClearClose();\r\n                    handleClear();\r\n                  }}\r\n                  flex={1} size={'sm'} colorScheme={'amber'} borderRadius={5}>\r\n                  Clear\r\n                </Button>\r\n              </HStack>\r\n            </Modal.Footer>\r\n          </Modal.Content>\r\n        </Modal>\r\n      </>\r\n    );\r\n  };\r\n\r\n\r\n\r\n\r\n  const SelectFeaturesButton = () => {\r\n    const [featuresModalVisible, setFeaturesModalVisible] = useState(false);\r\n    const [featuresClearModalVisible, setClearModalVisible] = useState(false);\r\n\r\n    const [key, setKey] = useState(resetKey);\r\n\r\n\r\n    const handleModalSelectFeaturesOpen = () => {\r\n      setFeaturesModalVisible(true);\r\n    };\r\n\r\n    const handleModalSelectFeaturesClose = () => {\r\n      setFeaturesModalVisible(false);\r\n    };\r\n\r\n    const handleClearModalOpen = () => {\r\n      setClearModalVisible(true);\r\n    };\r\n\r\n    const handleClearModalClose = () => {\r\n      setClearModalVisible(false);\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <Button\r\n          borderRadius={3}\r\n          flex={1}\r\n          onPress={handleModalSelectFeaturesOpen}\r\n          variant={'outline'}\r\n          _text={{ color: 'black', }}\r\n          leftIcon={<MaterialCommunityIcons name=\"car-info\" size={20} color=\"black\" />}>\r\n\r\n          Select Features\r\n        </Button>\r\n\r\n        <Modal\r\n          isOpen={featuresModalVisible}\r\n          onClose={handleModalSelectFeaturesClose} size={'full'} useRNModal>\r\n          <Modal.Content bgColor={'white'} w={'80%'} h={'80%'}>\r\n            <Modal.CloseButton />\r\n            {/* <Modal.Header borderBottomWidth={0} bgColor={'white'}>\r\n              <Text color={'#102A43'} bold>\r\n                Features\r\n              </Text>\r\n            </Modal.Header> */}\r\n            {/* <Modal.Body\r\n              justifyContent={'center'}\r\n              alignItems={'center'}\r\n              bgColor={'white'}\r\n              flex={1}\r\n              h={'100%'}\r\n            > */}\r\n            <ScrollView flex={1} flexDirection={'column'} margin={10}>\r\n\r\n              {/* <Box bgColor={'#7b9cff'} borderColor={isNoFeaturesSelected} borderWidth={'1'} marginTop={1} ref={featureBoxRef}>\r\n                  <Text color={'white'} bold fontSize={20} width={'full'}> Features</Text>\r\n                </Box> */}\r\n\r\n              <Box>\r\n                <Text color={'black'} bold fontSize={16} width={'full'}> Safety System</Text>\r\n              </Box>\r\n\r\n\r\n              <Box flex={1} flexDir={'row'}>\r\n                <CheckBoxButton variable={featuresState.SafetySystemAnBrSy} key={`SafetySystemAnBrSy-${resetKey}`} label=\"Anti-Lock Braking System (ABS)\" onChange={(checked) => featuresState.SafetySystemAnBrSy = checked} />\r\n                <CheckBoxButton variable={featuresState.SafetySystemDrAi} key={`SafetySystemDrAi-${resetKey}`} label=\"Driver Airbag\" onChange={(checked) => featuresState.SafetySystemDrAi = checked} />\r\n                <CheckBoxButton variable={featuresState.SafetySystemPaAi} key={`SafetySystemPaAi-${resetKey}`} label=\"Passenger Airbag\" onChange={(checked) => featuresState.SafetySystemPaAi = checked} />\r\n                <CheckBoxButton variable={featuresState.SafetySystemSiAi} key={`SafetySystemSiAi-${resetKey}`} label=\"Side Airbag\" onChange={(checked) => featuresState.SafetySystemSiAi = checked} />\r\n              </Box>\r\n\r\n              <Box>\r\n                <Text color={'black'} marginLeft={1} bold fontSize={16} width={'full'}>Comfort</Text>\r\n              </Box>\r\n\r\n              <Box flex={1} flexDir={'row'}>\r\n                <CheckBoxButton variable={featuresState.ComfortAiCoFr} key={`ComfortAiCoFr-${resetKey}`} label=\"Air Conditioner (Front)\" onChange={(checked) => featuresState.ComfortAiCoFr = checked} />\r\n                <CheckBoxButton variable={featuresState.ComfortAiCoRe} key={`ComfortAiCoRe-${resetKey}`} label=\"Air Conditioner (Rear)\" onChange={(checked) => featuresState.ComfortAiCoRe = checked} />\r\n                <CheckBoxButton variable={featuresState.ComfortAMFMRa} key={`ComfortAMFMRa-${resetKey}`} label=\"AM/FM Radio\" onChange={(checked) => featuresState.ComfortAMFMRa = checked} />\r\n                <CheckBoxButton variable={featuresState.ComfortAMFMSt} key={`ComfortAMFMSt-${resetKey}`} label=\"AM/FM Stereo\" onChange={(checked) => featuresState.ComfortAMFMSt = checked} />\r\n              </Box>\r\n              <Box flex={1} flexDir={'row'}>\r\n                <CheckBoxButton variable={featuresState.ComfortCDPl} key={`ComfortCDPl-${resetKey}`} label=\"CD Player\" onChange={(checked) => featuresState.ComfortCDPl = checked} />\r\n                <CheckBoxButton variable={featuresState.ComfortCDCh} key={`ComfortCDCh-${resetKey}`} label=\"CD Changer\" onChange={(checked) => featuresState.ComfortCDCh = checked} />\r\n                <CheckBoxButton variable={featuresState.ComfortCrSpCo} key={`ComfortCrSpCo-${resetKey}`} label=\"Cruise Speed Control\" onChange={(checked) => featuresState.ComfortCrSpCo = checked} />\r\n                <CheckBoxButton variable={featuresState.ComfortDiSp} key={`ComfortDiSp-${resetKey}`} label=\"Digital Speedometer\" onChange={(checked) => featuresState.ComfortDiSp = checked} />\r\n              </Box>\r\n              <Box flex={1} flexDir={'row'}>\r\n                <CheckBoxButton variable={featuresState.ComfortDVDPl} key={`ComfortDVDPl-${resetKey}`} label=\"DVD Player\" onChange={(checked) => featuresState.ComfortDVDPl = checked} />\r\n                <CheckBoxButton variable={featuresState.ComfortHDD} key={`ComfortHDD-${resetKey}`} label=\"Hard Disk Drive\" onChange={(checked) => featuresState.ComfortHDD = checked} />\r\n                <CheckBoxButton variable={featuresState.ComfortNaSyGPS} key={`ComfortNaSyGPS-${resetKey}`} label=\"Navigation System (GPS)\" onChange={(checked) => featuresState.ComfortNaSyGPS = checked} />\r\n                <CheckBoxButton variable={featuresState.ComfortPoSt} key={`ComfortPoSt-${resetKey}`} label=\"Power Steering\" onChange={(checked) => featuresState.ComfortPoSt = checked} />\r\n              </Box>\r\n              <Box flex={1} flexDir={'row'}>\r\n                <CheckBoxButton variable={featuresState.ComfortPrAuSy} key={`ComfortPrAuSy-${resetKey}`} label=\"Premium Audio System\" onChange={(checked) => featuresState.ComfortPrAuSy = checked} />\r\n                <CheckBoxButton variable={featuresState.ComfortReKeSy} key={`ComfortReKeSy-${resetKey}`} label=\"Remote Keyless System\" onChange={(checked) => featuresState.ComfortReKeSy = checked} />\r\n                <CheckBoxButton variable={featuresState.ComfortTiStWh} key={`ComfortTiStWh-${resetKey}`} label=\"Tilt Steering Wheel\" onChange={(checked) => featuresState.ComfortTiStWh = checked} />\r\n                <TouchableOpacity pressDuration={0} style={{ flex: 1, justifyContent: 'center', }} disabled><Box justifyContent=\"center\" alignItems=\"center\" borderRadius={3} flex={1} disabled bgColor={'white'} margin={1}></Box></TouchableOpacity>\r\n              </Box>\r\n\r\n\r\n              <Box>\r\n                <Text color={'black'} marginLeft={1} bold fontSize={16} width={'full'}>Interior</Text>\r\n              </Box>\r\n              <Box flex={1} flexDir={'row'}>\r\n                <CheckBoxButton variable={featuresState.InteriorLeSe} key={`InteriorLeSe-${resetKey}`} label=\"Leather Seats\" onChange={(checked) => featuresState.InteriorLeSe = checked} />\r\n                <CheckBoxButton variable={featuresState.InteriorPoDoLo} key={`InteriorPoDoLo-${resetKey}`} label=\"Power Door Locks\" onChange={(checked) => featuresState.InteriorPoDoLo = checked} />\r\n                <CheckBoxButton variable={featuresState.InteriorPoMi} key={`InteriorPoMi-${resetKey}`} label=\"Power Mirrors\" onChange={(checked) => featuresState.InteriorPoMi = checked} />\r\n                <CheckBoxButton variable={featuresState.InteriorPoSe} key={`InteriorPoSe-${resetKey}`} label=\"Power Seats\" onChange={(checked) => featuresState.InteriorPoSe = checked} />\r\n              </Box>\r\n              <Box flex={1} flexDir={'row'}>\r\n                <CheckBoxButton variable={featuresState.InteriorPoWi} key={`InteriorPoWi-${resetKey}`} label=\"Power Windows\" onChange={(checked) => featuresState.InteriorPoWi = checked} />\r\n                <CheckBoxButton variable={featuresState.InteriorReWiDe} key={`InteriorReWiDe-${resetKey}`} label=\"Rear Window Defroster\" onChange={(checked) => featuresState.InteriorReWiDe = checked} />\r\n                <CheckBoxButton variable={featuresState.InteriorReWiWi} key={`InteriorReWiWi-${resetKey}`} label=\"Rear Window Wiper\" onChange={(checked) => featuresState.InteriorReWiWi = checked} />\r\n                <CheckBoxButton variable={featuresState.InteriorThRoSe} key={`InteriorThRoSe-${resetKey}`} label=\"Third Row Seats\" onChange={(checked) => featuresState.InteriorThRoSe = checked} />\r\n              </Box>\r\n              <Box flex={1} flexDir={'row'}>\r\n                <CheckBoxButton variable={featuresState.InteriorTiGl} key={`InteriorTiGl-${resetKey}`} label=\"Tinted Glasses\" onChange={(checked) => featuresState.InteriorTiGl = checked} />\r\n                <TouchableOpacity pressDuration={0} style={{ flex: 1, justifyContent: 'center', }} disabled><Box justifyContent=\"center\" alignItems=\"center\" borderRadius={3} flex={1} disabled bgColor={'white'} margin={1}></Box></TouchableOpacity>\r\n                <TouchableOpacity pressDuration={0} style={{ flex: 1, justifyContent: 'center', }} disabled><Box justifyContent=\"center\" alignItems=\"center\" borderRadius={3} flex={1} disabled bgColor={'white'} margin={1}></Box></TouchableOpacity>\r\n                <TouchableOpacity pressDuration={0} style={{ flex: 1, justifyContent: 'center', }} disabled><Box justifyContent=\"center\" alignItems=\"center\" borderRadius={3} flex={1} disabled bgColor={'white'} margin={1}></Box></TouchableOpacity>\r\n              </Box>\r\n\r\n              <Box >\r\n                <Text color={'black'} marginLeft={1} bold fontSize={16} width={'full'}>Exterior</Text>\r\n              </Box>\r\n              <Box flex={1} flexDir={'row'}>\r\n                <CheckBoxButton variable={featuresState.ExteriorAlWh} key={`ExteriorAlWh-${resetKey}`} label=\"Alloy Wheels\" onChange={(checked) => featuresState.ExteriorAlWh = checked} />\r\n                <CheckBoxButton variable={featuresState.ExteriorPoSlDo} key={`ExteriorPoSlDo-${resetKey}`} label=\"Power Sliding Door\" onChange={(checked) => featuresState.ExteriorPoSlDo = checked} />\r\n                <CheckBoxButton variable={featuresState.ExteriorSuRo} key={`ExteriorSuRo-${resetKey}`} label=\"Sunroof\" onChange={(checked) => featuresState.ExteriorSuRo = checked} />\r\n                <TouchableOpacity pressDuration={0} style={{ flex: 1, justifyContent: 'center', }} disabled><Box justifyContent=\"center\" alignItems=\"center\" borderRadius={3} flex={1} disabled bgColor={'white'} margin={1}></Box></TouchableOpacity>\r\n              </Box>\r\n\r\n              <Box >\r\n                <Text color={'black'} marginLeft={1} bold fontSize={16} width={'full'}>Selling Points</Text>\r\n              </Box>\r\n              <Box flex={1} flexDir={'row'}>\r\n                <CheckBoxButton variable={featuresState.SellingPointsCuWh} key={`SellingPointsCuWh-${resetKey}`} label=\"Customized Wheels\" onChange={(checked) => featuresState.SellingPointsCuWh = checked} />\r\n                <CheckBoxButton variable={featuresState.SellingPointsFuLo} key={`SellingPointsFuLo-${resetKey}`} label=\"Fully Loaded\" onChange={(checked) => featuresState.SellingPointsFuLo = checked} />\r\n                <CheckBoxButton variable={featuresState.SellingPointsMaHiAv} key={`SellingPointsMaHiAv-${resetKey}`} label=\"Maintenance History Available\" onChange={(checked) => featuresState.SellingPointsMaHiAv = checked} />\r\n                <CheckBoxButton variable={featuresState.SellingPointsBrNeTi} key={`SellingPointsBrNeTi-${resetKey}`} label=\"Brand New Tires\" onChange={(checked) => featuresState.SellingPointsBrNeTi = checked} />\r\n              </Box>\r\n              <Box flex={1} flexDir={'row'}>\r\n                <CheckBoxButton variable={featuresState.SellingPointsNoAcHi} key={`SellingPointsNoAcHi-${resetKey}`} label=\"No Accident History\" onChange={(checked) => featuresState.SellingPointsNoAcHi = checked} />\r\n                <CheckBoxButton variable={featuresState.SellingPointsNoSmPrOw} key={`SellingPointsNoSmPrOw-${resetKey}`} label=\"Non-Smoking Previous Owner\" onChange={(checked) => featuresState.SellingPointsNoSmPrOw = checked} />\r\n                <CheckBoxButton variable={featuresState.SellingPointsOnOwHi} key={`SellingPointsOnOwHi-${resetKey}`} label=\"One Owner History\" onChange={(checked) => featuresState.SellingPointsOnOwHi = checked} />\r\n                <CheckBoxButton variable={featuresState.SellingPointsPeRaTi} key={`SellingPointsPeRaTi-${resetKey}`} label=\"Performance-rated Tires\" onChange={(checked) => featuresState.SellingPointsPeRaTi = checked} />\r\n              </Box>\r\n              <Box flex={1} flexDir={'row'}>\r\n                <CheckBoxButton variable={featuresState.SellingPointsReBo} key={`SellingPointsReBo-${resetKey}`} label=\"Repainted Body\" onChange={(checked) => featuresState.SellingPointsReBo = checked} />\r\n                <CheckBoxButton variable={featuresState.SellingPointsTuEn} key={`SellingPointsTuEn-${resetKey}`} label=\"Turbo Engine\" onChange={(checked) => featuresState.SellingPointsTuEn = checked} />\r\n                <CheckBoxButton variable={featuresState.SellingPointsUpAuSy} key={`SellingPointsUpAuSy-${resetKey}`} label=\"Upgraded Audio System\" onChange={(checked) => featuresState.SellingPointsUpAuSy = checked} />\r\n                <TouchableOpacity pressDuration={0} style={{ flex: 1, justifyContent: 'center', }} disabled><Box justifyContent=\"center\" alignItems=\"center\" borderRadius={3} flex={1} disabled bgColor={'white'} margin={1}></Box></TouchableOpacity>\r\n              </Box>\r\n            </ScrollView>\r\n            <HStack space={5} width={'full'} justifyContent={'space-between'}>\r\n              <Button\r\n                onPress={() => {\r\n                  handleClearModalOpen();\r\n                }}\r\n                colorScheme={'gray'}\r\n                size={'sm'}\r\n                borderRadius={5}\r\n                margin={1}\r\n                flex={1}\r\n              >\r\n                Clear\r\n              </Button>\r\n              <Box flex={2} />\r\n              <Button\r\n                onPress={handleModalSelectFeaturesClose}\r\n                colorScheme={'primary'}\r\n                size={'sm'}\r\n                borderRadius={5}\r\n                margin={1}\r\n                flex={1}\r\n              >\r\n                Ok\r\n              </Button>\r\n            </HStack>\r\n            {/* </Modal.Body> */}\r\n            {/* <Modal.Footer borderTopWidth={0} bgColor={'white'}>\r\n              <HStack space={5} flex={1}>\r\n                <Button\r\n                  onPress={handleModalSelectFeaturesClose}\r\n                  colorScheme={'warmGray'}\r\n                  size={'sm'}\r\n                  borderRadius={5}\r\n                >\r\n                  Ok\r\n                </Button>\r\n              </HStack>\r\n            </Modal.Footer> */}\r\n          </Modal.Content>\r\n        </Modal>\r\n\r\n        <Modal isOpen={featuresClearModalVisible} onClose={handleClearModalClose} useRNModal>\r\n          <Modal.Content bgColor={'amber.100'}>\r\n            <Modal.CloseButton />\r\n            <Modal.Header borderBottomWidth={0} bgColor={'amber.100'}>\r\n              <Text color={'#102A43'} bold>\r\n                Clear\r\n              </Text>\r\n            </Modal.Header>\r\n            <Modal.Body\r\n              justifyContent={'center'}\r\n              alignItems={'center'}\r\n              bgColor={'amber.200'}\r\n              borderLeftWidth={4}\r\n              borderLeftColor={'amber.600'}\r\n              margin={5}\r\n            >\r\n              <Box flex={1}>\r\n                <Text color={'amber.600'} bold>\r\n                  Warning!\r\n                </Text>\r\n                <Text color={'amber.600'}>\r\n                  Are you sure you want to clear?\r\n                </Text>\r\n              </Box>\r\n            </Modal.Body>\r\n            <Modal.Footer borderTopWidth={0} bgColor={'amber.100'}>\r\n              <HStack space={5} flex={1}>\r\n                <Button\r\n                  onPress={handleClearModalClose}\r\n                  colorScheme={'warmGray'}\r\n                  flex={1}\r\n                  size={'sm'}\r\n                  borderRadius={5}\r\n                >\r\n                  No\r\n                </Button>\r\n                <Button\r\n                  onPress={() => {\r\n                    handleClearToggleButton();\r\n                    setKey(resetKey++);\r\n                    handleClearModalClose();\r\n                  }}\r\n                  flex={1} size={'sm'} colorScheme={'amber'} borderRadius={5}>\r\n                  Clear\r\n                </Button>\r\n              </HStack>\r\n            </Modal.Footer>\r\n          </Modal.Content>\r\n        </Modal>\r\n\r\n\r\n\r\n      </>\r\n    );\r\n  };\r\n\r\n  const handleClearImagesExtra = () => {\r\n    dispatch(setSelectedImages([]));\r\n    globalSelectedImages = [];\r\n    dispatch(setIsAddPhotoVisible(true));\r\n    dispatch(setAddAnotherImages(false));\r\n    dispatch(setDeleteImageVisible(true));\r\n  };\r\n\r\n  const UploadModalButton = ({ handleUpload }) => {\r\n    const [modalUploadVisible, setModalUploadVisible] = useState(false);\r\n    const handleModalUploadOpen = () => {\r\n      setModalUploadVisible(true);\r\n    };\r\n\r\n    const handleModalUploadClose = () => {\r\n      setModalUploadVisible(false);\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <Button\r\n          borderRadius={3}\r\n          flex={1}\r\n          onPress={handleModalUploadOpen}\r\n          bgColor={'#7B9CFF'}\r\n          _hover={{ bgColor: '#517cfc', }}>\r\n          Upload/Save\r\n        </Button>\r\n\r\n        <Modal isOpen={modalUploadVisible} onClose={handleModalUploadClose}>\r\n          <Modal.Content bgColor={'white'}>\r\n            <Modal.CloseButton />\r\n            <Modal.Header borderBottomWidth={0} bgColor={'white'}>\r\n              <Text color={'#102A43'} bold>\r\n                Upload/Save\r\n              </Text>\r\n            </Modal.Header>\r\n            <Modal.Body\r\n              justifyContent={'center'}\r\n              alignItems={'center'}\r\n              bgColor={'gray.300'}\r\n              borderLeftWidth={4}\r\n              borderLeftColor={'black'}\r\n              margin={5}\r\n            >\r\n              <Box flex={1}>\r\n                <Text color={'black'} bold>\r\n                  Attention!\r\n                </Text>\r\n                <Text color={'black'}>\r\n                  Are you sure you want to upload/save? This action will upload a new vehicle to the list and can be edited later.\r\n                </Text>\r\n              </Box>\r\n            </Modal.Body>\r\n            <Modal.Footer borderTopWidth={0} bgColor={'white'}>\r\n              <HStack space={5} flex={1}>\r\n                <Button\r\n                  onPress={handleModalUploadClose}\r\n                  colorScheme={'warmGray'}\r\n                  flex={1}\r\n                  size={'sm'}\r\n                  borderRadius={5}\r\n                >\r\n                  No\r\n                </Button>\r\n                <Button isLoading={isLoading} onPress={async () => {\r\n                  await handleUpload();\r\n                  handleModalUploadClose()\r\n                }}\r\n                  flex={1} size={'sm'} colorScheme={'primary'} borderRadius={5}>\r\n                  Upload/Save\r\n                </Button>\r\n              </HStack>\r\n            </Modal.Footer>\r\n          </Modal.Content>\r\n        </Modal>\r\n      </>\r\n    );\r\n  };\r\n\r\n\r\n\r\n  const NamePopover = ({ name, handleSignOut }) => {\r\n    const [showNamePopover, setShowNamePopover] = useState(false);\r\n\r\n    const showPopover = () => {\r\n      setShowNamePopover(!showNamePopover);\r\n    };\r\n\r\n    return (\r\n      <Box w={[100, 200, 1020]} h={[10, 10, 10]} flex={1}>\r\n        <Flex direction=\"row-reverse\">\r\n          <Popover\r\n            isOpen={showNamePopover}\r\n            trigger={(triggerProps) => (\r\n              <Text color=\"white\" marginTop={[2, 2, 2]} fontSize={[17, 18, 20]} marginRight={[1, 3, 5]} {...triggerProps} onPress={showPopover}>\r\n                <MaterialCommunityIcons name=\"account\" size={[20, 25, 30]} color=\"white\" /> {name} <Ionicons name=\"caret-down\" size={16} color=\"white\" />\r\n              </Text>\r\n            )}\r\n            onClose={() => setShowNamePopover(!showNamePopover)}\r\n            placement='bottom right'\r\n            trapFocus={false}\r\n          >\r\n            <Popover.Content backgroundColor={'#7B9CFF'}>\r\n              {/* <Popover.Arrow bgColor={'#7B9CFF'} /> */}\r\n              <Popover.Body backgroundColor={'#7B9CFF'}>\r\n                <Button _hover={{ bgColor: 'blueGray.500' }} onPress={handleSignOut} leftIcon={<MaterialCommunityIcons name=\"logout\" size={20} color=\"white\" />} bgColor={'transparent'}>\r\n                  Logout\r\n                </Button>\r\n              </Popover.Body>\r\n            </Popover.Content>\r\n          </Popover>\r\n        </Flex>\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  const handleSuccessModalClose = useCallback(() => {\r\n    dispatch(setIsSuccessModalOpen(false));\r\n  }, []);\r\n\r\n  const handleUpdateSuccessModalClose = useCallback(() => {\r\n    dispatch(setIsUpdateSuccessModalOpen(false));\r\n  }, []);\r\n\r\n  const styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n    },\r\n    image: {\r\n      flex: 1,\r\n    },\r\n  });\r\n\r\n  const handleSetBordersWhite = () => {\r\n\r\n\r\n    setIsNoFeaturesSelected('white');\r\n\r\n    setMakeError('white');\r\n    setModelError('white');\r\n    setRegYearError('white');\r\n    setRegMonthError('white');\r\n    setRefNumError('white');\r\n    setStockIDNumError('white');\r\n    setChassisError('white');\r\n    setModelCodeError('white');\r\n    setEngineDisError('white');\r\n    setSteeringError('white');\r\n    setMileageError('white');\r\n    setTransmissionError('white');\r\n    setExteriorColoError('white');\r\n    setNumOfSeatsError('white');\r\n    setDoorsError('white');\r\n    setPurchasedPriceError('white');\r\n    setFuelError('white');\r\n    setPortError('white');\r\n    setSalesError('white');\r\n    setBuyerError('white');\r\n    setDimensionLengthError('white');\r\n    setDimensionWidthError('white');\r\n    setDimensionHeightError('white');\r\n    setDriveTypeError('white');\r\n    setWeightError('white');\r\n    setBodyTypeError('white');\r\n    setStockStatusError('white');\r\n    setCarNameError('muted.500');\r\n\r\n    setIsNoFeaturesSelected('white');\r\n\r\n\r\n  };\r\n  return (\r\n\r\n\r\n\r\n    <NativeBaseProvider>\r\n\r\n      <Box bgColor=\"#A6BCFE\" h=\"100vh\" w=\"full\" flexDirection=\"column\">\r\n        {/* Header */}\r\n        <Box\r\n          px=\"3\"\r\n          bgColor='#7b9cff'\r\n          height={54}\r\n          position=\"sticky\"\r\n          top={0}\r\n          zIndex={999}\r\n          flexDirection=\"row\"\r\n          alignItems=\"center\"\r\n          borderBottomWidth={2}\r\n          borderBottomColor={'cyan.500'} >\r\n\r\n          <SideDrawer\r\n            selectedScreen={selectedScreen} />\r\n\r\n          <Box w={[0, 0, 0, 850]} h={[10, 10, 10, 10]} marginBottom={1.5} marginTop={1.5} paddingLeft={5}>\r\n            <FastImage\r\n              source={{\r\n                uri: logo,\r\n                priority: FastImage.priority.high,\r\n              }}\r\n              resizeMode={FastImage.resizeMode.stretch}\r\n              style={styles.image}\r\n            />\r\n          </Box>\r\n\r\n          {/* {showDrawerIcon && <MobileViewDrawer\r\n            selectedScreen={selectedScreen}\r\n          />} */}\r\n          <Box w={[150, 200, 250, 0]} h={[6, 8, 10, 10]} marginBottom={1.5} marginTop={1.5} marginLeft={[3, 3, 3, 10]}>\r\n            <FastImage\r\n              source={{\r\n                uri: logo2,\r\n                priority: FastImage.priority.high,\r\n              }}\r\n              resizeMode={FastImage.resizeMode.stretch}\r\n              style={styles.image}\r\n            />\r\n          </Box>\r\n\r\n          <NamePopover name={loginName} handleSignOut={handleSignOut} />\r\n          {/* <Box w={[100, 200, 1020]} h={[10, 10, 10]} flex={1}>\r\n            <Flex direction=\"row-reverse\">\r\n              <Popover isOpen={showNamePopover} trigger={triggerProps => {\r\n                return <Text color=\"white\" marginTop={[2, 2, 2]} fontSize={[17, 18, 20]} marginRight={[1, 3, 5]} {...triggerProps} onPress={showPopover}>\r\n                  <MaterialCommunityIcons name=\"account\" size={[20, 25, 30]} color=\"white\" /> {name}  <Ionicons name=\"caret-down\" size={16} color=\"white\" />\r\n                </Text>;\r\n              }} onClose={() => setShowNamePopover(!showNamePopover)} placement='bottom right' trapFocus={false}>\r\n                <Popover.Content backgroundColor={'#7B9CFF'}>\r\n                 \r\n                  <Popover.Body backgroundColor={'#7B9CFF'}>\r\n                    <Button _hover={{ bgColor: 'blueGray.500', }} onPress={handleSignOut} leftIcon={<MaterialCommunityIcons name=\"logout\" size={20} color=\"white\" />} bgColor={'transparent'}>\r\n                      Logout\r\n                    </Button>\r\n                  </Popover.Body>\r\n                </Popover.Content>\r\n              </Popover>\r\n            </Flex>\r\n          </Box> */}\r\n\r\n        </Box>\r\n\r\n        {/* Content */}\r\n        <Box flex={[1]} flexDirection=\"row\" >\r\n\r\n\r\n          {/* Main Content */}\r\n\r\n          <Box flex={1} flexGrow={1} minHeight={0}>\r\n            {/* Main Content Content */}\r\n\r\n\r\n\r\n            <ScrollView flex={1} contentContainerStyle={{ flexGrow: 1 }}>\r\n              <PresenceTransition visible={true} initial={{\r\n                opacity: 0,\r\n              }} animate={{\r\n                opacity: 1,\r\n                transition: {\r\n                  duration: 250\r\n                }\r\n              }}>\r\n\r\n\r\n                <Box px=\"3\" bgColor=\"#A6BCFE\" height=\"full\" flexDir={'column'}>\r\n\r\n\r\n                  <Box bgColor='#A6BCFE' w='100%' margin={1} flexDirection={'column'} paddingBottom={[10, 10, 10, 0, 0, 0]}>\r\n\r\n                  </Box>\r\n\r\n\r\n\r\n                  <Box bgColor='#A6BCFE' w='100%' margin={1} flexDirection={'column'} >\r\n\r\n\r\n                    <Box flexDir={['column', 'column', 'column', 'column', 'row', 'row']} height={'full'} flex={1} display={screenWidth < 1280 ? 'none' : 'flex'}>\r\n                      <Box flexDir={'row'} flex={1}>\r\n                        <Box margin={2} flex={1} flexDir={['column']} >\r\n\r\n\r\n                          <Box borderColor={'white'} borderWidth={1} ref={inputVehicleBoxRef}>\r\n\r\n                            <Box flex={1} bgColor={'#7b9cff'} borderBottomColor={'white'} borderBottomWidth={'1'}>\r\n                              <Text color={'white'} marginLeft={1} bold fontSize={20} width={'full'}>Input Vehicle Specification</Text>\r\n                            </Box>\r\n\r\n                            {/* <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'}>\r\n                            <Box flexDir={'row'} alignSelf={'center'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Stock ID Number</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n                            <Box bgColor={'white'} flex={1} borderColor={stockIDNumError} borderWidth={1}><Input onSubmitEditing={() => buttonSearchRef.current?.handlePress()} defaultValue=\"\" ref={inputStockIDNumber} onChangeText={handleInputStockIDNumberChange} placeholder=\" Stock ID Number\"\r\n                              InputRightElement={\r\n                                <StockIDNumber />\r\n                              }\r\n                            />\r\n                            </Box>\r\n\r\n\r\n                          </Box> */}\r\n\r\n                            <StockIDAndMakeAndModel\r\n                              selectStockStatus={selectStockStatus}\r\n                              handleSetBordersWhite={handleSetBordersWhite}\r\n                              handleClearIfError={handleClearIfError}\r\n                              handleClearToggleButton={handleClearToggleButton}\r\n                              inputFobUsd={inputFobUsd}\r\n                              years={years}\r\n                              monthNumbers={monthNumbers}\r\n                              portData={portData}\r\n                              salesData={salesData}\r\n                              buyerData={buyerData}\r\n                              steeringData={steeringData}\r\n                              transmissionData={transmissionData}\r\n                              exteriorColorData={exteriorColorData}\r\n                              fuelData={fuelData}\r\n                              driveTypeData={driveTypeData}\r\n                              bodyTypeData={bodyTypeData}\r\n                              selectPort={selectPort}\r\n                              selectSales={selectSales}\r\n                              selectBuyer={selectBuyer}\r\n                              inputRefNum={inputRefNum}\r\n                              inputChassis={inputChassis}\r\n                              inputModelCode={inputModelCode}\r\n                              inputEngineCode={inputEngineCode}\r\n                              inputEngineDis={inputEngineDis}\r\n                              selectSteering={selectSteering}\r\n                              inputMileage={inputMileage}\r\n                              selectTransmission={selectTransmission}\r\n                              selectExteriorColor={selectExteriorColor}\r\n                              inputNumOfSeats={inputNumOfSeats}\r\n                              inputDoors={inputDoors}\r\n                              inputPurchasedPrice={inputPurchasedPrice}\r\n                              selectFuel={selectFuel}\r\n                              inputDimensionLength={inputDimensionLength}\r\n                              inputDimensionWidth={inputDimensionWidth}\r\n                              inputDimensionHeight={inputDimensionHeight}\r\n                              inputDimensionCubicMeters={inputDimensionCubicMeters}\r\n                              selectDriveType={selectDriveType}\r\n                              inputWeight={inputWeight}\r\n                              selectBodyType={selectBodyType}\r\n                              inputCarName={inputCarName}\r\n                              inputCarDesc={inputCarDesc}\r\n                              inputFobJpy={inputFobJpy}\r\n                              selectRegYear={selectRegYear}\r\n                              selectRegMonth={selectRegMonth}\r\n                              setRefNumFromSelects={setRefNumFromSelects}\r\n                              inputStockIDNumber={inputStockIDNumber}\r\n                              stockIDNumError={stockIDNumError}\r\n                              selectMakeForModelRef={selectMakeForModelRef}\r\n                              textAreaAddModel={textAreaAddModel}\r\n                              selectMakeForAddModelRef={selectMakeForAddModelRef}\r\n                              handleAddMakeTextChange={handleAddMakeTextChange}\r\n                              textAreaAddMake={textAreaAddMake}\r\n                              modelError={modelError}\r\n                              // makeData={makeData}\r\n                              makeError={makeError}\r\n                              selectMakeBoxRef={selectMakeBoxRef}\r\n                              selectMakeRef={selectMakeRef}\r\n                              selectModelRef={selectModelRef}\r\n                              selectModelBoxRef={selectModelBoxRef}\r\n                              setCarNameFromSelects={setCarNameFromSelects}\r\n                              setCarNameFromSelectsModel={setCarNameFromSelectsModel}\r\n                              inputCarNotes={inputCarNotes}\r\n                              inputCarMemo={inputCarMemo}\r\n                              purchasedPriceError={purchasedPriceError}\r\n                              handleInputPurchasedPriceChange={handleInputPurchasedPriceChange}\r\n                            />\r\n\r\n\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'}>\r\n                              <Box flexDir={'row'} bgColor={'#8096D7'} flex={2} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Registration Year & Month</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n                              <Box ref={selectRegYearBoxRef} bgColor={'white'} flex={1} borderColor={regYearError} borderWidth={1}>\r\n\r\n                                <SelectDropdown\r\n                                  ref={selectRegYear}\r\n                                  buttonStyle={{\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    padding: 4,\r\n                                  }}\r\n                                  buttonTextStyle={{\r\n                                    textAlign: 'left',\r\n                                    color: '#424242',\r\n                                    fontSize: 12,\r\n                                  }}\r\n                                  dropdownStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    shadowColor: '#000000',\r\n                                    shadowOffset: { width: 0, height: 2 },\r\n                                    shadowOpacity: 0.1,\r\n                                    shadowRadius: 4,\r\n                                    elevation: 2,\r\n                                  }}\r\n                                  rowStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    paddingVertical: 10,\r\n                                    paddingHorizontal: 15,\r\n                                  }}\r\n                                  rowTextStyle={{\r\n                                    color: '#424242',\r\n                                    fontSize: 16,\r\n                                  }}\r\n                                  data={years}\r\n                                  onSelect={useCallback((selectedItem) => {\r\n                                    regYearVariable.text = selectedItem;\r\n                                    // console.log(regYearVariable.text);\r\n                                    setCarNameFromSelects()\r\n\r\n                                  }, [])}\r\n                                  defaultButtonText=\"-- Choose Year --\"\r\n                                  buttonTextAfterSelection={(selectedItem) => {\r\n                                    return selectedItem;\r\n                                  }}\r\n                                  renderDropdownIcon={(isOpened) => {\r\n                                    return (\r\n                                      <Ionicons\r\n                                        name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                                        color={'#424242'}\r\n                                        size={18}\r\n                                      />\r\n                                    );\r\n                                  }}\r\n                                  rowTextForSelection={(item) => {\r\n                                    return item;\r\n                                  }}\r\n                                  searchPlaceHolder=\"Year\"\r\n                                  searchInputStyle={{\r\n                                    marginTop: 1,\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                  }}\r\n                                  disableAutoScroll\r\n                                  search\r\n\r\n                                />\r\n\r\n\r\n                              </Box>\r\n                              <Box ref={selectRegMonthBoxRef} bgColor={'white'} flex={1} borderColor={regMonthError} borderWidth={1}>\r\n\r\n\r\n                                <SelectDropdown\r\n                                  ref={selectRegMonth}\r\n                                  buttonStyle={{\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    padding: 4,\r\n                                  }}\r\n                                  buttonTextStyle={{\r\n                                    textAlign: 'left',\r\n                                    color: '#424242',\r\n                                    fontSize: 12,\r\n                                  }}\r\n                                  dropdownStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    shadowColor: '#000000',\r\n                                    shadowOffset: { width: 0, height: 2 },\r\n                                    shadowOpacity: 0.1,\r\n                                    shadowRadius: 4,\r\n                                    elevation: 2,\r\n                                  }}\r\n                                  rowStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    paddingVertical: 10,\r\n                                    paddingHorizontal: 15,\r\n                                  }}\r\n                                  rowTextStyle={{\r\n                                    color: '#424242',\r\n                                    fontSize: 16,\r\n                                  }}\r\n                                  data={monthNumbers}\r\n                                  onSelect={useCallback((selectedItem) => {\r\n                                    regMonthVariable.text = selectedItem;\r\n                                    // console.log(regMonthVariable.text);\r\n\r\n                                  }, [])}\r\n                                  defaultButtonText=\"--Choose Month--\"\r\n                                  buttonTextAfterSelection={(selectedItem) => {\r\n                                    return selectedItem;\r\n                                  }}\r\n                                  renderDropdownIcon={(isOpened) => {\r\n                                    return (\r\n                                      <Ionicons\r\n                                        name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                                        color={'#424242'}\r\n                                        size={18}\r\n                                      />\r\n                                    );\r\n                                  }}\r\n                                  rowTextForSelection={(item) => {\r\n                                    return item;\r\n                                  }}\r\n                                  searchPlaceHolder=\"Month\"\r\n                                  searchInputStyle={{\r\n                                    marginTop: 1,\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                    outlineStyle: 'none',\r\n                                  }}\r\n                                  disableAutoScroll\r\n                                  search\r\n\r\n                                />\r\n\r\n                              </Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'} >\r\n                              <Box alignSelf={'center'} flex={1} flexDir={'row'} ><Text color={'white'} alignSelf={'center'} fontSize={[14, 14, 12, 12, 16, 18]}> Port</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text>\r\n                                {/* <Box flex={1} justifyContent=\"center\" alignItems={'flex-end'} marginRight={1} ><TouchableOpacity onPress={handleModalPortOpen}><Icon as={<MaterialCommunityIcons name=\"playlist-edit\" />} size={5} color=\"white\" /></TouchableOpacity></Box> */}\r\n                                <PSBSortAndAddModal\r\n                                  docName={'Port'}\r\n                                  handleAddTextChange={handleAddPortTextChange}\r\n                                  handleAddCodeTextChange={handleAddPortCodeTextChange}\r\n                                  textAreaAddCode={textAreaAddPortCode}\r\n                                  textAreaAdd={textAreaAddPort}\r\n                                  title='Port'\r\n                                  dataName={'port'}\r\n                                  databaseInit={projectExtensionFirestore}\r\n                                  headerText=\"Rearrange/Add Port\"\r\n                                  data={portData} />\r\n                              </Box>\r\n                              <Box ref={selectPortBoxRef} bgColor={'white'} flex={1} borderColor={portError} borderWidth={1}>\r\n\r\n                                <SelectDropdown\r\n                                  ref={selectPort}\r\n                                  buttonStyle={{\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    padding: 4,\r\n                                  }}\r\n                                  buttonTextStyle={{\r\n                                    textAlign: 'left',\r\n                                    color: '#424242',\r\n                                    fontSize: 12,\r\n                                  }}\r\n                                  dropdownStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    shadowColor: '#000000',\r\n                                    shadowOffset: { width: 0, height: 2 },\r\n                                    shadowOpacity: 0.1,\r\n                                    shadowRadius: 4,\r\n                                    elevation: 2,\r\n                                  }}\r\n                                  rowStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    paddingVertical: 10,\r\n                                    paddingHorizontal: 15,\r\n                                  }}\r\n                                  rowTextStyle={{\r\n                                    color: '#424242',\r\n                                    fontSize: 16,\r\n                                  }}\r\n                                  data={portData.map((item) => item)}\r\n                                  onSelect={useCallback((selectedItem) => {\r\n                                    portVariable.text = selectedItem.name;\r\n                                    portVariable.id = selectedItem.id;\r\n                                    setRefNumFromSelects();\r\n                                  }, [])}\r\n                                  defaultButtonText=\"-- Choose Port --\"\r\n                                  buttonTextAfterSelection={(selectedItem) => {\r\n                                    return selectedItem.name;\r\n                                  }}\r\n                                  renderDropdownIcon={(isOpened) => {\r\n                                    return (\r\n                                      <Ionicons\r\n                                        name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                                        color={'#424242'}\r\n                                        size={18}\r\n                                      />\r\n                                    );\r\n                                  }}\r\n                                  rowTextForSelection={(item) => {\r\n                                    return item.name;\r\n                                  }}\r\n                                  searchPlaceHolder=\" Search for Port\"\r\n                                  searchInputStyle={{\r\n                                    marginTop: 1,\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                  }}\r\n                                  disableAutoScroll\r\n                                  search\r\n                                />\r\n                              </Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'} >\r\n                              <Box alignSelf={'center'} flex={1} flexDir={'row'} ><Text color={'white'} alignSelf={'center'} fontSize={[14, 14, 12, 12, 16, 18]}> Sales In Charge</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text>\r\n                                {/* <Box flex={1} justifyContent=\"center\" alignItems={'flex-end'} marginRight={1} ><TouchableOpacity onPress={handleModalPortOpen}><Icon as={<MaterialCommunityIcons name=\"playlist-edit\" />} size={5} color=\"white\" /></TouchableOpacity></Box> */}\r\n                                <PSBSortAndAddModal\r\n                                  docName={'Sales'}\r\n                                  handleAddTextChange={handleAddSalesTextChange}\r\n                                  handleAddCodeTextChange={handleAddSalesCodeTextChange}\r\n                                  textAreaAddCode={textAreaAddSalesCode}\r\n                                  textAreaAdd={textAreaAddSales}\r\n                                  title='Sales'\r\n                                  dataName={'sales'}\r\n                                  databaseInit={projectExtensionFirestore}\r\n                                  headerText=\"Rearrange/Add Sales\"\r\n                                  data={salesData} />\r\n                              </Box>\r\n                              <Box ref={selectSalesBoxRef} bgColor={'white'} flex={1} borderColor={salesError} borderWidth={1}>\r\n\r\n                                <SelectDropdown\r\n                                  ref={selectSales}\r\n                                  buttonStyle={{\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    padding: 4,\r\n                                  }}\r\n                                  buttonTextStyle={{\r\n                                    textAlign: 'left',\r\n                                    color: '#424242',\r\n                                    fontSize: 12,\r\n                                  }}\r\n                                  dropdownStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    shadowColor: '#000000',\r\n                                    shadowOffset: { width: 0, height: 2 },\r\n                                    shadowOpacity: 0.1,\r\n                                    shadowRadius: 4,\r\n                                    elevation: 2,\r\n                                  }}\r\n                                  rowStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    paddingVertical: 10,\r\n                                    paddingHorizontal: 15,\r\n                                  }}\r\n                                  rowTextStyle={{\r\n                                    color: '#424242',\r\n                                    fontSize: 16,\r\n                                  }}\r\n                                  data={salesData.map((item) => item)}\r\n                                  onSelect={useCallback((selectedItem) => {\r\n                                    salesVariable.text = selectedItem.name;\r\n                                    salesVariable.id = selectedItem.id;\r\n                                    setRefNumFromSelects();\r\n                                  }, [])}\r\n                                  defaultButtonText=\"-- Choose Sales --\"\r\n                                  buttonTextAfterSelection={(selectedItem) => {\r\n                                    return selectedItem.name;\r\n                                  }}\r\n                                  renderDropdownIcon={(isOpened) => {\r\n                                    return (\r\n                                      <Ionicons\r\n                                        name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                                        color={'#424242'}\r\n                                        size={18}\r\n                                      />\r\n                                    );\r\n                                  }}\r\n                                  rowTextForSelection={(item) => {\r\n                                    return item.name;\r\n                                  }}\r\n                                  searchPlaceHolder=\" Search for Sales\"\r\n                                  searchInputStyle={{\r\n                                    marginTop: 1,\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                  }}\r\n                                  disableAutoScroll\r\n                                  search\r\n                                />\r\n                              </Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'} >\r\n                              <Box alignSelf={'center'} flex={1} flexDir={'row'} ><Text color={'white'} alignSelf={'center'} fontSize={[14, 14, 12, 12, 16, 18]}> Buyer In Charge</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text>\r\n                                {/* <Box flex={1} justifyContent=\"center\" alignItems={'flex-end'} marginRight={1} ><TouchableOpacity onPress={handleModalBuyerOpen}><Icon as={<MaterialCommunityIcons name=\"playlist-edit\" />} size={5} color=\"white\" /></TouchableOpacity></Box> */}\r\n                                <PSBSortAndAddModal\r\n                                  docName={'Buyer'}\r\n                                  handleAddTextChange={handleAddBuyerTextChange}\r\n                                  handleAddCodeTextChange={handleAddBuyerCodeTextChange}\r\n                                  textAreaAddCode={textAreaAddBuyerCode}\r\n                                  textAreaAdd={textAreaAddBuyer}\r\n                                  title='Buyer'\r\n                                  dataName={'buyer'}\r\n                                  databaseInit={projectExtensionFirestore}\r\n                                  headerText=\"Rearrange/Add buyer\"\r\n                                  data={buyerData} />\r\n                              </Box>\r\n                              <Box ref={selectBuyerBoxRef} bgColor={'white'} flex={1} borderColor={buyerError} borderWidth={1}>\r\n\r\n                                <SelectDropdown\r\n                                  ref={selectBuyer}\r\n                                  buttonStyle={{\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    padding: 4,\r\n                                  }}\r\n                                  buttonTextStyle={{\r\n                                    textAlign: 'left',\r\n                                    color: '#424242',\r\n                                    fontSize: 12,\r\n                                  }}\r\n                                  dropdownStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    shadowColor: '#000000',\r\n                                    shadowOffset: { width: 0, height: 2 },\r\n                                    shadowOpacity: 0.1,\r\n                                    shadowRadius: 4,\r\n                                    elevation: 2,\r\n                                  }}\r\n                                  rowStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    paddingVertical: 10,\r\n                                    paddingHorizontal: 15,\r\n                                  }}\r\n                                  rowTextStyle={{\r\n                                    color: '#424242',\r\n                                    fontSize: 16,\r\n                                  }}\r\n                                  data={buyerData.map((item) => item)}\r\n                                  onSelect={useCallback((selectedItem) => {\r\n                                    buyerVariable.text = selectedItem.name;\r\n                                    buyerVariable.id = selectedItem.id;\r\n                                    setRefNumFromSelects();\r\n                                  }, [])}\r\n                                  defaultButtonText=\"-- Choose Buyer --\"\r\n                                  buttonTextAfterSelection={(selectedItem) => {\r\n                                    return selectedItem.name;\r\n                                  }}\r\n                                  renderDropdownIcon={(isOpened) => {\r\n                                    return (\r\n                                      <Ionicons\r\n                                        name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                                        color={'#424242'}\r\n                                        size={18}\r\n                                      />\r\n                                    );\r\n                                  }}\r\n                                  rowTextForSelection={(item) => {\r\n                                    return item.name;\r\n                                  }}\r\n                                  searchPlaceHolder=\" Search for Buyer\"\r\n                                  searchInputStyle={{\r\n                                    marginTop: 1,\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                  }}\r\n                                  disableAutoScroll\r\n                                  search\r\n                                />\r\n                              </Box>\r\n                            </Box>\r\n\r\n\r\n\r\n                            {/* <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'}>\r\n                            <Box bgColor={'#8096D7'} flex={1} justifyContent=\"center\" alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Registration Month</Text></Box>\r\n                            <Box bgColor={'white'} flex={1}><Input placeholder=\"Registration Month\" /></Box>\r\n                          </Box> */}\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'}>\r\n                              <Box flexDir={'row'} alignSelf={'center'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Reference Number</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={refNumError} borderWidth={1}><Input defaultValue=\"\" ref={inputRefNum} onChangeText={handleInputRefNumChange} placeholder=\" Reference Number\" /></Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'}>\r\n                              <Box flexDir={'row'} alignSelf={'center'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Chassis / Frame Number</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={chassisError} borderWidth={1}><Input defaultValue=\"\" ref={inputChassis} onChangeText={handleInputChassisChange} placeholder=\" Chassis / Frame Number\" /></Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'}>\r\n                              <Box flexDir={'row'} alignSelf={'center'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Model Code</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={modelCodeError} borderWidth={1}><Input defaultValue=\"\" ref={inputModelCode} onChangeText={handleInputModelCodeChange} placeholder=\" Model Code\" /></Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'}>\r\n                              <Box flexDir={'row'} alignSelf={'center'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Engine Code</Text></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={'white'} borderWidth={1}><Input defaultValue=\"\" ref={inputEngineCode} onChangeText={handleInputEngineCodeChange} placeholder=\" Engine Code\" /></Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'} >\r\n                              <Box flexDir={'row'} alignSelf={'center'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Engine Displacement</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={engineDisError} borderWidth={1}><InputGroup><Input defaultValue=\"\" keyboardType=\"numeric\" ref={inputEngineDis} onChangeText={handleInputEngineDisChange} flex={1} placeholder=\" Engine Displacement\" /><InputRightAddon children={\"cc\"} /></InputGroup></Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'}>\r\n                              <Box bgColor={'#8096D7'} flex={1} flexDir={'row'}><Text color={'white'} alignSelf={'center'} fontSize={[14, 14, 12, 12, 16, 18]}> Steering</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text>\r\n                                <Box flex={1} justifyContent=\"center\" alignItems={'flex-end'} marginRight={1}></Box>\r\n                              </Box>\r\n                              <Box ref={selectSteeringBoxRef} bgColor={'white'} flex={1} borderColor={steeringError} borderWidth={1}>\r\n                                {/* <Select key={keySelectSteering} ref={selectSteering} accessibilityLabel=\"Choose Steering\" placeholder=\"Choose Steering\" _selectedItem={{\r\n                                bg: \"teal.600\",\r\n                                endIcon: <CheckIcon size=\"5\" />\r\n                              }}>\r\n                                <Select.Item key={'Left'} label={'Left'} value={'Left'} />\r\n                                <Select.Item key={'Right'} label={'Right'} value={'Right'} />\r\n                              </Select> */}\r\n                                <SelectDropdown\r\n                                  ref={selectSteering}\r\n                                  buttonStyle={{\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    padding: 4,\r\n                                  }}\r\n                                  buttonTextStyle={{\r\n                                    textAlign: 'left',\r\n                                    color: '#424242',\r\n                                    fontSize: 12,\r\n                                  }}\r\n                                  dropdownStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    shadowColor: '#000000',\r\n                                    shadowOffset: { width: 0, height: 2 },\r\n                                    shadowOpacity: 0.1,\r\n                                    shadowRadius: 4,\r\n                                    elevation: 2,\r\n                                  }}\r\n                                  rowStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    paddingVertical: 10,\r\n                                    paddingHorizontal: 15,\r\n                                  }}\r\n                                  rowTextStyle={{\r\n                                    color: '#424242',\r\n                                    fontSize: 16,\r\n                                  }}\r\n                                  data={steeringData}\r\n                                  onSelect={useCallback((selectedItem) => {\r\n                                    steeringVariable.text = selectedItem;\r\n                                    // console.log(steeringVariable.text);\r\n\r\n                                  }, [])}\r\n                                  defaultButtonText=\"-- Choose Steering --\"\r\n                                  buttonTextAfterSelection={(selectedItem) => {\r\n                                    return selectedItem;\r\n                                  }}\r\n                                  renderDropdownIcon={(isOpened) => {\r\n                                    return (\r\n                                      <Ionicons\r\n                                        name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                                        color={'#424242'}\r\n                                        size={18}\r\n                                      />\r\n                                    );\r\n                                  }}\r\n                                  rowTextForSelection={(item) => {\r\n                                    return item;\r\n                                  }}\r\n                                  searchPlaceHolder=\" Search for Steering\"\r\n                                  searchInputStyle={{\r\n                                    marginTop: 1,\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                  }}\r\n                                  disableAutoScroll\r\n                                  search\r\n\r\n                                />\r\n\r\n                              </Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'}>\r\n                              <Box flexDir={'row'} alignSelf={'center'} bgColor={'#8096D7'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Mileage</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={mileageError} borderWidth={1}><InputGroup><Input defaultValue=\"\" keyboardType=\"numeric\" ref={inputMileage} onChangeText={handleInputMileageChange} flex={1} placeholder=\" Mileage\" /><InputRightAddon children={\"km\"} /></InputGroup></Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'}>\r\n                              <Box flexDir={'row'} bgColor={'#8096D7'} flex={1} ><Text color={'white'} alignSelf={'center'} fontSize={[14, 14, 12, 12, 16, 18]}> Transmission</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text>\r\n                                {/* <Box flex={1} justifyContent=\"center\" alignItems={'flex-end'} marginRight={1}><TouchableOpacity onPress={handleModalTransmissionOpen}><Icon as={<MaterialCommunityIcons name=\"playlist-edit\" />} size={5} color=\"white\" /></TouchableOpacity></Box> */}\r\n                                <SortAndAddModal docName={'Transmission'} handleAddTextChange={handleAddTransmissionTextChange} textAreaAdd={textAreaAddTransmission} title='Transmission' dataName={'transmission'} databaseInit={projectExtensionFirestore} headerText=\"Rearrange/Add Transmission\" data={transmissionData} />\r\n                              </Box>\r\n                              <Box ref={selectTransmissionBoxRef} bgColor={'white'} flex={1} borderColor={transmissionError} borderWidth={1}>\r\n                                {/* <Select key={keySelectTransmission} accessibilityLabel=\"Choose Transmission\" placeholder=\"Choose Transmission\" _selectedItem={{\r\n                                bg: \"teal.600\",\r\n                                endIcon: <CheckIcon size=\"5\" />\r\n                              }}>\r\n                                {transmissionData.map((item, index) => (\r\n\r\n                                  <Select.Item key={item} label={item} value={item} />\r\n\r\n                                ))}\r\n                              </Select> */}\r\n                                <SelectDropdown\r\n                                  ref={selectTransmission}\r\n                                  buttonStyle={{\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    padding: 4,\r\n                                  }}\r\n                                  buttonTextStyle={{\r\n                                    textAlign: 'left',\r\n                                    color: '#424242',\r\n                                    fontSize: 12,\r\n                                  }}\r\n                                  dropdownStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    shadowColor: '#000000',\r\n                                    shadowOffset: { width: 0, height: 2 },\r\n                                    shadowOpacity: 0.1,\r\n                                    shadowRadius: 4,\r\n                                    elevation: 2,\r\n                                  }}\r\n                                  rowStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    paddingVertical: 10,\r\n                                    paddingHorizontal: 15,\r\n                                  }}\r\n                                  rowTextStyle={{\r\n                                    color: '#424242',\r\n                                    fontSize: 16,\r\n                                  }}\r\n                                  data={transmissionData}\r\n                                  onSelect={useCallback((selectedItem) => {\r\n                                    transmissionVariable.text = selectedItem;\r\n                                    // console.log(transmissionVariable.text);\r\n\r\n                                  }, [])}\r\n                                  defaultButtonText=\"-- Choose Transmission --\"\r\n                                  buttonTextAfterSelection={(selectedItem) => {\r\n                                    return selectedItem;\r\n                                  }}\r\n                                  renderDropdownIcon={(isOpened) => {\r\n                                    return (\r\n                                      <Ionicons\r\n                                        name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                                        color={'#424242'}\r\n                                        size={18}\r\n                                      />\r\n                                    );\r\n                                  }}\r\n                                  rowTextForSelection={(item) => {\r\n                                    return item;\r\n                                  }}\r\n                                  searchPlaceHolder=\" Search for Transmission\"\r\n                                  searchInputStyle={{\r\n                                    marginTop: 1,\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                  }}\r\n                                  disableAutoScroll\r\n                                  search\r\n\r\n                                />\r\n                              </Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'}>\r\n                              <Box bgColor={'#8096D7'} flex={1} flexDir={'row'} ><Text color={'white'} alignSelf={'center'} fontSize={[14, 14, 12, 12, 16, 18]}> Exterior Color</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text>\r\n                                {/* <Box flex={1} justifyContent=\"center\" alignItems={'flex-end'} marginRight={1}><TouchableOpacity onPress={handleModalExteriorColorOpen}><Icon as={<MaterialCommunityIcons name=\"playlist-edit\" />} size={5} color=\"white\" /></TouchableOpacity></Box> */}\r\n                                <SortAndAddModal\r\n                                  docName='ExteriorColor'\r\n                                  handleAddTextChange={handleAddExteriorColorTextChange}\r\n                                  textAreaAdd={textAreaAddExteriorColor}\r\n                                  title='Exterior Color'\r\n                                  dataName={'exteriorColor'}\r\n                                  databaseInit={projectExtensionFirestore}\r\n                                  headerText=\"Rearrange/Add Transmission\"\r\n                                  data={transmissionData}\r\n                                />\r\n                              </Box>\r\n                              <Box ref={selectExteriorColorBoxRef} bgColor={'white'} flex={1} borderColor={exteriorColoError} borderWidth={1}>\r\n\r\n                                <SelectDropdown\r\n                                  ref={selectExteriorColor}\r\n                                  buttonStyle={{\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    padding: 4,\r\n                                  }}\r\n                                  buttonTextStyle={{\r\n                                    textAlign: 'left',\r\n                                    color: '#424242',\r\n                                    fontSize: 12,\r\n                                  }}\r\n                                  dropdownStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    shadowColor: '#000000',\r\n                                    shadowOffset: { width: 0, height: 2 },\r\n                                    shadowOpacity: 0.1,\r\n                                    shadowRadius: 4,\r\n                                    elevation: 2,\r\n                                  }}\r\n                                  rowStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    paddingVertical: 10,\r\n                                    paddingHorizontal: 15,\r\n                                  }}\r\n                                  rowTextStyle={{\r\n                                    color: '#424242',\r\n                                    fontSize: 16,\r\n                                  }}\r\n                                  data={exteriorColorData}\r\n                                  onSelect={useCallback((selectedItem) => {\r\n                                    exteriorColorVariable.text = selectedItem;\r\n                                    // console.log(exteriorColorVariable.text);\r\n\r\n                                  }, [])}\r\n                                  defaultButtonText=\"-- Choose Exterior Color --\"\r\n                                  buttonTextAfterSelection={(selectedItem) => {\r\n                                    return selectedItem;\r\n                                  }}\r\n                                  renderDropdownIcon={(isOpened) => {\r\n                                    return (\r\n                                      <Ionicons\r\n                                        name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                                        color={'#424242'}\r\n                                        size={18}\r\n                                      />\r\n                                    );\r\n                                  }}\r\n                                  rowTextForSelection={(item) => {\r\n                                    return item;\r\n                                  }}\r\n                                  searchPlaceHolder=\" Search for Exterior Color\"\r\n                                  searchInputStyle={{\r\n                                    marginTop: 1,\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                  }}\r\n                                  disableAutoScroll\r\n                                  search\r\n\r\n                                />\r\n                              </Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'} >\r\n                              <Box flexDir={'row'} alignSelf={'center'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Number of Seats</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={numOfSeatsError} borderWidth={1}><Input defaultValue=\"\" keyboardType=\"numeric\" ref={inputNumOfSeats} onChangeText={handleInputNumOfSeatsChange} placeholder=\" Number of Seats\" /></Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'}>\r\n                              <Box flexDir={'row'} alignSelf={'center'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Doors</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={doorsError} borderWidth={1}><Input defaultValue=\"\" keyboardType=\"numeric\" ref={inputDoors} onChangeText={handleInputDoorsChange} placeholder=\" Doors\" /></Box>\r\n                            </Box>\r\n\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'} >\r\n                              <Box alignSelf={'center'} flex={1} flexDir={'row'} ><Text color={'white'} alignSelf={'center'} fontSize={[14, 14, 12, 12, 16, 18]}> Fuel</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text>\r\n                                {/* <Box flex={1} justifyContent=\"center\" alignItems={'flex-end'} marginRight={1} ><TouchableOpacity onPress={handleModalFuelOpen}><Icon as={<MaterialCommunityIcons name=\"playlist-edit\" />} size={5} color=\"white\" /></TouchableOpacity></Box> */}\r\n                                <SortAndAddModal\r\n                                  docName='Fuel'\r\n                                  handleAddTextChange={handleAddFuelTextChange}\r\n                                  textAreaAdd={textAreaAddFuel}\r\n                                  title='Fuel'\r\n                                  dataName={'fuel'}\r\n                                  databaseInit={projectExtensionFirestore}\r\n                                  headerText=\"Rearrange/Add Fuel\"\r\n                                  data={fuelData}\r\n                                />\r\n                              </Box>\r\n                              <Box ref={selectFuelBoxRef} bgColor={'white'} flex={1} borderColor={fuelError} borderWidth={1}>\r\n                                {/* <Select key={keySelectFuel} accessibilityLabel=\"Choose Fuel\" placeholder=\"Choose Fuel\" _selectedItem={{\r\n                                bg: \"teal.600\",\r\n                                endIcon: <CheckIcon size=\"5\" />\r\n                              }}>\r\n                                {fuelData.map((item, index) => (\r\n\r\n                                  <Select.Item key={item} label={item} value={item} />\r\n\r\n                                ))}\r\n                              </Select> */}\r\n                                <SelectDropdown\r\n                                  ref={selectFuel}\r\n                                  buttonStyle={{\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    padding: 4,\r\n                                  }}\r\n                                  buttonTextStyle={{\r\n                                    textAlign: 'left',\r\n                                    color: '#424242',\r\n                                    fontSize: 12,\r\n                                  }}\r\n                                  dropdownStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    shadowColor: '#000000',\r\n                                    shadowOffset: { width: 0, height: 2 },\r\n                                    shadowOpacity: 0.1,\r\n                                    shadowRadius: 4,\r\n                                    elevation: 2,\r\n                                  }}\r\n                                  rowStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    paddingVertical: 10,\r\n                                    paddingHorizontal: 15,\r\n                                  }}\r\n                                  rowTextStyle={{\r\n                                    color: '#424242',\r\n                                    fontSize: 16,\r\n                                  }}\r\n                                  data={fuelData}\r\n                                  onSelect={useCallback((selectedItem) => {\r\n                                    fuelVariable.text = selectedItem;\r\n                                    // console.log(fuelVariable.text);\r\n\r\n                                  }, [])}\r\n                                  defaultButtonText=\"-- Choose Fuel --\"\r\n                                  buttonTextAfterSelection={(selectedItem) => {\r\n                                    return selectedItem;\r\n                                  }}\r\n                                  renderDropdownIcon={(isOpened) => {\r\n                                    return (\r\n                                      <Ionicons\r\n                                        name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                                        color={'#424242'}\r\n                                        size={18}\r\n                                      />\r\n                                    );\r\n                                  }}\r\n                                  rowTextForSelection={(item) => {\r\n                                    return item;\r\n                                  }}\r\n                                  searchPlaceHolder=\" Search for Fuel\"\r\n                                  searchInputStyle={{\r\n                                    marginTop: 1,\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                  }}\r\n                                  disableAutoScroll\r\n                                  search\r\n\r\n                                />\r\n                              </Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'}>\r\n                              <Box flexDir={'row'} bgColor={'#8096D7'} alignSelf={'center'} flex={[1, 1, 1, 1, 2, 2]} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Dimension</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={dimensionLengthError} borderWidth={1}><InputGroup><Input defaultValue=\"\" keyboardType=\"numeric\" ref={inputDimensionLength} onChangeText={handleInputDimensionLengthChange} flex={1} placeholder=\"Length\" /><InputRightAddon children={\"cm\"} /></InputGroup></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={dimensionWidthError} borderWidth={1}><InputGroup><Input defaultValue=\"\" keyboardType=\"numeric\" ref={inputDimensionWidth} onChangeText={handleInputDimensionWidthChange} flex={1} placeholder=\"Width\" /><InputRightAddon children={\"cm\"} /></InputGroup></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={dimensionHeightError} borderWidth={1}><InputGroup><Input defaultValue=\"\" keyboardType=\"numeric\" ref={inputDimensionHeight} onChangeText={handleInputDimensionHeightChange} flex={1} placeholder=\"Height\" /><InputRightAddon children={\"cm\"} /></InputGroup></Box>\r\n                              <Box bgColor={'white'} flex={1}><InputGroup><Input keyboardType=\"numeric\" ref={inputDimensionCubicMeters} defaultValue=\"0.00\" onChangeText={handleInputDimensionCubicMetersChange} bgColor={'muted.100'} disabled editable={false} flex={1} placeholder=\"Cubic Meters\" /><InputRightAddon children={\"m\"} /></InputGroup></Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'}>\r\n                              <Box bgColor={'#8096D7'} flex={1} flexDir={'row'} ><Text color={'white'} alignSelf={'center'} fontSize={[14, 14, 12, 12, 16, 18]}> Drive Type</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text>\r\n                                {/* <Box flex={1} justifyContent=\"center\" alignItems={'flex-end'} marginRight={1}><TouchableOpacity onPress={handleModalDriveTypeOpen}><Icon as={<MaterialCommunityIcons name=\"playlist-edit\" />} size={5} color=\"white\" /></TouchableOpacity></Box> */}\r\n                                <SortAndAddModal\r\n                                  docName='DriveType'\r\n                                  handleAddTextChange={handleAddDriveTypeTextChange}\r\n                                  textAreaAdd={textAreaAddDriveType}\r\n                                  title='Drive Type'\r\n                                  dataName={'driveType'}\r\n                                  databaseInit={projectExtensionFirestore}\r\n                                  headerText=\"Rearrange/Add Drive Type\"\r\n                                  data={driveTypeData}\r\n                                />\r\n                              </Box>\r\n                              <Box ref={selectDriveTypeBoxRef} bgColor={'white'} flex={1} borderColor={driveTypeError} borderWidth={1}>\r\n                                {/* <Select key={keySelectDriveType} accessibilityLabel=\"Choose Drive Type\" placeholder=\"Choose Drive Type\" _selectedItem={{\r\n                                bg: \"teal.600\",\r\n                                endIcon: <CheckIcon size=\"5\" />\r\n                              }}>\r\n                                {driveTypeData.map((item, index) => (\r\n\r\n                                  <Select.Item key={item} label={item} value={item} />\r\n\r\n                                ))}\r\n                              </Select> */}\r\n                                <SelectDropdown\r\n                                  ref={selectDriveType}\r\n                                  buttonStyle={{\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    padding: 4,\r\n                                  }}\r\n                                  buttonTextStyle={{\r\n                                    textAlign: 'left',\r\n                                    color: '#424242',\r\n                                    fontSize: 12,\r\n                                  }}\r\n                                  dropdownStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    shadowColor: '#000000',\r\n                                    shadowOffset: { width: 0, height: 2 },\r\n                                    shadowOpacity: 0.1,\r\n                                    shadowRadius: 4,\r\n                                    elevation: 2,\r\n                                  }}\r\n                                  rowStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    paddingVertical: 10,\r\n                                    paddingHorizontal: 15,\r\n                                  }}\r\n                                  rowTextStyle={{\r\n                                    color: '#424242',\r\n                                    fontSize: 16,\r\n                                  }}\r\n                                  data={driveTypeData}\r\n                                  onSelect={useCallback((selectedItem) => {\r\n                                    driveTypeVariable.text = selectedItem;\r\n                                    // console.log(driveTypeVariable.text);\r\n\r\n                                  }, [])}\r\n                                  defaultButtonText=\"-- Choose Drive Type --\"\r\n                                  buttonTextAfterSelection={(selectedItem) => {\r\n                                    return selectedItem;\r\n                                  }}\r\n                                  renderDropdownIcon={(isOpened) => {\r\n                                    return (\r\n                                      <Ionicons\r\n                                        name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                                        color={'#424242'}\r\n                                        size={18}\r\n                                      />\r\n                                    );\r\n                                  }}\r\n                                  rowTextForSelection={(item) => {\r\n                                    return item;\r\n                                  }}\r\n                                  searchPlaceHolder=\" Search for Drive Type\"\r\n                                  searchInputStyle={{\r\n                                    marginTop: 1,\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                  }}\r\n                                  disableAutoScroll\r\n                                  search\r\n\r\n                                />\r\n                              </Box>\r\n                            </Box>\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'1'} bgColor={'#8096D7'} >\r\n                              <Box flexDir={'row'} alignSelf={'center'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Weight</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={weightError} borderWidth={1}><InputGroup><Input defaultValue=\"\" ref={inputWeight} keyboardType=\"numeric\" onChangeText={handleInputWeightChange} flex={1} placeholder=\" Weight\" /><InputRightAddon children={\"kg\"} /></InputGroup></Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderBottomColor={'white'} borderBottomWidth={'0'}>\r\n                              <Box bgColor={'#8096D7'} flex={1} flexDir={'row'} ><Text color={'white'} alignSelf={'center'} fontSize={[14, 14, 12, 12, 16, 18]}> Body Type</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text>\r\n\r\n                                <SortAndAddModal\r\n                                  docName='BodyType'\r\n                                  handleAddTextChange={handleAddBodyTypeTextChange}\r\n                                  textAreaAdd={textAreaAddBodyType}\r\n                                  title='Body Type'\r\n                                  dataName={'bodyType'}\r\n                                  databaseInit={projectExtensionFirestore}\r\n                                  headerText=\"Rearrange/Add Body Type\"\r\n                                  data={bodyTypeData}\r\n                                />\r\n                              </Box>\r\n                              <Box ref={selectBodyTypeBoxRef} bgColor={'white'} flex={1} borderColor={bodyTypeError} borderWidth={1}>\r\n\r\n                                <SelectDropdown\r\n                                  ref={selectBodyType}\r\n                                  buttonStyle={{\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    padding: 4,\r\n                                  }}\r\n                                  buttonTextStyle={{\r\n                                    textAlign: 'left',\r\n                                    color: '#424242',\r\n                                    fontSize: 12,\r\n                                  }}\r\n                                  dropdownStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    shadowColor: '#000000',\r\n                                    shadowOffset: { width: 0, height: 2 },\r\n                                    shadowOpacity: 0.1,\r\n                                    shadowRadius: 4,\r\n                                    elevation: 2,\r\n                                  }}\r\n                                  rowStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    paddingVertical: 10,\r\n                                    paddingHorizontal: 15,\r\n                                  }}\r\n                                  rowTextStyle={{\r\n                                    color: '#424242',\r\n                                    fontSize: 16,\r\n                                  }}\r\n                                  data={bodyTypeData}\r\n                                  onSelect={useCallback((selectedItem) => {\r\n                                    bodyTypeVariable.text = selectedItem;\r\n                                    // console.log(bodyTypeVariable.text);\r\n\r\n                                  }, [])}\r\n                                  defaultButtonText=\"-- Choose Body Type --\"\r\n                                  buttonTextAfterSelection={(selectedItem) => {\r\n                                    return selectedItem;\r\n                                  }}\r\n                                  renderDropdownIcon={(isOpened) => {\r\n                                    return (\r\n                                      <Ionicons\r\n                                        name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                                        color={'#424242'}\r\n                                        size={18}\r\n                                      />\r\n                                    );\r\n                                  }}\r\n                                  rowTextForSelection={(item) => {\r\n                                    return item;\r\n                                  }}\r\n                                  searchPlaceHolder=\" Search for Body Type\"\r\n                                  searchInputStyle={{\r\n                                    marginTop: 1,\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                  }}\r\n                                  disableAutoScroll\r\n                                  search\r\n\r\n                                />\r\n                              </Box>\r\n                            </Box>\r\n                            <Box flexDir={'row'} borderTopColor={'white'} borderTopWidth={'1'} bgColor={'#8096D7'} >\r\n                              <Box flexDir={'row'} alignSelf={'center'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Supply Chains Costs</Text></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={'white'} borderWidth={1}>\r\n                                <SupplyChainsCosts\r\n                                  handleAddExpenseNameTextChange={handleAddExpenseNameTextChange}\r\n                                  textAreaAddExpenseName={textAreaAddExpenseName}\r\n                                  inputExpenseAmount={inputExpenseAmount}\r\n                                  handleInputExpenseAmountChange={handleInputExpenseAmountChange}\r\n                                  handleAddPaidToTextChange={handleAddPaidToTextChange}\r\n                                  paidToData={paidToData}\r\n                                  inputCarNotes={inputCarNotes}\r\n                                /></Box>\r\n                            </Box>\r\n\r\n                            <Box flexDir={'row'} borderTopColor={'white'} borderTopWidth={'1'} bgColor={'#8096D7'} >\r\n                              <Box flexDir={'row'} alignSelf={'center'} flex={1} alignItems={'flex-start'}><Text color={'white'} fontSize={[14, 14, 12, 12, 16, 18]}> Select Features</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text></Box>\r\n                              <Box bgColor={'white'} flex={1} borderColor={isNoFeaturesSelected} borderWidth={1}><SelectFeaturesButton /></Box>\r\n                            </Box>\r\n\r\n\r\n                            <Box flexDir={'row'} borderTopColor={'white'} borderTopWidth={'1'} bgColor={'#8096D7'} >\r\n                              <Box bgColor={'#8096D7'} flex={1} flexDir={'row'} ><Text color={'white'} alignSelf={'center'} fontSize={[14, 14, 12, 12, 16, 18]}> Stock Status</Text><Text color={'#D96437'} fontSize={[14, 14, 12, 12, 16, 18]}> *</Text>\r\n\r\n                              </Box>\r\n                              <Box ref={selectStockStatusBoxRef} bgColor={'white'} flex={1} borderColor={stockStatusError} borderWidth={1}>\r\n\r\n                                <SelectDropdown\r\n                                  ref={selectStockStatus}\r\n                                  buttonStyle={{\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    padding: 4,\r\n                                  }}\r\n                                  buttonTextStyle={{\r\n                                    textAlign: 'left',\r\n                                    color: '#424242',\r\n                                    fontSize: 12,\r\n                                  }}\r\n                                  dropdownStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    borderColor: '#E0E0E0',\r\n                                    borderWidth: 1,\r\n                                    borderRadius: 4,\r\n                                    shadowColor: '#000000',\r\n                                    shadowOffset: { width: 0, height: 2 },\r\n                                    shadowOpacity: 0.1,\r\n                                    shadowRadius: 4,\r\n                                    elevation: 2,\r\n                                  }}\r\n                                  rowStyle={{\r\n                                    backgroundColor: '#FFFFFF',\r\n                                    paddingVertical: 10,\r\n                                    paddingHorizontal: 15,\r\n                                  }}\r\n                                  rowTextStyle={{\r\n                                    color: '#424242',\r\n                                    fontSize: 16,\r\n                                  }}\r\n                                  data={stockStatusData}\r\n                                  onSelect={useCallback((selectedItem) => {\r\n                                    stockStatusVariable.text = selectedItem;\r\n                                    // console.log(bodyTypeVariable.text);\r\n\r\n                                  }, [])}\r\n                                  defaultButtonText=\"-- Choose Stock Status --\"\r\n                                  buttonTextAfterSelection={(selectedItem) => {\r\n                                    return selectedItem;\r\n                                  }}\r\n                                  renderDropdownIcon={(isOpened) => {\r\n                                    return (\r\n                                      <Ionicons\r\n                                        name={isOpened ? 'chevron-up' : 'chevron-down'}\r\n                                        color={'#424242'}\r\n                                        size={18}\r\n                                      />\r\n                                    );\r\n                                  }}\r\n                                  rowTextForSelection={(item) => {\r\n                                    return item;\r\n                                  }}\r\n                                  searchPlaceHolder=\" Search for Stock Status\"\r\n                                  searchInputStyle={{\r\n                                    marginTop: 1,\r\n                                    flex: 1,\r\n                                    width: '100%',\r\n                                  }}\r\n                                  disableAutoScroll\r\n                                  search\r\n\r\n                                />\r\n                              </Box>\r\n                            </Box>\r\n\r\n\r\n\r\n                          </Box>\r\n\r\n\r\n                        </Box>\r\n\r\n                      </Box>\r\n\r\n                      <br /> <br /> <br /> <br />\r\n\r\n                      <Box flex={1} bgColor='#A6BCFE' w='100%' margin={1} flexDirection={'column'} paddingBottom={[10, 10, 10, 0, 0, 0]}>\r\n                        {/*=============================================================== Add Image(s)===============================================================*/}\r\n                        <ImageUploader dragSortableViewRef={dragSortableViewRef} handleClearImagesExtra={handleClearImagesExtra} />\r\n\r\n                      </Box>\r\n\r\n                    </Box>\r\n\r\n                  </Box>\r\n\r\n                  <Box flex={1} margin={1} flexDirection={'column'} h={'full'} display={['none', 'none', 'none', 'none', 'flex', 'flex']}>\r\n                    <Box h={'full'} w={'full'}>\r\n\r\n                      <HStack flex={1}>\r\n                        <Input\r\n                          ref={inputCarName}\r\n                          borderColor={carNameError}\r\n                          placeholder=\"Car Name\" margin={1} bgColor={'white'} borderWidth={1} placeholderTextColor={'muted.400'} flex={1} />\r\n                        <HStack flex={1}>\r\n                          <InputGroup flex={1}>\r\n                            <InputLeftAddon bgColor={'#7B9CFF'} borderWidth={1} borderColor={'white'} _text={{ color: 'white' }} children={\"Notes \"} />\r\n                            <Input flex={1} ref={inputCarNotes} borderColor={carNameError} placeholder=\"Note\" bgColor={'white'} borderWidth={1} placeholderTextColor={'muted.400'} />\r\n                          </InputGroup>\r\n                        </HStack>\r\n                      </HStack>\r\n\r\n                      <HStack flex={2}>\r\n                        <TextArea flex={1} ref={inputCarDesc} borderColor='muted.500' bgColor={'white'} placeholder=\"Car Description / Salespoint\" borderWidth={1} placeholderTextColor={'muted.400'} margin={1} />\r\n                        <HStack marginTop={1} flex={1}>\r\n                          <InputGroup flex={1}>\r\n                            <InputLeftAddon bgColor={'#7B9CFF'} borderWidth={1} borderColor={'white'} _text={{ color: 'white' }} color={'white'} children={\"Memo\"} />\r\n                            <Input multiline flex={1} ref={inputCarMemo} borderColor={carNameError} placeholder=\"Memo\" bgColor={'white'} borderWidth={1} placeholderTextColor={'muted.400'} />\r\n                          </InputGroup>\r\n                        </HStack>\r\n                      </HStack>\r\n\r\n\r\n                      <HStack>\r\n                        <Input keyboardType=\"numeric\" flex={1} ref={inputFobJpy} onChangeText={handleInputFobJpyChange} borderColor='muted.500' bgColor={'white'} InputLeftElement={<Icon as={<FontAwesome name=\"yen\" />} size={5} ml=\"2\" color=\"muted.400\" />} placeholder=\"FOB Price\" margin={1} borderWidth={1} placeholderTextColor={'muted.400'} />\r\n                        <Input disabled ref={inputFobUsd} flex={1} borderColor='muted.500' bgColor={'white'} InputLeftElement={<Icon as={<FontAwesome name=\"dollar\" />} size={5} ml=\"2\" color=\"muted.400\" />} placeholder=\"0\" margin={1} borderWidth={1} placeholderTextColor={'muted.400'} />\r\n                      </HStack>\r\n\r\n                    </Box>\r\n                  </Box>\r\n\r\n                  <Box w={'full'} flexDir={'row'} margin={1} paddingBottom={10} paddingTop={10} display={screenWidth < 1280 ? 'none' : 'flex'}>\r\n                    {/* <Button borderRadius={3} flex={1} bgColor={'#D9D9D9'} onPress={handleModalClearOpen} _text={{ color: 'muted.500', }} _hover={{ bgColor: '#f0eded', }}>Clear</Button> */}\r\n                    <ClearModalButton handleClear={handleClear} />\r\n                    <Button borderRadius={3} flex={1} bgColor={'#A6BCFE'} disabled></Button> <Button flex={1} bgColor={'#A6BCFE'} disabled></Button>\r\n                    {/* <Button borderRadius={3} flex={1} bgColor={'#7B9CFF'} _hover={{ bgColor: '#517cfc', }}>Upload</Button> */}\r\n                    <UploadModalButton handleUpload={handleUpload} />\r\n\r\n                  </Box>\r\n\r\n                </Box>\r\n              </PresenceTransition>\r\n            </ScrollView>\r\n\r\n          </Box>\r\n        </Box>\r\n      </Box>\r\n\r\n\r\n      <LoadingModal />\r\n      {/* <Box\r\n        position=\"absolute\"\r\n        top={0}\r\n        bottom={0}\r\n        left={0}\r\n        right={0}\r\n        backgroundColor=\"rgba(0, 0, 0, 0.5)\"\r\n        flex={1}\r\n        display={isLoading ? '' : 'none'}\r\n      >\r\n        <Center flex={1}>\r\n          <Box style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n            <Spinner size=\"lg\" color=\"white\" />\r\n            <Text color={'white'}>Loading, please wait!</Text>\r\n          </Box>\r\n        </Center>\r\n      </Box> */}\r\n\r\n      <UpdateSuccessModal onClose={handleUpdateSuccessModalClose} headerText={'Vehicle Updated!'} bodyText={'Vehicle was successfully updated!'} />\r\n      <UploadSuccessModal onClose={handleSuccessModalClose} headerText={'Vehicle Added!'} bodyText={'Vehicle was successfully added! You can view it in the vehicle list.'} />\r\n    </NativeBaseProvider>\r\n\r\n\r\n  );\r\n}\r\n\r\n\r\n\r\n","import {\r\n    Box,\r\n    Button,\r\n    Center,\r\n    Flex,\r\n    HStack,\r\n    Icon,\r\n    Image as NativeImage,\r\n    Input,\r\n    Modal,\r\n    NativeBaseProvider,\r\n    Popover,\r\n    Spinner,\r\n    Stack,\r\n    Text,\r\n    VStack,\r\n    TextArea,\r\n    InputRightAddon,\r\n    InputGroup,\r\n    InputLeftAddon,\r\n    Select,\r\n    CheckIcon,\r\n    PresenceTransition,\r\n    CloseIcon,\r\n    ScrollView as ScrollViewNative,\r\n    Divider,\r\n    useDisclosure,\r\n    useDisclose,\r\n    FormControl,\r\n    Checkbox,\r\n    useToast,\r\n    Tooltip,\r\n    Progress,\r\n    Alert\r\n} from 'native-base';\r\nimport React, { useEffect, useRef, useState, useMemo, useCallback, useReducer } from 'react';\r\nimport {\r\n    Dimensions,\r\n    ImageBackground,\r\n    TouchableOpacity,\r\n    TouchableWithoutFeedback,\r\n    StyleSheet,\r\n    View,\r\n    PanResponder,\r\n    Animated,\r\n    InputAccessoryView,\r\n    FlatList,\r\n    ScrollView,\r\n    TouchableHighlight,\r\n    TextInput,\r\n    Image as RNImage,\r\n    Pressable,\r\n    Linking,\r\n    Modal as RNModal,\r\n    Platform,\r\n    SafeAreaView,\r\n} from 'react-native';\r\nimport 'react-native-gesture-handler';\r\nimport {\r\n    AntDesign,\r\n    FontAwesome,\r\n    Ionicons,\r\n    MaterialCommunityIcons,\r\n    MaterialIcons,\r\n    Entypo,\r\n    FontAwesome5,\r\n    EvilIcons\r\n} from 'react-native-vector-icons';\r\n// import { createDrawerNavigator } from '@react-navigation/drawer';\r\nimport { useNavigation } from '@react-navigation/core';\r\nimport axios from 'axios';\r\nimport { createUserWithEmailAndPassword, fetchSignInMethodsForEmail, signOut } from 'firebase/auth';\r\nimport { addDoc, collection, doc, getDoc, getFirestore, onSnapshot, setDoc, arrayUnion, updateDoc, query, getDocs, orderBy, startAfter, limit, where, endBefore, endAt, limitToLast, collectionGroup, increment } from 'firebase/firestore';\r\nimport moment from 'moment';\r\nimport { authForCreateUser } from '../../firebasecontrolCreateUser';\r\nimport './../style.css';\r\nimport { projectControlFirestore, projectControlAuth, projectExtensionFirestore, projectExtensionAuth, projectControlFirebase, projectExtensionFirebase } from \"../../crossFirebase\";\r\nimport { launchImageLibrary } from 'react-native-image-picker';\r\nimport { getStorage, ref, uploadBytes, getDownloadURL, listAll, deleteObject } from 'firebase/storage';\r\nimport FastImage from 'react-native-fast-image-web-support';\r\nimport MobileViewDrawer from './SideDrawer/MobileViewDrawer';\r\nimport SideDrawer from './SideDrawer/SideDrawer';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport DraggableFlatList from \"react-native-draggable-flatlist\";\r\nimport { Calendar, LocaleConfig } from 'react-native-calendars';\r\nimport { DragSortableView } from 'react-native-drag-sort';\r\nimport {\r\n    setVehicleListData,\r\n    setSupplyChainsCostsData,\r\n    setSelectedPaidTo,\r\n    setSelectedExpenseName,\r\n    setSupplyChainsCostsModalVisible,\r\n    setVehicleListSupplyChainsCostsData,\r\n    setDeleteImageVisible,\r\n    setSelectedImages,\r\n    setAddAnotherImages,\r\n    setIsAddPhotoVisible,\r\n    setUploadImagesModalVisible,\r\n    setUploadImagesButtonLoading,\r\n    setViewImagesModalVisible,\r\n    setViewImagesData,\r\n    setLoadingModalVisible,\r\n    setAddVehicleListData,\r\n    setEditVehicleModalVisible,\r\n    setFobPriceHistoryModalVisible,\r\n    setChatListData,\r\n    setChatListImageUrl,\r\n    setChatListLastVisible,\r\n    setLoadMoreLoading,\r\n    setNoMoreData,\r\n    setActiveChatId,\r\n    setChatListSearchText,\r\n    setChatMessagesData,\r\n    setChatMessageBoxLoading,\r\n    setSelectedChatData,\r\n    setReadByListModalVisible,\r\n    setLoadMoreMessagesLoading,\r\n    setNoMoreMessagesData,\r\n    setDeleteMessageTemplateVisible,\r\n    setInvoiceData,\r\n    setTransactionModalVisible,\r\n    setPreviewInvoiceVisible,\r\n    setSelectedCustomerData,\r\n    setPdfViewerModalVisible,\r\n    setSelectedFileUrl,\r\n    setIsLoading,\r\n    setLoginName,\r\n    setCarImageUrl,\r\n} from './redux/store';\r\n// import { TextInput } from 'react-native-gesture-handler';\r\nimport { nanoid } from 'nanoid';\r\nimport { cloneDeep } from 'lodash';\r\nimport StickyHeader from './Header/StickyHeader';\r\nimport { UsePagination } from './VehicleListComponent/UsePagination';\r\nimport Hyperlink from 'react-native-hyperlink';\r\nimport { HmacSHA256, enc } from 'crypto-js';\r\nimport { AES } from 'crypto-js';\r\nimport { CRYPTO_KEY } from '@env';\r\nimport { captureRef } from 'react-native-view-shot';\r\nimport jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\nimport QRCode from 'react-native-qrcode-svg';\r\nimport { useRoute } from '@react-navigation/native';\r\nimport { HashRouter as Router, Route, Routes, useNavigate, Navigate, useParams } from 'react-router-dom';\r\n\r\n// import { CollectionGroup } from 'firebase-admin/firestore';\r\nconst { width } = Dimensions.get('window');\r\nlet selectedScreen = 'CHAT MESSAGES'\r\nlet globalLastVisible;\r\nlet globalMessagesLastVisible;\r\nlet globalSearchText = '';\r\nlet globalCustomerId = '';\r\nlet globalChatId = '';\r\nlet globalImageUrl = '';\r\nlet globalCustomerCarName = '';\r\nlet globalCustomerFirstName = '';\r\nlet globalCustomerLastName = '';\r\n\r\nlet globalAdditionalNameArray = [];\r\n\r\nlet globalAdditionalPriceArray = [];\r\n\r\nlet globalMessageTemplateSelectedTitle = '';\r\n\r\n// let userEmail = projectControlAuth.currentUser.email;\r\n\r\nlet formattedIssuingDate = ''; // Initialize the variable outside the conditional rendering block\r\nlet formattedDueDate = '';\r\n\r\nlet transactionModalTitle = '';\r\n\r\nlet transactionModalContentValue = 0;\r\n\r\nlet ip = '';\r\nlet ipCountry = '';\r\n\r\nlet globalInvoiceVariable = {\r\n    carData: {\r\n\r\n    },\r\n    cfs: '',\r\n    placeOfDelivery: '',\r\n    departureCountry: '',\r\n    departurePort: '',\r\n    salesPerson: '',\r\n\r\n    discharge: {\r\n        port: '',\r\n        country: '',\r\n    },\r\n\r\n    consignee: {\r\n        sameAsBuyer: null,\r\n        name: '',\r\n        address: '',\r\n        contactNumber: '',\r\n        fax: '',\r\n        email: '',\r\n    },\r\n\r\n    notifyParty: {\r\n        sameAsConsignee: null,\r\n        name: '',\r\n        address: '',\r\n        contactNumber: '',\r\n        fax: '',\r\n        email: '',\r\n    },\r\n\r\n    paymentDetails: {\r\n        incoterms: '',\r\n        inspectionIsChecked: null,\r\n        inspectionName: '',\r\n        warrantyIsCheck: null,\r\n        warrantyAmount: 0,\r\n        fobPrice: 0,\r\n        freightPrice: 0,\r\n        insurancePrice: 0,\r\n        inspectionPrice: 0,\r\n        totalAmount: 0,\r\n        additionalName: [],\r\n        additionalPrice: [],\r\n    },\r\n\r\n    bankInformations: {\r\n        dueDate: '',\r\n        issuingDate: '',\r\n        bankAccount: {\r\n\r\n        },\r\n        paymentTerms: '',\r\n        salesAgreement: '',\r\n    },\r\n\r\n}\r\n\r\nlet globalSelectedPDFUrl = '';\r\nlet globalSelectedFileType = '';\r\n\r\n\r\nconst firestore = getFirestore();\r\n\r\nconst getEmailOfCurrentUser = () => {\r\n\r\n    const user = projectControlAuth.currentUser;\r\n    if (user) {\r\n        const email = user.email;\r\n        return email;\r\n    } else {\r\n        // console.log('No user is currently authenticated');\r\n        return null;\r\n    }\r\n};\r\n\r\nconst encryptData = (data) => {\r\n    const secretKey = CRYPTO_KEY.toString();\r\n\r\n    return AES.encrypt(data, secretKey).toString();\r\n};\r\n\r\n// Function to decrypt data\r\nconst decryptData = (ciphertext) => {\r\n    const secretKey = CRYPTO_KEY.toString();\r\n\r\n    const bytes = AES.decrypt(ciphertext, secretKey);\r\n    return bytes.toString(enc.Utf8);\r\n};\r\n\r\n\r\nconst TimelineStatus = ({ data }) => {\r\n\r\n    const selectedChatData = useSelector(state => state.selectedChatData);\r\n\r\n    const changeIndex = data.findIndex(item => selectedChatData.stepIndicator.value < item.value);\r\n\r\n\r\n    return (\r\n        <View style={{ flexDirection: 'row', alignItems: 'center', paddingTop: 3, }}>\r\n            {/* Dots and individual line segments */}\r\n            {data.map((item, index) => (\r\n                <View key={index} style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n                    {/* Dot */}\r\n                    <Tooltip label={item.title} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33' }}>\r\n                        <View style={{\r\n                            width: 20,\r\n                            height: 20,\r\n                            borderRadius: 10,\r\n                            backgroundColor: selectedChatData.stepIndicator.value < item.value ? '#C1C1C1' : '#abf7c7',\r\n                            justifyContent: 'center',\r\n                        }}>\r\n\r\n                            {selectedChatData.stepIndicator.value < item.value ? (\r\n                                <FastImage\r\n                                    source={{\r\n                                        uri: require(`../../assets/chat_step/chat_step_${item.value}_off.png`),\r\n                                        priority: FastImage.priority.normal,\r\n                                    }}\r\n                                    style={{\r\n                                        tintColor: 'rgba(128, 128, 128, 1)',\r\n                                        width: 15,\r\n                                        height: 15,\r\n                                        alignSelf: 'center',\r\n                                    }}\r\n                                    resizeMode={FastImage.resizeMode.stretch}\r\n                                />\r\n                            ) : (\r\n                                <FastImage\r\n                                    source={{\r\n                                        uri: require(`../../assets/chat_step/chat_step_${item.value}_on.png`),\r\n                                        priority: FastImage.priority.normal\r\n                                    }}\r\n                                    style={{\r\n                                        tintColor: 'rgba(128, 128, 128, 1)',\r\n                                        width: 15,\r\n                                        height: 15,\r\n                                        alignSelf: 'center',\r\n                                    }}\r\n                                    resizeMode={FastImage.resizeMode.stretch}\r\n                                />\r\n                            )}\r\n\r\n                        </View>\r\n                    </Tooltip>\r\n                    {/* Line Segment (except for the last dot) */}\r\n                    {index < data.length - 1 && (\r\n                        <View style={{\r\n                            height: 3,\r\n                            width: 20, // Adjust the width to match the space between the dots\r\n                            backgroundColor: selectedChatData.stepIndicator.value <= item.value ? '#C1C1C1' : '#abf7c7',\r\n                        }} />\r\n                    )}\r\n                </View>\r\n            ))}\r\n        </View>\r\n    );\r\n};\r\n\r\n\r\nconst statusData = [\r\n    { title: 'Negotiation', value: 1 },\r\n    { title: 'Issued Proforma Invoice', value: 2 },\r\n    { title: 'Order Item', value: 3 },\r\n    { title: 'Payment Confirmed', value: 4 },\r\n    { title: 'Shipping Schedule', value: 5 },\r\n    { title: 'Documents', value: 6 },\r\n    { title: 'Vehicle Received', value: 7 },\r\n    // Add more events as needed\r\n];\r\n\r\nconst LoadingModal = () => {\r\n    const loadingModalVisible = useSelector((state) => state.loadingModalVisible);\r\n\r\n\r\n    return (\r\n        <View\r\n            style={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                bottom: 0,\r\n                left: 0,\r\n                right: 0,\r\n                backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                flex: 1,\r\n                display: loadingModalVisible ? 'flex' : 'none',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n            }}\r\n        >\r\n            {/* Content within the modal */}\r\n            <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n                <Spinner size=\"lg\" color=\"white\" />\r\n                <Text style={{ color: 'white' }}>Loading, please wait!</Text>\r\n            </View>\r\n        </View>\r\n\r\n    );\r\n\r\n}\r\n\r\n// const SkeletonChatListLayout = () => {\r\n//     return (\r\n//         <SkeletonPlaceholder>\r\n//             <SkeletonPlaceholder.Item flexDirection=\"row\" alignItems=\"center\" padding={12}>\r\n//                 {/* Placeholder for Image */}\r\n//                 <SkeletonPlaceholder.Item width={60} height={60} borderRadius={30} />\r\n\r\n//                 {/* Placeholder for Texts */}\r\n//                 <SkeletonPlaceholder.Item flex={1} marginLeft={20}>\r\n//                     {/* Date */}\r\n//                     <SkeletonPlaceholder.Item width={80} height={12} marginBottom={6} />\r\n//                     {/* Car Name */}\r\n//                     <SkeletonPlaceholder.Item width={120} height={14} marginBottom={6} />\r\n//                     {/* Text First and Last */}\r\n//                     <SkeletonPlaceholder.Item width={140} height={14} marginBottom={6} />\r\n//                     {/* Last Message */}\r\n//                     <SkeletonPlaceholder.Item width={160} height={12} marginBottom={6} />\r\n//                 </SkeletonPlaceholder.Item>\r\n//             </SkeletonPlaceholder.Item>\r\n//         </SkeletonPlaceholder>\r\n//     );\r\n// };\r\n\r\nconst HeaderButton = ({ title, onPress, isActive, headerCount }) => {\r\n    const activeStyle = isActive ? { backgroundColor: '#E1EDF7' } : {};\r\n    const screenWidth = Dimensions.get('window').width;\r\n    const [isHovered, setIsHovered] = useState(false);\r\n    const hoverIn = () => setIsHovered(true);\r\n    const hoverOut = () => setIsHovered(false);\r\n    return (\r\n        <Pressable\r\n            onHoverIn={hoverIn}\r\n            onHoverOut={hoverOut}\r\n            focusable={false}\r\n            onPress={onPress}\r\n            style={{ backgroundColor: isHovered ? '#f2f2f2' : 'transparent', padding: 12, marginVertical: screenWidth > 1818 ? 10 : 2, borderWidth: 5, borderColor: 'transparent', marginLeft: 8, width: 195, flexDirection: 'row', alignItems: 'center', justifyContent: 'center', borderRadius: 5, ...activeStyle }}\r\n        >\r\n            <Text color={isActive ? '#0A78BE' : '#1C2B33'} fontSize={14} style={{ fontWeight: isActive ? 700 : 400, alignSelf: 'center', textAlign: 'center', }}>{title}</Text>\r\n            {headerCount}\r\n\r\n        </Pressable>\r\n    );\r\n};\r\n\r\nconst FilterButton = ({ title, onPress, isActive, iconActive, iconNotActive }) => {\r\n    const [isHovered, setIsHovered] = useState(false);\r\n    const hoverIn = () => setIsHovered(true);\r\n    const hoverOut = () => setIsHovered(false);\r\n    return (\r\n        <Pressable\r\n            focusable={false}\r\n            variant='ghost'\r\n            onPress={onPress}\r\n            onHoverIn={hoverIn}\r\n            onHoverOut={hoverOut}\r\n            style={{\r\n                padding: 5,\r\n                width: 100,\r\n                margin: 5,\r\n                flexDirection: 'row', // Align items in a row\r\n                alignItems: 'center', // Center items vertically\r\n                justifyContent: 'center',\r\n                borderRadius: 5,\r\n                backgroundColor: isActive ? '#E1EDF7' : (isHovered ? '#d7d7d9' : '#ECEDF0'),\r\n            }}\r\n        >\r\n            {isActive ? iconActive : iconNotActive}\r\n            <Text color={isActive ? '#0A78BE' : '#1C2B33'} fontSize={14} style={{ fontWeight: isActive ? 700 : 400, marginLeft: 5, }}>{title}</Text>\r\n\r\n\r\n        </Pressable>\r\n    );\r\n};\r\n\r\nconst formatDate = (timestamp) => {\r\n    const currentDate = new Date();\r\n    const formattedTimestamp = timestamp.replace(' at ', 'T').replace(/\\//g, '-');\r\n    const givenDate = new Date(formattedTimestamp);\r\n\r\n    // Resetting the time part to compare dates only\r\n    const currentFormattedDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate());\r\n    const givenFormattedDate = new Date(givenDate.getFullYear(), givenDate.getMonth(), givenDate.getDate());\r\n\r\n    // Check if the dates are the same\r\n    if (givenFormattedDate.getTime() === currentFormattedDate.getTime()) {\r\n        return \"This day\";\r\n    }\r\n\r\n    const oneDay = 24 * 60 * 60 * 1000;\r\n    const startOfWeek = new Date();\r\n    startOfWeek.setDate(startOfWeek.getDate() - startOfWeek.getDay() + (startOfWeek.getDay() === 0 ? -6 : 1));\r\n    startOfWeek.setHours(0, 0, 0, 0);\r\n\r\n    // Check if the date is within this week\r\n    if (givenDate >= startOfWeek && givenDate < currentFormattedDate) {\r\n        return givenDate.toLocaleDateString('en-US', { weekday: 'short' });\r\n    }\r\n\r\n    // Check if the date is within this year\r\n    const startOfYear = new Date(new Date().getFullYear(), 0, 1);\r\n    if (givenDate >= startOfYear) {\r\n        return givenDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    }\r\n\r\n    // If the date is not within this year\r\n    return givenDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });\r\n};\r\n\r\nconst SkeletonChatListLayout = () => {\r\n\r\n    return (\r\n        <>\r\n            <View // Add a unique key here\r\n                style={{\r\n                    padding: 12,\r\n                    alignItems: 'flex-start',\r\n                    flexDirection: 'row',\r\n                    backgroundColor: 'white',\r\n                }}\r\n            >\r\n                {/* Skeleton for the image */}\r\n                <View\r\n                    style={{\r\n                        width: 60,\r\n                        height: 60,\r\n                        borderRadius: 30,\r\n                        backgroundColor: '#e0e0e0',\r\n                        marginRight: 12,\r\n                    }}\r\n                />\r\n                {/* Skeleton for the text */}\r\n                <View style={{ flex: 1 }}>\r\n                    {Array.from({ length: 3 }).map((_, subIndex) => (\r\n                        <View\r\n                            key={`text-${subIndex}`}  // Add a unique key here for each text line\r\n                            style={{\r\n                                height: 10,\r\n                                backgroundColor: '#e0e0e0',\r\n                                marginBottom: 6,\r\n                                width: '80%',\r\n                                borderRadius: 4,\r\n                            }}\r\n                        />\r\n                    ))}\r\n                    <View style={{\r\n                        position: 'absolute',\r\n                        right: 10, height: 10,\r\n                        backgroundColor: '#e0e0e0',\r\n                        marginBottom: 6,\r\n                        width: '5%',\r\n                        borderRadius: 4,\r\n                    }} />\r\n                </View>\r\n            </View>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\n\r\n\r\nconst DeleteMessageTemplateYesNo = ({ handleDeleteMessageTemplateClose }) => {\r\n\r\n    const deleteMessageTemplateVisible = useSelector((state) => state.deleteMessageTemplateVisible);\r\n    const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n    const selectedTitle = globalMessageTemplateSelectedTitle;\r\n    const [isDeleteLoading, setIsDeleteLoading] = useState(false);\r\n    const handleClose = () => {\r\n        handleDeleteMessageTemplateClose();\r\n\r\n    }\r\n\r\n\r\n    const deleteMessageTemplate = async (titleToDelete) => {\r\n        const documentRef = doc(projectControlFirestore, 'MessageTemplate', email);\r\n        setIsDeleteLoading(true);\r\n        try {\r\n            // Fetch current data\r\n            const docSnap = await getDoc(documentRef);\r\n\r\n            if (docSnap.exists()) {\r\n                let messageTemplates = docSnap.data().messageTemplate || [];\r\n\r\n                // Filter out the item with the specified title\r\n                const updatedTemplates = messageTemplates.filter(template => template.title !== titleToDelete);\r\n\r\n                // Update the document with the new array\r\n                await updateDoc(documentRef, { messageTemplate: updatedTemplates });\r\n\r\n                console.log('Item successfully deleted');\r\n                setIsDeleteLoading(false);\r\n                handleClose();\r\n            } else {\r\n                console.log('Document does not exist');\r\n                setIsDeleteLoading(false);\r\n\r\n            }\r\n        } catch (error) {\r\n            console.error('Error deleting item: ', error);\r\n            setIsDeleteLoading(false);\r\n\r\n        }\r\n    };\r\n\r\n    return (\r\n\r\n        <Modal\r\n            isOpen={deleteMessageTemplateVisible}\r\n            onClose={handleClose}\r\n        >\r\n            <Modal.Content>\r\n                <Modal.CloseButton />\r\n                <Modal.Header >Delete Message Template?</Modal.Header>\r\n                <Modal.Body>\r\n                    <View style={{ flex: 1, }}>\r\n                        <Text style={{ fontWeight: 400, }}>Are you sure you want to delete the selected message template?</Text>\r\n                    </View>\r\n                </Modal.Body>\r\n\r\n                <Modal.Footer >\r\n                    <Button.Group variant=\"ghost\" space=\"2\">\r\n                        <Button style={{ width: 80, height: 36, }} onPress={handleClose} variant={'solid'} colorScheme={'warmGray'}>Cancel</Button>\r\n                        <Button isLoading={isDeleteLoading ? true : false} onPress={() => deleteMessageTemplate(selectedTitle)} style={{ padding: 16, height: 36, }} variant={'solid'} colorScheme={'error'}>Delete</Button>\r\n                    </Button.Group>\r\n                </Modal.Footer>\r\n            </Modal.Content>\r\n        </Modal>\r\n\r\n\r\n    );\r\n};\r\n\r\nconst MessageTemplateItem = ({ setOriginalTitle, addVisible, titleInputRef, valueInputRef, setAddVisible, item, textInputRef, setPopoverOpen }) => {\r\n    const [isTemplateItemHovered, setIsTemplateItemHovered] = useState(false);\r\n    const [isTemplateMenuHovered, setIsTemplateMenuHovered] = useState(false);\r\n    const [isTemplateEditHovered, setIsTemplateEditHovered] = useState(false);\r\n    const [isTemplateDeleteHovered, setIsTemplateDeleteHovered] = useState(false);\r\n    const [templateMenuOpen, setTemplateMenuOpen] = useState(false);\r\n    const [currentItem, setCurrentItem] = useState(null);\r\n    const [addIsVisible, setIsAddVisible] = useState(null);\r\n    const dispatch = useDispatch();\r\n\r\n    const onPress = (item) => {\r\n        textInputRef.current.value = item.value;\r\n        setPopoverOpen(false);\r\n    };\r\n\r\n    const onEditPress = (item) => {\r\n\r\n        setAddVisible(true);\r\n        // setCurrentItem(item);\r\n        setIsAddVisible(true);\r\n        setTemplateMenuOpen(false);\r\n        titleInputRef.current.value = item.title;\r\n        valueInputRef.current.value = item.value;\r\n        setOriginalTitle(item.title);\r\n\r\n    };\r\n\r\n    // useEffect(() => {\r\n\r\n\r\n    //     if (addIsVisible == true) {\r\n    //         console.log(addIsVisible);\r\n    //         titleInputRef.current.value = currentItem.title;\r\n    //         valueInputRef.current.value = currentItem.value;\r\n    //     }\r\n    //     if (titleInputRef.current && valueInputRef.current) {\r\n    //         titleInputRef.current.value = currentItem.title;\r\n    //         valueInputRef.current.value = currentItem.value;\r\n    //     }\r\n    // }, [currentItem]);\r\n\r\n    const handleDeletePress = (title) => {\r\n\r\n        dispatch(setDeleteMessageTemplateVisible(true));\r\n        globalMessageTemplateSelectedTitle = title;\r\n    }\r\n\r\n\r\n    return (\r\n        <Pressable\r\n            onPress={() => onPress(item)}\r\n            onHoverIn={() => setIsTemplateItemHovered(true)}\r\n            onHoverOut={() => setIsTemplateItemHovered(false)}\r\n            style={{\r\n                padding: 10,\r\n                backgroundColor: isTemplateItemHovered ? '#f2f2f2' : 'transparent',\r\n                flex: 1,\r\n                borderRadius: 5,\r\n            }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                <Text style={{ fontWeight: '700', flex: 1, }} numberOfLines={1} ellipsizeMode='tail'>{item.title}</Text>\r\n                <Popover\r\n                    isOpen={templateMenuOpen}\r\n                    onClose={() => setTemplateMenuOpen(false)}\r\n                    trigger={(triggerProps) => {\r\n                        return <Pressable\r\n                            {...triggerProps}\r\n                            onPress={() => setTemplateMenuOpen(true)}\r\n                            onHoverIn={() => setIsTemplateMenuHovered(true)}\r\n                            onHoverOut={() => setIsTemplateMenuHovered(false)}\r\n                            style={{ backgroundColor: isTemplateMenuHovered ? '#dedede' : 'transparent', padding: 5, justifyContent: 'center', borderRadius: 5, }}>\r\n                            <Entypo size={16} name='dots-three-horizontal' color='#171717' />\r\n                        </Pressable>\r\n                    }}\r\n\r\n                >\r\n                    <Popover.Content>\r\n\r\n                        <Pressable\r\n                            onPress={() => onEditPress(item)}\r\n                            onHoverIn={() => setIsTemplateEditHovered(true)}\r\n                            onHoverOut={() => setIsTemplateEditHovered(false)} style={{ flex: 1, width: 50, backgroundColor: isTemplateEditHovered ? '#dedede' : 'white', padding: 5, }} focusable={false}>\r\n                            <Text>Edit</Text>\r\n                        </Pressable>\r\n\r\n                        <Pressable\r\n                            onPress={() => handleDeletePress(item.title)}\r\n                            onHoverIn={() => setIsTemplateDeleteHovered(true)}\r\n                            onHoverOut={() => setIsTemplateDeleteHovered(false)} style={{ flex: 1, width: 50, backgroundColor: isTemplateDeleteHovered ? '#dedede' : 'white', padding: 5, }} focusable={false}>\r\n                            <Text>Delete</Text>\r\n                        </Pressable>\r\n\r\n                    </Popover.Content>\r\n                </Popover>\r\n            </View>\r\n            <Text style={{ fontWeight: '400', fontSize: 12, }} numberOfLines={1} ellipsizeMode='tail'>{item.value}</Text>\r\n        </Pressable>\r\n\r\n\r\n    );\r\n}\r\n\r\nconst MessageTemplate = ({ textInputRef }) => {\r\n    const dispatch = useDispatch();\r\n    const [isTemplateHovered, setIsTemplateHovered] = useState(false);\r\n    const [isAddHovered, setIsAddHovered] = useState(false);\r\n    const [popoverOpen, setPopoverOpen] = useState(false);\r\n    const [searchText, setSearchText] = useState('');\r\n    const [filteredData, setFilteredData] = useState([]);\r\n    const [addVisible, setAddVisible] = useState(false);\r\n\r\n    const [isCancelHovered, setIsCancelHovered] = useState(false);\r\n    const [isSaveHovered, setIsSaveHovered] = useState(false);\r\n    const [originalTitle, setOriginalTitle] = useState('');\r\n\r\n\r\n    const [saveLoading, setSaveLoading] = useState(false);\r\n\r\n    const [templateData, setTemplateData] = useState([]);\r\n\r\n    const searchInputRef = useRef(null);\r\n    const titleInputRef = useRef(null);\r\n    const valueInputRef = useRef(null);\r\n\r\n    const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n    const data = [\r\n        { title: 'Message 1', value: 'Sample Message 1' },\r\n        { title: 'Message 2', value: 'Sample Message 2' },\r\n        { title: 'Message 3', value: 'Sample Message 3' },\r\n    ];\r\n\r\n\r\n\r\n    const saveMessageTemplate = async () => {\r\n        setSaveLoading(true);\r\n        const documentRef = doc(projectControlFirestore, 'MessageTemplate', email);\r\n\r\n        try {\r\n            // Fetch current data\r\n            const docSnap = await getDoc(documentRef);\r\n\r\n            let messageTemplates = [];\r\n            const newTitle = titleInputRef.current?.value;\r\n            const newValue = valueInputRef.current?.value;\r\n\r\n            if (newTitle && newValue) {\r\n                if (docSnap.exists()) {\r\n                    // Document exists, get the current templates\r\n                    messageTemplates = docSnap.data().messageTemplate || [];\r\n\r\n                    // Find index based on the original title\r\n                    const index = messageTemplates.findIndex(template => template.title === originalTitle);\r\n\r\n                    if (index !== -1) {\r\n                        // Update existing template\r\n                        messageTemplates[index] = { title: newTitle, value: newValue };\r\n                    } else {\r\n                        // Add new template if original title does not exist\r\n                        messageTemplates.push({ title: newTitle, value: newValue });\r\n                    }\r\n                } else {\r\n                    // Document does not exist, create a new array with the new template\r\n                    console.log('Creating a new document');\r\n                    messageTemplates = [{ title: newTitle, value: newValue }];\r\n                }\r\n\r\n                // Update or set the document\r\n                await setDoc(documentRef, { messageTemplate: messageTemplates }, { merge: true });\r\n\r\n                console.log('Document successfully updated or created');\r\n            } else {\r\n                console.log('Title or value is empty');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error updating or creating document: ', error);\r\n        } finally {\r\n            setSaveLoading(false);\r\n            handleCancelPressed();\r\n        }\r\n    };\r\n\r\n\r\n    const handleSearch = (text) => {\r\n        setSearchText(text);\r\n        const filtered = templateData.filter(item =>\r\n            item.title.toLowerCase().includes(text.toLowerCase()) ||\r\n            item.value.toLowerCase().includes(text.toLowerCase())\r\n        );\r\n        setFilteredData(filtered);\r\n    };\r\n\r\n    const handlePopoverClose = () => {\r\n        setPopoverOpen(false);\r\n        setAddVisible(false);\r\n        setIsAddHovered(false);\r\n    };\r\n\r\n    const handleCancelPressed = () => {\r\n        setIsAddHovered(false);\r\n        setAddVisible(false);\r\n        setIsCancelHovered(false)\r\n        setIsSaveHovered(false)\r\n        titleInputRef.current.clear();\r\n        valueInputRef.current.clear();\r\n\r\n    };\r\n\r\n    const renderItem = ({ item }) => {\r\n        return <MessageTemplateItem setOriginalTitle={setOriginalTitle} addVisible={addVisible} titleInputRef={titleInputRef} valueInputRef={valueInputRef} setAddVisible={setAddVisible} item={item} textInputRef={textInputRef} setPopoverOpen={setPopoverOpen} />;\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        const docRef = doc(projectControlFirestore, \"MessageTemplate\", email);\r\n\r\n        const unsubscribe = onSnapshot(docRef, (docSnap) => {\r\n            if (docSnap.exists()) {\r\n                let arrayFieldData = docSnap.data().messageTemplate;\r\n\r\n                // Sort the array by title\r\n                arrayFieldData.sort((a, b) => {\r\n                    let titleA = a.title.toUpperCase(); // ignore upper and lowercase\r\n                    let titleB = b.title.toUpperCase(); // ignore upper and lowercase\r\n                    if (titleA < titleB) {\r\n                        return -1;\r\n                    }\r\n                    if (titleA > titleB) {\r\n                        return 1;\r\n                    }\r\n                    // titles must be equal\r\n                    return 0;\r\n                });\r\n\r\n                setTemplateData(arrayFieldData);\r\n            } else {\r\n                console.log(\"No such document!\");\r\n            }\r\n        }, (error) => {\r\n            console.error(\"Error fetching document:\", error);\r\n        });\r\n\r\n        // Cleanup subscription on unmount\r\n        return () => unsubscribe();\r\n    }, [popoverOpen]);\r\n\r\n    const handleDeleteMessageTemplateClose = () => {\r\n\r\n        dispatch(setDeleteMessageTemplateVisible(false));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <DeleteMessageTemplateYesNo handleDeleteMessageTemplateClose={handleDeleteMessageTemplateClose} />\r\n            <Popover\r\n                isOpen={popoverOpen}\r\n                onClose={handlePopoverClose}\r\n                initialFocusRef={searchInputRef}\r\n                finalFocusRef={textInputRef}\r\n                placement={'top'}\r\n                trigger={(triggerProps) => {\r\n                    return <Pressable\r\n                        focusable={false}\r\n                        {...triggerProps}\r\n                        onPress={() => setPopoverOpen(true)}\r\n                        onHoverIn={() => setIsTemplateHovered(true)}\r\n                        onHoverOut={() => setIsTemplateHovered(false)}\r\n                        style={({ pressed }) => [\r\n                            {\r\n                                bottom: 0,\r\n                                right: 100,\r\n                                position: 'absolute',\r\n                                borderRadius: 20,\r\n                                opacity: pressed ? 0.5 : 1\r\n                            }\r\n                        ]}\r\n\r\n                    >\r\n                        <Ionicons name=\"chatbox-ellipses-outline\" size={24} color={isTemplateHovered ? \"#0A78BE\" : \"#C1C1C1\"} />\r\n                    </Pressable>\r\n                }} >\r\n                <Popover.Content w={400} marginRight={10} >\r\n                    <Popover.Arrow />\r\n                    <View style={{ display: addVisible ? 'flex' : 'none', }}><Popover.Header backgroundColor={'white'}>\r\n                        <View style={{ flexDirection: 'row', flex: 1 }}>\r\n                            <Text style={{ fontWeight: 700, fontSize: 16, flex: 1 }}>Create a message template</Text>\r\n                        </View>\r\n                    </Popover.Header>\r\n                        <Popover.Body backgroundColor={'white'} height={250}>\r\n                            <Text style={{ fontWeight: 700, }}>Title</Text>\r\n                            <TextInput\r\n                                ref={titleInputRef}\r\n                                placeholder='Input Title'\r\n                                placeholderTextColor='#9B9E9F'\r\n                                underlineColorAndroid=\"transparent\"\r\n                                style={{ height: 40, padding: 10, outlineStyle: 'none', borderWidth: 1, borderColor: '#D9D9D9', borderRadius: 5 }} />\r\n                            <br />\r\n                            <Text style={{ fontWeight: 700, }}>Message</Text>\r\n                            <TextInput\r\n                                multiline\r\n                                ref={valueInputRef}\r\n                                placeholder='Input Message'\r\n                                placeholderTextColor='#9B9E9F'\r\n                                underlineColorAndroid=\"transparent\"\r\n                                style={{ height: 100, padding: 10, outlineStyle: 'none', borderWidth: 1, borderColor: '#D9D9D9', borderRadius: 5 }} />\r\n\r\n                        </Popover.Body>\r\n                        <Popover.Footer backgroundColor={'white'}>\r\n                            <View style={{ height: 30, flexDirection: 'row', justifyContent: 'center', }}>\r\n                                <Pressable\r\n                                    onHoverIn={() => setIsCancelHovered(true)}\r\n                                    onHoverOut={() => setIsCancelHovered(false)}\r\n                                    onPress={handleCancelPressed}\r\n                                    style={{ backgroundColor: isCancelHovered ? '#DADADA' : 'white', width: 60, borderRadius: 5, padding: 5, borderWidth: 1, borderColor: '#DADDE1', marginHorizontal: 5, }}>\r\n                                    <Text style={{ textAlign: 'center', fontWeight: 500, }}>Cancel</Text>\r\n                                </Pressable>\r\n\r\n                                <Pressable\r\n                                    onPress={saveMessageTemplate}\r\n                                    onHoverIn={() => setIsSaveHovered(true)}\r\n                                    onHoverOut={() => setIsSaveHovered(false)}\r\n                                    style={{ backgroundColor: isSaveHovered ? '#107a37' : '#16A34A', width: 60, borderRadius: 5, padding: 5, borderWidth: 1, borderColor: '#DADDE1', marginHorizontal: 5, }}>\r\n                                    {saveLoading ?\r\n                                        (<Spinner\r\n                                            animating\r\n                                            size=\"sm\"\r\n                                            color={'white'}\r\n                                        />) :\r\n                                        (\r\n                                            <Text style={{ textAlign: 'center', color: 'white', fontWeight: 500, }}>Save</Text>\r\n                                        )}\r\n                                </Pressable>\r\n                            </View>\r\n                        </Popover.Footer>\r\n                    </View><View style={{ display: !addVisible ? 'flex' : 'none', }}><Popover.Header backgroundColor={'white'}>\r\n                        <View style={{ flexDirection: 'row', flex: 1 }}>\r\n                            <Text style={{ fontWeight: 700, fontSize: 16, flex: 1 }}>Message Template</Text>\r\n                            <Pressable focusable={false} onPress={() => setAddVisible(true)} onHoverIn={() => setIsAddHovered(true)} onHoverOut={() => setIsAddHovered(false)}>\r\n                                <Text style={{ fontWeight: 400, fontSize: 16, color: '#1B81C2', textDecorationLine: isAddHovered ? 'underline' : 'none' }}>+ ADD</Text>\r\n                            </Pressable>\r\n                        </View>\r\n                    </Popover.Header>\r\n                        <Popover.Body backgroundColor={'white'} height={300}>\r\n                            <TextInput\r\n                                ref={searchInputRef}\r\n                                placeholder='Search'\r\n                                placeholderTextColor='#9B9E9F'\r\n                                underlineColorAndroid=\"transparent\"\r\n                                style={{ height: 40, padding: 10, outlineStyle: 'none', borderWidth: 1, borderColor: '#D9D9D9', borderRadius: 5, marginBottom: 5, }}\r\n                                keyboardType='search'\r\n                                onChangeText={handleSearch}\r\n                                value={searchText} />\r\n                            {templateData.length > 0 || filteredData.length > 0 ? (\r\n                                <FlatList\r\n                                    style={{ height: 100, borderBottomLeftRadius: 5 }}\r\n                                    renderItem={renderItem}\r\n                                    keyExtractor={item => item.title.toString()}\r\n                                    data={searchText ? filteredData : templateData} />\r\n                            ) : (\r\n                                <Text style={{ fontWeight: 700, alignSelf: 'center', }}>No message template found</Text>\r\n                            )}\r\n\r\n                        </Popover.Body>\r\n                    </View>\r\n                </Popover.Content>\r\n            </Popover>\r\n        </>\r\n    );\r\n};\r\n\r\n\r\nconst FileDisplay = ({ file, onRemove }) => {\r\n    const iconSize = 24;\r\n    if (!file) return null;  // Define the icon size\r\n\r\n\r\n\r\n\r\n    const getFileIcon = (type) => {\r\n        if (type.includes('pdf')) {\r\n            return <MaterialIcons name={'picture-as-pdf'} size={iconSize} color=\"#FF0000\" />; // Red for PDF\r\n        }\r\n        if (type.includes('msword') || type.includes('wordprocessingml')) {\r\n            return <MaterialCommunityIcons name={'microsoft-word'} size={iconSize} color=\"#2B579A\" />; // Blue for Word\r\n        }\r\n        if (type.includes('vnd.ms-excel') || type.includes('spreadsheetml') || type === 'text/csv') {\r\n            return <MaterialCommunityIcons name={'microsoft-excel'} size={iconSize} color=\"#217346\" />; // Green for Excel and CSV\r\n        }\r\n        if (type.includes('rar') || type.includes('x-rar-compressed') || type.includes('x-compressed')) {\r\n            return <FastImage\r\n                source={{ uri: require('../../assets/rar_icon.png'), priority: FastImage.priority.high }}\r\n                style={{\r\n                    width: 24,\r\n                    height: 24,\r\n                }}\r\n                resizeMode={FastImage.resizeMode.cover}\r\n            />; // Color of your choice for RAR files\r\n        }\r\n\r\n        return <MaterialIcons name=\"insert-drive-file\" size={iconSize} color=\"black\" />; // Default color for others\r\n    };\r\n\r\n    return (\r\n        <View style={{ flexDirection: 'row', alignItems: 'center', margin: 5 }}>\r\n            {getFileIcon(file.type)}\r\n            <Text style={{ marginLeft: 10 }}>{file.name}</Text>\r\n            <Pressable onPress={onRemove}>\r\n                <MaterialIcons name=\"close\" size={20} color=\"black\" />\r\n            </Pressable>\r\n        </View>\r\n    );\r\n};\r\n\r\nconst ChatInputText = () => {\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const activeChatId = useSelector((state) => state.activeChatId);\r\n\r\n    const [isSendHovered, setIsSendHovered] = useState(false);\r\n    const [selectedFile, setSelectedFile] = useState(null);\r\n    const [selectedFilePreview, setSelectedFilePreview] = useState(null);\r\n    const [selectedImage, setSelectedImage] = useState(null);\r\n    const [imageUri, setImageUri] = useState(null);\r\n    const [fileUri, setFileUri] = useState(null);\r\n    const [fileName, setFileName] = useState('');\r\n    const [isSendImageHovered, setIsSendImageHovered] = useState(false);\r\n    const [isSendAttachmentHovered, setIsSendAttachmentHovered] = useState(false);\r\n    const [sendIsLoading, setSendIsLoading] = useState(false);\r\n    const textInputRef = useRef(null);\r\n\r\n    const removeImage = () => {\r\n        setImageUri(null);\r\n        setSelectedImage(null);\r\n        setFileName(null);\r\n\r\n    };\r\n\r\n    const removeFile = () => {\r\n        setSelectedFile(null);\r\n        setSelectedFilePreview(null);\r\n        setFileUri(null);\r\n        setFileName(null);\r\n\r\n\r\n    };\r\n\r\n    const selectFile = async () => {\r\n        const maxFileSize = 10 * 1024 * 1024; // 5MB in bytes\r\n\r\n        if (Platform.OS === 'web') {\r\n            return new Promise((resolve, reject) => {\r\n                const input = document.createElement('input');\r\n                input.type = 'file';\r\n                input.accept = '.pdf, .doc, .docx, .xls, .xlsx, .rar'; // Acceptable file types\r\n                input.onchange = () => {\r\n                    const file = input.files[0];\r\n\r\n                    if (file) {\r\n                        if (![\r\n                            'application/pdf',\r\n                            'application/msword',\r\n                            'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n                            'application/vnd.ms-excel',\r\n                            'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n                            'application/x-rar-compressed',\r\n                            'application/x-compressed',\r\n                            'text/csv'\r\n                        ].includes(file.type)) {\r\n                            alert('File type not allowed');\r\n                            reject('File type not allowed');\r\n                            return;\r\n                        }\r\n\r\n                        if (file.size > maxFileSize) {\r\n                            alert('File size should be less than 10MB');\r\n                            reject('File size should be less than 10MB');\r\n                            return;\r\n                        }\r\n                        removeImage();\r\n                        // Read the file as a Data URL and set it in the state\r\n                        const reader = new FileReader();\r\n                        reader.onload = (e) => {\r\n                            setFileUri(e.target.result);\r\n                            resolve(file);\r\n                            setSelectedFile(file);\r\n                            setSelectedFilePreview({ name: file.name, type: file.type });\r\n                            setFileName(file.name);\r\n                            textInputRef.current.focus();\r\n                        };\r\n                        reader.onerror = (e) => {\r\n                            reject(e);\r\n                        };\r\n                        reader.readAsDataURL(file);\r\n                    }\r\n                };\r\n                input.click();\r\n            });\r\n        } else {\r\n            return new Promise((resolve, reject) => {\r\n                launchImageLibrary({ mediaType: 'photo' }, (response) => {\r\n                    if (response.didCancel) {\r\n                        reject('User cancelled image picker');\r\n                    } else if (response.errorCode) {\r\n                        reject(response.errorMessage);\r\n                    } else {\r\n                        const asset = response.assets[0];\r\n\r\n                        if (!asset.type.startsWith('image/')) {\r\n                            reject('Only image files are allowed');\r\n                            alert('Only image files are allowed');\r\n\r\n                            return;\r\n                        }\r\n\r\n                        if (asset.fileSize > maxFileSize) {\r\n                            reject('File size should be less than 10MB');\r\n                            alert('File size should be less than 10MB');\r\n                            return;\r\n                        }\r\n\r\n                        const selectedImageUri = asset.uri;\r\n                        const fileName = asset.fileName || 'Unknown name';\r\n                        resolve({ uri: selectedImageUri, name: fileName });\r\n                        setImageUri(selectedImageUri); // Set imageUri here\r\n                        console.log(`File name: ${fileName}`);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    };\r\n\r\n    const selectImage = async () => {\r\n        const maxFileSize = 10 * 1024 * 1024; // 5MB in bytes\r\n\r\n        if (Platform.OS === 'web') {\r\n\r\n            return new Promise((resolve, reject) => {\r\n                const input = document.createElement('input');\r\n                input.type = 'file';\r\n                input.accept = 'image/*';\r\n                input.onchange = () => {\r\n                    const file = input.files[0];\r\n                    if (file) {\r\n\r\n                        if (!file.type.startsWith('image/')) {\r\n                            reject('Only image files are allowed');\r\n                            alert('Only image files are allowed');\r\n\r\n                            return;\r\n                        }\r\n\r\n                        if (file.size > maxFileSize) {\r\n                            reject('File size should be less than 10MB');\r\n                            alert('File size should be less than 10MB');\r\n\r\n                            return;\r\n                        }\r\n\r\n                        removeFile();\r\n                        const reader = new FileReader();\r\n                        reader.readAsDataURL(file);\r\n                        reader.onload = () => {\r\n                            resolve({ dataUrl: reader.result, name: file.name });\r\n                            setImageUri(reader.result); // Set imageUri here\r\n                            setFileName(file.name);\r\n                            console.log(`File name: ${file.name}`);\r\n                        };\r\n                        setSelectedImage(file);\r\n                        reader.onerror = error => reject(error);\r\n                    }\r\n                };\r\n                input.click();\r\n            });\r\n        } else {\r\n            return new Promise((resolve, reject) => {\r\n                launchImageLibrary({ mediaType: 'photo' }, (response) => {\r\n                    if (response.didCancel) {\r\n                        reject('User cancelled image picker');\r\n                    } else if (response.errorCode) {\r\n                        reject(response.errorMessage);\r\n                    } else {\r\n                        const asset = response.assets[0];\r\n\r\n                        if (!asset.type.startsWith('image/')) {\r\n                            reject('Only image files are allowed');\r\n                            alert('Only image files are allowed');\r\n                            return;\r\n                        }\r\n\r\n                        if (asset.fileSize > maxFileSize) {\r\n                            reject('File size should be less than 10MB');\r\n                            alert('Only image files are allowed');\r\n                            return;\r\n                        }\r\n\r\n                        const selectedImageUri = asset.uri;\r\n                        const fileName = asset.fileName || 'Unknown name';\r\n                        resolve({ uri: selectedImageUri, name: fileName });\r\n                        setImageUri(selectedImageUri); // Set imageUri here\r\n                        console.log(`File name: ${fileName}`);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    };\r\n\r\n    const resizeImage = (file) => {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = (event) => {\r\n                const img = new Image();\r\n                img.src = event.target.result;\r\n                img.onload = () => {\r\n                    const canvas = document.createElement('canvas');\r\n                    const ctx = canvas.getContext('2d');\r\n\r\n                    // Set your desired image size here\r\n                    const maxWidth = 800; // Example value\r\n                    const maxHeight = 800; // Example value\r\n                    let width = img.width;\r\n                    let height = img.height;\r\n\r\n                    if (width > height) {\r\n                        if (width > maxWidth) {\r\n                            height *= maxWidth / width;\r\n                            width = maxWidth;\r\n                        }\r\n                    } else {\r\n                        if (height > maxHeight) {\r\n                            width *= maxHeight / height;\r\n                            height = maxHeight;\r\n                        }\r\n                    }\r\n\r\n                    canvas.width = width;\r\n                    canvas.height = height;\r\n                    ctx.drawImage(img, 0, 0, width, height);\r\n                    canvas.toBlob((blob) => {\r\n                        resolve(new File([blob], file.name, {\r\n                            type: 'image/jpeg',\r\n                            lastModified: Date.now()\r\n                        }));\r\n                    }, 'image/jpeg', 0.7); // Adjust the quality (0.7 is a good balance between quality and file size)\r\n                };\r\n                img.onerror = error => reject(error);\r\n            };\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    };\r\n\r\n    const addFileMessage = async () => {\r\n        setSendIsLoading(true);\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const formattedTimeForFile = moment(datetime).format('MMDDYYYYHHmmss.SSS');\r\n\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n        const inputValue = textInputRef.current?.value;\r\n\r\n        textInputRef.current.clear();\r\n        textInputRef.current.focus();\r\n        removeFile();\r\n\r\n        const storage = getStorage(projectExtensionFirebase);\r\n\r\n        if (fileUri) { // Assuming you have a fileUri state for the selected file\r\n\r\n            try {\r\n\r\n                let fileUrl = null;\r\n                if (fileUri) {\r\n                    // Upload file and get URL\r\n                    const fileRef = ref(storage, `ChatFiles/${selectedChatData.id}/C-HUB_${formattedTimeForFile}/${fileName}`);\r\n                    const uploadResult = await uploadBytes(fileRef, selectedFile);\r\n                    fileUrl = await getDownloadURL(uploadResult.ref);\r\n                }\r\n\r\n                // Adding the message to the 'messages' subcollection\r\n                await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                    text: inputValue.trim(),\r\n                    sender: email,\r\n                    timestamp: formattedTime,\r\n                    ip: ip,\r\n                    ipCountry: ipCountry,\r\n                    file: {\r\n                        name: fileName,\r\n                        type: 'attachment', // Set the file type\r\n                        url: fileUrl,\r\n                    } // Include file URL if available\r\n                });\r\n\r\n                // Updating the main chat document with the latest message details\r\n                await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                    lastMessageSender: email,\r\n                    lastMessage: `Sent an attachment`,\r\n                    lastMessageDate: formattedTime,\r\n                    customerRead: false,\r\n                    read: true,\r\n                    readBy: [email],\r\n                });\r\n\r\n                setSendIsLoading(false);\r\n\r\n            } catch (e) {\r\n                console.error('Error adding document: ', e);\r\n            }\r\n        }\r\n        else {\r\n            setSendIsLoading(false);\r\n        }\r\n    };\r\n\r\n\r\n    const addImageMessage = async () => {\r\n        setSendIsLoading(true);\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const formattedTimeForFile = moment(datetime).format('MMDDYYYYHHmmss.SSS');\r\n\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n        const inputValue = textInputRef.current?.value;\r\n\r\n\r\n\r\n        const storage = getStorage(projectExtensionFirebase);\r\n\r\n        if (imageUri) { // Assuming imageFile holds the file to be uploaded\r\n\r\n            textInputRef.current.clear();\r\n            textInputRef.current.focus();\r\n            removeImage();\r\n\r\n            try {\r\n                let imageUrl = null;\r\n                if (imageUri) {\r\n                    // Upload image and get URL\r\n                    const resizedImage = await resizeImage(selectedImage);\r\n                    const imageRef = ref(storage, `ChatFiles/${selectedChatData.id}/C-HUB_${formattedTimeForFile}/${fileName}`);\r\n                    const uploadResult = await uploadBytes(imageRef, resizedImage);\r\n                    imageUrl = await getDownloadURL(uploadResult.ref);\r\n                }\r\n\r\n                // Adding the message to the 'messages' subcollection\r\n                await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                    text: inputValue.trim(),\r\n                    sender: email,\r\n                    timestamp: formattedTime,\r\n                    ip: ip,\r\n                    ipCountry: ipCountry,\r\n                    file: {\r\n                        name: fileName,\r\n                        type: 'image',\r\n                        url: imageUrl,\r\n                    } // Include image URL if available\r\n                });\r\n\r\n                // Updating the main chat document with the latest message details\r\n                await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                    lastMessageSender: email,\r\n                    lastMessage: 'Sent an image',\r\n                    lastMessageDate: formattedTime,\r\n                    customerRead: false,\r\n                    read: true,\r\n                    readBy: [email],\r\n                });\r\n\r\n                setSendIsLoading(false);\r\n\r\n            } catch (e) {\r\n                console.error('Error adding document: ', e);\r\n            }\r\n        }\r\n        else {\r\n            setSendIsLoading(false);\r\n        }\r\n    };\r\n\r\n\r\n    const addMessage = async () => {\r\n        setSendIsLoading(true);\r\n\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        const inputValue = textInputRef.current?.value;\r\n\r\n        textInputRef.current.clear();\r\n        textInputRef.current.focus();\r\n\r\n        if (inputValue !== '') {\r\n            const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n            try {\r\n\r\n                // Adding the message to the 'messages' subcollection\r\n                await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                    text: inputValue.trim(),\r\n                    sender: email,\r\n                    timestamp: formattedTime, // Using the fetched timestamp\r\n                    ip: ip, // IP Address\r\n                    ipCountry: ipCountry // Country of the IP Address\r\n                });\r\n\r\n\r\n                // Updating the main chat document with the latest message details\r\n                await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                    lastMessageSender: email,\r\n                    lastMessage: inputValue,\r\n                    lastMessageDate: formattedTime,\r\n                    customerRead: false,\r\n                    read: true,\r\n                    readBy: [email],\r\n                });\r\n                setSendIsLoading(false);\r\n\r\n            } catch (e) {\r\n                console.error('Error adding document: ', e);\r\n            }\r\n        }\r\n        else {\r\n            setSendIsLoading(false);\r\n        }\r\n\r\n    };\r\n\r\n    const screenWidth = Dimensions.get('window').width;\r\n\r\n    const handleKeyPress = (e) => {\r\n        // Define a breakpoint for mobile resolution, e.g., 768 pixels\r\n        const mobileBreakpoint = 768;\r\n\r\n        // Check if the screen width is less than or equal to the mobile breakpoint\r\n        if (screenWidth >= mobileBreakpoint) {\r\n            // Check if 'Enter' key is pressed\r\n            if (e.nativeEvent.key === 'Enter' && !e.nativeEvent.shiftKey) {\r\n                e.preventDefault(); // Prevent the default behavior of adding a new line\r\n                handleSendMessage();\r\n\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    const handleSendMessage = () => {\r\n\r\n        if (imageUri !== null) {\r\n            addImageMessage();\r\n        }\r\n        if (fileUri !== null) {\r\n            addFileMessage();\r\n        }\r\n        else {\r\n            addMessage();\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n\r\n        <View style={{ width: '98%', flexDirection: 'row', borderWidth: 1, borderColor: '#D9D9D9', borderRadius: 10, }}>\r\n\r\n            <View style={{ flexDirection: 'column', flex: 1, }}>\r\n\r\n                {fileUri &&\r\n                    (\r\n                        <FileDisplay file={selectedFilePreview} onRemove={removeFile} />\r\n                    )}\r\n\r\n                {imageUri && (\r\n                    <View style={{\r\n                        position: 'relative', // Make sure the parent View is positioned relative\r\n                        width: 70,\r\n                        height: 70,\r\n                        borderRadius: 5,\r\n                        overflow: 'hidden', // This ensures that nothing spills out of the container\r\n                        borderWidth: 1,\r\n                        borderColor: '#DADDE1',\r\n                        margin: 2,\r\n                    }}>\r\n                        <FastImage\r\n                            source={{ uri: imageUri }}\r\n                            style={{ width: '100%', height: '100%', borderRadius: 10 }}\r\n                            resizeMode={FastImage.resizeMode.cover}\r\n                        />\r\n                        <Pressable\r\n                            onPress={removeImage}\r\n                            style={{\r\n                                position: 'absolute',\r\n                                top: 0,\r\n                                right: 0,\r\n                                backgroundColor: 'rgba(255, 255, 255, 0.6)', // Semi-transparent background for better visibility\r\n                                borderRadius: 12 // Circular shape\r\n                            }}\r\n                        >\r\n                            <MaterialIcons name=\"close\" size={20} color=\"black\" />\r\n                        </Pressable>\r\n                    </View>\r\n\r\n                )}\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <View style={{ marginHorizontal: 5, marginTop: 5, }}>\r\n                        <FastImage\r\n                            source={{ uri: 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FRMJ%20Round.jpg?alt=media&token=90d7f2fe-d9cd-4a6f-9a6b-bc39fe2b33b2', priority: FastImage.priority.high }}\r\n                            style={{\r\n                                width: 30,\r\n                                height: 30,\r\n                                borderRadius: 15,\r\n                            }}\r\n                            resizeMode={FastImage.resizeMode.cover}\r\n                        />\r\n                    </View>\r\n                    <TextInput\r\n                        ref={textInputRef}\r\n                        multiline\r\n                        placeholder='Send a message...'\r\n                        placeholderTextColor={'#9B9E9F'}\r\n                        onKeyPress={handleKeyPress}\r\n                        style={{ outlineStyle: 'none', width: '100%', height: 80, alignSelf: 'center', padding: 10 }}\r\n                    />\r\n                    <Pressable\r\n                        focusable={false}\r\n                        onPress={() => sendIsLoading ? null : handleSendMessage()}\r\n                        onHoverIn={() => setIsSendHovered(true)}\r\n                        onHoverOut={() => setIsSendHovered(false)}\r\n                        style={({ pressed }) => [\r\n                            {\r\n                                padding: 10,\r\n                                top: 20,\r\n                                right: 10,\r\n                                position: 'absolute',\r\n                                borderRadius: 20,\r\n                                backgroundColor: isSendHovered ? '#e8f4ff' : 'transparent', // Change color on hover\r\n                                opacity: pressed ? 0.5 : 1 // Change opacity when pressed\r\n                            }\r\n                        ]}\r\n                    >\r\n                        {sendIsLoading ? <Spinner\r\n                            animating\r\n                            size=\"sm\"\r\n                            color={\"#95BCF9\"}\r\n                        /> :\r\n                            <MaterialIcons name=\"send\" size={24} color=\"#95BCF9\" />\r\n                        }\r\n                    </Pressable>\r\n                </View>\r\n            </View>\r\n\r\n            <Pressable\r\n                onHoverIn={() => setIsSendImageHovered(true)}\r\n                onHoverOut={() => setIsSendImageHovered(false)}\r\n                style={({ pressed }) => [\r\n                    {\r\n                        padding: 10,\r\n                        bottom: -10,\r\n                        right: 125,\r\n                        position: 'absolute',\r\n                        borderRadius: 20,\r\n                        opacity: pressed ? 0.5 : 1 // Change opacity when pressed\r\n                    }\r\n                ]}\r\n                onPress={selectImage}\r\n            >\r\n                <Ionicons name=\"image-outline\" size={24} color={isSendImageHovered ? \"#0A78BE\" : \"#C1C1C1\"} />\r\n            </Pressable>\r\n\r\n            <Pressable\r\n                onHoverIn={() => setIsSendAttachmentHovered(true)}\r\n                onHoverOut={() => setIsSendAttachmentHovered(false)}\r\n                style={({ pressed }) => [\r\n                    {\r\n                        padding: 10,\r\n                        bottom: -9,\r\n                        right: 155,\r\n                        position: 'absolute',\r\n                        borderRadius: 20,\r\n                        opacity: pressed ? 0.5 : 1 // Change opacity when pressed\r\n                    }\r\n                ]}\r\n                onPress={selectFile}\r\n            >\r\n                <MaterialIcons name=\"attach-file\" size={24} color={isSendAttachmentHovered ? \"#0A78BE\" : \"#C1C1C1\"} />\r\n            </Pressable>\r\n\r\n            <MessageTemplate textInputRef={textInputRef} />\r\n\r\n        </View>\r\n\r\n    );\r\n}\r\n\r\nconst ChatListItem = ({ item, onPress, isActive, messageUnread, formattedDate, chatListData }) => {\r\n    const [imageUrl, setImageUrl] = useState(null);\r\n    const [chatListStepImageUrl, setChatListStepImageUrl] = useState(null);\r\n    const [textFirst, setTextFirst] = useState('');\r\n    const [textLast, setTextLast] = useState('');\r\n    const dispatch = useDispatch();\r\n    const [isUnreadHovered, setIsUnreadHovered] = useState(false);\r\n    const [isUnreadVisible, setIsUnreadVisible] = useState(false);\r\n    const [isHovered, setIsHovered] = useState(false);\r\n    const [customerData, setCustomerData] = useState({});\r\n\r\n    const carName = item.carData && item.carData.carName ? item.carData.carName : (item.vehicle && item.vehicle.carName ? item.vehicle.carName : '');\r\n    const updateChatToUnread = async () => {\r\n        dispatch(setActiveChatId(''));\r\n        dispatch(setChatMessagesData([]));\r\n        dispatch(setSelectedChatData([]));\r\n        const docRef = doc(projectExtensionFirestore, \"chats\", item.id);\r\n        try {\r\n            await updateDoc(docRef, {\r\n                read: false,\r\n            });\r\n\r\n        } catch (error) {\r\n            console.error(\"Error updating document: \", error);\r\n        }\r\n    };\r\n\r\n    const hoverIn = () => {\r\n        setIsHovered(true)\r\n    };\r\n\r\n    const hoverOut = () => {\r\n        setIsHovered(false);\r\n    };\r\n\r\n    const hoverUnreadIn = () => {\r\n        setIsHovered(true)\r\n        setIsUnreadHovered(true)\r\n    };\r\n\r\n    const hoverUnreadOut = () => {\r\n        setIsUnreadHovered(false)\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        // getChatListStepImageUrl();\r\n        const folderName = item.carData && item.carData.stockID ? item.carData.stockID : (item.vehicle && item.vehicle.carId ? item.vehicle.carId : '');\r\n        const storage = getStorage(projectExtensionFirebase);\r\n        const imageRef = ref(storage, `${folderName}/0`); // Ensure this path is correct\r\n\r\n        getDownloadURL(imageRef)\r\n            .then((url) => {\r\n                setImageUrl(url);\r\n            })\r\n            .catch((error) => {\r\n                if (error.code === 'storage/object-not-found') {\r\n                    // Handle the 'object not found' error.\r\n                    setImageUrl('https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FNo%20Car%20Image%20Found.png?alt=media&token=de86488c-73a6-4c04-811c-bc508a11123a');\r\n                } else {\r\n                    // Handle other errors differently\r\n\r\n                    setImageUrl('https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FNo%20Car%20Image%20Found.png?alt=media&token=de86488c-73a6-4c04-811c-bc508a11123a');\r\n\r\n                }\r\n            });\r\n\r\n        const collectionPath = 'accounts';\r\n        const docId = item.participants.customer; // Ensure this is a valid document ID\r\n\r\n        const docRef = doc(projectExtensionFirestore, collectionPath, docId);\r\n\r\n        const unsubscribe = onSnapshot(docRef, (doc) => {\r\n            if (doc.exists()) {\r\n                const data = doc.data();\r\n                setCustomerData(data ? data : {});\r\n                setTextFirst(data.textFirst ? data.textFirst : '');\r\n                setTextLast(data.textLast ? data.textLast : '');\r\n\r\n            } else {\r\n                console.log(\"Document not found\");\r\n            }\r\n        }, (error) => {\r\n            console.error(\"Error fetching document: \", error);\r\n        });\r\n\r\n        // Clean up function to unsubscribe from the listener when the component unmounts\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const loadingCondition = !imageUrl || imageUrl == null || imageUrl == '' || imageUrl == undefined || !item;\r\n\r\n    const chatStepIconOn = require(`../../assets/chat_step/chat_step_${item.stepIndicator.value}_on.png`);\r\n    const chatStepIconOff = require(`../../assets/chat_step/chat_step_${item.stepIndicator.value}_off.png`);\r\n\r\n\r\n    const handlePress = () => {\r\n        onPress()\r\n\r\n        // dispatch(setSelectedCustomerData(customerData));\r\n        globalCustomerFirstName = textFirst ? textFirst : '';\r\n        globalCustomerLastName = textLast ? textLast : '';\r\n        globalImageUrl = imageUrl ? imageUrl : '';\r\n        dispatch(setCarImageUrl(imageUrl ? imageUrl : ''));\r\n\r\n        globalCustomerCarName = carName;\r\n        setIsHovered(false);\r\n        setIsUnreadHovered(false)\r\n\r\n\r\n    }\r\n\r\n    if (loadingCondition) {\r\n        return <SkeletonChatListLayout />\r\n    }\r\n    else {\r\n        return (\r\n            <Pressable\r\n                onHoverIn={hoverIn}\r\n                onHoverOut={hoverOut}\r\n                focusable={false}\r\n                style={{\r\n                    padding: 12,\r\n                    alignItems: 'flex-start', // Align items to the start of the button\r\n                    flexDirection: 'row',\r\n                    backgroundColor: isActive ? '#f2f2f2' : (isHovered ? '#f2f2f2' : 'white'),\r\n                    borderLeftColor: isActive ? '#0A9FDC' : 'transparent',\r\n                    borderRightColor: isActive ? '#0A9FDC' : 'transparent',\r\n                    borderLeftWidth: 2,\r\n                    borderRightWidth: 2,\r\n\r\n                }}\r\n                onPress={handlePress}\r\n            >\r\n                <View style={{ width: '20%', justifyContent: 'center', }}>\r\n                    {imageUrl ? (\r\n                        <FastImage\r\n                            source={{ uri: imageUrl, priority: FastImage.priority.normal }}\r\n                            style={{\r\n                                width: 60,\r\n                                height: 60,\r\n                                borderRadius: 30,\r\n                            }}\r\n                            resizeMode={FastImage.resizeMode.stretch}\r\n                        />\r\n                    ) : (\r\n                        <View\r\n                            style={{\r\n                                width: 60,\r\n                                height: 60,\r\n                                borderRadius: 30,\r\n                                backgroundColor: '#e0e0e0',\r\n                                marginRight: 12,\r\n                            }}\r\n                        />\r\n                    )}\r\n                </View>\r\n                <View style={{ flex: 1 }}>\r\n                    {!isHovered ? (<Text style={{ fontSize: 12, position: 'absolute', right: 10, color: messageUnread ? '#0A78BE' : '#90949C', fontWeight: messageUnread ? 700 : 400, }}>{formattedDate}</Text>) : (!item.read ? (<Text style={{ fontSize: 12, position: 'absolute', right: 10, color: messageUnread ? '#0A78BE' : '#90949C', fontWeight: messageUnread ? 700 : 400, }}>{formattedDate}</Text>) : null)}\r\n                    <Text numberOfLines={1} ellipsizeMode='tail' style={{ fontSize: 14, width: '70%', overflow: 'hidden', fontWeight: messageUnread ? 700 : 400, color: messageUnread ? '#1C2B33' : '#586369', }}>{carName}</Text>\r\n                    <Text numberOfLines={1} ellipsizeMode='tail' style={{ fontSize: 14, width: '80%', overflow: 'hidden', flex: 1, fontWeight: messageUnread ? 700 : 400, color: messageUnread ? '#1C2B33' : '#586369', }}>{`${textFirst} ${textLast}`}</Text>\r\n                    <Text numberOfLines={1} ellipsizeMode='tail' style={{ fontSize: 12, width: '80%', overflow: 'hidden', flex: 1, fontWeight: messageUnread ? 700 : 400, color: messageUnread ? '#0A78BE' : '#90949c', }}>{item.lastMessageSender == item.participants.customer ? (item.lastMessage ? item.lastMessage : 'No message found') : (item.lastMessage ? `Sales: ${item.lastMessage}` : `Sales: No message found`)}</Text>\r\n                    {!item.read ? (\r\n                        <FastImage\r\n                            source={{ uri: chatStepIconOn, priority: FastImage.priority.normal }}\r\n                            style={{\r\n                                tintColor: 'rgba(128, 128, 128, 1)',\r\n                                width: 22,\r\n                                height: 20,\r\n                                position: 'absolute',\r\n                                right: 10,\r\n                                bottom: 0,\r\n                            }}\r\n                            resizeMode={FastImage.resizeMode.stretch}\r\n                        />\r\n                    ) : (\r\n                        <FastImage\r\n                            source={{ uri: chatStepIconOff, priority: FastImage.priority.normal }}\r\n                            style={{\r\n                                tintColor: 'rgba(128, 128, 128, 1)',\r\n                                width: 22,\r\n                                height: 20,\r\n                                position: 'absolute',\r\n                                right: 10,\r\n                                bottom: 0,\r\n                            }}\r\n                            resizeMode={FastImage.resizeMode.stretch}\r\n                        />\r\n                    )}\r\n\r\n                    <Text numberOfLines={1} ellipsizeMode='tail' style={{\r\n                        position: 'absolute',\r\n                        right: 0,\r\n                        top: 10,\r\n                        padding: 10,\r\n                        alignSelf: 'center',\r\n                        fontSize: 12,\r\n                        overflow: 'hidden',\r\n                        flex: 1,\r\n                        fontWeight: messageUnread ? 700 : 400,\r\n                        color: messageUnread ? '#FF0000' : '#90949c',\r\n                    }}>\r\n                        {item.invoiceNumber && item.stepIndicator.value > 2 ? item.invoiceNumber : ''}\r\n                    </Text>\r\n\r\n                    {isHovered && item.read && (\r\n                        <Tooltip label=\"Mark as unread\" placement='right' openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                            <Pressable\r\n                                focusable={false}\r\n                                onHoverIn={hoverUnreadIn}\r\n                                onHoverOut={hoverUnreadOut}\r\n                                onPress={updateChatToUnread}\r\n                                style={{\r\n                                    position: 'absolute',\r\n                                    right: 0,\r\n                                    top: -10,\r\n                                    padding: 10,\r\n                                    alignSelf: 'center',\r\n                                }}\r\n\r\n                            >\r\n                                <MaterialIcons name=\"mark-as-unread\" size={22} color={isUnreadHovered ? \"#1B81C2\" : \"#BABABA\"} />\r\n                            </Pressable>\r\n                        </Tooltip>\r\n                    )}\r\n                </View>\r\n\r\n\r\n\r\n            </Pressable>\r\n        );\r\n    }\r\n\r\n\r\n};\r\n\r\nconst ChatList = ({ unreadButtonValue, activeButtonValue, }) => {\r\n\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const selectedCustomerData = useSelector((state) => state.selectedCustomerData);\r\n    const chatListData = useSelector((state) => state.chatListData);\r\n    const chatListLastVisible = useSelector((state) => state.chatListLastVisible);\r\n    const activeChatId = useSelector((state) => state.activeChatId);\r\n    const loadMoreLoading = useSelector((state) => state.loadMoreLoading);\r\n    const noMoreData = useSelector((state) => state.noMoreData);\r\n    const renderFooterRef = useRef(null);\r\n    const dispatch = useDispatch();\r\n\r\n    const [imageUrl, setImageUrl] = useState('');\r\n\r\n    const { chatId } = useParams();\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const updateChatToRead = async () => {\r\n        const docRef = doc(projectExtensionFirestore, \"chats\", activeChatId);\r\n        const user = projectControlAuth.currentUser\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n        if (email !== '') {\r\n\r\n            try {\r\n                await updateDoc(docRef, {\r\n                    read: true,\r\n                    readBy: arrayUnion(email),\r\n                });\r\n            } catch (error) {\r\n                console.error(\"Error updating document: \", error);\r\n                navigate(`/devadmin/chat-messages`);\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n\r\n\r\n    const fetchChatMessages = () => {\r\n        if (!activeChatId) {\r\n            // Handle the case where there's no active chat ID\r\n        }\r\n        else {\r\n            dispatch(setChatMessagesData([]));\r\n            dispatch(setChatMessageBoxLoading(true));\r\n            updateChatToRead();\r\n\r\n            try {\r\n                // References to the document and its 'messages' subcollection\r\n                let activeInvoiceNumer;\r\n                const docRef = doc(projectExtensionFirestore, 'chats', activeChatId);\r\n\r\n                const messagesRef = collection(docRef, 'messages');\r\n\r\n                // Query for the 'messages' subcollection\r\n                const messagesQuery = query(messagesRef, orderBy('timestamp', 'desc'), limit(10));\r\n\r\n                // Listen to the document\r\n                const unsubscribeDoc = onSnapshot(docRef, (docSnapshot) => {\r\n                    if (docSnapshot.exists()) {\r\n                        const data = docSnapshot.data();\r\n                        // Add the document ID to the data\r\n                        const dataWithId = {\r\n                            ...data,\r\n                            id: docSnapshot.id\r\n                        };\r\n                        // Dispatch any action you need with the document data\r\n                        dispatch(setSelectedChatData(dataWithId));\r\n\r\n                        // Define and listen to the invoice document only after the chat document is confirmed to exist\r\n                        if (dataWithId.invoiceNumber || dataWithId.invoiceNumber == '') {\r\n                            const invoiceDocRef = doc(projectExtensionFirestore, 'IssuedInvoice', dataWithId.invoiceNumber);\r\n                            const unsubscribeInvoice = onSnapshot(invoiceDocRef, (invoiceDocSnapshot) => {\r\n                                if (invoiceDocSnapshot.exists()) {\r\n                                    const invoiceData = invoiceDocSnapshot.data();\r\n                                    // Add the document ID to the data\r\n                                    const invoiceDataWithId = {\r\n                                        ...invoiceData,\r\n                                        id: invoiceDocSnapshot.id\r\n                                    };\r\n                                    // Dispatch any action you need with the invoice document data\r\n                                    dispatch(setInvoiceData(invoiceDataWithId ? invoiceDataWithId : {}));\r\n\r\n                                } else {\r\n                                    // Handle the case where the invoice document does not exist\r\n                                    console.log('No Invoice Yet');\r\n                                    dispatch(setInvoiceData({}));\r\n                                }\r\n                            });\r\n\r\n                            // Cleanup function for the invoice listener\r\n                            return () => {\r\n                                unsubscribeInvoice();\r\n\r\n                            };\r\n                        } else {\r\n                            dispatch(setInvoiceData({}));\r\n                            console.log('No Invoice Yet');\r\n                        }\r\n\r\n                    }\r\n\r\n                });\r\n                const unsubscribeMessages = onSnapshot(messagesQuery, (querySnapshot) => {\r\n                    let messages = [];\r\n                    querySnapshot.forEach((doc) => {\r\n                        const data = doc.data();\r\n                        const timestamp = data.timestamp ? data.timestamp.toString() : null;\r\n                        messages.push({ id: doc.id, ...data, timestamp });\r\n                    });\r\n\r\n                    dispatch(setChatMessagesData(messages));\r\n                    dispatch(setChatMessageBoxLoading(false));\r\n                    globalMessagesLastVisible = querySnapshot.docs[querySnapshot.docs.length - 1];\r\n                });\r\n\r\n                // Return a cleanup function\r\n                return () => {\r\n                    unsubscribeDoc();\r\n                    unsubscribeMessages();\r\n                    // if (activeInvoiceNumer && activeInvoiceNumer !== '') {\r\n                    //     unsubscribeInvoice();\r\n                    // }\r\n                };\r\n            } catch (error) {\r\n                console.error(\"Error setting up real-time messages: \", error);\r\n\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleLoadMore = () => {\r\n        dispatch(setLoadMoreLoading(true));\r\n\r\n        let nextQuery;\r\n        if (!globalLastVisible) {\r\n            // No more data to load or globalLastVisible is undefined\r\n            console.log(\"No more data to load or globalLastVisible is undefined\");\r\n            setTimeout(() => {\r\n                dispatch(setLoadMoreLoading(false));\r\n                dispatch(setNoMoreData(true));\r\n            }, 0);\r\n            return;\r\n        }\r\n        else {\r\n\r\n            if (chatListData.length >= 10) {\r\n                if (unreadButtonValue == true) {\r\n\r\n                    if (activeButtonValue == 0) {\r\n                        if (globalSearchText === '') {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('read', '==', false),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n                        }\r\n\r\n                        else {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('read', '==', false),\r\n                                where('keywords', 'array-contains', globalSearchText.toUpperCase()),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n                        }\r\n                    }\r\n\r\n                    else {\r\n                        if (globalSearchText === '') {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('read', '==', false),\r\n                                where('stepIndicator.value', '==', activeButtonValue),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n\r\n\r\n                        }\r\n\r\n                        else {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('stepIndicator.value', '==', activeButtonValue),\r\n                                where('read', '==', false),\r\n                                where('keywords', 'array-contains', globalSearchText.toUpperCase()),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n                else {\r\n\r\n                    if (activeButtonValue == 0) {\r\n                        if (globalSearchText === '') {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n\r\n\r\n\r\n\r\n                        }\r\n\r\n                        else {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('keywords', 'array-contains', globalSearchText.toUpperCase()),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n                        }\r\n                    }\r\n\r\n                    else {\r\n                        if (globalSearchText === '') {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('stepIndicator.value', '==', activeButtonValue),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n\r\n\r\n\r\n                        }\r\n\r\n                        else {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('stepIndicator.value', '==', activeButtonValue),\r\n                                where('keywords', 'array-contains', globalSearchText.toUpperCase()),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            else {\r\n                dispatch(setNoMoreData(true));\r\n                dispatch(setLoadMoreLoading(false));\r\n            }\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n        if (chatListData.length < 10) {\r\n            setTimeout(() => {\r\n                dispatch(setLoadMoreLoading(false));\r\n                dispatch(setNoMoreData(true));\r\n            }, 0);\r\n        }\r\n\r\n        else {\r\n            try {\r\n                const unsubscribe = onSnapshot(nextQuery, (snapshot) => {\r\n                    if (snapshot.empty) {\r\n                        // Handle the case when there's no more data\r\n                        console.log(\"No more data to load\");\r\n                        setTimeout(() => {\r\n                            dispatch(setLoadMoreLoading(false));\r\n                            dispatch(setNoMoreData(true));\r\n                            globalLastVisible = null;\r\n                        }, 0);  // Delay setting loading and no more data flags\r\n                        return;\r\n                    }\r\n\r\n                    const chatsData = [];\r\n                    snapshot.forEach((doc) => {\r\n                        chatsData.push({\r\n                            id: doc.id,\r\n                            ...doc.data(),\r\n                        });\r\n                    });\r\n\r\n\r\n                    // Append new data to the existing list\r\n\r\n                    setTimeout(() => {\r\n                        dispatch(setChatListData([...chatListData, ...chatsData]));\r\n                        dispatch(setLoadMoreLoading(false));\r\n                        globalLastVisible = snapshot.docs[snapshot.docs.length - 1];\r\n                    }, 0);\r\n\r\n                });\r\n\r\n                return unsubscribe;\r\n            } catch (error) {\r\n                console.error('Error fetching data from Firebase:', error);\r\n                setTimeout(() => dispatch(setLoadMoreLoading(false)), 0);  // Ensure loading is set to false even if there's an error\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n        // dispatch(setCarImageUrl(''));\r\n\r\n        if (chatId) {\r\n\r\n            setTimeout(() => {\r\n                const decryptedChatId = decryptData(chatId).toString();\r\n                let parts = decryptedChatId.split('_');\r\n                let stockIdPart = parts[1];\r\n                let emailPart = parts[parts.length - 1];\r\n\r\n                const folderName = selectedChatData.carData && selectedChatData.carData.stockID ? selectedChatData.carData.stockID : (selectedChatData.vehicle && selectedChatData.vehicle.carId ? selectedChatData.vehicle.carId : '');\r\n                const storage = getStorage(projectExtensionFirebase);\r\n                const imageRef = ref(storage, `${stockIdPart}/0`); // Ensure this path is correct\r\n\r\n                console.log('Folder Name: ', folderName)\r\n                getDownloadURL(imageRef)\r\n                    .then((url) => {\r\n                        setImageUrl(url);\r\n                        globalImageUrl = url;\r\n                        dispatch(setCarImageUrl(url));\r\n\r\n                    })\r\n                    .catch((error) => {\r\n                        if (error.code === 'storage/object-not-found') {\r\n                            // Handle the 'object not found' error.\r\n                            setImageUrl('https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FNo%20Car%20Image%20Found.png?alt=media&token=de86488c-73a6-4c04-811c-bc508a11123a');\r\n                        } else {\r\n                            // Handle other errors differently\r\n\r\n                            setImageUrl('https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FNo%20Car%20Image%20Found.png?alt=media&token=de86488c-73a6-4c04-811c-bc508a11123a');\r\n\r\n                        }\r\n                    });\r\n\r\n\r\n                if (selectedChatData) {\r\n                    const collectionPath = 'accounts';\r\n                    const docId = selectedChatData.participants?.customer; // Ensure this is a valid document ID\r\n\r\n                    const docRef = doc(projectExtensionFirestore, collectionPath, emailPart);\r\n\r\n                    const unsubscribe = onSnapshot(docRef, (doc) => {\r\n                        if (doc.exists()) {\r\n                            const data = doc.data();\r\n                            dispatch(setSelectedCustomerData(data ? data : {}));\r\n                            globalCustomerFirstName = data.textFirst ? data.textFirst : '';\r\n                            globalCustomerLastName = data.textLast ? data.textLast : '';\r\n                            console.log(`Name: ${data.textFirst} ${data.textLast}`)\r\n\r\n\r\n                            // globalCustomerCarName = carName;\r\n                            // setTextFirst(data.textFirst ? data.textFirst : '');\r\n                            // setTextLast(data.textLast ? data.textLast : '');\r\n\r\n\r\n                        } else {\r\n                            console.log(\"Document not found\");\r\n                        }\r\n                    }, (error) => {\r\n                        console.error(\"Error fetching document: \", error);\r\n                    });\r\n\r\n                    // Clean up function to unsubscribe from the listener when the component unmounts\r\n                    return () => unsubscribe();\r\n                }\r\n\r\n\r\n            }, 1);\r\n        }\r\n\r\n        const unsubscribe = fetchChatMessages();\r\n\r\n\r\n        return () => {\r\n            if (unsubscribe) {\r\n\r\n                unsubscribe(); // Unsubscribe when the component unmounts\r\n            }\r\n        };\r\n\r\n    }, [activeChatId]);\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if (chatId) {\r\n            const decryptedChatId = decryptData(chatId).toString();\r\n\r\n            setTimeout(() => {\r\n                console.log(decryptedChatId)\r\n                dispatch(setActiveChatId(decryptedChatId));\r\n\r\n            }, 1);\r\n\r\n\r\n        }\r\n    }, [chatId]);\r\n\r\n    const handleChatPress = async (customerId, chatId) => {\r\n        const encryptedChatId = encryptData(chatId);\r\n        const encodedChatId = encodeURIComponent(encryptedChatId); // URL-encode the encrypted data\r\n        navigate(`/devadmin/chat-messages/${encodedChatId}`);\r\n        // console.log(encodedChatId)\r\n        // console.log(decodeURIComponent(encodedChatId))\r\n        // console.log(decryptData(decodeURIComponent(encodedChatId)))\r\n\r\n        dispatch(setActiveChatId(chatId));\r\n\r\n        globalCustomerId = customerId;\r\n        globalChatId = chatId;\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(setActiveChatId(''));\r\n    }, [unreadButtonValue])\r\n\r\n    const renderFooter = () => {\r\n        return (\r\n            <>\r\n                {!noMoreData && (\r\n                    <View style={{ paddingVertical: 20, borderTopWidth: 1, borderColor: \"#DADDE1\", height: 60, }}>\r\n                        {loadMoreLoading && (\r\n                            <Spinner\r\n                                animating\r\n                                size=\"sm\"\r\n                                color={'#7B9CFF'}\r\n                            />\r\n                        )}\r\n                    </View>\r\n                )}\r\n            </>\r\n\r\n\r\n        );\r\n    };\r\n\r\n    const renderItem = ({ item }) => {\r\n\r\n        const isActive = item.id === activeChatId;\r\n        const messageUnread = !item.read;\r\n        const formattedDate = formatDate(item.lastMessageDate);\r\n\r\n        return (\r\n            <ChatListItem\r\n                chatListData={chatListData}\r\n                item={item}\r\n                onPress={() => handleChatPress(item.participants.customer, item.id)}\r\n                isActive={isActive}\r\n                messageUnread={messageUnread}\r\n                formattedDate={formattedDate}\r\n            />\r\n        );\r\n\r\n    };\r\n\r\n    if (chatListData.length < 1) {\r\n        return (\r\n            <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', }}>\r\n                <Text style={{ fontWeight: 700, alignSelf: 'center', }}>{unreadButtonValue ? 'No unread messages to show' : 'No messages to show'}</Text>\r\n            </View>\r\n        );\r\n    }\r\n\r\n    else {\r\n        return (\r\n            <>\r\n                <FlatList\r\n                    style={{ height: 100, borderBottomLeftRadius: 5, }}\r\n                    renderItem={renderItem}\r\n                    keyExtractor={item => item.id.toString()}\r\n                    data={chatListData}\r\n                    initialNumToRender={1}\r\n                    maxToRenderPerBatch={10}\r\n                    windowSize={21}\r\n                    onEndReachedThreshold={0.05}\r\n                    removeClippedSubviews={true}\r\n                    ListFooterComponent={renderFooter}\r\n                    onEndReached={handleLoadMore}  // Implement this function\r\n                />\r\n\r\n            </>\r\n\r\n        );\r\n    }\r\n\r\n};\r\n\r\n\r\nconst SearchChat = ({ lastVisible, setLastVisible, unreadButtonValue, activeButtonValue }) => {\r\n\r\n    const searchInputRef = useRef(null);\r\n    const [searchText, setSearchText] = useState('');\r\n    const [clearVisible, setClearVisible] = useState('');\r\n    const dispatch = useDispatch();\r\n\r\n    const searchData = async ({ }) => {\r\n        let q;\r\n\r\n        const searchValue = searchInputRef.current?.value;\r\n        if (unreadButtonValue == true) {\r\n\r\n            if (activeButtonValue == 0) {\r\n                if (searchValue === '') {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('read', '==', false),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n\r\n                }\r\n\r\n                else {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('read', '==', false),\r\n                        where('keywords', 'array-contains', searchValue.toUpperCase()),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n                }\r\n            }\r\n\r\n            else {\r\n                if (searchValue === '') {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('read', '==', false),\r\n                        where('stepIndicator.value', '==', activeButtonValue),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n                }\r\n\r\n                else {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('stepIndicator.value', '==', activeButtonValue),\r\n                        where('read', '==', false),\r\n                        where('keywords', 'array-contains', searchValue.toUpperCase()),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        else {\r\n\r\n            if (activeButtonValue == 0) {\r\n                if (searchValue === '') {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n\r\n                }\r\n\r\n                else {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('keywords', 'array-contains', searchValue.toUpperCase()),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n                }\r\n            }\r\n\r\n            else {\r\n                if (searchValue === '') {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('stepIndicator.value', '==', activeButtonValue),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n                }\r\n\r\n                else {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('stepIndicator.value', '==', activeButtonValue),\r\n                        where('keywords', 'array-contains', searchValue.toUpperCase()),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n        try {\r\n            const unsubscribe = onSnapshot(q, (snapshot) => {\r\n                const chatsData = [];\r\n                snapshot.forEach((doc) => {\r\n                    chatsData.push({\r\n                        id: doc.id,\r\n                        ...doc.data(),\r\n                    });\r\n                });\r\n                dispatch(setChatListData(chatsData));\r\n                globalLastVisible = snapshot.docs[snapshot.docs.length - 1]\r\n\r\n\r\n            });\r\n\r\n            // Return the unsubscribe function to stop listening when necessary\r\n            return () => {\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n            };\r\n        } catch (error) {\r\n            // Handle errors here\r\n            console.error('Error fetching data from Firebase:', error);\r\n        }\r\n\r\n    };\r\n\r\n    // useEffect(() => {\r\n\r\n    //     searchData();\r\n\r\n    // }, [searchText])\r\n\r\n    useEffect(() => {\r\n        setSearchText('');\r\n        dispatch(setChatListSearchText(''));\r\n        globalSearchText = '';\r\n        searchInputRef.current.value = '';\r\n        setClearVisible(false);\r\n\r\n    }, [activeButtonValue, unreadButtonValue])\r\n\r\n    const handleSearchEnter = () => {\r\n        // setSortField('dateAdded');\r\n        // setIsSortActive(false)\r\n        if (searchInputRef.current?.value !== '') {\r\n            dispatch(setChatListSearchText(searchInputRef.current.value.trim()));\r\n            setSearchText(searchInputRef.current.value.trim());\r\n            globalSearchText = searchInputRef.current.value.trim();\r\n        }\r\n        else {\r\n            setSearchText('');\r\n            globalSearchText = '';\r\n            if (searchText == '') {\r\n                dispatch(setChatListSearchText(''));\r\n                searchData();\r\n\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const handleClearText = () => {\r\n        searchInputRef.current.clear();\r\n        setClearVisible(false);\r\n        if (searchText !== '') {\r\n            setSearchText(''); // Clear the text\r\n            dispatch(setChatListSearchText(''));\r\n            dispatch(setActiveChatId(''));\r\n            globalSearchText = '';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <View style={{ flexDirection: 'row', alignItems: 'center', width: '100%', alignSelf: 'center', borderWidth: 1, borderColor: '#D9D9D9', borderRadius: 5, margin: 10 }}>\r\n            <TextInput\r\n                ref={searchInputRef}\r\n                onSubmitEditing={handleSearchEnter}\r\n                placeholder='Search'\r\n                placeholderTextColor='#9B9E9F'\r\n                underlineColorAndroid=\"transparent\"\r\n                style={{ flex: 1, height: 40, padding: 10, outlineStyle: 'none' }}\r\n                onChangeText={() => setClearVisible(true)}\r\n                keyboardType='search'\r\n            />\r\n            {clearVisible ? (\r\n                <Pressable\r\n                    focusable={false}\r\n                    onPress={handleClearText}\r\n                    style={({ pressed, hovered }) => [\r\n                        {\r\n                            borderRadius: 10,\r\n                            marginRight: 10,\r\n                            opacity: pressed ? 0.5 : 1, // Change opacity when pressed\r\n                            // Add hover effect\r\n                            backgroundColor: hovered ? '#ddd' : 'transparent',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <MaterialIcons name=\"close\" size={20} color=\"#000\" />\r\n                </Pressable>\r\n            ) : null}\r\n        </View>);\r\n}\r\n\r\nconst timelineData = [\r\n    { key: '1', title: 'Event 1', description: 'Description 1' },\r\n    { key: '2', title: 'Event 2', description: 'Description 2' },\r\n    // ... more events\r\n];\r\n\r\n// const TimelineItem = ({ title, description }) => (\r\n//     <View style={{ alignItems: 'center', marginRight: 20 }}>\r\n//         <View style={{ width: 10, height: 10, borderRadius: 5, backgroundColor: 'blue', marginBottom: 5 }} />\r\n//         <Text style={{ fontWeight: 'bold' }}>{title}</Text>\r\n//         <Text style={{ textAlign: 'center' }}>{description}</Text>\r\n//     </View>\r\n// );\r\n\r\n// const HorizontalTimeline = () => (\r\n//     <FlatList\r\n//         data={timelineData}\r\n//         renderItem={({ item }) => <TimelineItem title={item.title} description={item.description} />}\r\n//         horizontal\r\n//         showsHorizontalScrollIndicator={false}\r\n//         style={{ flexDirection: 'row', padding: 10 }}\r\n//     />\r\n// );\r\n\r\nconst ModalAddBank = () => {\r\n    const [modalAddBankVisible, setModalAddBankVisible] = useState(false);\r\n    const [isCancelHovered, setCancelHovered] = useState(false);\r\n    const [isAddHovered, setAddHovered] = useState(false);\r\n\r\n\r\n\r\n\r\n    const handleModalAddBankOpen = () => {\r\n        setModalAddBankVisible(true);\r\n    };\r\n\r\n    const handleModalAddBankClose = () => {\r\n        setModalAddBankVisible(false);\r\n    };\r\n\r\n    const bankNameRef = useRef(null);\r\n    const branchNameRef = useRef(null);\r\n    const swiftcodeRef = useRef(null);\r\n    const addressRef = useRef(null);\r\n    const accountHolderRef = useRef(null);\r\n    const accountNumberRef = useRef(null);\r\n\r\n\r\n\r\n    const addBankAccount = async () => {\r\n        const docRef = doc(projectExtensionFirestore, 'DataForInvoice', 'BankAccounts');\r\n\r\n        const bankNameValue = bankNameRef.current?.value;\r\n        const branchNameValue = branchNameRef.current?.value;\r\n        const swiftcodeValue = swiftcodeRef.current?.value;\r\n        const addressValue = addressRef.current?.value;\r\n        const accountHolderValue = accountHolderRef.current?.value;\r\n        const accountNumberValue = accountNumberRef.current?.value;\r\n\r\n        const elementToAdd = {\r\n            bankName: bankNameValue,\r\n            branchName: branchNameValue,\r\n            swiftCode: swiftcodeValue,\r\n            address: addressValue,\r\n            accountHolder: accountHolderValue,\r\n            accountNumberValue: accountNumberValue,\r\n        }\r\n\r\n        try {\r\n            await updateDoc(docRef, {\r\n                [bankNameValue]: elementToAdd,\r\n            });\r\n            console.log(\"Element added to the array field\");\r\n            handleModalAddBankClose();\r\n        } catch (error) {\r\n            console.error(\"Error adding element to the array\", error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Pressable onPress={handleModalAddBankOpen} style={{ alignSelf: 'center', marginHorizontal: 5, marginTop: 3, }}>\r\n                <FontAwesome name={'plus-circle'} size={25} color='#16A34A' />\r\n            </Pressable>\r\n\r\n            <Modal isOpen={modalAddBankVisible} onClose={handleModalAddBankClose} useRNModal>\r\n                <Modal.Content>\r\n                    <Modal.Header>Add Bank Account</Modal.Header>\r\n                    <Modal.Body>\r\n                        <View style={{ height: '100%', flex: 1, }}>\r\n                            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                <Text style={{ width: '35%', fontWeight: 700, margin: 3, }}>Bank Name:</Text>\r\n                                <TextInput\r\n                                    ref={bankNameRef}\r\n                                    placeholderTextColor='#9B9E9F'\r\n                                    placeholder='Bank Name'\r\n                                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                                />\r\n                            </View>\r\n                            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                <Text style={{ width: '35%', fontWeight: 700, margin: 3, }}>Branch Name:</Text>\r\n                                <TextInput\r\n                                    ref={branchNameRef}\r\n                                    placeholderTextColor='#9B9E9F'\r\n                                    placeholder='Branch Name'\r\n                                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                                />\r\n                            </View>\r\n                            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                <Text style={{ width: '35%', fontWeight: 700, margin: 3, }}>SWIFTCODE:</Text>\r\n                                <TextInput\r\n                                    ref={swiftcodeRef}\r\n                                    placeholderTextColor='#9B9E9F'\r\n                                    placeholder='SWIFTCODE'\r\n                                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                                />\r\n                            </View>\r\n                            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                <Text style={{ width: '35%', fontWeight: 700, margin: 3, }}>Address:</Text>\r\n                                <TextInput\r\n                                    ref={addressRef}\r\n                                    placeholderTextColor='#9B9E9F'\r\n                                    placeholder='Address'\r\n                                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                                />\r\n                            </View>\r\n                            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                <Text style={{ width: '35%', fontWeight: 700, margin: 3, }}>Account Holder:</Text>\r\n                                <TextInput\r\n                                    ref={accountHolderRef}\r\n                                    placeholderTextColor='#9B9E9F'\r\n                                    placeholder='Account Holder'\r\n                                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                                />\r\n                            </View>\r\n                            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                <Text style={{ width: '35%', fontWeight: 700, margin: 3, }}>Account Number:</Text>\r\n                                <TextInput\r\n                                    ref={accountNumberRef}\r\n                                    placeholderTextColor='#9B9E9F'\r\n                                    placeholder='Account Number'\r\n                                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                                />\r\n                            </View>\r\n                        </View>\r\n                    </Modal.Body>\r\n\r\n                    <Modal.Footer>\r\n                        <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', }}>\r\n                            <Pressable\r\n                                style={{ width: 100, padding: 5, borderRadius: 3, backgroundColor: isCancelHovered ? '#686868' : '#525252' }}\r\n                                onHoverIn={() => setCancelHovered(true)}\r\n                                onHoverOut={() => setCancelHovered(false)}\r\n                                onPress={handleModalAddBankClose}\r\n                            >\r\n                                <Text style={{ fontWeight: 500, textAlign: 'center', color: 'white', }}>Cancel</Text>\r\n                            </Pressable>\r\n\r\n                            <Pressable\r\n                                onPress={addBankAccount}\r\n                                style={{ width: 100, padding: 5, borderRadius: 3, backgroundColor: isAddHovered ? '#1B8B5A' : '#16A34A' }}\r\n                                onHoverIn={() => setAddHovered(true)}\r\n                                onHoverOut={() => setAddHovered(false)}\r\n                            >\r\n                                <Text style={{ fontWeight: 500, textAlign: 'center', color: 'white', }}>Add</Text>\r\n                            </Pressable>\r\n                        </View>\r\n                    </Modal.Footer>\r\n                </Modal.Content>\r\n            </Modal>\r\n        </>\r\n    );\r\n\r\n\r\n}\r\n\r\nconst BankInformation = () => {\r\n\r\n    let invoiceSelectedDueDate = '';\r\n    const currentDate = useSelector((state) => state.currentDate);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const [selectedDueDate, setSelectedDueDate] = useState('');\r\n    const [bankAccountsData, setBankAccountsData] = useState({});\r\n    const [selectedBank, setSelectedBank] = useState(invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.bankAccount.bankName ? invoiceData.bankInformations.bankAccount.bankName : \"SUMITOMO MITSUI BANKING CORPORATION\");\r\n    let selectedBankData = {};\r\n\r\n    const paymentTermsRef = useRef(null);\r\n    const salesAgreementRef = useRef(null);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const subscribeToBankAccounts = () => {\r\n            const docRef = doc(projectExtensionFirestore, 'DataForInvoice', 'BankAccounts');\r\n\r\n            const unsubscribe = onSnapshot(docRef, (docSnap) => {\r\n                if (docSnap.exists()) {\r\n                    const data = docSnap.data();\r\n                    const bankAccounts = {};\r\n\r\n                    // Assuming each entry in your document is a bank account\r\n                    Object.entries(data).forEach(([key, value]) => {\r\n                        if (value.bankName) {\r\n                            bankAccounts[value.bankName] = value;\r\n                        }\r\n                    });\r\n\r\n                    console.log(bankAccounts);\r\n                    setBankAccountsData(bankAccounts);\r\n                    globalInvoiceVariable.bankInformations.bankAccount = bankAccounts[\"SUMITOMO MITSUI BANKING CORPORATION\"];\r\n                    // Use state or context to store selected bank data if needed\r\n                    // setSelectedBank(bankAccounts[\"SUMITOMO MITSUI BANKING CORPORATION\"]);\r\n                    console.log(bankAccounts[\"SUMITOMO MITSUI BANKING CORPORATION\"]);\r\n                } else {\r\n                    console.log(\"No such document!\");\r\n                }\r\n            }, (error) => {\r\n                console.error(\"Error fetching document\", error);\r\n            });\r\n\r\n            return unsubscribe; // Return the unsubscribe function to call it later to stop listening\r\n        };\r\n\r\n\r\n        if (currentDate) {\r\n            const date = new Date(currentDate);\r\n\r\n            // Check the day of the week\r\n            const dayOfWeek = date.getDay();\r\n\r\n            if (dayOfWeek === 5) { // Friday\r\n                date.setDate(date.getDate() + 3); // Add 3 days to reach Monday\r\n            } else if (dayOfWeek === 6) { // Saturday\r\n                date.setDate(date.getDate() + 2); // Add 2 days to reach Monday\r\n            } else {\r\n                date.setDate(date.getDate() + 1); // Sunday to Thursday, add 1 day\r\n            }\r\n\r\n            // Format the date back to string\r\n            const adjustedDate = date.toISOString().split('T')[0];\r\n            setSelectedDueDate(invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.dueDate ? invoiceData.bankInformations.dueDate : adjustedDate);\r\n            globalInvoiceVariable.bankInformations.dueDate = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.dueDate ? invoiceData.bankInformations.dueDate : adjustedDate;\r\n            globalInvoiceVariable.bankInformations.paymentTerms = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.paymentTerms ? invoiceData.bankInformations.paymentTerms : paymentTermsRef.current?.value;\r\n            // globalInvoiceVariable.bankInformations.salesAgreement = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.salesAgreement ? invoiceData.bankInformations.salesAgreement : salesAgreementRef.current?.value;\r\n            globalInvoiceVariable.bankInformations.issuingDate = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.issuingDate ? invoiceData.bankInformations.issuingDate : currentDate;\r\n\r\n\r\n        }\r\n\r\n        const unsubscribe = subscribeToBankAccounts();\r\n    }, [currentDate]);\r\n\r\n\r\n\r\n    const ModalCalendar = ({ selectedDate, setSelectedDate, currentDate }) => {\r\n\r\n        const [modalCalendarVisible, setModalCalendarVisible] = useState(false);\r\n\r\n\r\n        const handleModalCalendarOpen = () => {\r\n            setModalCalendarVisible(true);\r\n        };\r\n\r\n        const handleModalCalendarClose = () => {\r\n            setModalCalendarVisible(false);\r\n        };\r\n\r\n\r\n\r\n        return (\r\n\r\n            <>\r\n                <Pressable style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                    onPress={handleModalCalendarOpen}>\r\n                    <TextInput value={selectedDate} onFocus={handleModalCalendarOpen} />\r\n                </Pressable>\r\n\r\n                <Modal isOpen={modalCalendarVisible} onClose={handleModalCalendarClose} useRNModal>\r\n                    <Modal.CloseButton />\r\n                    <Modal.Content>\r\n                        <View style={{ height: '100%', flex: 1 }}>\r\n                            <Calendar\r\n                                onDayPress={useCallback(day => {\r\n                                    setSelectedDate(day.dateString);\r\n                                    invoiceSelectedDueDate = day.dateString;\r\n                                    globalInvoiceVariable.bankInformations.dueDate = day.dateString;\r\n                                    handleModalCalendarClose();\r\n                                }, [])}\r\n                                markedDates={{\r\n                                    [selectedDate]: { selected: true, disableTouchEvent: true, selectedDotColor: '#7b9cff' }\r\n                                }}\r\n                                renderArrow={(direction) => (\r\n                                    direction === 'left' ? <MaterialIcons name='arrow-back-ios' color='#7b9cff' /> : <MaterialIcons name='arrow-forward-ios' color='#7b9cff' />\r\n                                )}\r\n                                enableSwipeMonths={true}\r\n                                initialDate={selectedDate}\r\n                                // minDate={currentDate}\r\n                                showSixWeeks />\r\n\r\n                        </View>\r\n\r\n                    </Modal.Content>\r\n\r\n                </Modal>\r\n            </>\r\n\r\n        );\r\n\r\n    }\r\n\r\n\r\n    const handleValueChange = (selectedBankName) => {\r\n        const selectedBankObj = bankAccountsData[selectedBankName];\r\n        setSelectedBank(selectedBankName);\r\n        globalInvoiceVariable.bankInformations.bankAccount = selectedBankObj;\r\n        // console.log(selectedBankObj);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '20%', fontWeight: 700, margin: 3, }}>Due Date:</Text>\r\n                <ModalCalendar currentDate={currentDate} selectedDate={selectedDueDate} setSelectedDate={setSelectedDueDate} />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, marginVertical: 10, }}>\r\n                <Text style={{ width: '20%', fontWeight: 700, margin: 3, }}>Bank Account: </Text>\r\n                <Select\r\n                    selectedValue={selectedBank}\r\n                    onValueChange={handleValueChange}\r\n                    bgColor={'#FAFAFA'}\r\n                    accessibilityLabel=\"Choose Country\"\r\n                    placeholder=\"---\"\r\n                    _selectedItem={{\r\n                        bg: \"teal.600\",\r\n                        endIcon: <CheckIcon />,\r\n                    }}\r\n                    height={9}\r\n                    width={300}\r\n                    style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1, }}\r\n                >\r\n                    {Object.keys(bankAccountsData).map((bankName) => (\r\n                        <Select.Item key={bankName} label={bankName} value={bankName} />\r\n                    ))}\r\n                </Select>\r\n\r\n                <ModalAddBank />\r\n\r\n            </View>\r\n\r\n            <View style={{ flex: 3, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '20%', fontWeight: 700, margin: 3, }}>Payment Terms:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.bankInformations.paymentTerms = value;\r\n                }} ref={paymentTermsRef} multiline defaultValue={invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.paymentTerms ? invoiceData.bankInformations.paymentTerms : \"Full payment via Telegraphic Transfer (T/T) required before the due date.\"} placeholderTextColor='#9B9E9F' placeholder='Email'\r\n                    style={{ width: '60%', height: 75, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n\r\n            {/* <View style={{ flex: 4, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '20%', fontWeight: 700, margin: 3, }}>Sales Agreement:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.bankInformations.salesAgreement = value;\r\n                }} ref={salesAgreementRef} multiline defaultValue={invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.salesAgreement ? invoiceData.bankInformations.salesAgreement : `Payment Information:\r\nThe customer is responsible for the bank charges incurred when the T/T (Telegraphic Transfer) is paid.\r\nNo warranty service is provided on used vehicles.\r\n\r\nConditions for order cancellation:\r\n(1) Order Cancellation Penalty: If the order is canceled after payment, a penalty of USD 220 will apply.\r\n(2) Non-refund: Payment for vehicles purchased through pre-delivery inspection is non-refundable.\r\n\r\nIntermediary Banking Information:\r\nBank Name: SUMITOMO MITSUI BANKING CORPORATION (THE NEW YORK AUTHORITY).\r\nSwift code: SMBCUS33\r\nAddress: 277 Park Avenue\r\nCity: New York, NY\r\nPostal Code: 10172\r\nCountry: United States\r\n`}\r\n                    placeholderTextColor='#9B9E9F' placeholder='Email'\r\n                    style={{ width: '60%', height: 100, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View> */}\r\n        </>\r\n    );\r\n}\r\n\r\nconst PaymentDetails = () => {\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n\r\n    const fobPriceInput = useRef(null);\r\n    const freightInput = useRef(null);\r\n    const inspectionInput = useRef(null);\r\n    const insuranceInput = useRef(null);\r\n\r\n\r\n    const [totalAmountCalculated, setTotalAmountCalculated] = useState('0');\r\n    const [selectedIncoterms, setSelectedIncoterms] = useState(invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.incoterms ? invoiceData.paymentDetails.incoterms :\r\n        selectedChatData.insurance ? 'CIF' : 'C&F');\r\n\r\n    const [inspectionIsChecked, setInspectionIsChecked] = useState(invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.inspectionIsChecked ? invoiceData.paymentDetails.inspectionIsChecked : selectedChatData.inspection);\r\n    const [inspectionName, setInspectionName] = useState(invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.inspectionName ? invoiceData.paymentDetails.inspectionName : selectedChatData.inspectionName);\r\n\r\n    const [warrantyIsChecked, setWarrantyIsChecked] = useState(invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.warrantyIsCheck ? invoiceData.paymentDetails.warrantyIsCheck : selectedChatData.warranty);\r\n\r\n    const warrantyPrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.warrantyPrice && invoiceData.paymentDetails.warrantyPrice ? invoiceData.paymentDetails.warrantyPrice : 150;\r\n    const insurancePrice = 50;\r\n\r\n\r\n    const additionalNameRef = useRef(null);\r\n    const additionalPriceRef = useRef(null);\r\n\r\n    const safelyParseNumber = (value) => {\r\n        const number = Number(value.replace(/,/g, ''));\r\n        return isNaN(number) ? 0 : number;\r\n    };\r\n\r\n    const calculateTotalAmount = () => {\r\n        const fobPrice = safelyParseNumber(fobPriceInput.current?.value);\r\n        const freight = safelyParseNumber(freightInput.current?.value);\r\n        const inspection = safelyParseNumber(inspectionInput.current?.value);\r\n        const insurance = safelyParseNumber(insuranceInput.current?.value);\r\n\r\n        const additionalPricesTotal = globalAdditionalPriceArray.reduce((sum, value) => sum + safelyParseNumber(value), 0);\r\n\r\n        // const total = Math.round(fobPrice + freight + inspection + (warrantyIsChecked ? warrantyPrice : 0) + insurance + additionalPricesTotal).toLocaleString();\r\n        const total = Math.round(fobPrice + freight + inspection + insurance + additionalPricesTotal).toLocaleString();\r\n        setTotalAmountCalculated(total);\r\n        globalInvoiceVariable.paymentDetails.totalAmount = total;\r\n    };\r\n\r\n    useEffect(() => {\r\n\r\n        additionalNameRef.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.additionalName ? invoiceData.paymentDetails.additionalName.join('\\n') : '';\r\n        additionalPriceRef.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.additionalPrice ? invoiceData.paymentDetails.additionalPrice.join('\\n') : '';\r\n\r\n        globalInvoiceVariable.paymentDetails.incoterms = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.incoterms ? invoiceData.paymentDetails.incoterms : selectedIncoterms;\r\n        globalInvoiceVariable.paymentDetails.inspectionIsChecked = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.inspectionIsChecked ? invoiceData.paymentDetails.inspectionIsChecked : inspectionIsChecked;\r\n        globalInvoiceVariable.paymentDetails.inspectionName = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.inspectionName ? invoiceData.paymentDetails.inspectionName : inspectionName;\r\n        globalInvoiceVariable.paymentDetails.inspectionPrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.inspectionPrice ? invoiceData.paymentDetails.inspectionPrice : inspectionIsChecked ? 300 : 0;\r\n        globalInvoiceVariable.paymentDetails.warrantyIsCheck = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.warrantyIsCheck ? invoiceData.paymentDetails.warrantyIsCheck : warrantyIsChecked;\r\n        // globalInvoiceVariable.paymentDetails.warrantyPrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.warrantyPrice ? invoiceData.paymentDetails.warrantyPrice : warrantyIsChecked ? warrantyPrice : 0;\r\n        globalInvoiceVariable.paymentDetails.fobPrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.fobPrice ? invoiceData.paymentDetails.fobPrice : fobPriceInput.current?.value;\r\n        globalInvoiceVariable.paymentDetails.freightPrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.freightPrice ? invoiceData.paymentDetails.freightPrice : freightInput.current?.value;\r\n        globalInvoiceVariable.paymentDetails.insurancePrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.insurancePrice ? invoiceData.paymentDetails.insurancePrice : selectedIncoterms == 'CIF' ? insuranceInput.current?.value : 0;\r\n        globalInvoiceVariable.paymentDetails.additionalPrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.additionalPrice ? invoiceData.paymentDetails.additionalPrice : [];\r\n        globalInvoiceVariable.paymentDetails.additionalName = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.additionalName ? invoiceData.paymentDetails.additionalName : [];\r\n        globalAdditionalPriceArray = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.additionalPrice ? invoiceData.paymentDetails.additionalPrice : [];\r\n\r\n        calculateTotalAmount();\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        inspectionInput.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.inspectionPrice && invoiceData.paymentDetails.inspectionPrice == true ? invoiceData.paymentDetails.inspectionPrice : inspectionIsChecked ? 300 : 0;\r\n        calculateTotalAmount();\r\n\r\n    }, [inspectionIsChecked]);\r\n\r\n    useEffect(() => {\r\n\r\n        insuranceInput.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.insurancePrice && invoiceData.paymentDetails.incoterms == 'CIF' ? invoiceData.paymentDetails.insurancePrice : selectedIncoterms == 'CIF' ? 50 : 0;\r\n        freightInput.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.freightPrice ? invoiceData.paymentDetails.freightPrice : selectedIncoterms == 'FOB' ? 0 : freightCalculation;\r\n\r\n        calculateTotalAmount();\r\n\r\n    }, [selectedIncoterms]);\r\n\r\n    useEffect(() => {\r\n        calculateTotalAmount();\r\n\r\n    }, [warrantyIsChecked]);\r\n\r\n    const freightCalculation = (\r\n        (selectedChatData.m3 ? selectedChatData.m3 :\r\n            (selectedChatData.carData && selectedChatData.carData.dimensionCubicMeters ?\r\n                selectedChatData.carData.dimensionCubicMeters : 0)) *\r\n        Number(selectedChatData.freightPrice)\r\n    ).toFixed(2);\r\n\r\n    const totalPriceCalculation = (\r\n        (selectedChatData.fobPrice ? selectedChatData.fobPrice :\r\n            (selectedChatData.carData && selectedChatData.carData.fobPrice ?\r\n                selectedChatData.carData.fobPrice : 0) *\r\n            (selectedChatData.jpyToUsd ? selectedChatData.jpyToUsd :\r\n                (selectedChatData.currency && selectedChatData.currency.jpyToUsd ?\r\n                    selectedChatData.currency.jpyToUsd : 0))) +\r\n        parseFloat(freightCalculation)\r\n    ).toFixed(2);\r\n\r\n    const fobPriceDollars = (\r\n        (selectedChatData.fobPrice ? selectedChatData.fobPrice :\r\n            (selectedChatData.carData && selectedChatData.carData.fobPrice ?\r\n                selectedChatData.carData.fobPrice : 0) *\r\n            (selectedChatData.jpyToUsd ? selectedChatData.jpyToUsd :\r\n                (selectedChatData.currency && selectedChatData.currency.jpyToUsd ?\r\n                    selectedChatData.currency.jpyToUsd : 0))\r\n        ).toFixed(2));\r\n\r\n\r\n    const handleAdditionalPriceTextChange = (text) => {\r\n        // Process and filter each line\r\n        const filteredLines = text.split('\\n').map(line => {\r\n            let filteredLine = line.replace(/[^0-9.]/g, '');\r\n            const parts = filteredLine.split('.');\r\n            if (parts.length > 2) {\r\n                filteredLine = parts[0] + '.' + parts[1];\r\n            }\r\n            return filteredLine;\r\n        });\r\n\r\n        // Update the ref and the state\r\n        additionalPriceRef.current.value = filteredLines.join('\\n');\r\n        // setAdditionalPriceArray(filteredLines);\r\n        globalAdditionalPriceArray = filteredLines;\r\n        globalInvoiceVariable.paymentDetails.additionalPrice = filteredLines;\r\n        calculateTotalAmount();\r\n\r\n    };\r\n\r\n    const handleAdditionalNameTextChange = (text) => {\r\n        // Update the ref\r\n        additionalNameRef.current.value = text;\r\n\r\n        // Split the text into lines and update the state\r\n        const lines = text.split('\\n');\r\n        // setAdditionalNameArray(lines);\r\n        globalInvoiceVariable.paymentDetails.additionalName = lines;\r\n    };\r\n\r\n\r\n    const handleFobPriceInputChangeText = (text) => {\r\n        const filteredText = text.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');\r\n        fobPriceInput.current.value = filteredText;\r\n        globalInvoiceVariable.paymentDetails.fobPrice = filteredText;\r\n        calculateTotalAmount();\r\n    };\r\n\r\n    const handleFreightInputChangeText = (text) => {\r\n        const filteredText = text.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');\r\n        freightInput.current.value = filteredText;\r\n        globalInvoiceVariable.paymentDetails.freightPrice = filteredText;\r\n        calculateTotalAmount();\r\n    };\r\n\r\n    const handleInspectionInputChangeText = (text) => {\r\n        const filteredText = text.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');\r\n        inspectionInput.current.value = filteredText;\r\n        globalInvoiceVariable.paymentDetails.inspectionPrice = filteredText;\r\n\r\n        calculateTotalAmount();\r\n    };\r\n\r\n    const handleInsuranceInputChangeText = (text) => {\r\n        const filteredText = text.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');\r\n        insuranceInput.current.value = filteredText;\r\n        globalInvoiceVariable.paymentDetails.insurancePrice = filteredText;\r\n        calculateTotalAmount();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, alignSelf: 'center', }}>\r\n                <Text style={{ fontWeight: 700, fontSize: 16, margin: 3, color: '#16A34A', }}>Payment Details</Text>\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Incoterms:</Text>\r\n                <Select\r\n                    selectedValue={selectedIncoterms}\r\n                    onValueChange={(value) => setSelectedIncoterms(value)}\r\n                    bgColor={'#FAFAFA'}\r\n                    accessibilityLabel=\"Choose Country\"\r\n                    placeholder=\"---\"\r\n                    _selectedItem={{\r\n                        bg: \"teal.600\",\r\n                        endIcon: <CheckIcon />,\r\n                    }}\r\n                    height={9}\r\n                    style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1, }}\r\n                >\r\n                    <Select.Item key={'C&F'} label={'C&F'} value={'C&F'} />\r\n                    <Select.Item key={'CIF'} label={'CIF'} value={'CIF'} />\r\n                    <Select.Item key={'FOB'} label={'FOB'} value={'FOB'} />\r\n                </Select>\r\n                <Text style={{ fontWeight: 700, margin: 3, }}>Rate: </Text>\r\n                <Text style={{ fontWeight: 700, margin: 3, color: '#16A34A', }}>\r\n                    {selectedChatData.currency && selectedChatData.currency.usdToJpy\r\n                        ? Number(selectedChatData.currency.usdToJpy).toFixed(2) : '0.00'}\r\n                </Text>\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, marginTop: 10, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Inspection:</Text>\r\n                <Checkbox\r\n                    isChecked={inspectionIsChecked}\r\n                    onChange={value => {\r\n                        setInspectionIsChecked(value)\r\n                        globalInvoiceVariable.paymentDetails.inspectionIsChecked = value;\r\n                    }}\r\n                    style={{ margin: 2, borderColor: '#0A9FDC' }}\r\n                    size=\"sm\"\r\n                    _text={{ fontWeight: 700 }}\r\n                />\r\n            </View>\r\n\r\n            {/* <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Warranty:</Text>\r\n                <Checkbox\r\n                    isChecked={warrantyIsChecked}\r\n                    onChange={value => setWarrantyIsChecked(value)}\r\n                    style={{ margin: 2, borderColor: '#0A9FDC' }}\r\n                    size=\"sm\"\r\n                    _text={{ fontWeight: 700 }}\r\n                />\r\n                <Text style={{ fontWeight: 700, margin: 3, color: '#16A34A', }}>${warrantyPrice}</Text>\r\n            </View> */}\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2 }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3 }}>FOB Price:</Text>\r\n                <Text style={{ fontWeight: 700, margin: 1, paddingTop: 1 }}>$</Text>\r\n                <TextInput\r\n                    onChangeText={handleFobPriceInputChangeText}\r\n                    ref={fobPriceInput}\r\n                    defaultValue={invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.paymentDetails.fobPrice : selectedIncoterms == 'FOB' ? 0 : fobPriceDollars}\r\n                    placeholderTextColor='#9B9E9F'\r\n                    placeholder='FOB Price'\r\n                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2 }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3 }}>Freight:</Text>\r\n                <Text style={{ fontWeight: 700, margin: 1, paddingTop: 1 }}>$</Text>\r\n                <TextInput\r\n                    onChangeText={handleFreightInputChangeText}\r\n                    ref={freightInput}\r\n                    defaultValue={freightCalculation}\r\n                    placeholderTextColor='#9B9E9F'\r\n                    placeholder='Freight'\r\n                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, display: selectedIncoterms == 'CIF' ? 'flex' : 'none' }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Insurance:</Text>\r\n                <Text style={{ fontWeight: 700, margin: 1, paddingTop: 1, }}>$</Text>\r\n                <TextInput\r\n                    onChangeText={handleInsuranceInputChangeText}\r\n                    ref={insuranceInput}\r\n                    defaultValue={50}\r\n                    placeholderTextColor='#9B9E9F'\r\n                    placeholder={`Insurance`}\r\n                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, display: inspectionIsChecked ? 'flex' : 'none' }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Inspection:</Text>\r\n                <Text style={{ fontWeight: 700, margin: 1, paddingTop: 1, }}>$</Text>\r\n                <TextInput\r\n                    onChangeText={handleInspectionInputChangeText}\r\n                    ref={inspectionInput}\r\n                    placeholderTextColor='#9B9E9F'\r\n                    placeholder={`Inspection [${selectedChatData.inspectionName}]`}\r\n                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                />\r\n                <Text style={{ fontWeight: 700, margin: 3, color: '#16A34A', }}>{`[${selectedChatData.inspectionName}]`}</Text>\r\n            </View>\r\n\r\n\r\n            <View style={{ flex: 3, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Additional:</Text>\r\n                <TextInput ref={additionalNameRef} onChangeText={handleAdditionalNameTextChange} multiline placeholderTextColor='#9B9E9F' placeholder='Name'\r\n                    style={{ width: '60%', height: 75, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                <TextInput ref={additionalPriceRef} onChangeText={handleAdditionalPriceTextChange} multiline placeholderTextColor='#9B9E9F' placeholder='Price'\r\n                    style={{ width: '60%', height: 75, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', }} />\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, alignItems: 'center', }}>\r\n                <Text style={{ fontWeight: 700, margin: 3, }}>Total Amount:</Text>\r\n                <Text style={{ fontWeight: 700, fontSize: 18, margin: 3, color: '#FF0000', }}>{`$${totalAmountCalculated}`}</Text>\r\n            </View>\r\n        </>\r\n    );\r\n\r\n\r\n}\r\n\r\nconst SelectPortOfDischarge = () => {\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const [countriesDischarge, setCountriesDischarge] = useState([]);\r\n    const [portsData, setPortsData] = useState({});\r\n    const [nearestPorts, setNearestPorts] = useState([]);\r\n    const [selectedPortCountry, setSelectedPortCountry] = useState('');\r\n    const [selectedCountry, setSelectedCountry] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.discharge.country : selectedChatData.country);\r\n    const [selectedPort, setSelectedPort] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.discharge.port : selectedChatData.port);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        console.log(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.discharge.port : selectedChatData.port);\r\n\r\n        const fetchPorts = async () => {\r\n            const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'PortsDoc');\r\n\r\n            try {\r\n                const docSnap = await getDoc(docRef);\r\n\r\n                if (docSnap.exists()) {\r\n                    const data = docSnap.data();\r\n                    const sortedPorts = Object.keys(data)\r\n                        .map(portName => ({\r\n                            name: portName.replace(/_/g, '.'), // Replace '_' with '.'\r\n                            ...data[portName]\r\n                        }))\r\n                        .sort((a, b) => a.sortOrder - b.sortOrder);\r\n                    setNearestPorts(sortedPorts);\r\n                } else {\r\n                    console.log('No such document!');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching document:', error);\r\n            }\r\n        };\r\n\r\n        const fetchPortsData = async () => {\r\n            const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'PortsDoc');\r\n\r\n            try {\r\n                const docSnap = await getDoc(docRef);\r\n\r\n                if (docSnap.exists()) {\r\n                    const data = docSnap.data();\r\n                    setPortsData(data);\r\n                } else {\r\n                    console.log('No such document!');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching document:', error);\r\n            }\r\n        };\r\n\r\n        fetchPorts();\r\n        fetchPortsData();\r\n        // fetchCountries();\r\n\r\n        globalInvoiceVariable.discharge.port = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.discharge.port ? invoiceData.discharge.port : selectedPort;\r\n        globalInvoiceVariable.discharge.country = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.discharge.country ? invoiceData.discharge.country : selectedPortCountry;\r\n\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        // When selectedCountry changes, update nearestPorts\r\n        const selectedCountryData = countriesDischarge.find(country => country.name === selectedCountry);\r\n        if (selectedCountryData && selectedCountryData.nearestPorts) {\r\n            setNearestPorts(selectedCountryData.nearestPorts);\r\n        } else {\r\n            setNearestPorts([]); // Reset to empty if no ports or country not found\r\n        }\r\n    }, [selectedCountry, countriesDischarge]);\r\n\r\n    useEffect(() => {\r\n        const portData = portsData[selectedPort];\r\n        if (portData && portData.country) {\r\n            setSelectedPortCountry(portData.country);\r\n            // console.log('Nagoya Price ', portData.nagoyaPrice);\r\n            globalInvoiceVariable.discharge.country = portData.country;\r\n        } else {\r\n            setSelectedPortCountry(''); // Reset selected country if port not found or has no country\r\n            console.log('Not found');\r\n        }\r\n    }, [selectedPort, portsData]);\r\n\r\n    return (\r\n        <>\r\n            {/* <Select\r\n                selectedValue={selectedCountry}\r\n                onValueChange={(value) => {\r\n                    setSelectedCountry(value)\r\n                    globalInvoiceVariable.discharge.country = value;\r\n\r\n                }}\r\n                bgColor={'#FAFAFA'}\r\n                flex={1}\r\n                accessibilityLabel=\"Choose Country\"\r\n                placeholder=\"---\"\r\n                _selectedItem={{\r\n                    bg: \"teal.600\",\r\n                    endIcon: <CheckIcon />,\r\n                }}\r\n                style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1 }}\r\n            >\r\n                {countriesDischarge.map((country) => (\r\n                    <Select.Item key={country.name} label={country.name} value={country.name} />\r\n                ))}\r\n            </Select> */}\r\n            <Select\r\n                selectedValue={selectedPort}\r\n                onValueChange={(value) => {\r\n                    setSelectedPort(value)\r\n                    globalInvoiceVariable.discharge.port = value;\r\n                }}\r\n                bgColor={'#FAFAFA'}\r\n                accessibilityLabel=\"Choose Port\"\r\n                placeholder=\"Select port\"\r\n                _selectedItem={{\r\n                    bg: \"teal.600\",\r\n                    endIcon: <CheckIcon />,\r\n                }}\r\n                style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1 }}\r\n            >\r\n                {nearestPorts.map((port, index) => (\r\n                    <Select.Item key={index} label={port.name} value={port.name} />\r\n                ))}\r\n            </Select>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nconst SelectSalesPerson = () => {\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const [selectedSales, setSelectedSales] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.salesPerson : (selectedChatData.carData && selectedChatData.carData.sales ? selectedChatData.carData.sales : ''));\r\n    const salesData = useSelector((state) => state.salesData);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        globalInvoiceVariable.salesPerson = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.salesPerson ? invoiceData.salesPerson : (selectedChatData.carData && selectedChatData.carData.sales ? selectedChatData.carData.sales : '');\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <Select\r\n            selectedValue={selectedSales}\r\n            onValueChange={(value) => {\r\n                setSelectedSales(value);\r\n                globalInvoiceVariable.salesPerson = value;\r\n            }}\r\n            bgColor={'#FAFAFA'}\r\n            accessibilityLabel=\"---\"\r\n            placeholder=\"---\"\r\n            _selectedItem={{\r\n                bg: \"teal.600\",\r\n                endIcon: <CheckIcon />\r\n            }}\r\n            style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1 }}>\r\n            {salesData.map((item) => (\r\n                <Select.Item key={item.id} label={item.name} value={item.name} />\r\n            ))}\r\n        </Select>\r\n    );\r\n}\r\n\r\nconst SelectPortOfDeparture = () => {\r\n\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const portData = useSelector((state) => state.portData);\r\n    const salesData = useSelector((state) => state.salesData);\r\n    const [selectedPort, setSelectedPort] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.departurePort : (selectedChatData.carData && selectedChatData.carData.port ? selectedChatData.carData.port : ''));\r\n\r\n\r\n    useEffect(() => {\r\n        // console.log(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.departurePort : (selectedChatData.carData && selectedChatData.carData.port ? selectedChatData.carData.port : ''));\r\n\r\n        globalInvoiceVariable.departurePort = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.departurePort ? invoiceData.departurePort : (selectedChatData.carData && selectedChatData.carData.port ? selectedChatData.carData.port : '');\r\n        globalInvoiceVariable.departureCountry = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.departureCountry ? invoiceData.departureCountry : 'Japan';\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Select\r\n                selectedValue='Japan'\r\n                onValueChange={(value) => {\r\n                    globalInvoiceVariable.departureCountry = value;\r\n                }}\r\n                bgColor={'#FAFAFA'}\r\n                flex={1}\r\n                accessibilityLabel=\"---\"\r\n                placeholder=\"---\"\r\n                _selectedItem={{\r\n                    bg: \"teal.600\",\r\n                    endIcon: <CheckIcon />\r\n                }}\r\n                style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1 }}>\r\n                <Select.Item key={'Japan'} label={'Japan'} value={'Japan'} />\r\n            </Select>\r\n\r\n            <Select\r\n                selectedValue={selectedPort}\r\n                onValueChange={(value) => {\r\n                    setSelectedPort(value);\r\n                    globalInvoiceVariable.departurePort = value;\r\n                }}\r\n                bgColor={'#FAFAFA'}\r\n                flex={1}\r\n                accessibilityLabel=\"---\"\r\n                placeholder=\"---\"\r\n                _selectedItem={{\r\n                    bg: \"teal.600\",\r\n                    endIcon: <CheckIcon />\r\n                }}\r\n                style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1 }}>\r\n                {portData.map((item) => (\r\n                    <Select.Item key={item.id} label={item.name} value={item.name} />\r\n                ))}\r\n            </Select>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nconst NotifyPartyInput = ({ accountData, setAccountData }) => {\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n\r\n    const [isChecked, setIsChecked] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.notifyParty.sameAsConsignee : true);\r\n\r\n    const notifyPartyName = useRef(null);\r\n    const notifyPartyAddress = useRef(null);\r\n    const notifyPartyCity = useRef(null);\r\n    const notifyPartyCountry = useRef(null);\r\n    const notifyPartyContactNumber = useRef(null);\r\n    const notifyPartyFax = useRef(null);\r\n    const notifyPartyEmail = useRef(null);\r\n\r\n    useEffect(() => {\r\n\r\n        notifyPartyName.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.name ? invoiceData.notifyParty.name : '';\r\n        notifyPartyAddress.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.address ? invoiceData.notifyParty.address : '';\r\n        notifyPartyCity.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.city ? invoiceData.notifyParty.city : '';\r\n        notifyPartyCountry.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.country ? invoiceData.notifyParty.country : '';\r\n        notifyPartyContactNumber.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.contactNumber ? invoiceData.notifyParty.contactNumber : '';\r\n        notifyPartyFax.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.fax ? invoiceData.notifyParty.fax : '';\r\n        notifyPartyEmail.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.email ? invoiceData.notifyParty.email : '';\r\n\r\n        globalInvoiceVariable.notifyParty.name = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.name ? invoiceData.notifyParty.name : notifyPartyName.current?.value;\r\n        globalInvoiceVariable.notifyParty.address = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.address ? invoiceData.notifyParty.address : notifyPartyAddress.current?.value;\r\n        globalInvoiceVariable.notifyParty.city = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.city ? invoiceData.notifyParty.city : notifyPartyCity.current?.value;\r\n        globalInvoiceVariable.notifyParty.country = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.country ? invoiceData.notifyParty.country : notifyPartyCountry.current?.value;\r\n        globalInvoiceVariable.notifyParty.contactNumber = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.contactNumber ? invoiceData.notifyParty.contactNumber : notifyPartyContactNumber.current?.value;\r\n        globalInvoiceVariable.notifyParty.fax = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.fax ? invoiceData.notifyParty.fax : notifyPartyFax.current?.value;\r\n        globalInvoiceVariable.notifyParty.email = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.email ? invoiceData.notifyParty.email : notifyPartyEmail.current?.value;\r\n        globalInvoiceVariable.notifyParty.sameAsConsignee = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.sameAsConsignee ? invoiceData.notifyParty.sameAsConsignee : isChecked;\r\n\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', }} />{/* Horizontal Line */}\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, alignSelf: 'center', }}>\r\n                <Text style={{ fontWeight: 700, fontSize: 16, margin: 3, color: '#FF0000', }}>Notify Party</Text>\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 5, }}>\r\n                <Checkbox\r\n                    isChecked={isChecked}\r\n                    onChange={value => {\r\n                        setIsChecked(value)\r\n                        globalInvoiceVariable.consignee.sameAsBuyer = value;\r\n                    }}\r\n                    style={{ margin: 2, borderColor: '#0A9FDC' }}\r\n                    size=\"sm\"\r\n                    _text={{ fontWeight: 700 }}\r\n                >\r\n                    Same as consignee\r\n                </Checkbox>\r\n            </View>\r\n\r\n            <View style={{ display: isChecked ? 'none' : 'flex', }}>\r\n                <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Name:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.name = value;\r\n                    }}\r\n                        ref={notifyPartyName} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Name'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n                <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Address:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.address = value;\r\n                    }} ref={notifyPartyAddress} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Address'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n                <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>City:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.city = value;\r\n                    }} ref={notifyPartyCity} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='City'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n                <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Country:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.country = value;\r\n                    }} ref={notifyPartyCountry} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Country'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n                <View style={{ flex: 3, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Contact Number:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.contactNumber = value;\r\n                    }} ref={notifyPartyContactNumber} disabled={isChecked} multiline placeholderTextColor='#9B9E9F' placeholder='Contact Number'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 75, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n                <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>FAX:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.fax = value;\r\n                    }} ref={notifyPartyFax} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='FAX'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n                <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Email:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.email = value;\r\n                    }} ref={notifyPartyEmail} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Email'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n            </View>\r\n\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', }} />{/* Horizontal Line */}\r\n        </>\r\n    )\r\n}\r\n\r\nconst ConsigneeInput = () => {\r\n\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const [isChecked, setIsChecked] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.consignee.sameAsBuyer : true);\r\n    const [accountData, setAccountData] = useState({});\r\n\r\n    const consigneeName = useRef(null);\r\n    const consigneeAddress = useRef(null);\r\n    const consigneeCity = useRef(null);\r\n    const consigneeCountry = useRef(null);\r\n    const consigneeContactNumber = useRef(null);\r\n    const consigneeFax = useRef(null);\r\n    const consigneeEmail = useRef(null);\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchAccountData = async () => {\r\n            if (!selectedChatData.participants && selectedChatData.participants.customer) return; // Make sure there's a selected email\r\n            const docRef = doc(projectExtensionFirestore, 'accounts', selectedChatData.participants.customer);\r\n\r\n            try {\r\n                const docSnap = await getDoc(docRef);\r\n\r\n                if (docSnap.exists()) {\r\n                    const data = docSnap.data();\r\n                    setAccountData(docSnap.data());\r\n                    // console.log(docSnap.data());\r\n                    consigneeName.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.name ? invoiceData.consignee.name : `${data.textFirst ? data.textFirst : ''} ${data.textLast ? data.textLast : ''}`;\r\n                    consigneeAddress.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.address ? invoiceData.consignee.address : `${data.textStreet ? data.textStreet : ''} ${data.textZip ? data.textZip : ''}`;\r\n                    consigneeCity.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.city ? invoiceData.consignee.city : `${data.city ? data.city : ''}`;\r\n                    consigneeCountry.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.country ? invoiceData.consignee.country : `${data.country ? data.country : ''}`;\r\n                    consigneeContactNumber.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.contactNumber ? invoiceData.consignee.contactNumber : `${data.textPhoneNumber ? data.textPhoneNumber : ''}`;\r\n                    consigneeFax.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.fax ? invoiceData.consignee.fax : `${data.fax ? data.fax : ''}`;\r\n                    consigneeEmail.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.email ? invoiceData.consignee.email : `${data.textEmail ? data.textEmail : ''}`;\r\n\r\n\r\n                    globalInvoiceVariable.consignee.name = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.name ? invoiceData.consignee.name : `${data.textFirst ? data.textFirst : ''} ${data.textLast ? data.textLast : ''}`;\r\n                    globalInvoiceVariable.consignee.address = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.address ? invoiceData.consignee.address : `${data.textStreet ? data.textStreet : ''} ${data.textZip ? data.textZip : ''}`;\r\n                    globalInvoiceVariable.consignee.city = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.city ? invoiceData.consignee.city : `${data.city ? data.city : ''}`;\r\n                    globalInvoiceVariable.consignee.country = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.country ? invoiceData.consignee.country : `${data.country ? data.country : ''}`;\r\n                    globalInvoiceVariable.consignee.contactNumber = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.contactNumber ? invoiceData.consignee.contactNumber : `${data.textPhoneNumber ? data.textPhoneNumber : ''}`;\r\n                    globalInvoiceVariable.consignee.fax = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.fax ? invoiceData.consignee.fax : `${data.fax ? data.fax : ''}`;\r\n                    globalInvoiceVariable.consignee.email = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.email ? invoiceData.consignee.email : `${data.textEmail ? data.textEmail : ''}`;\r\n                    globalInvoiceVariable.consignee.sameAsBuyer = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.sameAsBuyer ? invoiceData.consignee.sameAsBuyer : isChecked;\r\n\r\n                    // console.log(accountData.length);\r\n                } else {\r\n                    console.log('No such document!');\r\n                    setAccountData(null);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching document:', error);\r\n            }\r\n        };\r\n        fetchAccountData();\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n\r\n        if (isChecked) {\r\n            consigneeName.current.value = `${accountData.textFirst ? accountData.textFirst : ''} ${accountData.textLast ? accountData.textLast : ''}`;\r\n            consigneeAddress.current.value = `${accountData.textStreet ? accountData.textStreet : ''} ${accountData.textZip ? accountData.textZip : ''}`;\r\n            consigneeCity.current.value = `${accountData.city ? accountData.city : ''}`;\r\n            consigneeCountry.current.value = `${accountData.country ? accountData.country : ''}`;\r\n            consigneeContactNumber.current.value = `${accountData.textPhoneNumber ? accountData.textPhoneNumber : ''}`;\r\n            consigneeFax.current.value = `${accountData.fax ? accountData.fax : ''}`;\r\n            consigneeEmail.current.value = `${accountData.textEmail ? accountData.textEmail : ''}`;\r\n        }\r\n\r\n        // console.log(globalInvoiceVariable);\r\n\r\n\r\n    }, [isChecked])\r\n\r\n\r\n    return (\r\n        <>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, alignSelf: 'center', }}>\r\n                <Text style={{ fontWeight: 700, fontSize: 16, margin: 3, color: '#0A78BE', }}>Consignee</Text>\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 5, }}>\r\n                <Checkbox\r\n                    isChecked={isChecked}\r\n                    onChange={value => {\r\n                        globalInvoiceVariable.consignee.sameAsBuyer = value;\r\n                        setIsChecked(value)\r\n                    }}\r\n                    style={{ margin: 2, borderColor: '#0A9FDC' }}\r\n                    size=\"sm\"\r\n                    _text={{ fontWeight: 700 }}\r\n                >\r\n                    Same as buyer\r\n                </Checkbox>\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Name:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.name = value;\r\n                }} ref={consigneeName} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Name'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Address:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.address = value;\r\n                }} ref={consigneeAddress} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Address'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>City:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.city = value;\r\n                }} ref={consigneeCity} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='City'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Country:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.country = value;\r\n                }} ref={consigneeCountry} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Country'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n            <View style={{ flex: 3, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Contact Number:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.contactNumber = value;\r\n                }} ref={consigneeContactNumber} disabled={isChecked} multiline placeholderTextColor='#9B9E9F' placeholder='Contact Number'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 75, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>FAX:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.fax = value;\r\n                }} ref={consigneeFax} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='FAX'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Email:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.email = value;\r\n                }} ref={consigneeEmail} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Email'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n\r\n            <NotifyPartyInput accountData={accountData} setAccountData={setAccountData} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst InvoiceFeatures = ({ widthScaleFactor, heightScaleFactor }) => {\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    return (\r\n        <View style={{ flexDirection: 'row', flexWrap: 'wrap', width: 495 * widthScaleFactor, }}>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SafetySystemAnBrSy ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Anti-Lock Braking System (ABS)</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SafetySystemDrAi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Driver Airbag</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SafetySystemPaAi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Passenger Airbag</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SafetySystemSiAi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Side Airbag</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortAiCoFr ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Air Conditioner (Front)</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortAiCoRe ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Air Conditioner (Rear)</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortAMFMRa ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>AM/FM Radio</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortAMFMSt ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>AM/FM Stereo</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortCDPl ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>CD Player</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortCDCh ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>CD Changer</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortCrSpCo ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Cruis Speed Control</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortDiSp ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}> Digital Speedometer</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortDVDPl ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>DVD Player</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortHDD ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Hard Disk Drive</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortNaSyGPS ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Navigation System (GPS)</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortPoSt ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Power Steering</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortPrAuSy ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Premium Audio System</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortReKeSy ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Remote Keyless System</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortTiStWh ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Tilt Steering Wheel</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorLeSe ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Leather Seats</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorPoDoLo ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Power Door Locks</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorPoMi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Power Mirrors</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorPoSe ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Power Seats</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorPoWi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Power Windows</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorReWiDe ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Rear Window Defroster</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorReWiWi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Rear Window Wiper</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorThRoSe ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Third Row Seats</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorTiGl ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Tinted Glasses</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ExteriorAlWh ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Alloy Wheels</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ExteriorPoSlDo ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Power Sliding Door</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ExteriorSuRo ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Sunroof</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsCuWh ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Customized Wheels</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsFuLo ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Fully Loaded</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsMaHiAv ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Maintenance History Available</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsBrNeTi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Brand New Tires</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsNoAcHi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>No Accident History</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsNoSmPrOw ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Non-Smoking Previous Owner</Text>\r\n            </View>\r\n\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsOnOwHi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>One Owner History</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsPeRaTi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Performance-rated Tires</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsReBo ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Repainted Body</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsTuEn ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Turbo Engine</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsUpAuSy ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Upgraded Audio System</Text>\r\n            </View>\r\n        </View>\r\n    );\r\n}\r\n\r\nconst createHmacSha256Hash = (data, secretKey) => {\r\n    const hash = HmacSHA256(data, secretKey);\r\n    return enc.Hex.stringify(hash);\r\n};\r\n\r\n\r\nconst ConfirmPaymentModalContent = () => {\r\n    const dispatch = useDispatch();\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const selectedCustomerData = useSelector((state) => state.selectedCustomerData);\r\n\r\n\r\n    const [historyModalVisible, setHistoryModalVisible] = useState(false);\r\n\r\n    const [isConfirmLoading, setIsConfirmLoading] = useState(false);\r\n\r\n    const totalAmountString = invoiceData.paymentDetails.totalAmount;\r\n    const totalAmountNumber = parseFloat(totalAmountString.replace(/,/g, ''));\r\n\r\n    const inputAmountRef = useRef(null);\r\n\r\n    const handleHistoryModalOpen = () => {\r\n        setHistoryModalVisible(true);\r\n\r\n        // console.log(selectedChatData.payments);\r\n    }\r\n\r\n    const handleHistoryModalClose = () => {\r\n        setHistoryModalVisible(false);\r\n\r\n    }\r\n\r\n    const handleInputAmountChangeText = (text) => {\r\n        // Remove characters that are not digits, dot, or minus, and ensure minus is only at the start\r\n        const filteredText = text\r\n            .replace(/[^0-9.-]/g, '')  // Remove characters that are not digits, dot, or minus\r\n            .replace(/(.)\\-/g, '$1')   // Remove minus if not at the start\r\n            .replace(/^-(?=\\-)/, '')   // Remove extra minus at the start\r\n            .replace(/(\\..*)\\./g, '$1'); // Allow only one dot\r\n\r\n        // Update the input field\r\n        inputAmountRef.current.value = filteredText;\r\n    };\r\n\r\n\r\n\r\n    const handleCompletePaymentPress = () => {\r\n        const filteredText = invoiceData.paymentDetails.totalAmount.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1') - totalValue;\r\n        inputAmountRef.current.value = filteredText;\r\n    }\r\n\r\n\r\n    const fullPaymentMessage = async () => {\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n        try {\r\n            // Adding the message to the 'messages' subcollection\r\n            await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                text: `Full Payment Received\r\n\r\nDear Customer,\r\n\r\nI hope this message finds you well. \r\n\r\nWe are writing to confirm that we have received your full payment. \r\n\r\nThank you for settling your account promptly.\r\n\r\nShould you have any further questions or require assistance, please feel free to contact us.\r\n                \r\nBest regards,\r\nReal Motor Japan`,\r\n                sender: email,\r\n                timestamp: formattedTime, // Using the fetched timestamp\r\n                messageType: 'InputPayment',\r\n                ip: ip, // IP Address\r\n                ipCountry: ipCountry // Country of the IP Address\r\n            });\r\n\r\n\r\n            // Updating the main chat document with the latest message details\r\n            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                lastMessageSender: email,\r\n                lastMessage: `Full Payment Received\r\n\r\nDear Customer,\r\n\r\nI hope this message finds you well. \r\n\r\nWe are writing to confirm that we have received your full payment. \r\n                \r\nThank you for settling your account promptly.\r\n                \r\nShould you have any further questions or require assistance, please feel free to contact us.\r\n                                \r\nBest regards,\r\nReal Motor Japan`,\r\n                lastMessageDate: formattedTime,\r\n                customerRead: false,\r\n                read: true,\r\n                readBy: [email],\r\n            });\r\n\r\n        } catch (e) {\r\n            console.error('Error adding document: ', e);\r\n        }\r\n    }\r\n\r\n\r\n    const overBalanceMessage = async (amount) => {\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n        try {\r\n            // Adding the message to the 'messages' subcollection\r\n            await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                text: `Dear Customer,\r\n\r\nGood day! \r\n\r\nWe're writing to inform you about your account with us at Real Motor Japan.\r\n                \r\nYou have an extra overbalance in your account.\r\n\r\nAmount: $${amount}\r\n                \r\nFeel free to contact us if you have any questions. We're here to help.\r\n                \r\nBest regards,\r\nReal Motor Japan`,\r\n                sender: email,\r\n                timestamp: formattedTime, // Using the fetched timestamp\r\n                messageType: 'InputPayment',\r\n                ip: ip, // IP Address\r\n                ipCountry: ipCountry // Country of the IP Address\r\n            });\r\n\r\n\r\n            // Updating the main chat document with the latest message details\r\n            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                lastMessageSender: email,\r\n                lastMessage: `Dear Customer,\r\n\r\nGood day! \r\n                \r\nWe're writing to inform you about your account with us at Real Motor Japan.\r\n                                \r\nYou have an extra overbalance in your account.\r\n                \r\nAmount: $${amount}\r\n                                \r\nFeel free to contact us if you have any questions. We're here to help.\r\n                                \r\nBest regards,\r\nReal Motor Japan`,\r\n                lastMessageDate: formattedTime,\r\n                customerRead: false,\r\n                read: true,\r\n                readBy: [email],\r\n            });\r\n\r\n        } catch (e) {\r\n            console.error('Error adding document: ', e);\r\n        }\r\n    }\r\n\r\n    const paymentMessage = async (amount, transactionDate) => {\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n        try {\r\n            // Adding the message to the 'messages' subcollection\r\n            await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                text: ` Payment Confirmation Alert \r\n\r\nDear Customer! \r\n\r\nWe're thrilled to inform you that your recent payment has been successfully reflected in our bank account.\r\n\r\nYour prompt and efficient transaction is greatly appreciated! \r\n\r\n Payment Details:\r\n\r\nAmount: $${amount}\r\nTransaction Date: ${transactionDate}\r\n\r\nYour account and services are now fully up-to-date. If you have any further questions or require assistance, feel free to reach out.\r\n\r\nThank you for your continued trust in us.\r\nLooking forward to serving you more in the future! \r\n\r\nBest regards,\r\nReal Motor Japan`,\r\n                sender: email,\r\n                timestamp: formattedTime, // Using the fetched timestamp\r\n                messageType: 'InputPayment',\r\n                ip: ip, // IP Address\r\n                ipCountry: ipCountry // Country of the IP Address\r\n            });\r\n\r\n\r\n            // Updating the main chat document with the latest message details\r\n            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                lastMessageSender: email,\r\n                lastMessage: ` Payment Confirmation Alert \r\n\r\nDear Customer! \r\n\r\nWe're thrilled to inform you that your recent payment has been successfully reflected in our bank account.\r\n\r\nYour prompt and efficient transaction is greatly appreciated! \r\n\r\n Payment Details:\r\n\r\nAmount: $${amount}\r\nTransaction Date: ${transactionDate}\r\n\r\nYour account and services are now fully up-to-date. If you have any further questions or require assistance, feel free to reach out.\r\n\r\nThank you for your continued trust in us.\r\nLooking forward to serving you more in the future! \r\n\r\nBest regards,\r\nReal Motor Japan`,\r\n                lastMessageDate: formattedTime,\r\n                customerRead: false,\r\n                read: true,\r\n                readBy: [email],\r\n            });\r\n\r\n        } catch (e) {\r\n            console.error('Error adding document: ', e);\r\n        }\r\n    }\r\n\r\n    const confirmPayment = async () => {\r\n        setIsConfirmLoading(true);\r\n\r\n        const amountNeeded = invoiceData.paymentDetails.totalAmount ? invoiceData.paymentDetails.totalAmount.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1') - totalValue : '';\r\n        const docRef = doc(projectExtensionFirestore, 'chats', selectedChatData.id);\r\n        const docRefCustomer = doc(projectExtensionFirestore, 'accounts', selectedChatData.participants.customer);\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n\r\n        const newPayments = [\r\n            { value: inputAmountRef.current.value, date: formattedTime },\r\n        ];\r\n\r\n        const newPaymentsAccount = [\r\n            { value: inputAmountRef.current.value, date: formattedTime, vehicleRef: selectedChatData.carData.referenceNumber, vehicleName: selectedChatData.carData.carName, },\r\n        ];\r\n\r\n        const inputAmount = inputAmountRef.current.value;\r\n        const numericInputAmount = Number(inputAmount);\r\n        const formattedInputAmount = numericInputAmount.toLocaleString();\r\n        const delay = ms => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n        if (inputAmount === '' || inputAmount === '0') {\r\n            setIsConfirmLoading(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (!inputAmount.startsWith('-')) {\r\n                // First, execute paymentMessage\r\n                await paymentMessage(formattedInputAmount, formattedTime);\r\n                await delay(10); //10ms delay\r\n\r\n                if (numericInputAmount >= amountNeeded) {\r\n                    // Once paymentMessage is successful, execute fullPaymentMessage\r\n                    await fullPaymentMessage();\r\n                    await delay(10); //10ms delay\r\n\r\n                    if (numericInputAmount > amountNeeded) {\r\n                        // Calculate overbalance and execute overBalanceMessage\r\n                        const overBalance = numericInputAmount - amountNeeded;\r\n\r\n                        if (overBalance > 0) {\r\n                            await overBalanceMessage(selectedCustomerData.overBalance ? selectedCustomerData.overBalance + overBalance : '');\r\n                            await delay(10); //10ms delay\r\n                            await updateDoc(docRefCustomer, {\r\n                                overBalance: increment(overBalance),\r\n                            });\r\n\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                    // Update step indicator for successful payment\r\n                    await updateDoc(docRef, {\r\n                        'stepIndicator.value': 4,\r\n                        'stepIndicator.status': 'Payment Confirmed',\r\n                    });\r\n\r\n                } else {\r\n                    // Handle the case where the payment is less than the amount needed\r\n                    console.log('Partial payment received');\r\n                }\r\n\r\n                // Update payments and payments history\r\n\r\n                await updateDoc(docRef, {\r\n                    payments: arrayUnion(...newPayments)\r\n                });\r\n\r\n                await updateDoc(docRefCustomer, {\r\n                    paymentsHistory: arrayUnion(...newPaymentsAccount)\r\n                });\r\n\r\n            } else {\r\n                console.error('Negative value entered');\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error('Error processing payment: ', error);\r\n        } finally {\r\n            setIsConfirmLoading(false);\r\n            dispatch(setTransactionModalVisible(false));\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    function formatDate(dateString) {\r\n        // Remove ' at ' from the date string\r\n        const cleanedDateString = dateString.replace(' at ', ' ');\r\n        const date = new Date(cleanedDateString);\r\n\r\n        if (isNaN(date.getTime())) {\r\n            // Date is not valid\r\n            console.error(\"Invalid Date:\", dateString);\r\n            return \"Invalid Date\";\r\n        }\r\n\r\n        const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n        const year = date.getFullYear();\r\n        const month = months[date.getMonth()];\r\n        const day = date.getDate().toString().padStart(2, '0');\r\n\r\n        let hours = date.getHours();\r\n        const minutes = date.getMinutes().toString().padStart(2, '0');\r\n        const ampm = hours >= 12 ? 'pm' : 'am';\r\n\r\n        hours = hours % 12;\r\n        hours = hours ? hours : 12; // the hour '0' should be '12'\r\n\r\n        return `${year} ${month} ${day} at ${hours}:${minutes}${ampm}`;\r\n    }\r\n\r\n    const PaymentHistoryModal = ({ historyModalVisible, handleHistoryModalClose, payments }) => {\r\n        // Create a copy of payments and sort it by date in descending order\r\n        const sortedPayments = [...payments].sort((a, b) => {\r\n            const dateA = a.date;\r\n            const dateB = b.date;\r\n            return dateB - dateA; // Sorts in descending order\r\n        });\r\n\r\n        // console.log(sortedPayments);\r\n\r\n        return (\r\n            <Modal isOpen={historyModalVisible} onClose={handleHistoryModalClose} useRNModal>\r\n                <Modal.Content style={{ backgroundColor: 'white', borderRadius: 10 }}>\r\n                    <Modal.CloseButton />\r\n                    <Modal.Header style={{ textAlign: 'center', fontSize: 18, fontWeight: 'bold', color: '#333' }}>\r\n                        Payment History\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <ScrollView style={{ flex: 1, paddingHorizontal: 15, maxHeight: 500, }}>\r\n                            {\r\n                                sortedPayments.length > 0 ?\r\n                                    sortedPayments.map((payment, index) => (\r\n                                        <View key={index} style={{\r\n                                            marginBottom: 15,\r\n                                            backgroundColor: '#F8F9FF', // Card background color\r\n                                            borderRadius: 10, // Rounded corners for the card\r\n                                            shadowColor: '#000', // Shadow color\r\n                                            shadowOffset: { width: 0, height: 2 },\r\n                                            shadowOpacity: 0.1,\r\n                                            shadowRadius: 2,\r\n                                            elevation: 3, // Elevation for Android\r\n                                            padding: 15, // Padding inside the card\r\n                                            borderBottomWidth: 1,\r\n                                            borderBottomColor: '#eee',\r\n                                        }}>\r\n\r\n                                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: 'black', marginBottom: 5 }}>\r\n                                                <Text style={{ fontWeight: 'bold', color: '#0A78BE', }}>Date: </Text>\r\n                                                <Text style={{ color: '#333' }}>\r\n                                                    {formatDate(sortedPayments[sortedPayments.length - 1 - index].date)}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: 'black', marginBottom: 5 }}>\r\n                                                <Text style={{ fontWeight: 'bold', color: '#0A78BE', }}>Value: </Text>\r\n                                                <Text style={{ color: Number(sortedPayments[sortedPayments.length - 1 - index].value).toLocaleString().startsWith('-') ? '#FF0000' : '#16A34A' }}>\r\n                                                    ${Number(sortedPayments[sortedPayments.length - 1 - index].value).toLocaleString()}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                        </View>\r\n                                    )) :\r\n                                    <Text style={{ fontWeight: 'bold', alignSelf: 'center', }} italic>No history to show</Text>\r\n                            }\r\n                        </ScrollView>\r\n\r\n                    </Modal.Body>\r\n                </Modal.Content>\r\n            </Modal>\r\n        );\r\n    };\r\n\r\n    const totalValue = selectedChatData.payments\r\n        ? selectedChatData.payments.reduce((sum, payment) => {\r\n            const value = Number(payment.value);\r\n            return sum + (isNaN(value) ? 0 : value);\r\n        }, 0)\r\n        : 0;\r\n\r\n    const isTotalValueGreater = Number(totalValue) < Number(invoiceData.paymentDetails.totalAmount.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1'));\r\n    const displayedAmount = isTotalValueGreater ? Number(totalValue).toLocaleString() : invoiceData.paymentDetails.totalAmount;\r\n\r\n    return (\r\n\r\n        <View style={{ flex: 1, }}>\r\n\r\n            <View style={{ marginLeft: 5, }}>\r\n\r\n                <Text style={{ fontWefight: 700, fontSize: 14, }}>Total Paid:</Text>\r\n\r\n                <Progress w=\"300\" shadow={2} value={Number(totalValue)} max={totalAmountNumber} _filledTrack={{\r\n                    bg: \"lime.500\"\r\n                }} />\r\n\r\n                <Text style={{ fontWeight: 700, fontSize: 14, color: '#FF0000', }}>${displayedAmount}\r\n                    <Text style={{ fontWeight: 700, fontSize: 14, color: '#8D7777', }}> out of </Text>\r\n                    <Text style={{ fontWeight: 700, fontSize: 14, color: '#16A34A', }}>{`$${invoiceData.paymentDetails.totalAmount}`}</Text>\r\n                </Text>\r\n\r\n            </View>\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', margin: 2, }} />{/* Horizontal Line */}\r\n\r\n            <View style={{ marginLeft: 5, }}>\r\n\r\n                <Pressable\r\n                    onPress={handleHistoryModalOpen}\r\n                    style={{ width: 'fit-content', }}>\r\n                    <Text style={{ fontWeight: 700, fontSize: 14, color: '#0A78BE', }} underline selectable={false}>Payments History</Text>\r\n                </Pressable>\r\n\r\n            </View>\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', margin: 2, }} />{/* Horizontal Line */}\r\n\r\n            <View style={{ marginLeft: 5, marginTop: 5, }}>\r\n\r\n                <Text style={{ fontWeight: 700, fontSize: 14, }}>Input Amount:</Text>\r\n\r\n                <View style={{ flexDirection: 'row', alignItems: 'center', }}>\r\n\r\n                    <Text style={{ fontWeight: 700, fontSize: 18, }}>$</Text>\r\n\r\n                    <TextInput\r\n                        ref={inputAmountRef}\r\n                        placeholderTextColor='#9B9E9F' placeholder='Input Amount'\r\n                        style={{ height: 35, width: 300, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                        onChangeText={handleInputAmountChangeText}\r\n                    />\r\n\r\n                </View>\r\n\r\n                <Pressable\r\n                    onPress={handleCompletePaymentPress}\r\n                    style={{ width: 'fit-content', }}>\r\n                    <Text style={{ fontWeight: 700, fontSize: 14, color: '#16A34A', }} underline selectable={false}>Complete Payment</Text>\r\n                </Pressable>\r\n\r\n            </View>\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', margin: 2, }} />{/* Horizontal Line */}\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'center', alignItems: 'center', margin: 5, }}>\r\n                <View\r\n                    style={{\r\n                        flex: 1,\r\n                        backgroundColor: '#16A34A', // Change color on hover\r\n                        borderRadius: 5,\r\n                        padding: 5,\r\n                    }}\r\n                >\r\n                    {!isConfirmLoading ? (\r\n                        <Pressable\r\n                            onPress={() => confirmPayment()}\r\n                        >\r\n                            <Text style={{ alignSelf: 'center', color: 'white' }}>\r\n                                Confirm\r\n                            </Text>\r\n                        </Pressable>\r\n                    ) : (\r\n                        <Spinner size={'sm'} color={'white'} />)}\r\n\r\n                </View>\r\n            </View>\r\n\r\n            <PaymentHistoryModal\r\n                historyModalVisible={historyModalVisible}\r\n                handleHistoryModalClose={handleHistoryModalClose}\r\n                payments={selectedChatData.payments ? selectedChatData.payments : []} />\r\n\r\n        </View>\r\n\r\n    );\r\n\r\n}\r\n\r\nconst IssueProformaInvoiceModalContent = () => {\r\n    const dispatch = useDispatch();\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const currentDate = useSelector((state) => state.currentDate);\r\n    const [isConfirmHovered, setIsConfirmHovered] = useState(false);\r\n    const [isConfirmLoading, setIsConfirmLoading] = useState(false);\r\n\r\n    const cfsInputRef = useRef(null);\r\n    const placeOfDeliveryInputRef = useRef(null);\r\n    const secretKey = CRYPTO_KEY.toString();\r\n\r\n\r\n\r\n    const invoiceMessage = async () => {\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n        try {\r\n            // Adding the message to the 'messages' subcollection\r\n            await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                text: 'Issued Invoice',\r\n                sender: email,\r\n                timestamp: formattedTime, // Using the fetched timestamp\r\n                messageType: 'IssuedInvoice',\r\n                ip: ip, // IP Address\r\n                ipCountry: ipCountry // Country of the IP Address\r\n            });\r\n\r\n\r\n            // Updating the main chat document with the latest message details\r\n            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                lastMessageSender: email,\r\n                lastMessage: 'Issued Invoice',\r\n                lastMessageDate: formattedTime,\r\n                customerRead: false,\r\n                read: true,\r\n                readBy: [email],\r\n            });\r\n\r\n        } catch (e) {\r\n            console.error('Error adding document: ', e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const confirmInvoice = async () => {\r\n        setIsConfirmLoading(true);\r\n        const year = currentDate.split('-')[0]; // Split the date and get the year\r\n        const yearSuffix = year.slice(-2); // Get last 2 digits of the year\r\n        const collectionRef = collection(projectExtensionFirestore, \"IssuedInvoice\");\r\n\r\n        try {\r\n            // Retrieve all documents for the current yearF\r\n            const querySnapshot = await getDocs(collectionRef);\r\n            let maxNumber = 0;\r\n\r\n            querySnapshot.forEach((doc) => {\r\n                const docName = doc.id;\r\n                if (docName.startsWith(yearSuffix)) {\r\n                    const number = parseInt(docName.substring(2), 10);\r\n                    if (number > maxNumber) {\r\n                        maxNumber = number;\r\n                    }\r\n                }\r\n            });\r\n\r\n            const nextNumber = maxNumber + 1;\r\n            const docName = `${yearSuffix}${nextNumber}`;\r\n            const docRef = doc(projectExtensionFirestore, \"IssuedInvoice\", docName);\r\n            const docRefChatId = doc(projectExtensionFirestore, \"chats\", selectedChatData.id);\r\n\r\n            const hashedData = createHmacSha256Hash(docName, secretKey);\r\n\r\n            // Create a new document with the globalInvoiceVariable object\r\n            if (selectedChatData.invoiceNumber) {\r\n                const updateDocRef = doc(projectExtensionFirestore, \"IssuedInvoice\", selectedChatData.invoiceNumber);\r\n\r\n                await setDoc(updateDocRef, {\r\n                    ...globalInvoiceVariable,\r\n                    carData: selectedChatData.carData,\r\n                }, { merge: true });\r\n\r\n                if (selectedChatData.stepIndicator.value == 1) {\r\n                    await updateDoc(docRefChatId, {\r\n                        'stepIndicator.status': 'Issue Proforma Invoice',\r\n                        'stepIndicator.value': 2,\r\n                        // finalPrice: globalInvoiceVariable.paymentDetails.totalAmount.replace(/,/g, ''),\r\n                    });\r\n                }\r\n\r\n                invoiceMessage();\r\n                setIsConfirmLoading(false);\r\n                dispatch(setTransactionModalVisible(false));\r\n            }\r\n\r\n            else {\r\n\r\n                await setDoc(docRef, {\r\n                    ...globalInvoiceVariable,\r\n                    cryptoNumber: hashedData,\r\n                    carData: selectedChatData.carData,\r\n                });\r\n\r\n                await updateDoc(docRefChatId, {\r\n                    keywords: arrayUnion(docName),\r\n                    invoiceNumber: docName,\r\n                    'stepIndicator.status': 'Issue Proforma Invoice',\r\n                    'stepIndicator.value': 2,\r\n                    // finalPrice: globalInvoiceVariable.paymentDetails.totalAmount.replace(/,/g, ''),\r\n                });\r\n\r\n                invoiceMessage();\r\n                setIsConfirmLoading(false);\r\n                dispatch(setTransactionModalVisible(false));\r\n\r\n\r\n            }\r\n\r\n\r\n        } catch (error) {\r\n            console.error(\"Error creating document: \", error);\r\n        }\r\n    };\r\n\r\n    // useEffect(() => {\r\n    //     calculateTotalAmount();\r\n    // }, [additionalPriceArray]);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        globalInvoiceVariable.cfs = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.cfs ? invoiceData.cfs : cfsInputRef.current?.value;\r\n        globalInvoiceVariable.placeOfDelivery = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.placeOfDelivery ? invoiceData.placeOfDelivery : placeOfDeliveryInputRef.current?.value;\r\n\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <ScrollView style={{ flex: 1, maxHeight: 500, }}>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ fontWeight: 700, margin: 3, }}>CFS:</Text>\r\n                <TextInput\r\n                    defaultValue={invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.cfs ? invoiceData.cfs : ''}\r\n                    ref={cfsInputRef} placeholderTextColor='#9B9E9F' placeholder='Input CFS (Optional)'\r\n                    style={{ height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                    onChangeText={(value) => globalInvoiceVariable.cfs = value} />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ fontWeight: 700, margin: 3, }}>Place of Delivery:</Text>\r\n                <TextInput\r\n                    defaultValue={invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.placeOfDelivery ? invoiceData.placeOfDelivery : ''}\r\n                    ref={placeOfDeliveryInputRef} placeholderTextColor='#9B9E9F' placeholder='Place of Delivery (Optional)'\r\n                    style={{ height: 25, width: 200, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                    onChangeText={(value) => globalInvoiceVariable.placeOfDelivery = value} />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 5, alignItems: 'center' }}>\r\n                <Text style={{ fontWeight: 700, margin: 3 }}>Port of Departure:</Text>\r\n                <SelectPortOfDeparture />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 5, }}>\r\n                <Text style={{ fontWeight: 700, margin: 3, }}>Sales Person:</Text>\r\n                <SelectSalesPerson />\r\n            </View>\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', margin: 5, }} />\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ fontWeight: 700, margin: 3, }}>Port of Discharge:</Text>\r\n                {/*Select Discharge*/}\r\n                <SelectPortOfDischarge />\r\n            </View>\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', margin: 5, }} />\r\n\r\n            <ConsigneeInput />\r\n\r\n            <PaymentDetails />\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', }} />\r\n\r\n            <BankInformation />\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', margin: 2, }} />{/* Horizontal Line */}\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'center', alignItems: 'center', margin: 5, }}>\r\n                <View\r\n\r\n                    // onTouchEnd={() => confirmInvoice()}\r\n                    style={{\r\n                        flex: 1,\r\n                        backgroundColor: isConfirmHovered ? '#145A32' : '#16A34A', // Change color on hover\r\n                        borderRadius: 5,\r\n                        padding: 5,\r\n                    }}\r\n\r\n                // onMouseEnter={() => setIsConfirmHovered(true)}\r\n                // onMouseLeave={() => setIsConfirmHovered(false)}\r\n                >\r\n                    {!isConfirmLoading ? (\r\n                        <Pressable onPress={() => confirmInvoice()}>\r\n                            <Text style={{ alignSelf: 'center', color: 'white' }}>\r\n                                Confirm\r\n                            </Text>\r\n                        </Pressable>\r\n\r\n                    ) : (\r\n                        <Spinner size={'sm'} color={'white'} />)}\r\n\r\n                </View>\r\n            </View>\r\n        </ScrollView>\r\n    );\r\n}\r\n\r\n\r\nconst ProfitCalculator = () => {\r\n\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n\r\n    const [totalSCCAmount, setTotalSCCAmount] = useState(0);\r\n    const [formattedTotalSCCAmount, setFormattedTotalSCCAmount] = useState(0);\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [isHovered, setIsHovered] = useState(false);\r\n    const [totalProfitAmountDollars, setTotalProfitAmountDollars] = useState(0);\r\n    const hoverIn = () => setIsHovered(true);\r\n    const hoverOut = () => setIsHovered(false);\r\n\r\n    const inputPriceRef = useRef(null);\r\n\r\n\r\n    const [portsData, setPortsData] = useState({});\r\n    const [origFreight, setOrigFreight] = useState(0);\r\n    const [lastFetchedPort, setLastFetchedPort] = useState('');\r\n\r\n\r\n    // Function to fetch ports data from Firestore\r\n    const fetchPortsData = async () => {\r\n        const currentPort = invoiceData.discharge.port;\r\n        const freightOrigPrice = selectedChatData.freightOrigPrice;\r\n\r\n        // Fetch data if the current port is different from the last fetched port\r\n        // and if freightOrigPrice is valid (exists, not an empty string, and not 0)\r\n        if (currentPort !== lastFetchedPort && !freightOrigPrice) {\r\n\r\n            const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'PortsDoc');\r\n            try {\r\n                const docSnap = await getDoc(docRef);\r\n\r\n                if (docSnap.exists()) {\r\n                    const data = docSnap.data();\r\n                    if (data[currentPort]?.kobePrice !== undefined) {\r\n\r\n                        if (invoiceData.departurePort == \"Nagoya\") {\r\n\r\n                            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                                freightOrigPrice: data[currentPort].nagoyaPrice,\r\n                            });\r\n                            // console.log(\"Nagoya Price \", data[currentPort].nagoyaPrice);\r\n\r\n                        }\r\n                        else if (invoiceData.departurePort == \"Yokohama\") {\r\n                            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                                freightOrigPrice: data[currentPort].yokohamaPrice,\r\n                            });\r\n                            // console.log(\"Yokohama Price \", data[currentPort].yokohamaPrice);\r\n\r\n                        }\r\n                        else if (invoiceData.departurePort == \"Kyushu\") {\r\n                            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                                freightOrigPrice: data[currentPort].kyushuPrice,\r\n                            });\r\n                            // console.log(\"Kyushu Price \", data[currentPort].kyushuPrice);\r\n\r\n                        }\r\n                        else if (invoiceData.departurePort == \"Kobe\") {\r\n                            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                                freightOrigPrice: data[currentPort].kobePrice,\r\n                            });\r\n                            // console.log(\"Kobe Price \", data[currentPort].kobePrice);\r\n\r\n                        }\r\n\r\n                        setLastFetchedPort(currentPort); // Update last fetched port\r\n                    } else {\r\n                        console.log('Port data not found for the given port');\r\n                    }\r\n                } else {\r\n                    console.log('No such document!');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching document:', error);\r\n            }\r\n        } else {\r\n            console.log('No need to fetch new data');\r\n        }\r\n    };\r\n\r\n\r\n    // useEffect for fetching ports data\r\n    // useEffect(() => {\r\n    //     // Fetch ports data\r\n    //     const fetchPortsData = async () => {\r\n    //         const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'PortsDoc');\r\n\r\n    //         try {\r\n    //             const docSnap = await getDoc(docRef);\r\n\r\n    //             if (docSnap.exists()) {\r\n    //                 const data = docSnap.data();\r\n    //                 setPortsData(data[invoiceData.discharge.port].kobePrice);\r\n    //                 console.log(data[invoiceData.discharge.port].kobePrice);\r\n    //             } else {\r\n    //                 console.log('No such document!');\r\n    //             }\r\n    //         } catch (error) {\r\n    //             console.error('Error fetching document:', error);\r\n    //         }\r\n    //     };\r\n\r\n    //     fetchPortsData();\r\n\r\n    // }, [invoiceData]);\r\n\r\n\r\n    const handleModalOpen = () => {\r\n        setModalVisible(true);\r\n        inputPriceRef.current.value = defaultInputPrice;\r\n        calculateTotalAmount();\r\n\r\n    };\r\n\r\n    const handleModalClose = () => {\r\n        setModalVisible(false);\r\n\r\n    };\r\n\r\n\r\n    const fee = {\r\n        auction: 10000,\r\n        transport: 10000,\r\n        shippingAgent: 15000,\r\n    };\r\n\r\n    const purchasedPrice = Number(selectedChatData.carData && selectedChatData.carData.purchasedPrice ? selectedChatData.carData.purchasedPrice : 0);\r\n    const formattedPurchasedPrice = Number(purchasedPrice).toLocaleString('en-US', { style: 'currency', currency: 'JPY', minimumFractionDigits: 0, maximumFractionDigits: 0 });\r\n\r\n    const auctionFee = Number(fee.auction);\r\n    const formattedAuctionFee = Number(auctionFee).toLocaleString('en-US', { style: 'currency', currency: 'JPY', minimumFractionDigits: 0, maximumFractionDigits: 0 });\r\n\r\n    const transportFee = Number(fee.transport);\r\n    const formattedTransportFee = Number(transportFee).toLocaleString('en-US', { style: 'currency', currency: 'JPY', minimumFractionDigits: 0, maximumFractionDigits: 0 });\r\n\r\n    const shippingAgentFee = Number(fee.shippingAgent);\r\n    const formattedShippingAgentFee = Number(shippingAgentFee).toLocaleString('en-US', { style: 'currency', currency: 'JPY', minimumFractionDigits: 0, maximumFractionDigits: 0 });\r\n\r\n    const cubicMeter = Number(selectedChatData.carData && selectedChatData.carData.dimensionCubicMeters ? selectedChatData.carData.dimensionCubicMeters : 0).toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });\r\n\r\n    const costPerCubicMeter = Number(selectedChatData && selectedChatData.freightOrigPrice ? selectedChatData.freightOrigPrice : 0);\r\n    const formattedCostPerCubicMeter = Number(costPerCubicMeter).toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 });\r\n\r\n    const totalCubicMeterCostDollars = Number(costPerCubicMeter * cubicMeter);\r\n    const formattedTotalCubicMeterCostDollars = Number(costPerCubicMeter * cubicMeter).toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 });\r\n\r\n    const totalCubicMeterCostYen = Number(totalCubicMeterCostDollars * selectedChatData.currency.usdToJpy);\r\n    const formattedTotalCubicMeterCostYen = Number(totalCubicMeterCostYen).toLocaleString('en-US', { style: 'currency', currency: 'JPY', minimumFractionDigits: 0, maximumFractionDigits: 0 });\r\n\r\n    const realTotalPriceYen = (purchasedPrice + auctionFee + transportFee + shippingAgentFee + totalSCCAmount + totalCubicMeterCostYen)\r\n    const formattedRealTotalPriceYen = Number(realTotalPriceYen).toLocaleString('en-US', { style: 'currency', currency: 'JPY', minimumFractionDigits: 0, maximumFractionDigits: 0 });\r\n\r\n    const realTotalPriceDollars = realTotalPriceYen * selectedChatData.currency.jpyToUsd;\r\n    const formattedRealTotalPriceDollars = realTotalPriceDollars.toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 });\r\n\r\n\r\n    const freightCalculation = ((selectedChatData.m3 ? selectedChatData.m3 :\r\n        (selectedChatData.carData && selectedChatData.carData.dimensionCubicMeters ?\r\n            selectedChatData.carData.dimensionCubicMeters : 0)) *\r\n        Number(selectedChatData.freightPrice));\r\n\r\n\r\n    const totalPriceCalculation = (selectedChatData.fobPrice ? selectedChatData.fobPrice :\r\n        (selectedChatData.carData && selectedChatData.carData.fobPrice ?\r\n            selectedChatData.carData.fobPrice : 0) *\r\n        (selectedChatData.jpyToUsd ? selectedChatData.jpyToUsd :\r\n            (selectedChatData.currency && selectedChatData.currency.jpyToUsd ?\r\n                selectedChatData.currency.jpyToUsd : 0))) + freightCalculation;\r\n\r\n    const defaultInputPrice = Math.round(\r\n        invoiceData && invoiceData.paymentDetails && invoiceData.paymentDetails.totalAmount\r\n            ? Number(invoiceData.paymentDetails.totalAmount.replace(/,/g, ''))\r\n            : totalPriceCalculation\r\n    );\r\n\r\n\r\n\r\n\r\n    const safelyParseNumber = (value) => {\r\n        const number = Number(value.replace(/,/g, ''));\r\n        return isNaN(number) ? 0 : number;\r\n    };\r\n\r\n    const calculateTotalAmount = () => {\r\n\r\n        const inputPrice = safelyParseNumber(inputPriceRef.current?.value);\r\n\r\n        const totalAmountDollars = Math.round(inputPrice - realTotalPriceDollars);\r\n        setTotalProfitAmountDollars(totalAmountDollars);\r\n        // const total = Math.round(fobPrice + freight + inspection + insurance + additionalPricesTotal).toLocaleString();\r\n        // setTotalAmountCalculated(total);\r\n        // globalInvoiceVariable.paymentDetails.totalAmount = total;\r\n    };\r\n\r\n    const handleInputPriceChangeText = (text) => {\r\n        const filteredText = text.replace(/[^0-9]/g, '');\r\n        inputPriceRef.current.value = filteredText;\r\n\r\n        calculateTotalAmount();\r\n    };\r\n\r\n    useEffect(() => {\r\n\r\n        if (selectedChatData.carData && selectedChatData.carData.supplyChainsCostsData) {\r\n\r\n            const amounts = selectedChatData.carData.supplyChainsCostsData.map((item) => {\r\n                const expenseName = Object.keys(item)[0];\r\n                const expenseData = item[expenseName];\r\n                return parseFloat(expenseData.amount.replace(',', '')) || 0;\r\n            });\r\n\r\n            // Use reduce to add up all the amounts\r\n            const totalAmount = amounts.reduce((accumulator, currentValue) => accumulator + currentValue, 0);\r\n            const formattedTotalAmount = totalAmount.toLocaleString('en-US', { style: 'currency', currency: 'JPY', minimumFractionDigits: 0, maximumFractionDigits: 0 });\r\n\r\n            setTotalSCCAmount(totalAmount);\r\n            setFormattedTotalSCCAmount(formattedTotalAmount);\r\n\r\n\r\n            // console.log(defaultInputPrice);\r\n            // console.log(realTotalPriceDollars);\r\n            // console.log(formattedRealTotalPriceDollars);\r\n            // console.log(realTotalPriceYen);\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const freightOrigPrice = selectedChatData.freightOrigPrice;\r\n\r\n        if (modalVisible && !freightOrigPrice) {\r\n            fetchPortsData();\r\n        }\r\n\r\n\r\n    }, [modalVisible]);\r\n\r\n    useEffect(() => {\r\n\r\n        if (totalSCCAmount !== 0 || totalSCCAmount !== '') {\r\n            const totalAmountDollars = Math.round(defaultInputPrice - realTotalPriceDollars);\r\n            setTotalProfitAmountDollars(totalAmountDollars);\r\n        }\r\n\r\n\r\n    }, [totalSCCAmount]);\r\n\r\n    return (\r\n\r\n        <>\r\n            <Pressable\r\n                onPress={handleModalOpen}\r\n                focusable={false}\r\n                variant='ghost'\r\n                onHoverIn={hoverIn}\r\n                onHoverOut={hoverOut}\r\n                style={{\r\n                    marginTop: 3,\r\n                    paddingVertical: 3,\r\n                    paddingHorizontal: 5,\r\n                    flexDirection: 'row', // Align items in a row\r\n                    alignItems: 'center', // Center items vertically\r\n                    justifyContent: 'center',\r\n                    borderRadius: 5,\r\n                    backgroundColor: isHovered ? '#4c555c' : '#6e7a83',\r\n                }}>\r\n                <Ionicons size={15} color={'white'} name='calculator' />\r\n                <Text style={{ textAlign: 'center', color: 'white', fontWeight: 'bold', }} >Profit Calculator</Text>\r\n            </Pressable>\r\n\r\n            <Modal\r\n                isOpen={modalVisible}\r\n                onClose={() => {\r\n                    handleModalClose()\r\n                }}\r\n                initialFocusRef={inputPriceRef}\r\n                size={'lg'}\r\n            >\r\n                <Modal.Content>\r\n                    <Modal.CloseButton />\r\n                    <Modal.Header>Profit Calculator</Modal.Header>\r\n                    <Modal.Body style={{ flexDirection: 'row', backgroundColor: '#fafafa', }}>\r\n\r\n                        <View style={{ flex: 1, borderRightWidth: 1, borderRightColor: '#DADDE1', }}>\r\n\r\n                            <View style={{ marginBottom: 10, borderWidth: 1, borderColor: '#DADDE1', borderRadius: 5, marginRight: 3, padding: 3, backgroundColor: 'white', }}>\r\n                                <Text style={{ fontWeight: 'bold', marginVertical: 5, fontSize: 20, lineHeight: 14, }}>Profit (Yen):</Text>\r\n                                <Text selectable style={{\r\n                                    fontWeight: '700', fontSize: 18,\r\n                                    color: Number(totalProfitAmountDollars * selectedChatData.currency.usdToJpy) < 0 ? '#FF0000' : '#8D7777',\r\n                                }}>\r\n                                    {`${Number(totalProfitAmountDollars * selectedChatData.currency.usdToJpy).toLocaleString('en-US', { style: 'currency', currency: 'JPY', minimumFractionDigits: 0, maximumFractionDigits: 0 })}`}\r\n                                </Text>\r\n                            </View>\r\n\r\n                            <View style={{ marginBottom: 10, borderWidth: 1, borderColor: '#DADDE1', borderRadius: 5, marginRight: 3, padding: 3, backgroundColor: 'white', }}>\r\n                                <Text style={{ fontWeight: 'bold', marginVertical: 5, fontSize: 20, lineHeight: 14, }}>Profit (US Dollars):</Text>\r\n                                <Text selectable style={{\r\n                                    fontWeight: '700', fontSize: 18,\r\n                                    color: Number(totalProfitAmountDollars) < 0 ? '#FF0000' : '#16A34A',\r\n                                }}>\r\n                                    {`${Number(totalProfitAmountDollars).toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 })}`}\r\n                                </Text>\r\n                            </View>\r\n\r\n                            <View style={{ marginBottom: 10, borderWidth: 1, borderColor: '#DADDE1', borderRadius: 5, marginRight: 3, padding: 3, backgroundColor: 'white', }}>\r\n                                <Text style={{ fontWeight: 'bold', marginVertical: 5, fontSize: 20, lineHeight: 14, }}>Profit (Percentage):</Text>\r\n                                <Text selectable style={{\r\n                                    fontWeight: '700', fontSize: 18,\r\n                                    color: Number(((totalProfitAmountDollars * selectedChatData.currency.usdToJpy) / purchasedPrice) * 100) <= 10.5 ? '#FF0000' : '#336699',\r\n                                }}>\r\n                                    {`${Number(((totalProfitAmountDollars * selectedChatData.currency.usdToJpy) / purchasedPrice) * 100).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}%`}\r\n                                </Text>\r\n                            </View>\r\n\r\n                            <View style={{ marginBottom: 10, borderWidth: 1, borderColor: '#DADDE1', borderRadius: 5, marginRight: 3, padding: 3, backgroundColor: '#6E7A83', }}>\r\n                                <Text style={{ fontWeight: 'bold', marginVertical: 5, fontSize: 20, lineHeight: 14, color: 'white', }}>Price to calculate:</Text>\r\n                                <TextInput\r\n                                    onChangeText={handleInputPriceChangeText}\r\n                                    defaultValue={defaultInputPrice}\r\n                                    ref={inputPriceRef}\r\n                                    placeholderTextColor='#9B9E9F' placeholder='Input Price'\r\n                                    style={{\r\n                                        backgroundColor: 'white',\r\n                                        height: 25,\r\n                                        margin: 2,\r\n                                        padding: 1,\r\n                                        borderRadius: 4,\r\n                                        borderWidth: 1,\r\n                                        borderColor: 'white',\r\n                                        outlineStyle: 'none',\r\n                                        fontSize: 18,\r\n                                        fontWeight: '700',\r\n                                    }}\r\n                                />\r\n                            </View>\r\n\r\n                        </View>\r\n\r\n\r\n                        <View style={{ flex: 1, marginLeft: 3 }}>\r\n\r\n                            <View style={{ marginBottom: 10, borderWidth: 1, borderColor: '#DADDE1', borderRadius: 5, marginRight: 3, padding: 3, backgroundColor: 'white', }}>\r\n                                <Text style={{ fontWeight: 'bold', marginVertical: 5, fontSize: 16, lineHeight: 14, }}>Purchased Price:</Text>\r\n                                <Text selectable style={{ fontWeight: '400', fontSize: 14, lineHeight: 14, }}>\r\n                                    {`${formattedPurchasedPrice}`}\r\n                                </Text>\r\n                            </View>\r\n\r\n                            <View style={{ marginBottom: 10, borderWidth: 1, borderColor: '#DADDE1', borderRadius: 5, marginRight: 3, padding: 3, backgroundColor: 'white', }}>\r\n                                <Text style={{ fontWeight: 'bold', marginVertical: 5, fontSize: 16, lineHeight: 14, }}>Auction Fee:</Text>\r\n                                <Text selectable style={{ fontWeight: '400', fontSize: 14, lineHeight: 14, }}>\r\n                                    {`${formattedAuctionFee}`}\r\n                                </Text>\r\n                            </View>\r\n\r\n                            <View style={{ marginBottom: 10, borderWidth: 1, borderColor: '#DADDE1', borderRadius: 5, marginRight: 3, padding: 3, backgroundColor: 'white', }}>\r\n                                <Text style={{ fontWeight: 'bold', marginVertical: 5, fontSize: 16, lineHeight: 14, }}>Transport Fee:</Text>\r\n                                <Text selectable style={{ fontWeight: '400', fontSize: 14, lineHeight: 14, }}>\r\n                                    {`${formattedTransportFee}`}\r\n                                </Text>\r\n                            </View>\r\n\r\n                            <View style={{ marginBottom: 10, borderWidth: 1, borderColor: '#DADDE1', borderRadius: 5, marginRight: 3, padding: 3, backgroundColor: 'white', }}>\r\n                                <Text style={{ fontWeight: 'bold', marginVertical: 5, fontSize: 16, lineHeight: 14, }}>Shipping Agent Fee:</Text>\r\n                                <Text selectable style={{ fontWeight: '400', fontSize: 14, lineHeight: 14, }}>\r\n                                    {`${formattedShippingAgentFee}`}\r\n                                </Text>\r\n                            </View>\r\n\r\n                            <View style={{ marginBottom: 10, borderWidth: 1, borderColor: '#DADDE1', borderRadius: 5, marginRight: 3, padding: 3, backgroundColor: 'white', }}>\r\n                                <Text style={{ fontWeight: 'bold', marginVertical: 5, fontSize: 16, lineHeight: 14, }}>Supply Chains Costs:</Text>\r\n                                <Text selectable style={{ fontWeight: '400', fontSize: 14, lineHeight: 14, }}>\r\n                                    {`${formattedTotalSCCAmount}`}\r\n                                </Text>\r\n                            </View>\r\n\r\n                            <View style={{ marginBottom: 10, borderWidth: 1, borderColor: '#DADDE1', borderRadius: 5, marginRight: 3, padding: 3, backgroundColor: 'white', }}>\r\n                                <Text style={{ fontWeight: 'bold', marginVertical: 5, fontSize: 16, lineHeight: 14, }}>Cubic Meter:</Text>\r\n                                <Text selectable style={{ fontWeight: '400', fontSize: 14, lineHeight: 14, }}>\r\n                                    {`${cubicMeter}`}\r\n                                </Text>\r\n                            </View>\r\n\r\n                            <View style={{ marginBottom: 10, borderWidth: 1, borderColor: '#DADDE1', borderRadius: 5, marginRight: 3, padding: 3, backgroundColor: 'white', }}>\r\n                                <Text style={{ fontWeight: 'bold', marginVertical: 5, fontSize: 16, lineHeight: 14, }}>Cost per Cubic Meter:</Text>\r\n                                <Text selectable style={{ fontWeight: '400', fontSize: 14, lineHeight: 14, }}>\r\n                                    {`${formattedCostPerCubicMeter} x ${cubicMeter}`}\r\n                                </Text>\r\n                                <Text selectable style={{ fontWeight: '700', fontSize: 14, lineHeight: 14, color: '#16A34A', }}>\r\n                                    {`${formattedTotalCubicMeterCostDollars}`}\r\n                                </Text>\r\n                                <Text selectable style={{ fontWeight: '700', fontSize: 14, lineHeight: 14, color: '#8D7777', }}>\r\n                                    {`${formattedTotalCubicMeterCostYen}`}\r\n                                </Text>\r\n                            </View>\r\n\r\n                            <View style={{ marginBottom: 10, borderWidth: 1, borderColor: '#DADDE1', borderRadius: 5, marginRight: 3, padding: 3, backgroundColor: 'white', }}>\r\n                                <Text style={{ fontWeight: 'bold', marginVertical: 5, fontSize: 20, lineHeight: 14, }}>Total:</Text>\r\n                                <Text selectable style={{ fontWeight: '700', fontSize: 18, color: '#8D7777', }}>\r\n                                    {`${formattedRealTotalPriceYen}`}\r\n                                </Text>\r\n                                <Text selectable style={{ fontWeight: '700', fontSize: 18, color: '#16A34A', }}>\r\n                                    {`${formattedRealTotalPriceDollars}`}\r\n                                </Text>\r\n                            </View>\r\n\r\n                        </View>\r\n\r\n\r\n\r\n                    </Modal.Body>\r\n                </Modal.Content>\r\n            </Modal>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nconst PreviewInvoice = () => {\r\n\r\n    // npm install html2canvas jspdf\r\n    // import jsPDF from 'jspdf';\r\n    // import html2canvas from 'html2canvas';\r\n    const dispatch = useDispatch();\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const previewInvoiceVisible = useSelector((state) => state.previewInvoiceVisible);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const [isPreviewHovered, setIsPreviewHovered] = useState(false);\r\n    const screenWidth = Dimensions.get('window').width;\r\n    const invoiceRef = useRef(null);\r\n    const [invoiceImageUri, setInvoiceImageUri] = useState('');\r\n    const hoverPreviewIn = () => setIsPreviewHovered(true);\r\n    const hoverPreviewOut = () => setIsPreviewHovered(false);\r\n    const [capturedImageUri, setCapturedImageUri] = useState('');\r\n    const [vehicleImageUri, setVehicleImageUri] = useState(globalImageUrl);\r\n    const [featuresTrueCount, setFeaturesTrueCount] = useState(0);\r\n    const [rerenderState, setRerenderState] = useState(0);\r\n\r\n    const handlePreviewInvoiceModalOpen = () => {\r\n        dispatch(setPreviewInvoiceVisible(true));\r\n    };\r\n\r\n    const handlePreviewInvoiceModalClose = () => {\r\n        dispatch(setPreviewInvoiceVisible(false));\r\n        setCapturedImageUri('');\r\n    }\r\n\r\n    function countTrueValuesInCarData(invoiceData) {\r\n        let count = 0;\r\n\r\n        // Check if carData exists in invoiceData\r\n        if (invoiceData.carData) {\r\n            // List of fields to check within carData\r\n            const fields = ['interior', 'exterior', 'safetySystem', 'comfort', 'sellingPoints'];\r\n\r\n            fields.forEach(field => {\r\n                if (invoiceData.carData[field]) {\r\n                    // Count true values in each field of carData\r\n                    count += Object.values(invoiceData.carData[field]).filter(value => value === true).length;\r\n                }\r\n            });\r\n        }\r\n\r\n        return count;\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (previewInvoiceVisible) {\r\n            setRerenderState(rerenderState + 1);\r\n        }\r\n    }, [previewInvoiceVisible])\r\n\r\n\r\n    useEffect(() => {\r\n        const captureImageAsync = async () => {\r\n            try {\r\n                if (invoiceRef.current) {\r\n                    // Adjust the scale to control the captured image resolution\r\n                    const scale = 0.85; // Experiment with different scale values\r\n                    const width = 2480 * scale;\r\n                    const height = 3508 * scale;\r\n\r\n                    const imageUri = await captureRef(invoiceRef, {\r\n                        format: 'jpg',\r\n                        quality: 1, // Adjust quality if needed\r\n                        result: 'base64',\r\n                        width: width,\r\n                        height: height,\r\n                    });\r\n                    setCapturedImageUri(`data:image/jpeg;base64,${imageUri}`);\r\n                    const trueCount = countTrueValuesInCarData(invoiceData);\r\n                    setFeaturesTrueCount(trueCount);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Error capturing view:\", error);\r\n            }\r\n        };\r\n\r\n        const convertImageToBase64 = async (url) => {\r\n            try {\r\n                const response = await fetch(url);\r\n                if (!response.ok) {\r\n                    throw new Error(`HTTP error! status: ${response.status}`);\r\n                }\r\n                const blob = await response.blob();\r\n                return new Promise((resolve, reject) => {\r\n                    const reader = new FileReader();\r\n                    reader.onloadend = () => resolve(reader.result);\r\n                    reader.onerror = reject;\r\n                    reader.readAsDataURL(blob);\r\n                });\r\n            } catch (error) {\r\n                console.error('Fetch error:', error.message);\r\n                return null;\r\n            }\r\n        };\r\n        convertImageToBase64(globalImageUrl)\r\n            .then(base64String => {\r\n                setVehicleImageUri(base64String);\r\n            });\r\n        // Trigger image capture when invoiceRef changes\r\n        captureImageAsync();\r\n\r\n        if (screenWidth < 960) {\r\n            const captureImageAsync = async () => {\r\n                try {\r\n                    if (invoiceRef.current) {\r\n                        // Adjust the scale to control the captured image resolution\r\n                        const scale = 0.85; // Experiment with different scale values\r\n                        const width = 2480 * scale;\r\n                        const height = 3508 * scale;\r\n\r\n                        const imageUri = await captureRef(invoiceRef, {\r\n                            format: 'jpg',\r\n                            quality: 1, // Adjust quality if needed\r\n                            result: 'base64',\r\n                            width: width,\r\n                            height: height,\r\n                        });\r\n                        setCapturedImageUri(`data:image/jpeg;base64,${imageUri}`);\r\n                        const trueCount = countTrueValuesInCarData(invoiceData);\r\n                        setFeaturesTrueCount(trueCount);\r\n                    }\r\n                } catch (error) {\r\n                    console.error(\"Error capturing view:\", error);\r\n                }\r\n            };\r\n\r\n            const convertImageToBase64 = async (url) => {\r\n                try {\r\n                    const response = await fetch(url);\r\n                    if (!response.ok) {\r\n                        throw new Error(`HTTP error! status: ${response.status}`);\r\n                    }\r\n                    const blob = await response.blob();\r\n                    return new Promise((resolve, reject) => {\r\n                        const reader = new FileReader();\r\n                        reader.onloadend = () => resolve(reader.result);\r\n                        reader.onerror = reject;\r\n                        reader.readAsDataURL(blob);\r\n                    });\r\n                } catch (error) {\r\n                    console.error('Fetch error:', error.message);\r\n                    return null;\r\n                }\r\n            };\r\n            convertImageToBase64(globalImageUrl)\r\n                .then(base64String => {\r\n                    setVehicleImageUri(base64String);\r\n                });\r\n            // Trigger image capture when invoiceRef changes\r\n            captureImageAsync();\r\n        }\r\n\r\n    }, [invoiceRef.current, vehicleImageUri]);\r\n\r\n    const captureImage = async () => {\r\n        try {\r\n            // Adjust the scale to control the captured image resolution\r\n            const scale = 0.9; // Experiment with different scale values\r\n            const width = 2480 * scale;\r\n            const height = 3508 * scale;\r\n\r\n            const imageUri = await captureRef(invoiceRef, {\r\n                format: 'jpg',\r\n                quality: 1, // Adjust quality if needed\r\n                result: 'base64',\r\n                width: width,\r\n                height: height,\r\n            });\r\n            return `data:image/jpeg;base64,${imageUri}`;\r\n        } catch (error) {\r\n            console.error(\"Error capturing view:\", error);\r\n        }\r\n    };\r\n\r\n    const createPDF = async () => {\r\n        const element = invoiceRef.current;\r\n        if (element) {\r\n            // Reduce the scale slightly for smaller file size\r\n            const scale = 1; // Fine-tune this value for balance\r\n\r\n            const canvas = await html2canvas(element, {\r\n                scale: scale,\r\n            });\r\n\r\n            // Experiment with JPEG quality for a balance between quality and file size\r\n            const imageData = canvas.toDataURL('image/jpeg', 0.9);\r\n\r\n            // A4 size dimensions in mm\r\n            const pdfWidth = 210;\r\n            const pdfHeight = 297;\r\n\r\n            const pdf = new jsPDF({\r\n                orientation: 'portrait',\r\n                unit: 'mm',\r\n                format: 'a4'\r\n            });\r\n\r\n            // Adjust PDF compression settings\r\n            const options = {\r\n                imageCompression: 'JPEG',\r\n                imageQuality: 1, // Fine-tune this value as well\r\n            };\r\n\r\n            const imgProps = pdf.getImageProperties(imageData);\r\n            const pdfWidthFit = pdfWidth;\r\n            const pdfHeightFit = (imgProps.height * pdfWidthFit) / imgProps.width;\r\n\r\n            pdf.addImage(imageData, 'JPEG', 0, 0, pdfWidthFit, pdfHeightFit, undefined, 'FAST', 0, options);\r\n\r\n            // Filename logic\r\n            selectedChatData.stepIndicator.value < 3 ?\r\n                pdf.save(`Proforma Invoice (${invoiceData.carData.carName} [${invoiceData.carData.referenceNumber}]) (A4 Paper Size).pdf`) :\r\n                pdf.save(`Invoice No. ${invoiceData.id} (A4 Paper Size).pdf`);\r\n        } else {\r\n            console.error(\"No element to capture\");\r\n        }\r\n    };\r\n\r\n\r\n    const handleCaptureAndCreatePDF = async () => {\r\n        const capturedImageUri = await captureImage();\r\n        if (capturedImageUri) {\r\n            await createPDF(capturedImageUri);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    if (invoiceData && Object.keys(invoiceData).length > 0) {\r\n        const issuingDateString = invoiceData.bankInformations.issuingDate;\r\n        const dueDateString = invoiceData.bankInformations.dueDate;\r\n        const issuingDateObject = new Date(issuingDateString);\r\n        const dueDateObject = new Date(dueDateString);\r\n\r\n\r\n        const options = {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric',\r\n        };\r\n\r\n        formattedIssuingDate = issuingDateObject.toLocaleDateString(undefined, options);\r\n        formattedDueDate = dueDateObject.toLocaleDateString(undefined, options);\r\n\r\n    }\r\n\r\n    const originalWidth = 794;\r\n    const originalHeight = 1123;\r\n\r\n    const newWidth = 2480;\r\n    const newHeight = 3508;\r\n\r\n    const widthScaleFactor = newWidth / originalWidth;\r\n    const heightScaleFactor = newHeight / originalHeight;\r\n\r\n    const openImage = () => {\r\n        if (Platform.OS === 'web') {\r\n            const imageWindow = window.open();\r\n            imageWindow.document.write(`\r\n                <style>\r\n                    body {\r\n                        margin: 0;\r\n                        display: flex;\r\n                        justify-content: center;\r\n                        align-items: center;\r\n                        height: 100vh;\r\n                        overflow: hidden;\r\n                    }\r\n                    img {\r\n                        width: 595px;\r\n                        height: 842px;\r\n                        object-fit: contain;\r\n                        transition: transform 0.25s ease;\r\n                        cursor: zoom-in; /* Set cursor to magnifying glass */\r\n                    }\r\n                    .zoomed {\r\n                        transform: scale(3);\r\n                        transform-origin: center;\r\n                        cursor: zoom-out; /* Change cursor to indicate zooming out */\r\n                    }\r\n                </style>\r\n                <img id=\"zoomableImage\" src=\"${capturedImageUri}\" alt=\"Base64 Image\" draggable=\"false\" />\r\n                <script>\r\n                    const image = document.getElementById('zoomableImage');\r\n    \r\n                    image.addEventListener('mousedown', function(e) {\r\n                        const rect = this.getBoundingClientRect();\r\n                        const x = e.clientX - rect.left;\r\n                        const y = e.clientY - rect.top;\r\n    \r\n                        // Set the transform origin to the mouse position\r\n                        this.style.transformOrigin = \\`\\${x}px \\${y}px\\`;\r\n                        this.classList.add('zoomed');\r\n                    });\r\n    \r\n                    document.addEventListener('mouseup', function() {\r\n                        image.classList.remove('zoomed');\r\n                    });\r\n                </script>\r\n            `);\r\n        } else {\r\n            console.log('This feature is only available in a web environment');\r\n        }\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <> {invoiceData && Object.keys(invoiceData).length > 0 &&\r\n\r\n            <>\r\n                <Pressable\r\n                    onPress={handlePreviewInvoiceModalOpen}\r\n                    focusable={false}\r\n                    variant='ghost'\r\n                    onHoverIn={hoverPreviewIn}\r\n                    onHoverOut={hoverPreviewOut}\r\n                    style={{\r\n                        marginTop: 3,\r\n                        paddingVertical: 3,\r\n                        paddingHorizontal: 5,\r\n                        flexDirection: 'row', // Align items in a row\r\n                        alignItems: 'center', // Center items vertically\r\n                        justifyContent: 'center',\r\n                        borderRadius: 5,\r\n                        backgroundColor: isPreviewHovered ? '#0772ad' : '#0A8DD5',\r\n                    }}>\r\n\r\n                    {selectedChatData.invoiceNumber && selectedChatData.stepIndicator.value > 2 ?\r\n                        <Text style={{ fontWeight: 700, color: 'white', }}>\r\n                            {`Preview Invoice No. ${selectedChatData.invoiceNumber}`}\r\n                        </Text>\r\n                        :\r\n                        <Text style={{ fontWeight: 700, color: 'white', }}>\r\n                            {`Preview Invoice`}\r\n                        </Text>}\r\n\r\n                </Pressable>\r\n\r\n                <Modal\r\n                    isOpen={previewInvoiceVisible}\r\n                    onClose={() => {\r\n                        handlePreviewInvoiceModalClose();\r\n                    }}\r\n                    size={'full'}\r\n                    useRNModal\r\n                >\r\n                    <View style={{ flexDirection: 'row', margin: 2, }}>\r\n                        <Pressable onPress={() => {\r\n                            capturedImageUri && vehicleImageUri ? handleCaptureAndCreatePDF() : null;\r\n                        }}\r\n                            style={{ justifyContent: 'center', flexDirection: 'row', padding: 5, borderRadius: 5, backgroundColor: '#16A34A', }}>\r\n                            <MaterialCommunityIcons size={20} name='download' color='white' />\r\n                            <Text style={{ color: 'white', }}>Download as PDF</Text>\r\n                        </Pressable>\r\n\r\n                        <Pressable\r\n                            onPress={() => {\r\n                                capturedImageUri && vehicleImageUri ? openImage() : null;\r\n                            }}\r\n                            style={{ position: 'absolute', top: -2, right: -380, flexDirection: 'row', padding: 5, borderRadius: 5, backgroundColor: '#0A8DD5', }}>\r\n                            <Entypo size={20} name='images' color='white' />\r\n                            <Text style={{ color: 'white', }}>View Image</Text>\r\n                        </Pressable>\r\n                    </View>\r\n                    <Modal.CloseButton />\r\n                    {previewInvoiceVisible &&\r\n                        <ScrollView\r\n                            style={{ maxHeight: screenWidth < 960 ? 480 : 720, maxWidth: screenWidth < 960 ? 320 : 900 }}\r\n                        >\r\n                            <View style={{\r\n                                position: 'absolute',\r\n                                top: 0,\r\n                                bottom: 0,\r\n                                right: 0,\r\n                                left: 0,\r\n                                backgroundColor: 'white',\r\n                                zIndex: 999,\r\n                                flex: 1,\r\n                                alignItems: 'center', // Center horizontally\r\n                            }}>\r\n                                {capturedImageUri && vehicleImageUri ? (\r\n                                    <NativeImage\r\n                                        source={{ uri: capturedImageUri }}\r\n                                        style={{\r\n                                            marginTop: 5,\r\n                                            width: screenWidth < 960 ? 320 : 595,\r\n                                            height: screenWidth < 960 ? 480 : 842,\r\n                                            resizeMode: 'stretch',\r\n                                            borderWidth: 1,\r\n                                            borderColor: '#DADDE1',\r\n                                        }}\r\n                                    />\r\n                                ) : (<Spinner size={'lg'} color={'#0A9FDC'} style={{ alignSelf: 'center', paddingTop: 80 * heightScaleFactor, }} />)}\r\n                            </View>\r\n\r\n                            {/* Main content with invoice details */}\r\n                            {vehicleImageUri !== '' &&\r\n                                <View ref={invoiceRef} style={{ width: 2480, height: 3508, backgroundColor: 'white', zIndex: 1 }}>\r\n\r\n                                    <View style={{ position: 'absolute', left: 38 * widthScaleFactor, top: 38 * heightScaleFactor }}>\r\n                                        <NativeImage\r\n                                            source={require('../../assets/RMJ logo for invoice.png')}\r\n                                            style={{\r\n                                                width: 95 * widthScaleFactor,\r\n                                                height: 85 * heightScaleFactor,\r\n                                                resizeMode: 'stretch',\r\n                                            }}\r\n                                        />\r\n                                    </View>\r\n\r\n                                    <View style={{ position: 'absolute', alignSelf: 'center', top: 80 * heightScaleFactor }}>\r\n                                        {/* Title */}\r\n                                        {selectedChatData.stepIndicator.value < 3 ?\r\n                                            <Text style={{ fontWeight: 700, fontSize: 25 * widthScaleFactor }}>{`PROFORMA INVOICE`}</Text> :\r\n                                            <Text style={{ fontWeight: 700, fontSize: 25 * widthScaleFactor }}>{`INVOICE`}</Text>\r\n                                        }\r\n                                    </View>\r\n\r\n                                    <View style={{ position: 'absolute', right: 38 * widthScaleFactor, top: 38 * heightScaleFactor }}>\r\n                                        {/* QR CODE */}\r\n                                        {selectedChatData.stepIndicator.value < 3 ?\r\n                                            null :\r\n                                            <QRCode\r\n                                                value={invoiceData.cryptoNumber}\r\n                                                size={80 * widthScaleFactor}\r\n                                                color=\"black\"\r\n                                                backgroundColor=\"white\"\r\n                                            />\r\n                                        }\r\n                                    </View>\r\n\r\n                                    <View style={{ position: 'absolute', right: 121 * widthScaleFactor, top: 34 * heightScaleFactor }}>\r\n                                        {/* Invoice Number */}\r\n                                        {selectedChatData.stepIndicator.value < 3 ?\r\n                                            null :\r\n                                            <Text style={{ fontWeight: 750, fontSize: 14 * widthScaleFactor }}>{`Invoice No. RMJ-${invoiceData.id}`}</Text>\r\n                                        }\r\n                                    </View>\r\n\r\n                                    {selectedChatData.stepIndicator.value < 3 ?\r\n                                        <View style={{ position: 'absolute', right: 38 * widthScaleFactor, top: 34 * heightScaleFactor, }}>\r\n                                            {/* Issuing Date */}\r\n                                            <View style={{ flexDirection: 'row', alignSelf: 'flex-end', }}>\r\n                                                <Text style={{ fontWeight: 750, fontSize: 14 * widthScaleFactor }}>{`Issuing Date: `}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 14 * widthScaleFactor }}>{`${formattedIssuingDate}`}</Text>\r\n                                            </View>\r\n                                            <View style={{ flexDirection: 'row', alignSelf: 'flex-end', }}>\r\n                                                <Text style={{ fontWeight: 750, fontSize: 14 * widthScaleFactor, color: '#F00A0A', }}>{`Valid Until: `}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 14 * widthScaleFactor }}>{`${formattedDueDate}`}</Text>\r\n                                            </View>\r\n\r\n                                        </View>\r\n                                        :\r\n                                        <View style={{ position: 'absolute', right: 121 * widthScaleFactor, top: 49 * heightScaleFactor, flexDirection: 'row' }}>\r\n                                            {/* Issuing Date */}\r\n                                            <Text style={{ fontWeight: 750, fontSize: 14 * widthScaleFactor }}>{`Issuing Date: `}</Text>\r\n                                            <Text style={{ fontWeight: 400, fontSize: 14 * widthScaleFactor }}>{`${formattedIssuingDate}`}</Text>\r\n                                        </View>\r\n                                    }\r\n\r\n                                    <View style={{\r\n                                        position: 'absolute',\r\n                                        left: 40 * widthScaleFactor,\r\n                                        top: 134 * heightScaleFactor,\r\n                                        maxWidth: 300 * widthScaleFactor,\r\n                                    }}>\r\n                                        {/* Shipper */}\r\n                                        <Text style={{\r\n                                            fontWeight: 750,\r\n                                            fontSize: 16 * widthScaleFactor,\r\n                                            borderBottomWidth: 3, // Adjust the thickness of the underline\r\n                                            width: 'fit-content', // Make the underline cover the text width\r\n                                            marginBottom: 5, // Add some space between text and underline\r\n                                        }}>\r\n                                            {`Shipper`}\r\n                                        </Text>\r\n                                        <Text style={{ fontWeight: 750, fontSize: 14 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`Real Motor Japan (YANAGISAWA HD CO.,LTD)`}</Text>\r\n                                        <Text style={{ fontWeight: 400, fontSize: 14 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`26-2 Takara Tsutsumi-cho Toyota City, Aichi Prefecture, Japan, 473-0932`}</Text>\r\n                                        <Text style={{ fontWeight: 400, fontSize: 14 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`FAX: +81565850606`}</Text>\r\n\r\n                                        <Text style={{ fontWeight: 700, fontSize: 14 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`Shipped From:`}</Text>\r\n                                        <Text style={{ fontWeight: 400, fontSize: 14 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.departurePort}, ${invoiceData.departureCountry}`}</Text>\r\n\r\n                                        <Text style={{ fontWeight: 700, fontSize: 14 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`Shipped To:`}</Text>\r\n                                        <Text style={{ fontWeight: 400, fontSize: 14 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.discharge.port}, ${invoiceData.discharge.country}`}</Text>\r\n                                        {invoiceData.placeOfDelivery && invoiceData.placeOfDelivery !== '' ?\r\n                                            <>\r\n                                                <Text style={{ fontWeight: 700, fontSize: 14 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`Place of Delivery:`}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 14 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.placeOfDelivery}`}</Text>\r\n                                            </>\r\n                                            : null}\r\n                                        {invoiceData.cfs && invoiceData.cfs !== '' ?\r\n                                            <>\r\n                                                <Text style={{ fontWeight: 700, fontSize: 14 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`CFS:`}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 14 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.cfs}`}</Text>\r\n                                            </>\r\n                                            : null}\r\n\r\n                                        <View style={{ flex: 1, flexDirection: 'row', width: 715 * widthScaleFactor, }}>\r\n\r\n                                            <View style={{\r\n                                                flex: 1, width: 280 * widthScaleFactor,\r\n                                            }}>\r\n                                                {/* Buyer Information */}\r\n                                                <Text style={{\r\n                                                    fontWeight: 750,\r\n                                                    fontSize: 18 * widthScaleFactor,\r\n                                                    borderBottomWidth: 3, // Adjust the thickness of the underline\r\n                                                    borderBottomColor: '#0A78BE',\r\n                                                    width: 'fit-content', // Make the underline cover the text width\r\n                                                    marginBottom: 5, // Add some space between text and underline\r\n                                                    color: '#0A78BE',\r\n                                                    marginTop: 25 * heightScaleFactor,\r\n\r\n                                                }}>\r\n                                                    {`Buyer Information`}\r\n                                                </Text>\r\n                                                <Text style={{ fontWeight: 750, fontSize: 16 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.consignee.name}`}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 16 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.consignee.address}`}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 16 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.consignee.email}`}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 16 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.consignee.contactNumber}`}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 16 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`FAX: ${invoiceData.consignee.fax == '' ? 'N/A' : invoiceData.consignee.fax}`}</Text>\r\n\r\n                                            </View>\r\n\r\n                                            <View style={{ flex: 1, paddingLeft: 20 * widthScaleFactor, width: 280 * widthScaleFactor, }}>\r\n                                                {/* Notify Party */}\r\n                                                <Text style={{\r\n                                                    fontWeight: 750,\r\n                                                    fontSize: 18 * widthScaleFactor,\r\n                                                    borderBottomWidth: 3, // Adjust the thickness of the underline\r\n                                                    borderBottomColor: '#FF0000',\r\n                                                    width: 'fit-content', // Make the underline cover the text width\r\n                                                    marginBottom: 5, // Add some space between text and underline\r\n                                                    color: '#FF0000',\r\n                                                    marginTop: 25 * heightScaleFactor,\r\n                                                }}>\r\n                                                    {`Notify Party`}\r\n                                                </Text>\r\n                                                {invoiceData.notifyParty.sameAsConsignee == true ? (\r\n                                                    <Text style={{ fontWeight: 400, fontSize: 16 * widthScaleFactor, }}>{`Same as consignee / buyer`}</Text>) :\r\n                                                    (<>\r\n                                                        <Text style={{ fontWeight: 750, fontSize: 16 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.notifyParty.name}`}</Text>\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 16 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.notifyParty.address}`}</Text>\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 16 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.notifyParty.email}`}</Text>\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 16 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.notifyParty.contactNumber}`}</Text>\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 16 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`FAX: ${invoiceData.notifyParty.fax == '' ? 'N/A' : invoiceData.notifyParty.fax}`}</Text>\r\n                                                    </>)}\r\n                                            </View>\r\n\r\n                                        </View>\r\n\r\n\r\n                                    </View>\r\n                                    {selectedChatData.stepIndicator.value < 3 ?\r\n\r\n                                        <View style={{ position: 'absolute', right: 38 * widthScaleFactor, top: 130 * heightScaleFactor, borderWidth: 3, width: 430 * widthScaleFactor, borderColor: '#FF5C00', height: 194 * heightScaleFactor, }}>\r\n                                            <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center', flexDirection: 'row', }}>\r\n                                                <Entypo size={50 * widthScaleFactor} name='warning' color={'#FF0000'} />\r\n                                                <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, color: '#FF0000', marginLeft: 20 * widthScaleFactor, }}>{`Bank Information will be provided after placing an order.`}</Text>\r\n                                            </View>\r\n                                        </View>\r\n                                        :\r\n                                        <View style={{ position: 'absolute', right: 38 * widthScaleFactor, top: 130 * heightScaleFactor, borderWidth: 3, width: 430 * widthScaleFactor, borderColor: '#1ABA3D', }}>\r\n\r\n                                            <View style={{ flex: 1, alignItems: 'center', }}>\r\n                                                <Text style={{ fontWeight: 750, fontSize: 14 * widthScaleFactor, color: '#114B33', }}>{`Bank Information`}</Text>\r\n                                            </View>\r\n\r\n                                            <View style={{ flex: 1, flexDirection: 'row', marginHorizontal: 5 * widthScaleFactor, marginBottom: 5 * heightScaleFactor, }}>\r\n                                                <View style={{ flex: 1, marginRight: 50 * widthScaleFactor, }}>\r\n                                                    <Text style={{\r\n                                                        fontWeight: 750,\r\n                                                        fontSize: 14 * widthScaleFactor,\r\n                                                        borderBottomWidth: 3, // Adjust the thickness of the underline\r\n                                                        width: 'fit-content', // Make the underline cover the text width\r\n                                                        marginBottom: 2, // Add some space between text and underline\r\n                                                    }}>\r\n                                                        {`Bank Account`}\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginTop: 3 * heightScaleFactor, }}>{`Bank Name: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.bankAccount.bankName}`}</Text>\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginTop: 3 * heightScaleFactor, }}>{`Branch Name: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.bankAccount.branchName}`}</Text>\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginTop: 3 * heightScaleFactor, }}>{`SWIFTCODE: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.bankAccount.swiftCode}`}</Text>\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginTop: 3 * heightScaleFactor, }}>{`Address: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.bankAccount.address}`}</Text>\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginTop: 3 * heightScaleFactor, }}>{`Name of Account Holder: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.bankAccount.accountHolder}`}</Text>\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginTop: 3 * heightScaleFactor, }}>{`Account Number: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.bankAccount.accountNumberValue}`}</Text>\r\n                                                    </Text>\r\n                                                </View>\r\n\r\n                                                <View style={{ flex: 1 }}>\r\n\r\n                                                    <Text style={{\r\n                                                        fontWeight: 750,\r\n                                                        fontSize: 14 * widthScaleFactor,\r\n                                                        borderBottomWidth: 3, // Adjust the thickness of the underline\r\n                                                        width: 'fit-content', // Make the underline cover the text width\r\n                                                        marginBottom: 2, // Add some space between text and underline\r\n                                                    }}>\r\n                                                        {`Payment Terms`}\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`Terms: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.paymentTerms}`}</Text>\r\n                                                    </Text>\r\n\r\n                                                    <View style={{ paddingTop: 30 * heightScaleFactor, }}>\r\n\r\n                                                        <Text style={{\r\n                                                            fontWeight: 750,\r\n                                                            fontSize: 14 * widthScaleFactor,\r\n                                                            borderBottomWidth: 3, // Adjust the thickness of the underline\r\n                                                            width: 'fit-content', // Make the underline cover the text width\r\n                                                            marginBottom: 2, // Add some space between text and underline\r\n                                                            color: '#F00A0A',\r\n                                                            borderBottomColor: '#F00A0A',\r\n                                                        }}>\r\n                                                            {`Payment Due`}\r\n                                                        </Text>\r\n\r\n                                                        <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, color: '#F00A0A', lineHeight: 14 * widthScaleFactor }}>{`Due Date: `}\r\n                                                            <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, color: 'black', lineHeight: 14 * widthScaleFactor }}>{`${formattedDueDate}`}</Text>\r\n                                                        </Text>\r\n\r\n                                                    </View>\r\n\r\n                                                </View>\r\n\r\n                                            </View>\r\n\r\n                                        </View>}\r\n\r\n\r\n\r\n                                    {/* <View style={{ position: 'absolute', left: 260 * widthScaleFactor, top: 335 * heightScaleFactor }}>\r\n\r\n                                        <View style={{ flexDirection: 'row' }}>\r\n                                            {vehicleImageUri ? (\r\n                                                <NativeImage\r\n                                                    source={{ uri: vehicleImageUri }}\r\n                                                    style={{\r\n                                                        width: 99 * widthScaleFactor,\r\n                                                        height: 70 * heightScaleFactor,\r\n                                                        resizeMode: 'stretch',\r\n                                                    }}\r\n                                                />\r\n                                            ) : (\r\n                                                <View\r\n                                                    style={{\r\n                                                        width: 99 * widthScaleFactor,\r\n                                                        height: 70 * heightScaleFactor,\r\n                                                        backgroundColor: '#e0e0e0',\r\n                                                        marginRight: 12,\r\n                                                    }}\r\n                                                />\r\n                                            )}\r\n                                            <View style={{ flex: 1, top: -2 * heightScaleFactor, marginLeft: 5 * widthScaleFactor, height: 59 * heightScaleFactor }}>\r\n                                                <Text style={{ fontWeight: 'bold', fontSize: 14 * widthScaleFactor, lineHeight: 16 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.carName}`}\r\n                                                </Text>\r\n                                                <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                    {`Reference No.: `}\r\n                                                    <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                        {`${invoiceData.carData.referenceNumber}`}\r\n                                                    </Text>\r\n                                                </Text>\r\n\r\n                                                <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                    {`Year/Month: `}\r\n                                                    <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                        {`${invoiceData.carData.regYear}/${invoiceData.carData.regMonth}`}\r\n                                                    </Text>\r\n                                                </Text>\r\n\r\n                                                <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                    {`Mileage: `}\r\n                                                    <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                        {`${Number(invoiceData.carData.mileage).toLocaleString('en-US')} km`}\r\n                                                    </Text>\r\n                                                </Text>\r\n\r\n                                                <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                    {`Chassis No.: `}\r\n                                                    <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                        {`${invoiceData.carData.chassisNumber}`}\r\n                                                    </Text>\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                        </View>\r\n\r\n\r\n                                    </View>\r\n\r\n                                    <View style={{ position: 'absolute', left: 260 * widthScaleFactor, top: 410 * heightScaleFactor, flexDirection: 'row', width: 495 * widthScaleFactor, }}>\r\n                                        <View style={{ flex: 1 }}>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Model Code: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.modelCode}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Fuel: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.fuel}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Transmission: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.transmission}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Steering: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.steering}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Displacement: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${Number(invoiceData.carData.engineDisplacement).toLocaleString('en-US')} cc`}\r\n                                                </Text>\r\n                                            </Text>\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1 }}>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Doors: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.doors ? invoiceData.carData.doors : 'N/A'}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Drive Type: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.driveType ? invoiceData.carData.driveType : 'N/A'}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Exterior Color: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.exteriorColor}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Number of Seats: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.numberOfSeats ? invoiceData.carData.numberOfSeats : 'N/A'}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Body Type: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.bodyType}`}\r\n                                                </Text>\r\n                                            </Text>\r\n                                        </View>\r\n\r\n                                    </View>\r\n\r\n                                    <View style={{ position: 'absolute', left: 260 * widthScaleFactor, top: 484 * heightScaleFactor, width: 495 * widthScaleFactor, }}>\r\n                                        <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginBottom: 3 * heightScaleFactor, }}>\r\n                                            {`Features: `}\r\n                                        </Text>\r\n\r\n                                        <InvoiceFeatures widthScaleFactor={widthScaleFactor} heightScaleFactor={heightScaleFactor} />\r\n\r\n                                    </View> */}\r\n\r\n                                    <View style={{\r\n                                        position: 'absolute',\r\n                                        left: 38 * widthScaleFactor,\r\n                                        top: (invoiceData.placeOfDelivery && invoiceData.cfs) || (invoiceData.placeOfDelivery !== '' && invoiceData.cfs !== '') ? 577 * heightScaleFactor : 537 * heightScaleFactor,\r\n                                        width: 718 * widthScaleFactor,\r\n                                        borderWidth: 1 * widthScaleFactor,\r\n                                        borderColor: '#C2E2F4',\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <View style={{ flex: 1, flexDirection: 'row', }}>\r\n\r\n                                            <View style={{ flex: 2, justifyContent: 'center', }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 'bold',\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                        color: '#008AC6',\r\n                                                    }}>\r\n                                                    {`Description`}\r\n                                                </Text>\r\n\r\n                                            </View>\r\n\r\n                                            <View style={{ flex: 2, justifyContent: 'center', }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 'bold',\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                        color: '#008AC6',\r\n                                                    }}>\r\n                                                    {`Notes`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                            <View style={{ flex: 1, justifyContent: 'center', }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 'bold',\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                        color: '#008AC6',\r\n                                                    }}>\r\n                                                    {`Quantity`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                            <View style={{ flex: 2, justifyContent: 'center', }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 'bold',\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                        color: '#008AC6',\r\n                                                    }}>\r\n                                                    {`Amount`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, flexDirection: 'row', }}>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 5,\r\n                                            }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        marginLeft: 2 * widthScaleFactor,\r\n                                                    }}>\r\n                                                    {`FOB`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                            }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                    }}>\r\n                                                    {`$${Math.round(Number(invoiceData.paymentDetails.fobPrice)).toLocaleString('en-US', { useGrouping: true })}`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, flexDirection: 'row', }}>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 5,\r\n                                            }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        marginLeft: 2 * widthScaleFactor,\r\n                                                    }}>\r\n                                                    {`Freight`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                            }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                    }}>\r\n                                                    {`$${Math.round(Number(invoiceData.paymentDetails.freightPrice)).toLocaleString('en-US', { useGrouping: true })}`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, flexDirection: 'row', }}>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 5,\r\n                                                flexDirection: 'row',\r\n                                            }}>\r\n                                                {invoiceData.paymentDetails.inspectionIsChecked && (invoiceData.paymentDetails.incoterms == \"C&F\" || invoiceData.paymentDetails.incoterms == \"FOB\") && <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        marginLeft: 2 * widthScaleFactor,\r\n                                                    }}>\r\n                                                    {invoiceData.paymentDetails.inspectionIsChecked ? `Inspection [${invoiceData.paymentDetails.inspectionName}]` : ' '}\r\n                                                </Text>}\r\n\r\n                                                {invoiceData.paymentDetails.inspectionIsChecked && invoiceData.paymentDetails.incoterms == \"CIF\" &&\r\n                                                    <>\r\n                                                        <Text\r\n                                                            style={{\r\n                                                                fontWeight: 400,\r\n                                                                fontSize: 12 * widthScaleFactor,\r\n                                                                lineHeight: 14 * widthScaleFactor,\r\n                                                                marginBottom: 3 * heightScaleFactor,\r\n                                                                marginLeft: 2 * widthScaleFactor,\r\n                                                            }}>\r\n                                                            {invoiceData.paymentDetails.inspectionIsChecked ? `Inspection [${invoiceData.paymentDetails.inspectionName}]` : ' '}\r\n                                                        </Text>\r\n                                                        <Text\r\n                                                            style={{\r\n                                                                fontWeight: 400,\r\n                                                                fontSize: 12 * widthScaleFactor,\r\n                                                                lineHeight: 14 * widthScaleFactor,\r\n                                                                marginBottom: 3 * heightScaleFactor,\r\n                                                                marginLeft: 2 * widthScaleFactor,\r\n                                                            }}>\r\n                                                            {invoiceData.paymentDetails.incoterms == \"CIF\" ? ` + Insurance` : ' '}\r\n                                                        </Text>\r\n                                                    </>\r\n                                                }\r\n\r\n                                                {!invoiceData.paymentDetails.inspectionIsChecked && invoiceData.paymentDetails.incoterms == \"CIF\" &&\r\n                                                    <Text\r\n                                                        style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            marginLeft: 2 * widthScaleFactor,\r\n                                                        }}>\r\n                                                        {invoiceData.paymentDetails.incoterms == \"CIF\" ? `Insurance` : ' '}\r\n                                                    </Text>\r\n                                                }\r\n\r\n                                                {!invoiceData.paymentDetails.inspectionIsChecked && (invoiceData.paymentDetails.incoterms == \"C&F\" || invoiceData.paymentDetails.incoterms == \"FOB\") &&\r\n                                                    <Text\r\n                                                        style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                        }}>\r\n                                                        {' '}\r\n                                                    </Text>\r\n                                                }\r\n\r\n\r\n                                            </View>\r\n\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                            }}>\r\n\r\n                                                {invoiceData.paymentDetails.inspectionIsChecked && (invoiceData.paymentDetails.incoterms == \"C&F\" || invoiceData.paymentDetails.incoterms == \"FOB\") && <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                    }}>\r\n                                                    {invoiceData.paymentDetails.inspectionIsChecked ? `$${Number(invoiceData.paymentDetails.inspectionPrice).toLocaleString('en-US', { useGrouping: true }).split('.')[0]}` : ' '}\r\n                                                </Text>}\r\n\r\n                                                {invoiceData.paymentDetails.inspectionIsChecked && invoiceData.paymentDetails.incoterms == \"CIF\" &&\r\n                                                    <Text\r\n                                                        style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                        {invoiceData.paymentDetails.inspectionIsChecked ? `$${Number(invoiceData.paymentDetails.inspectionPrice).toLocaleString('en-US', { useGrouping: true }).split('.')[0]}` : ' '}\r\n                                                        <Text\r\n                                                            style={{\r\n                                                                fontWeight: 400,\r\n                                                                fontSize: 12 * widthScaleFactor,\r\n                                                                lineHeight: 14 * widthScaleFactor,\r\n                                                                marginBottom: 3 * heightScaleFactor,\r\n                                                            }}>\r\n                                                            {invoiceData.paymentDetails.incoterms === \"CIF\" ? ` + $${Number(invoiceData.paymentDetails.insurancePrice).toLocaleString('en-US', { useGrouping: true }).split('.')[0]}` : ' '}\r\n                                                        </Text>\r\n                                                    </Text>\r\n\r\n                                                }\r\n\r\n                                                {!invoiceData.paymentDetails.inspectionIsChecked && invoiceData.paymentDetails.incoterms == \"CIF\" &&\r\n                                                    <Text\r\n                                                        style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            alignSelf: 'center',\r\n\r\n                                                        }}>\r\n                                                        {invoiceData.paymentDetails.incoterms == \"CIF\" ? `$${Number(invoiceData.paymentDetails.insurancePrice).toLocaleString('en-US', { useGrouping: true }).split('.')[0]}` : ' '}\r\n                                                    </Text>\r\n                                                }\r\n\r\n                                            </View>\r\n\r\n\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, flexDirection: 'row', }}>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 5,\r\n                                                flexDirection: 'row',\r\n                                            }}>\r\n                                                {invoiceData.paymentDetails.additionalName && (invoiceData.paymentDetails.additionalName).length > 0 && <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        marginLeft: 2 * widthScaleFactor,\r\n                                                    }}>\r\n                                                    {invoiceData.paymentDetails.additionalName && (invoiceData.paymentDetails.additionalName).length > 0 ? `${invoiceData.paymentDetails.additionalName.join(' + ')}` : ' '}\r\n                                                </Text>}\r\n\r\n\r\n                                            </View>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                            }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                    }}>\r\n                                                    {invoiceData.paymentDetails.additionalPrice && invoiceData.paymentDetails.additionalPrice.length > 0\r\n                                                        ? invoiceData.paymentDetails.additionalPrice.map(price =>\r\n                                                            `$${parseFloat(price).toLocaleString('en-US', {\r\n                                                                style: 'currency',\r\n                                                                currency: 'USD',\r\n                                                                minimumFractionDigits: 0,\r\n                                                                maximumFractionDigits: 0\r\n                                                            }).slice(1)}`\r\n                                                        ).join(' + ')\r\n                                                        : ' '}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, flexDirection: 'row', }}>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                                flexDirection: 'row',\r\n                                                paddingVertical: 2 * heightScaleFactor,\r\n\r\n                                            }}>\r\n                                                {invoiceData.carData && invoiceData.carData.carName ? (\r\n                                                    <Text style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                        marginLeft: 2 * widthScaleFactor,\r\n                                                    }}>\r\n                                                        {\"Used Vehicle\\n\"}\r\n                                                        <Text style={{\r\n                                                            fontWeight: 700,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                            {`${invoiceData.carData.carName}\\n`}\r\n                                                        </Text>\r\n                                                        <Text style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                            {`${invoiceData.carData.chassisNumber}\\n`}\r\n                                                        </Text>\r\n                                                        <Text style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                            {`${invoiceData.carData.exteriorColor}\\n`}\r\n                                                        </Text>\r\n                                                        <Text style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                            {`${Number(invoiceData.carData.engineDisplacement).toLocaleString('en-US')} cc\\n`}\r\n                                                        </Text>\r\n                                                        <Text style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                            {`${Number(invoiceData.carData.mileage).toLocaleString('en-US')} km\\n`}\r\n                                                        </Text>\r\n                                                        <Text style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                            {`${invoiceData.carData.fuel}\\n`}\r\n                                                        </Text>\r\n                                                        <Text style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                            {`${invoiceData.carData.transmission}\\n`}\r\n                                                        </Text>\r\n                                                    </Text>\r\n\r\n                                                ) : (\r\n                                                    <Text>{' '}</Text>\r\n                                                )}\r\n\r\n\r\n                                            </View>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                                flexDirection: 'row',\r\n                                                justifyContent: 'center',\r\n                                            }}>\r\n                                                {invoiceData.paymentDetails && invoiceData.paymentDetails.incoterms && invoiceData.discharge.port && invoiceData.discharge ? (\r\n                                                    <Text style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                    }}>\r\n                                                        {`${invoiceData.paymentDetails.incoterms} ${invoiceData.discharge.port}`}\r\n                                                    </Text>\r\n                                                ) : (\r\n                                                    <Text>{' '}</Text>\r\n                                                )}\r\n                                            </View>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 1,\r\n                                                flexDirection: 'row',\r\n                                                justifyContent: 'center',\r\n                                            }}>\r\n                                                {invoiceData.carData && invoiceData.carData.carName ? (\r\n                                                    <Text style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                    }}>\r\n                                                        {'1'}\r\n                                                    </Text>\r\n                                                ) : (\r\n                                                    <Text>{' '}</Text>\r\n                                                )}\r\n\r\n\r\n                                            </View>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                                justifyContent: 'center',\r\n                                                flexDirection: 'row',\r\n                                            }}>\r\n                                                {invoiceData.paymentDetails && invoiceData.paymentDetails.totalAmount ? (\r\n                                                    <>\r\n                                                        <Text style={{\r\n                                                            fontWeight: 700,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            color: '#008AC6',\r\n                                                            marginRight: 10 * widthScaleFactor,\r\n                                                            top: 51 * heightScaleFactor,\r\n                                                            left: 50 * widthScaleFactor,\r\n                                                            position: 'absolute',\r\n                                                        }}>\r\n                                                            {\"Total\"}\r\n                                                            <Text style={{\r\n                                                                fontWeight: 700,\r\n                                                                fontSize: 12 * widthScaleFactor,\r\n                                                                lineHeight: 14 * widthScaleFactor,\r\n                                                                marginBottom: 3 * heightScaleFactor,\r\n                                                                alignSelf: 'center',\r\n                                                                color: '#00720B',\r\n                                                                marginLeft: 5 * widthScaleFactor,\r\n                                                            }}>\r\n                                                                {`$${invoiceData.paymentDetails.totalAmount}`}\r\n                                                            </Text>\r\n                                                        </Text>\r\n\r\n                                                    </>\r\n                                                ) : (\r\n                                                    <Text>{' '}</Text>\r\n                                                )}\r\n                                            </View>\r\n\r\n                                        </View>\r\n\r\n                                    </View>\r\n\r\n                                    <View style={{ position: 'absolute', left: 38 * widthScaleFactor, top: 825 * heightScaleFactor, width: 350 * widthScaleFactor, }}>\r\n                                        <Text style={{\r\n                                            fontWeight: 700,\r\n                                            fontSize: 12 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'Payment Information:'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 12 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'The customer is responsible for the bank charges incurred when the T/T (Telegraphic Transfer) is paid.'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 12 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                            marginBottom: 5 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'No warranty service is provided on used vehicles.'}\r\n                                        </Text>\r\n\r\n                                        <Text style={{\r\n                                            fontWeight: 700,\r\n                                            fontSize: 12 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'Conditions for order cancellation:'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 12 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'(1) Order Cancellation Penalty: If the order is canceled after payment, a penalty of USD 220 will apply.'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 12 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                            marginBottom: 5 * heightScaleFactor,\r\n\r\n                                        }}>\r\n                                            {'(2) Non-refund: Payment for vehicles purchased through pre-delivery inspection is non-refundable.'}\r\n                                        </Text>\r\n\r\n                                        <Text style={{\r\n                                            fontWeight: 700,\r\n                                            fontSize: 12 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'Intermediary Banking Information:'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 12 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'Bank Name: SUMITOMO MITSUI BANKING CORPORATION (NEW YORK BRANCH).'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 12 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n\r\n                                        }}>\r\n                                            {'Swift code: SMBCUS33'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 12 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'Address: 277 Park Avenue'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 12 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n\r\n                                        }}>\r\n                                            {'City: New York, NY'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 12 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n\r\n                                        }}>\r\n                                            {'Postal Code: 10172'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 12 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                            marginBottom: 5 * heightScaleFactor,\r\n\r\n                                        }}>\r\n                                            {'Country: United States'}\r\n                                        </Text>\r\n                                    </View>\r\n\r\n                                    {selectedChatData.stepIndicator.value < 3 ? null :\r\n                                        <View style={{ position: 'absolute', right: 39 * widthScaleFactor, top: 835 * heightScaleFactor, width: 300 * widthScaleFactor, }}>\r\n                                            <View style={{\r\n                                                width: 300 * widthScaleFactor,\r\n                                                alignItems: 'center',\r\n                                                paddingBottom: 80 * heightScaleFactor, // Adjust this value to control space between image and line\r\n                                            }}>\r\n                                                <NativeImage\r\n                                                    source={require('../../assets/RMJ Invoice Signature with Hanko.png')}\r\n                                                    style={{\r\n                                                        width: 276 * widthScaleFactor,\r\n                                                        height: 81 * heightScaleFactor,\r\n                                                        resizeMode: 'contain',\r\n                                                        alignSelf: 'center',\r\n                                                        marginBottom: 0, // Minimize margin to keep the line close\r\n                                                    }}\r\n                                                />\r\n                                                <View style={{\r\n                                                    borderBottomWidth: 1 * heightScaleFactor,\r\n                                                    borderColor: 'black', // Change the color as needed\r\n                                                    width: '100%', // Line width as per your requirement\r\n                                                }} />\r\n                                                <Text italic style={{\r\n                                                    fontWeight: 700,\r\n                                                    fontSize: 16 * widthScaleFactor,\r\n                                                }}>\r\n                                                    {'Real Motor Japan'}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                            <View style={{\r\n                                                width: 300 * widthScaleFactor,\r\n                                                alignItems: 'center',\r\n                                                paddingBottom: 5 * heightScaleFactor, // Adjust this value to control space between image and line\r\n                                            }}>\r\n\r\n                                                <View style={{\r\n                                                    borderBottomWidth: 1 * heightScaleFactor,\r\n                                                    borderColor: 'black', // Change the color as needed\r\n                                                    width: '100%', // Line width as per your requirement\r\n                                                }} />\r\n                                                <Text italic style={{\r\n                                                    fontWeight: 700,\r\n                                                    fontSize: 16 * widthScaleFactor,\r\n                                                }}>\r\n                                                    {'Your Signature'}\r\n                                                </Text>\r\n                                            </View>\r\n                                        </View>}\r\n\r\n\r\n                                </View>}\r\n\r\n\r\n                        </ScrollView>\r\n\r\n                    }\r\n\r\n                </Modal>\r\n            </>\r\n        }\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nconst ExtendDueDateButton = () => {\r\n    const [isHovered, setIsHovered] = useState(false);\r\n    const [isConfirmHovered, setIsConfirmHovered] = useState(false);\r\n    const [isCancelHovered, setIsCancelHovered] = useState(false);\r\n    const [selectedDueDate, setSelectedDueDate] = useState('');\r\n    const [isConfirmLoading, setIsConfirmLoading] = useState(false);\r\n\r\n    let invoiceSelectedDueDate = '';\r\n\r\n    const currentDate = useSelector((state) => state.currentDate);\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n\r\n\r\n    const hoverIn = () => setIsHovered(true);\r\n    const hoverOut = () => setIsHovered(false);\r\n\r\n\r\n    const confirmHoverIn = () => setIsConfirmHovered(true);\r\n    const confirmHoverOut = () => setIsConfirmHovered(false);\r\n\r\n    const cancelHoverIn = () => setIsCancelHovered(true);\r\n    const cancelHoverOut = () => setIsCancelHovered(false);\r\n\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleModalOpen = () => {\r\n        setModalVisible(true);\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setModalVisible(false);\r\n    }\r\n\r\n    const handleConfirm = async () => {\r\n\r\n        try {\r\n            await confirmExtendDueDate();\r\n            handleModalClose();\r\n        } catch (error) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const extendDueDateMessage = async () => {\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n        try {\r\n\r\n            // Adding the message to the 'messages' subcollection\r\n            await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                text: `The due date has been changed to ${selectedDueDate\r\n                    ? new Date(selectedDueDate).toLocaleDateString(undefined, {\r\n                        year: 'numeric',\r\n                        month: 'long',\r\n                        day: 'numeric',\r\n                    })\r\n                    : 'Invalid Date'\r\n                    }`,\r\n                sender: email,\r\n                timestamp: formattedTime, // Using the fetched timestamp\r\n                ip: ip, // IP Address\r\n                ipCountry: ipCountry // Country of the IP Address\r\n            });\r\n\r\n\r\n            // Updating the main chat document with the latest message details\r\n            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                lastMessageSender: email,\r\n                lastMessage: `The due date has been changed to ${selectedDueDate\r\n                    ? new Date(selectedDueDate).toLocaleDateString(undefined, {\r\n                        year: 'numeric',\r\n                        month: 'long',\r\n                        day: 'numeric',\r\n                    })\r\n                    : 'Invalid Date'\r\n                    }`,\r\n                lastMessageDate: formattedTime,\r\n                customerRead: false,\r\n                read: true,\r\n                readBy: [email],\r\n            });\r\n\r\n        } catch (e) {\r\n            console.error('Error adding document: ', e);\r\n        }\r\n    }\r\n\r\n    const confirmExtendDueDate = async () => {\r\n        const docRef = doc(projectExtensionFirestore, \"IssuedInvoice\", selectedChatData.invoiceNumber);\r\n        setIsConfirmLoading(true);\r\n        try {\r\n            await updateDoc(docRef, {\r\n                'bankInformations.dueDate': selectedDueDate // Update the specific field\r\n            });\r\n            await extendDueDateMessage();\r\n            setIsConfirmLoading(false);\r\n            console.log(\"Document successfully updated\");\r\n        } catch (error) {\r\n            console.error(\"Error updating document: \", error);\r\n        }\r\n    };\r\n\r\n    const ModalCalendar = ({ selectedDate, setSelectedDate, currentDate }) => {\r\n\r\n        const [modalCalendarVisible, setModalCalendarVisible] = useState(false);\r\n\r\n        const handleModalCalendarOpen = () => {\r\n            setModalCalendarVisible(true);\r\n        };\r\n\r\n        const handleModalCalendarClose = () => {\r\n            setModalCalendarVisible(false);\r\n        };\r\n\r\n\r\n        return (\r\n\r\n            <>\r\n                <Pressable style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                    onPress={handleModalCalendarOpen}>\r\n                    <Text style={{ flex: 1, }} >{selectedDate}</Text>\r\n                </Pressable>\r\n\r\n                <Modal isOpen={modalCalendarVisible} onClose={handleModalCalendarClose} useRNModal>\r\n                    <Modal.CloseButton />\r\n                    <Modal.Content>\r\n                        <View style={{ height: '100%', flex: 1 }}>\r\n                            <Calendar\r\n                                onDayPress={useCallback(day => {\r\n                                    setSelectedDate(day.dateString);\r\n                                    invoiceSelectedDueDate = day.dateString;\r\n                                    globalInvoiceVariable.bankInformations.dueDate = day.dateString;\r\n                                    handleModalCalendarClose();\r\n                                }, [])}\r\n                                markedDates={{\r\n                                    [selectedDate]: { selected: true, disableTouchEvent: true, selectedDotColor: '#7b9cff' }\r\n                                }}\r\n                                renderArrow={(direction) => (\r\n                                    direction === 'left' ? <MaterialIcons name='arrow-back-ios' color='#7b9cff' /> : <MaterialIcons name='arrow-forward-ios' color='#7b9cff' />\r\n                                )}\r\n                                enableSwipeMonths={true}\r\n                                initialDate={selectedDate}\r\n                                // minDate={currentDate}\r\n                                showSixWeeks />\r\n\r\n                        </View>\r\n\r\n                    </Modal.Content>\r\n\r\n                </Modal>\r\n            </>\r\n\r\n        );\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (currentDate) {\r\n            const date = new Date(currentDate);\r\n\r\n            // Check the day of the week\r\n            const dayOfWeek = date.getDay();\r\n\r\n            if (dayOfWeek === 5) { // Friday\r\n                date.setDate(date.getDate() + 3); // Add 3 days to reach Monday\r\n            } else if (dayOfWeek === 6) { // Saturday\r\n                date.setDate(date.getDate() + 2); // Add 2 days to reach Monday\r\n            } else {\r\n                date.setDate(date.getDate() + 1); // Sunday to Thursday, add 1 day\r\n            }\r\n\r\n            // Format the date back to string\r\n            const adjustedDate = date.toISOString().split('T')[0];\r\n            setSelectedDueDate(adjustedDate);\r\n        }\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Pressable\r\n                focusable={false}\r\n                variant='ghost'\r\n                onPress={handleModalOpen}\r\n                onHoverIn={hoverIn}\r\n                onHoverOut={hoverOut}\r\n                style={{\r\n                    marginTop: 3,\r\n                    paddingVertical: 3,\r\n                    paddingHorizontal: 5,\r\n                    flexDirection: 'row', // Align items in a row\r\n                    alignItems: 'center', // Center items vertically\r\n                    justifyContent: 'center',\r\n                    borderRadius: 5,\r\n                    backgroundColor: isHovered ? '#a8720a' : '#D38F0D',\r\n                }}\r\n            >\r\n                <FontAwesome name='calendar-plus-o' size={15} color={'white'} />\r\n                <Text color={'white'} style={{ fontWeight: 700, marginLeft: 5, }}>{`Extend Due Date`}</Text>\r\n            </Pressable>\r\n\r\n            <Modal\r\n                isOpen={modalVisible}\r\n                onClose={handleModalClose}\r\n                useRNModal\r\n            >\r\n                <Modal.Content>\r\n                    <Modal.Header >Extend Due Date</Modal.Header>\r\n                    <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                        <Text style={{ width: '20%', fontWeight: 700, margin: 3, }}>Due Date:</Text>\r\n                        <ModalCalendar currentDate={currentDate} selectedDate={selectedDueDate} setSelectedDate={setSelectedDueDate} />\r\n                    </View>\r\n                    <Modal.Footer>\r\n                        <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between', }}>\r\n                            <Pressable\r\n                                focusable={false}\r\n                                variant='ghost'\r\n                                onPress={handleModalClose}\r\n                                onHoverIn={cancelHoverIn}\r\n                                onHoverOut={cancelHoverOut}\r\n                                style={{\r\n                                    marginTop: 3,\r\n                                    paddingVertical: 3,\r\n                                    alignItems: 'center', // Center items vertically\r\n                                    justifyContent: 'center',\r\n                                    borderRadius: 5,\r\n                                    backgroundColor: isCancelHovered ? '#3F3F46' : '#52525B',\r\n                                    flex: 1,\r\n                                }}\r\n                            >\r\n                                <Text color={'white'} style={{ fontWeight: 700, }}>Cancel</Text>\r\n                            </Pressable>\r\n\r\n                            <View style={{ flex: 1 }} />\r\n\r\n                            <Pressable\r\n                                onPress={handleConfirm}\r\n                                focusable={false}\r\n                                variant='ghost'\r\n                                onHoverIn={confirmHoverIn}\r\n                                onHoverOut={confirmHoverOut}\r\n                                disabled={isConfirmLoading}\r\n                                style={{\r\n                                    marginTop: 3,\r\n                                    paddingVertical: 3,\r\n                                    alignItems: 'center', // Center items vertically\r\n                                    justifyContent: 'center',\r\n                                    borderRadius: 5,\r\n                                    backgroundColor: isConfirmHovered ? '#0f7534' : '#16A34A',\r\n                                    flex: 1,\r\n                                }}\r\n                            >\r\n                                {!isConfirmLoading ? <Text color={'white'} style={{ fontWeight: 700, }}>Confirm</Text> : <Spinner size={'sm'} color={'white'} />}\r\n                            </Pressable>\r\n                        </View>\r\n\r\n\r\n                    </Modal.Footer>\r\n                </Modal.Content>\r\n            </Modal>\r\n        </>\r\n\r\n\r\n\r\n    )\r\n}\r\n\r\nconst TransactionModal = () => {\r\n    const transactionModalVisible = useSelector((state) => state.transactionModalVisible);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const handleTransactionModalClose = () => {\r\n        dispatch(setTransactionModalVisible(false));\r\n    }\r\n    return (\r\n\r\n        <Modal\r\n            isOpen={transactionModalVisible}\r\n            onClose={() => {\r\n                handleTransactionModalClose()\r\n            }}\r\n            size={'lg'}\r\n            useRNModal\r\n        >\r\n            {transactionModalVisible &&\r\n                <Modal.Content>\r\n                    <Modal.CloseButton />\r\n\r\n                    <Modal.Header style={{ borderBottomWidth: 2, borderColor: '#0A9FDC', }} >{transactionModalTitle}</Modal.Header>\r\n\r\n                    {transactionModalContentValue == 1 || transactionModalContentValue == 2 &&\r\n                        <IssueProformaInvoiceModalContent />\r\n                    }\r\n\r\n                    {transactionModalContentValue == 3 &&\r\n                        <ConfirmPaymentModalContent />\r\n                    }\r\n                </Modal.Content>\r\n            }\r\n        </Modal>\r\n    )\r\n}\r\n\r\nconst TransactionButton = ({ title, buttonValue, transactionValue, colorHoverIn, colorHoverOut }) => {\r\n\r\n    const [isHovered, setIsHovered] = useState(false);\r\n\r\n\r\n    const hoverIn = () => setIsHovered(true);\r\n    const hoverOut = () => setIsHovered(false);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const handleTransactionModalOpen = () => {\r\n        dispatch(setTransactionModalVisible(true));\r\n        transactionModalTitle = title;\r\n        transactionModalContentValue = transactionValue;\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Pressable\r\n                focusable={false}\r\n                variant='ghost'\r\n                onPress={handleTransactionModalOpen}\r\n                onHoverIn={hoverIn}\r\n                onHoverOut={hoverOut}\r\n                style={{\r\n                    marginTop: 3,\r\n                    paddingVertical: 3,\r\n                    paddingHorizontal: 5,\r\n                    flexDirection: 'row', // Align items in a row\r\n                    alignItems: 'center', // Center items vertically\r\n                    justifyContent: 'center',\r\n                    borderRadius: 5,\r\n                    backgroundColor: isHovered ? colorHoverIn : colorHoverOut,\r\n                }}\r\n            >\r\n                <FastImage\r\n                    source={{\r\n                        uri: require(`../../assets/chat_step/chat_step_${buttonValue}_on.png`),\r\n                        priority: FastImage.priority.normal\r\n                    }}\r\n                    style={{\r\n                        tintColor: 'rgba(128, 128, 128, 1)',\r\n                        width: 15,\r\n                        height: 15,\r\n                        alignSelf: 'center',\r\n                    }}\r\n                    resizeMode={FastImage.resizeMode.stretch}\r\n                />\r\n                <Text color={'white'} style={{ fontWeight: 700, marginLeft: 5, }}>{title}</Text>\r\n            </Pressable>\r\n\r\n        </>\r\n\r\n    );\r\n};\r\n\r\n\r\nconst PaymentHistoryModal = () => {\r\n\r\n    const [paymentHistoryVisible, setPaymentHistoryVisible] = useState(false);\r\n    const selectedCustomerData = useSelector((state) => state.selectedCustomerData);\r\n\r\n    const sortedPayments = selectedCustomerData.paymentsHistory\r\n        ? [...selectedCustomerData.paymentsHistory].sort((a, b) => {\r\n            const dateA = new Date(a.date);\r\n            const dateB = new Date(b.date);\r\n            return dateB - dateA; // Sorts in descending order\r\n        })\r\n        : [];\r\n\r\n    const [displayedPayments, setDisplayedPayments] = useState(sortedPayments.slice(0, 5));\r\n    const [loadingMore, setLoadingMore] = useState(false);\r\n\r\n    const loadMorePayments = () => {\r\n        if (loadingMore) return; // Prevent multiple loads\r\n\r\n        setLoadingMore(true);\r\n        const nextItems = sortedPayments.slice(\r\n            displayedPayments.length,\r\n            displayedPayments.length + 5\r\n        );\r\n\r\n        setTimeout(() => { // Simulate network request\r\n            setDisplayedPayments([...displayedPayments, ...nextItems]);\r\n            setLoadingMore(false);\r\n        }, 500); // Adjust the timeout as needed\r\n    };\r\n\r\n    const handlePaymentHistoryModalOpen = () => {\r\n        setDisplayedPayments(sortedPayments.slice(0, 5));\r\n        setPaymentHistoryVisible(true);\r\n\r\n    };\r\n\r\n    const handlePaymentHistoryModalClose = () => {\r\n        setPaymentHistoryVisible(false);\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n\r\n    function formatDate(dateString) {\r\n        // Remove ' at ' from the date string\r\n        const cleanedDateString = dateString.replace(' at ', ' ');\r\n        const date = new Date(cleanedDateString);\r\n\r\n        if (isNaN(date.getTime())) {\r\n            // Date is not valid\r\n            console.error(\"Invalid Date:\", dateString);\r\n            return \"Invalid Date\";\r\n        }\r\n\r\n        const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n        const year = date.getFullYear();\r\n        const month = months[date.getMonth()];\r\n        const day = date.getDate().toString().padStart(2, '0');\r\n\r\n        let hours = date.getHours();\r\n        const minutes = date.getMinutes().toString().padStart(2, '0');\r\n        const ampm = hours >= 12 ? 'pm' : 'am';\r\n\r\n        hours = hours % 12;\r\n        hours = hours ? hours : 12; // the hour '0' should be '12'\r\n\r\n        return `${year} ${month} ${day} at ${hours}:${minutes}${ampm}`;\r\n    }\r\n\r\n    const isCloseToBottom = ({ layoutMeasurement, contentOffset, contentSize }) => {\r\n        return layoutMeasurement.height + contentOffset.y >= contentSize.height - 20;\r\n    };\r\n\r\n    return (\r\n\r\n        <>\r\n            <Pressable onPress={handlePaymentHistoryModalOpen}>\r\n                <Text style={{ fontSize: 14, color: '#0A78BE', textAlign: 'center', }} underline>\r\n                    {`View Payments History`}\r\n                </Text>\r\n            </Pressable>\r\n\r\n            <Modal isOpen={paymentHistoryVisible} onClose={handlePaymentHistoryModalClose} useRNModal>\r\n                <Modal.Content style={{ backgroundColor: 'white', borderRadius: 10 }}>\r\n                    <Modal.CloseButton />\r\n                    <Modal.Header style={{ backgroundColor: 'white', textAlign: 'center', fontSize: 18, fontWeight: 'bold', color: '#333' }}>\r\n                        Payment History\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <ScrollView\r\n                            style={{ flex: 1, paddingHorizontal: 15, maxHeight: 500 }}\r\n                            onScroll={({ nativeEvent }) => {\r\n                                if (isCloseToBottom(nativeEvent)) {\r\n                                    loadMorePayments();\r\n                                }\r\n                            }}\r\n                            scrollEventThrottle={400} // Adjust as needed\r\n                        >\r\n                            {\r\n                                Array.isArray(sortedPayments) && sortedPayments.length > 0 ?\r\n                                    displayedPayments.map((payment, index) => (\r\n                                        <View key={index} style={{\r\n                                            marginBottom: 15,\r\n                                            backgroundColor: '#F8F9FF', // Card background color\r\n                                            borderRadius: 10, // Rounded corners for the card\r\n                                            shadowColor: '#000', // Shadow color\r\n                                            shadowOffset: { width: 0, height: 2 },\r\n                                            shadowOpacity: 0.1,\r\n                                            shadowRadius: 2,\r\n                                            elevation: 3, // Elevation for Android\r\n                                            padding: 15, // Padding inside the card\r\n                                            borderBottomWidth: 1,\r\n                                            borderBottomColor: '#eee',\r\n                                        }}>\r\n\r\n                                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: 'black', marginBottom: 5 }}>\r\n                                                <Text style={{ fontWeight: 'bold', color: '#0A78BE', }}>Date: </Text>\r\n                                                <Text style={{ color: '#333' }}>\r\n                                                    {formatDate(sortedPayments[sortedPayments.length - 1 - index].date)}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: 'black', marginBottom: 5 }}>\r\n                                                <Text style={{ fontWeight: 'bold', color: '#0A78BE', }}>Value: </Text>\r\n                                                <Text style={{ color: Number(sortedPayments[sortedPayments.length - 1 - index].value).toLocaleString().startsWith('-') ? '#FF0000' : '#16A34A' }}>\r\n                                                    ${Number(sortedPayments[sortedPayments.length - 1 - index].value).toLocaleString()}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: 'black', marginBottom: 5 }}>\r\n                                                <Text style={{ fontWeight: 'bold', color: '#0A78BE', }}>Vehicle Name: </Text>\r\n                                                <Text style={{ color: '#333' }}>{sortedPayments[sortedPayments.length - 1 - index].vehicleName}</Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: 'black', marginBottom: 5 }}>\r\n                                                <Text style={{ fontWeight: 'bold', color: '#0A78BE', }}>Reference Number: </Text>\r\n                                                <Text style={{ color: '#333' }}>{sortedPayments[sortedPayments.length - 1 - index].vehicleRef}</Text>\r\n                                            </Text>\r\n\r\n                                        </View>\r\n\r\n                                    )) :\r\n                                    <Text style={{ fontWeight: 'bold', alignSelf: 'center', }} italic>No history to show</Text>\r\n                            }\r\n                            <View style={{ height: 20, }}>\r\n                                {loadingMore && <Spinner size='sm' color=\"#7B9CFF\" />}\r\n                            </View>\r\n\r\n                        </ScrollView>\r\n\r\n\r\n\r\n                    </Modal.Body>\r\n                </Modal.Content>\r\n            </Modal>\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nconst CustomerProfileModal = () => {\r\n    const [customerModalVisible, setCustomerModalVisible] = useState(false);\r\n    const selectedCustomerData = useSelector((state) => state.selectedCustomerData);\r\n\r\n\r\n    const handleModalOpen = () => {\r\n        setCustomerModalVisible(true);\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setCustomerModalVisible(false);\r\n    }\r\n\r\n    const totalPaymentValue = selectedCustomerData.paymentsHistory\r\n        ? selectedCustomerData.paymentsHistory.reduce((sum, payment) => {\r\n            const value = Number(payment.value);\r\n            return sum + (isNaN(value) ? 0 : value);\r\n        }, 0)\r\n        : 0;\r\n\r\n\r\n    return (\r\n        <>\r\n            <Pressable\r\n                onPress={handleModalOpen}\r\n                style={{ width: 'fit-content', }}\r\n            >\r\n                <Text style={{ fontWeight: 700, }} underline>{`${globalCustomerFirstName} ${globalCustomerLastName}`}</Text>\r\n            </Pressable>\r\n\r\n            <Modal\r\n                isOpen={customerModalVisible}\r\n                onClose={handleModalClose}\r\n                size={'lg'}\r\n\r\n            >\r\n                <Modal.Content background={'white'}>\r\n\r\n                    <Modal.Body>\r\n\r\n                        <View\r\n                            style={{\r\n                                flex: 1,\r\n                                alignItems: 'center',\r\n                            }}>\r\n\r\n                            <View style={{\r\n                                borderRadius: 10,\r\n                                backgroundColor: '#F8F9FF',\r\n                                width: 440,\r\n                                alignItems: 'center',\r\n                                paddingBottom: 15,\r\n\r\n                            }}>\r\n\r\n                                <Text style={{ fontWeight: 'bold', fontSize: 26, color: '#0A78BE', }} selectable>\r\n                                    {`${globalCustomerFirstName} ${globalCustomerLastName}`}\r\n                                </Text>\r\n\r\n                                <Text style={{ fontSize: 14, color: '#6F6F6F', width: '45%', textAlign: 'center', }} selectable>\r\n                                    {`${selectedCustomerData.textZip}, ${selectedCustomerData.textStreet}, ${selectedCustomerData.city}, ${selectedCustomerData.country}`}\r\n                                </Text>\r\n\r\n                                <View\r\n                                    style={{\r\n                                        flex: 1,\r\n                                        flexDirection: 'row',\r\n                                        paddingTop: 20,\r\n                                        justifyContent: 'center',\r\n                                    }}\r\n                                >\r\n\r\n                                    <Text style={{ fontSize: 14, color: '#6F6F6F', textAlign: 'center' }} selectable>\r\n                                        {`${selectedCustomerData.textPhoneNumber}`}\r\n                                    </Text>\r\n\r\n                                    {/* Separator */}\r\n\r\n                                    <View style={{\r\n                                        height: '100%', // Full height of the parent View\r\n                                        width: 2, // Width of the line\r\n                                        backgroundColor: '#DCDCDC', // Line color\r\n                                        marginHorizontal: 10, // Space on the sides of the line\r\n                                    }} />\r\n\r\n                                    <Hyperlink\r\n                                        linkDefault={true}\r\n                                        linkStyle={{ color: '#8A64F6', fontSize: 14 }}\r\n\r\n                                    >\r\n                                        <Text style={{ textAlign: 'center' }} selectable>\r\n                                            {selectedCustomerData.textEmail}\r\n                                        </Text>\r\n                                    </Hyperlink>\r\n\r\n                                </View>\r\n\r\n\r\n                            </View>\r\n\r\n                        </View>\r\n\r\n                        <View\r\n                            style={{\r\n                                width: 440,\r\n                                justifyContent: 'center',\r\n                                alignItems: 'center',\r\n                                marginTop: 50,\r\n                                flexDirection: 'row',\r\n                                alignSelf: 'center',\r\n                            }}>\r\n\r\n                            <View style={{ flex: 1, alignItems: 'center', }}>\r\n\r\n                                <Text style={{ fontWeight: 'bold', fontSize: 24, color: '#009922', textAlign: 'center', }} selectable>\r\n                                    {`$${(totalPaymentValue).toLocaleString('en-US')}`}\r\n                                </Text>\r\n\r\n                                <Text style={{ fontWeight: 'bold', fontSize: 16, color: '#5E4343', textAlign: 'center', }}>\r\n                                    {`Total Payment`}\r\n                                </Text>\r\n\r\n                                <PaymentHistoryModal />\r\n\r\n\r\n                            </View>\r\n\r\n                            <View style={{ flex: 1, alignItems: 'center', }}>\r\n                                <Text style={{ fontWeight: 'bold', fontSize: 24, color: '#990000', textAlign: 'center', }} selectable>\r\n                                    {`$${selectedCustomerData.overBalance ? Number(selectedCustomerData.overBalance).toLocaleString('en-US') : 0}`}\r\n                                </Text>\r\n                                <Text style={{ fontWeight: 'bold', fontSize: 16, color: '#5E4343', textAlign: 'center', }}>\r\n                                    {`Overbalance`}\r\n                                </Text>\r\n\r\n                                <Text style={{ fontSize: 14, color: 'transparent', textAlign: 'center', }} underline>\r\n                                    {`-----`}\r\n                                </Text>\r\n\r\n\r\n                            </View>\r\n\r\n                            <View style={{ flex: 1, alignItems: 'center', }}>\r\n                                <Text style={{ fontWeight: 'bold', fontSize: 24, color: '#0029A3', textAlign: 'center', }} selectable>\r\n                                    {`11`}\r\n                                </Text>\r\n                                <Text style={{ fontWeight: 'bold', fontSize: 16, color: '#5E4343', textAlign: 'center', }}>\r\n                                    {`Transactions`}\r\n                                </Text>\r\n\r\n                                <Pressable>\r\n                                    <Text style={{ fontSize: 14, color: '#0A78BE', textAlign: 'center', }} underline>\r\n                                        {`View Transactions`}\r\n                                    </Text>\r\n                                </Pressable>\r\n\r\n                            </View>\r\n\r\n                        </View>\r\n\r\n                    </Modal.Body>\r\n\r\n\r\n                </Modal.Content>\r\n            </Modal>\r\n\r\n\r\n\r\n\r\n        </>\r\n\r\n    )\r\n}\r\n\r\nconst ChatMessageHeader = () => {\r\n\r\n    const activeChatId = useSelector((state) => state.activeChatId);\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const carImageUrl = useSelector((state) => state.carImageUrl);\r\n    const dispatch = useDispatch();\r\n    const [reRenderKey, setReRenderKey] = useState(0);\r\n    const totalPriceCondition = selectedChatData.fobPrice && selectedChatData.jpyToUsd && selectedChatData.m3 && selectedChatData.freightPrice;\r\n\r\n    const freightCalculation = ((selectedChatData.m3 ? selectedChatData.m3 :\r\n        (selectedChatData.carData && selectedChatData.carData.dimensionCubicMeters ?\r\n            selectedChatData.carData.dimensionCubicMeters : 0)) *\r\n        Number(selectedChatData.freightPrice));\r\n\r\n    const totalPriceCalculation = (selectedChatData.fobPrice ? selectedChatData.fobPrice :\r\n        (selectedChatData.carData && selectedChatData.carData.fobPrice ?\r\n            selectedChatData.carData.fobPrice : 0) *\r\n        (selectedChatData.jpyToUsd ? selectedChatData.jpyToUsd :\r\n            (selectedChatData.currency && selectedChatData.currency.jpyToUsd ?\r\n                selectedChatData.currency.jpyToUsd : 0))) + freightCalculation;\r\n\r\n    const fobPriceDollars = (selectedChatData.fobPrice ? selectedChatData.fobPrice :\r\n        (selectedChatData.carData && selectedChatData.carData.fobPrice ?\r\n            selectedChatData.carData.fobPrice : 0) *\r\n        (selectedChatData.jpyToUsd ? selectedChatData.jpyToUsd :\r\n            (selectedChatData.currency && selectedChatData.currency.jpyToUsd ?\r\n                selectedChatData.currency.jpyToUsd : 0)));\r\n\r\n    const carName = selectedChatData.carData && selectedChatData.carData.carName ? selectedChatData.carData.carName : (selectedChatData.vehicle && selectedChatData.vehicle.carName ? selectedChatData.vehicle.carName : '');\r\n\r\n    const freightPriceYen = freightCalculation / selectedChatData.currency.jpyToUsd;\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        setReRenderKey(reRenderKey + 1)\r\n        dispatch(setChatMessageBoxLoading(false));\r\n\r\n    }, [activeChatId]);\r\n\r\n    return (\r\n\r\n        <View style={{\r\n            flex: 1,\r\n            alignSelf: 'flex-start',\r\n            flexDirection: 'row',\r\n        }}>\r\n\r\n            {carImageUrl ? (\r\n                <FastImage\r\n                    source={{ uri: carImageUrl, priority: FastImage.priority.normal }}\r\n                    style={{\r\n                        width: 60,\r\n                        height: 60,\r\n                        borderRadius: 30,\r\n                        alignSelf: 'center',\r\n                        margin: 10,\r\n                    }}\r\n                    resizeMode={FastImage.resizeMode.stretch}\r\n                />\r\n            ) : (\r\n                <View\r\n                    style={{\r\n                        width: 60,\r\n                        height: 60,\r\n                        borderRadius: 30,\r\n                        alignSelf: 'center',\r\n                        backgroundColor: '#e0e0e0',\r\n                        marginRight: 10,\r\n                    }}\r\n                />\r\n            )}\r\n\r\n            <View style={{ alignSelf: 'center', paddingRight: 10, }}>\r\n                <Text style={{ fontWeight: 700, color: '#0A78BE', }}>{carName}</Text>\r\n\r\n                <CustomerProfileModal />\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text selectable style={{ fontWeight: 700, fontSize: 12, paddingTop: 0, marginLeft: 1, color: '#8D7777', }}>\r\n                        {selectedChatData.carData && selectedChatData.carData.referenceNumber ? selectedChatData.carData.referenceNumber : 'Chassis N/A'}\r\n                    </Text>\r\n                </View>\r\n\r\n                {/* <Text style={{ fontWeight: 700, color: \"#16A34A\", }}>{`$${selectedChatData.offerPrice ? selectedChatData.offerPrice : 0}`}</Text> */}\r\n                <TimelineStatus data={statusData} />\r\n\r\n            </View>\r\n\r\n            {/* <HorizontalTimeline /> */}\r\n\r\n            <View style={{ alignSelf: 'center', justifyContent: 'center', paddingLeft: 10, }}>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text selectable style={{ fontWeight: 700, fontSize: 12, paddingTop: 0, marginLeft: 2, }}>\r\n                        {selectedChatData.carData && selectedChatData.carData.chassisNumber ? selectedChatData.carData.chassisNumber : 'Chassis N/A'}\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text selectable style={{ fontWeight: 700, fontSize: 12, paddingTop: 0, marginLeft: 2, }}>\r\n                        {selectedChatData.carData && selectedChatData.carData.modelCode ? selectedChatData.carData.modelCode : 'Model Code N/A'}\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text selectable style={{ fontWeight: 700, fontSize: 12, paddingTop: 0, marginLeft: 2, }}>\r\n                        {selectedChatData.carData && selectedChatData.carData.mileage\r\n                            ? Number(selectedChatData.carData.mileage).toLocaleString('en-US')\r\n                            : 'Mileage N/A'} km\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text selectable style={{ fontWeight: 700, fontSize: 12, paddingTop: 0, marginLeft: 2, }}>\r\n                        {selectedChatData.carData && selectedChatData.carData.fuel ? selectedChatData.carData.fuel : 'Fuel N/A'}\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text selectable style={{ fontWeight: 700, fontSize: 12, paddingTop: 0, marginLeft: 2, }}>\r\n                        {selectedChatData.carData && selectedChatData.carData.transmission ? selectedChatData.carData.transmission : 'Transmission N/A'}\r\n                    </Text>\r\n                </View>\r\n\r\n            </View>\r\n\r\n            <View style={{ alignSelf: 'center', justifyContent: 'center', paddingLeft: 15, }}>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text style={{ fontSize: 18, }} bold>Total Price: </Text>\r\n                    <Text selectable style={{ fontSize: 18, color: \"#16A34A\", textAlign: 'right', }} bold>\r\n                        {`$${Number(totalPriceCalculation).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`}\r\n                    </Text>\r\n                    <Text selectable style={{ fontWeight: 400, fontSize: 12, color: \"#8D7777\", paddingTop: 4, marginLeft: 2, }}>\r\n                        ({`${Number(\r\n                            totalPriceCalculation /\r\n                            ((selectedChatData && selectedChatData.jpyToUsd) ? Number(selectedChatData.jpyToUsd) :\r\n                                (selectedChatData && selectedChatData.currency && selectedChatData.currency.jpyToUsd) ? selectedChatData.currency.jpyToUsd :\r\n                                    0)\r\n                        ).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`})\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text style={{ fontWeight: 700, }}>FOB Price: </Text>\r\n                    <Text selectable style={{ fontWeight: 700, color: \"#8D7777\", textAlign: 'right', }}>\r\n                        {`${Number(fobPriceDollars).toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 })}`}\r\n                    </Text>\r\n                    <Text selectable style={{ fontWeight: 400, fontSize: 12, color: \"#8D7777\", paddingTop: 2, marginLeft: 2, }}>\r\n                        ({`${(selectedChatData.fobPrice ? selectedChatData.fobPrice : Number(selectedChatData.carData && selectedChatData.carData.fobPrice ? selectedChatData.carData.fobPrice : 0)).toLocaleString('en-US', { style: 'currency', currency: 'JPY', minimumFractionDigits: 0, maximumFractionDigits: 0 })}`})\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text style={{ fontWeight: 700, }}>Freight Price: </Text>\r\n                    <Text selectable style={{ fontWeight: 700, color: \"#8D7777\", textAlign: 'right', }}>\r\n                        {`${Number(freightCalculation).toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 })}`}\r\n                    </Text>\r\n                    <Text selectable style={{ fontWeight: 400, fontSize: 12, color: \"#8D7777\", paddingTop: 2, marginLeft: 2, }}>\r\n                        ({`${(selectedChatData.freightPrice ? freightPriceYen : Number(selectedChatData.carData && selectedChatData.carData.freightPrice ? freightPriceYen : 0)).toLocaleString('en-US', { style: 'currency', currency: 'JPY', minimumFractionDigits: 0, maximumFractionDigits: 0 })}`})\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text selectable style={{ fontWeight: 700, textAlign: 'right', }}>\r\n                        {`${selectedChatData.country && selectedChatData.port ? `${selectedChatData.country} / ${selectedChatData.port}` : 'N/A'}`}\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text style={{ fontWeight: 700, color: \"#16A34A\", }}>{selectedChatData.insurance ? 'CIF' : 'C&F'}\r\n                        {selectedChatData.inspection ? ` + Inpection[${selectedChatData.inspectionName}]` : ''}</Text>\r\n                </View>\r\n            </View>\r\n\r\n            <View style={{ paddingLeft: 10, paddingRight: 10, paddingTop: 2, }}>\r\n                {(selectedChatData.stepIndicator.value == 1 || selectedChatData.stepIndicator.value == 2) &&\r\n                    <>\r\n                        <ProfitCalculator />\r\n\r\n                        <TransactionButton\r\n                            key={'Issue Proforma Invoice'}\r\n                            title={selectedChatData.stepIndicator.value == 1 ? 'Issue Proforma Invoice' : selectedChatData.stepIndicator.value == 2 ? 'Update Invoice' : ''}\r\n                            colorHoverIn={'#0f7534'}\r\n                            colorHoverOut={'#16A34A'}\r\n                            transactionValue={2}\r\n                            buttonValue={2}\r\n                            iconActive={<FontAwesome5 name=\"file-invoice-dollar\" color=\"#1C2B33\" size={14} />} />\r\n\r\n                        <PreviewInvoice />\r\n\r\n                        <View style={{ flexDirection: 'row' }}>\r\n                            <Text style={{ fontWeight: 700, fontSize: 18 }}>Final Price: </Text>\r\n                            <Text selectable style={{ fontWeight: 700, fontSize: 18, color: \"#FF0000\", textAlign: 'right' }}>\r\n                                {`$${(invoiceData && invoiceData.paymentDetails && invoiceData.paymentDetails.totalAmount ? Number(invoiceData.paymentDetails.totalAmount.replace(/,/g, '')) : 0).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`}\r\n                            </Text>\r\n                            <Text selectable style={{ fontWeight: 400, fontSize: 12, color: \"#8D7777\", paddingTop: 4, marginLeft: 2 }}>\r\n                                ({`${(invoiceData && invoiceData.paymentDetails && invoiceData.paymentDetails.totalAmount && selectedChatData && selectedChatData.currency && selectedChatData.currency.jpyToUsd ? (Number(invoiceData.paymentDetails.totalAmount.replace(/,/g, '')) / Number(selectedChatData.currency.jpyToUsd)) : 0).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`})\r\n                            </Text>\r\n                        </View>\r\n                    </>\r\n                }\r\n\r\n                {(selectedChatData.stepIndicator.value == 3) &&\r\n\r\n                    <View style={{ flexDirection: 'row', paddingRight: 10, paddingTop: 2, }}>\r\n\r\n                        <View style={{ paddingLeft: 10, }}>\r\n                            <ProfitCalculator />\r\n\r\n                            <TransactionButton\r\n                                key={'Input Payment'}\r\n                                title={'Input Payment'}\r\n                                colorHoverOut={'#FF0000'}\r\n                                colorHoverIn={'#800101'}\r\n                                transactionValue={3}\r\n                                buttonValue={4}\r\n                                iconActive={<FontAwesome5 name=\"file-invoice-dollar\" color=\"#1C2B33\" size={14} />} />\r\n\r\n\r\n                            <PreviewInvoice />\r\n\r\n                            <View style={{ flexDirection: 'row' }}>\r\n                                <Text style={{ fontWeight: 700, fontSize: 18 }}>Final Price: </Text>\r\n                                <Text selectable style={{ fontWeight: 700, fontSize: 18, color: \"#FF0000\", textAlign: 'right' }}>\r\n                                    {`$${(invoiceData && invoiceData.paymentDetails && invoiceData.paymentDetails.totalAmount ? Number(invoiceData.paymentDetails.totalAmount.replace(/,/g, '')) : 0).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`}\r\n                                </Text>\r\n                                <Text selectable style={{ fontWeight: 400, fontSize: 12, color: \"#8D7777\", paddingTop: 4, marginLeft: 2 }}>\r\n                                    ({`${(invoiceData && invoiceData.paymentDetails && invoiceData.paymentDetails.totalAmount && selectedChatData && selectedChatData.currency && selectedChatData.currency.jpyToUsd ? (Number(invoiceData.paymentDetails.totalAmount.replace(/,/g, '')) / Number(selectedChatData.currency.jpyToUsd)) : 0).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`})\r\n                                </Text>\r\n                            </View>\r\n                        </View>\r\n\r\n                        <View style={{ paddingLeft: 10, }}>\r\n\r\n                            <TransactionButton\r\n                                key={'Issue Proforma Invoice'}\r\n                                title={selectedChatData.stepIndicator.value == 1 ? 'Issue Proforma Invoice' : 'Update Invoice'}\r\n                                colorHoverIn={'#0f7534'}\r\n                                colorHoverOut={'#16A34A'}\r\n                                transactionValue={2}\r\n                                buttonValue={2}\r\n                                iconActive={<FontAwesome5 name=\"file-invoice-dollar\" color=\"#1C2B33\" size={14} />} />\r\n\r\n                            <ExtendDueDateButton />\r\n\r\n                            <View style={{ flexDirection: 'row', }}>\r\n                                {invoiceData && invoiceData.bankInformations && invoiceData.bankInformations.dueDate &&\r\n                                    <>\r\n                                        <Text style={{ fontWeight: 700, fontSize: 14, }}>Due Date: </Text>\r\n                                        <Text selectable style={{ fontWeight: 700, fontSize: 14, textAlign: 'right', color: '#FF0000', }}>\r\n                                            {\r\n                                                invoiceData.bankInformations.dueDate\r\n                                                    ? new Date(invoiceData.bankInformations.dueDate).toLocaleDateString(undefined, {\r\n                                                        year: 'numeric',\r\n                                                        month: 'long',\r\n                                                        day: 'numeric',\r\n                                                    })\r\n                                                    : 'Invalid Date'\r\n                                            }\r\n                                        </Text>\r\n                                    </>}\r\n                            </View>\r\n\r\n                        </View>\r\n                    </View>\r\n\r\n                }\r\n\r\n            </View>\r\n            <TransactionModal />\r\n        </View>\r\n\r\n    );\r\n};\r\n\r\n\r\nconst ReadByListModal = ({ userEmail, handleReadByListModalClose }) => {\r\n\r\n    const readByListModalVisible = useSelector((state) => state.readByListModalVisible)\r\n    const selectedChatData = useSelector((state) => state.selectedChatData)\r\n    // const [email, setEmail] = useState(projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '');\r\n\r\n    const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n    return (\r\n\r\n        <Modal\r\n            isOpen={readByListModalVisible}\r\n            onClose={() => handleReadByListModalClose()}\r\n            useRNModal\r\n            size={'xs'}\r\n        >\r\n            <Modal.Content borderRadius={0} style={{ padding: 15, backgroundColor: '#f8f8f8', shadowColor: '#000', shadowOffset: { width: 0, height: 2 }, shadowOpacity: 0.25, shadowRadius: 3.84, elevation: 5 }}>\r\n                <Modal.CloseButton />\r\n\r\n                <Modal.Header style={{ fontSize: 22, fontWeight: '600', textAlign: 'center', color: '#333', }}>Read List</Modal.Header>\r\n\r\n                <Modal.Body>\r\n                    {\r\n                        selectedChatData.readBy.length > 0 ? (\r\n                            <ScrollView style={{ maxHeight: 250, borderRadius: 10 }}>\r\n                                {/* Sort and map over the readBy list */}\r\n                                {\r\n                                    [...selectedChatData.readBy]\r\n                                        .sort((a, b) => a === email ? -1 : b === email ? 1 : 0)\r\n                                        .map(item => (\r\n                                            <View key={item} style={{ flexDirection: 'row', alignItems: 'center', marginVertical: 8, borderBottomWidth: 0.5, borderColor: '#ddd', paddingBottom: 8 }}>\r\n                                                <FontAwesome name=\"user-circle\" size={24} color=\"#4A90E2\" style={{ marginRight: 12 }} />\r\n                                                <Text style={{ flex: 1, color: '#555' }}>{email === item ? 'You' : item}</Text>\r\n                                            </View>\r\n                                        ))\r\n                                }\r\n                            </ScrollView>\r\n                        ) : (\r\n                            <Text style={{ textAlign: 'center', color: 'grey', fontSize: 16 }}>No one has read this message yet.</Text>\r\n                        )\r\n                    }\r\n                </Modal.Body>\r\n            </Modal.Content>\r\n        </Modal>\r\n\r\n    );\r\n}\r\n\r\nconst ImagePreviewModal = ({ isVisible, onClose, imageUrl }) => {\r\n    return (\r\n        <Modal isOpen={isVisible} onClose={onClose} size=\"full\" useRNModal>\r\n            <Modal.Content\r\n                style={{\r\n                    backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                    width: '80%',\r\n                    height: '80%',\r\n                    alignSelf: 'center',\r\n                    justifyContent: 'center',\r\n                }}>\r\n                <Modal.CloseButton />\r\n                <FastImage\r\n                    source={{ uri: imageUrl, priority: FastImage.priority.normal }}\r\n                    style={{ width: '100%', height: '100%', borderRadius: 10 }}\r\n                    resizeMode={FastImage.resizeMode.contain}\r\n                />\r\n            </Modal.Content>\r\n        </Modal>\r\n    );\r\n};\r\n\r\n\r\nconst HoverablePressable = ({ url, printComponent }) => {\r\n    const [isHoveredDownload, setIsHoveredDownload] = useState(false);\r\n    const [isHoveredPrint, setIsHoveredPrint] = useState(false);\r\n    const baseStyle = {\r\n        marginRight: 10,\r\n        borderRadius: 16,\r\n        borderWidth: 1,\r\n        borderColor: 'white',\r\n        width: 26,\r\n        height: 26,\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n    };\r\n\r\n    const hoverStyle = {\r\n        backgroundColor: '#ddd', // Example hover style\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Tooltip label=\"Download\" openDelay={200} bgColor={'white'} _text={{ color: '#1C2B33', }}>\r\n                <Pressable\r\n                    style={{\r\n                        marginRight: 8,\r\n                        borderRadius: 16,\r\n                        width: 32,\r\n                        height: 32,\r\n                        justifyContent: 'center',\r\n                        alignItems: 'center',\r\n                        backgroundColor: isHoveredDownload ? '#424649' : 'transparent',\r\n                    }}\r\n                    onPress={async () => {\r\n                        await Linking.openURL(url);\r\n                    }}\r\n                    onMouseEnter={() => setIsHoveredDownload(true)}\r\n                    onMouseLeave={() => setIsHoveredDownload(false)}\r\n                >\r\n                    <MaterialCommunityIcons name=\"download\" size={20} color={'#F1F1F1'} />\r\n                </Pressable>\r\n            </Tooltip>\r\n\r\n            {/* <Tooltip label=\"Print\" openDelay={200} bgColor={'white'} _text={{ color: '#1C2B33', }}>\r\n                <Pressable\r\n                    style={{\r\n                        marginRight: 8,\r\n                        borderRadius: 16,\r\n                        width: 32,\r\n                        height: 32,\r\n                        justifyContent: 'center',\r\n                        alignItems: 'center',\r\n                        backgroundColor: isHoveredPrint ? '#424649' : 'transparent',\r\n                    }}\r\n                    onMouseEnter={() => setIsHoveredPrint(true)}\r\n                    onMouseLeave={() => setIsHoveredPrint(false)}\r\n                    onPress={printComponent}\r\n                >\r\n                    <MaterialCommunityIcons name=\"printer\" size={20} color={'#F1F1F1'} />\r\n                </Pressable>\r\n            </Tooltip> */}\r\n        </>\r\n    );\r\n};\r\n\r\nconst DocumentPreviewModal = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const selectedFileUrl = useSelector((state) => state.selectedFileUrl);\r\n    const pdfViewerModalVisible = useSelector((state) => state.pdfViewerModalVisible);\r\n\r\n    const [iframeKey, setIframeKey] = useState(0);\r\n\r\n\r\n    const url = 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/ChatFiles%2Fchat_2023090239_marcvan14%40gmail.com%2FC-HUB_01312024153002.887%2FDAILY%20REPORT%202024-01-29.pdf?alt=media&token=88b7be9b-17ef-48d3-b5b3-6f7f0d317b7c'\r\n    const urlDocx = 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/ChatFiles%2Fchat_2023090239_marcvan14%40gmail.com%2FC-HUB_01312024170117.701%2FDAILY%20REPORT%202024-01-29.docx?alt=media&token=9bf45632-e192-45bf-8b40-9fd5cdb9368e';\r\n    const [isLoading, setLoading] = useState(true); // Loading state\r\n\r\n    // console.log(`https://docs.google.com/viewer?url=${encodeURIComponent(urlDocx)}&embedded=true`);\r\n\r\n\r\n    const handleIframeLoad = () => {\r\n        setLoading(false); // Set loading to false when iframe content is loaded\r\n    };\r\n\r\n    const handleModalClose = () => {\r\n\r\n        dispatch(setPdfViewerModalVisible(false))\r\n        dispatch(setSelectedFileUrl(''))\r\n        setLoading(true);\r\n        globalSelectedFileType = '';\r\n        globalSelectedPDFUrl = '';\r\n    }\r\n\r\n    const printIframe = () => {\r\n        // const iframe = document.getElementById('documentIframe');\r\n        // iframe.contentWindow.print();\r\n        const printWindow = window.open(`https://docs.google.com/viewer?url=${encodeURIComponent(selectedFileUrl)}&embedded=true`, '_blank');\r\n        printWindow.focus();\r\n        printWindow.print();\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n\r\n        const timeout = setTimeout(() => {\r\n\r\n            if (isLoading) {\r\n                console.log(\"Iframe is taking too long to load. Attempting to reload.\");\r\n                console.log(\"Current URL:\", selectedFileUrl);\r\n                console.log(\"Current Global URL:\", globalSelectedPDFUrl);\r\n\r\n                setIsLoading(false);\r\n                setIframeKey(prevKey => prevKey + 1);\r\n                dispatch(setSelectedFileUrl(globalSelectedPDFUrl));\r\n\r\n            }\r\n\r\n        }, 5000); // Timeout set to 5 seconds\r\n\r\n        return () => clearTimeout(timeout);\r\n\r\n    }, [isLoading,]);\r\n\r\n\r\n\r\n    return (\r\n        <Modal isOpen={pdfViewerModalVisible}\r\n            onClose={() => {\r\n                handleModalClose();\r\n            }\r\n            } size=\"xl\">\r\n            <Modal.Content>\r\n                {globalSelectedFileType !== 'pdf' ?\r\n\r\n                    (<>\r\n                        {isLoading && (\r\n                            <View style={{\r\n                                top: 0,\r\n                                bottom: 0,\r\n                                left: 0,\r\n                                right: 0,\r\n                                position: 'absolute',\r\n                                justifyContent: 'center',\r\n                                alignItems: 'center',\r\n                                height: '700px'  // Same height as the iframe for consistent layout\r\n                            }}>\r\n                                <Spinner\r\n                                    animating\r\n                                    size=\"lg\"\r\n                                    color={'#7B9CFF'}\r\n                                />\r\n                            </View>\r\n                        )}\r\n                        {selectedFileUrl !== '' &&\r\n                            <>\r\n                                {!isLoading &&\r\n                                    <View style={{ flexDirection: 'row', width: '100%', height: 57, borderRadius: 0, backgroundColor: '#323639', justifyContent: 'flex-end', alignItems: 'center', }}>\r\n                                        <HoverablePressable url={globalSelectedPDFUrl} printComponent={printIframe} />\r\n                                    </View>\r\n                                }\r\n\r\n                                <iframe\r\n                                    key={iframeKey}\r\n                                    src={`https://docs.google.com/viewer?url=${encodeURIComponent(selectedFileUrl)}&embedded=true`}\r\n                                    id='documentIframe'\r\n                                    style={{ width: '100%', height: '700px' }}\r\n                                    title=\"Document Viewer\"\r\n                                    onLoad={() => {\r\n                                        handleIframeLoad();\r\n                                    }}\r\n                                />\r\n                            </>\r\n                        }\r\n                    </>\r\n                    )\r\n\r\n                    : (\r\n                        <>\r\n                            {isLoading && (\r\n                                <View style={{\r\n                                    top: 0,\r\n                                    bottom: 0,\r\n                                    left: 0,\r\n                                    right: 0,\r\n                                    position: 'absolute',\r\n                                    justifyContent: 'center',\r\n                                    alignItems: 'center',\r\n                                    height: '700px'  // Same height as the iframe for consistent layout\r\n                                }}>\r\n                                    <Spinner\r\n                                        animating\r\n                                        size=\"lg\"\r\n                                        color={'#7B9CFF'}\r\n                                    />\r\n                                </View>\r\n                            )}\r\n                            {selectedFileUrl !== '' && <iframe\r\n                                src={selectedFileUrl}\r\n                                style={{ width: '100%', height: '700px' }}\r\n                                title=\"PDF Viewer\"\r\n                                onLoad={handleIframeLoad} // Event when iframe has loaded\r\n                            />}\r\n                        </>\r\n                    )\r\n\r\n\r\n                }\r\n\r\n            </Modal.Content>\r\n        </Modal>\r\n    );\r\n\r\n};\r\n\r\nconst ChatMessageBox = ({ activeButtonValue, userEmail }) => {\r\n    const chatListData = useSelector((state) => state.chatListData);\r\n    const chatMessagesData = useSelector((state) => state.chatMessagesData);\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const activeChatId = useSelector((state) => state.activeChatId);\r\n    const loadMoreMessagesLoading = useSelector((state) => state.loadMoreMessagesLoading);\r\n    const noMoreMessagesData = useSelector((state) => state.noMoreMessagesData);\r\n    const [isEyeHovered, setIsEyeHovered] = useState(false);\r\n    const flatListRef = useRef();\r\n    const [hoveredImageIndex, setHoveredImageIndex] = useState(null);\r\n\r\n    const [selectedImageIndex, setSelectedImageIndex] = useState(null);\r\n    const [isPreviewVisible, setIsPreviewVisible] = useState(false);\r\n\r\n    const screenWidth = Dimensions.get('window').width;\r\n    const screenHeight = Dimensions.get('window').height;\r\n\r\n    const openPreview = (index) => {\r\n        setSelectedImageIndex(index);\r\n        setIsPreviewVisible(true);\r\n    };\r\n\r\n    const closePreview = () => {\r\n        setIsPreviewVisible(false);\r\n        setSelectedImageIndex(null);\r\n    };\r\n\r\n\r\n    const handleImageMessageMouseEnter = (index) => {\r\n        setHoveredImageIndex(index);\r\n    };\r\n\r\n    const handleImageMessageMouseLeave = () => {\r\n        setHoveredImageIndex(null);\r\n    };\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [read, setRead] = useState(selectedChatData.read);\r\n\r\n    const handleReadByListModalOpen = () => {\r\n        dispatch(setReadByListModalVisible(true));\r\n    };\r\n\r\n    const handleReadByListModalClose = () => {\r\n        dispatch(setReadByListModalVisible(false));\r\n    };\r\n\r\n    const animatedValue = useRef(new Animated.Value(0)).current;\r\n\r\n    useEffect(() => {\r\n        Animated.loop(\r\n            Animated.sequence([\r\n                Animated.timing(animatedValue, {\r\n                    toValue: 1,\r\n                    duration: 2000,\r\n                    useNativeDriver: false\r\n                }),\r\n                Animated.timing(animatedValue, {\r\n                    toValue: 0,\r\n                    duration: 2000,\r\n                    useNativeDriver: false\r\n                })\r\n            ])\r\n        ).start();\r\n    }, [animatedValue]);\r\n\r\n    const borderColor = animatedValue.interpolate({\r\n        inputRange: [0, 0.25, 0.5, 0.75, 1],\r\n        outputRange: [\r\n            'rgb(255, 100, 100)', // Red\r\n            'rgb(100, 255, 100)', // Green\r\n            'rgb(100, 100, 255)', // Blue\r\n            'rgb(255, 255, 100)', // Yellow\r\n            'rgb(255, 100, 255)'  // Magenta\r\n        ]\r\n    });\r\n\r\n    const renderFooter = () => {\r\n        return (\r\n            <>\r\n                {!noMoreMessagesData && (\r\n                    <View style={{ paddingVertical: 20, height: 60, }}>\r\n                        {loadMoreMessagesLoading && (\r\n                            <Spinner\r\n                                animating\r\n                                size=\"sm\"\r\n                                color={'#7B9CFF'}\r\n                            />\r\n                        )}\r\n                    </View>\r\n                )}\r\n            </>\r\n\r\n\r\n        );\r\n    };\r\n\r\n    const handleLoadMoreMessages = async () => {\r\n        dispatch(setLoadMoreMessagesLoading(true));\r\n        dispatch(setNoMoreMessagesData(false));\r\n\r\n        let nextQuery;\r\n        if (!globalMessagesLastVisible) {\r\n            // No more data to load or globalLastVisible is undefined\r\n            dispatch(setLoadMoreMessagesLoading(false));\r\n            dispatch(setNoMoreMessagesData(true));\r\n        }\r\n\r\n        else {\r\n            dispatch(setLoadMoreMessagesLoading(true));\r\n            dispatch(setNoMoreMessagesData(false));\r\n\r\n            nextQuery = query(\r\n                collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'),\r\n                orderBy('timestamp', 'desc'),\r\n                startAfter(globalMessagesLastVisible),\r\n                limit(10)\r\n            );\r\n            try {\r\n                const unsubscribe = onSnapshot(nextQuery, (snapshot) => {\r\n                    if (snapshot.empty) {\r\n                        // Handle the case when there's no more data\r\n                        console.log(\"No more data to load\");\r\n                        setTimeout(() => {\r\n                            dispatch(setLoadMoreMessagesLoading(false));\r\n                            dispatch(setNoMoreMessagesData(true));\r\n                            globalMessagesLastVisible = null;\r\n                        }, 0);  // Delay setting loading and no more data flags\r\n                        return;\r\n                    }\r\n\r\n                    const chatsData = [];\r\n                    snapshot.forEach((doc) => {\r\n                        chatsData.push({\r\n                            id: doc.id,\r\n                            ...doc.data(),\r\n                        });\r\n                    });\r\n\r\n\r\n                    // Append new data to the existing list\r\n\r\n                    setTimeout(() => {\r\n                        dispatch(setChatMessagesData([...chatMessagesData, ...chatsData]));\r\n                        dispatch(setLoadMoreMessagesLoading(false));\r\n                        globalMessagesLastVisible = snapshot.docs[snapshot.docs.length - 1];\r\n                    }, 0);\r\n\r\n                });\r\n\r\n                return unsubscribe;\r\n            } catch (error) {\r\n                console.error('Error fetching data from Firebase:', error);\r\n                setTimeout(() => dispatch(setLoadMoreMessagesLoading(false)), 0);  // Ensure loading is set to false even if there's an error\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    const updateChatToRead = async () => {\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n        const docRef = doc(projectExtensionFirestore, \"chats\", activeChatId);\r\n        if (email !== '') {\r\n            try {\r\n\r\n                await updateDoc(docRef, {\r\n                    read: true,\r\n                    readBy: arrayUnion(email),\r\n                });\r\n            } catch (error) {\r\n                console.error(\"Error updating document: \", error);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (activeChatId == selectedChatData.id) {\r\n            if (selectedChatData.stepIndicator.value !== activeButtonValue && activeButtonValue !== 0) {\r\n                dispatch(setChatMessagesData([]));\r\n                dispatch(setActiveChatId(''));\r\n            }\r\n            else {\r\n                updateChatToRead();\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }, [selectedChatData]);\r\n\r\n    const handlePreviewInvoiceModalOpen = () => {\r\n        dispatch(setPreviewInvoiceVisible(true));\r\n    };\r\n\r\n    const formatDate = (timestamp) => {\r\n        // Parse the original timestamp\r\n        // Expected format: \"2024/01/15 at 12:17:50\"\r\n        const parts = timestamp.match(/(\\d{4})\\/(\\d{2})\\/(\\d{2}) at (\\d{2}):(\\d{2}):(\\d{2})/);\r\n        if (!parts) return timestamp; // Return original if parsing fails\r\n\r\n        // Create a new Date object\r\n        const date = new Date(parts[1], parts[2] - 1, parts[3], parts[4], parts[5], parts[6]);\r\n\r\n        // Format month names\r\n        const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n\r\n        // Convert to 12-hour format and determine AM or PM\r\n        const hours = date.getHours();\r\n        const isPM = hours >= 12;\r\n        const formattedHours = hours % 12 || 12; // Convert 0 to 12 for 12 AM\r\n        const amPm = isPM ? 'PM' : 'AM';\r\n\r\n        // Construct the new format with year at the beginning\r\n        return `${date.getFullYear().toString().substr(-2)} ${months[date.getMonth()]} ${date.getDate()}, ${formattedHours}:${date.getMinutes().toString().padStart(2, '0')} ${amPm}`;\r\n    };\r\n\r\n    const extractUsernameFromEmail = (email) => {\r\n        const [username] = email.split('@');\r\n        return username;\r\n    };\r\n\r\n\r\n    const breakUrl = (url, maxUrlLength = 30) => {\r\n        let brokenUrl = '';\r\n        while (url.length > 0) {\r\n            brokenUrl += url.substring(0, maxUrlLength);\r\n            if (url.length > maxUrlLength) {\r\n                brokenUrl += '\\u200B'; // Zero-width space\r\n            }\r\n            url = url.substring(maxUrlLength);\r\n        }\r\n        return brokenUrl;\r\n    };\r\n\r\n    const isUrl = (text) => {\r\n        // Simple URL check\r\n        const urlPattern = new RegExp('^(https?:\\\\/\\\\/)?' + // protocol\r\n            '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|' + // domain name\r\n            '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // OR ip (v4) address\r\n            '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + // port and path\r\n            '(\\\\?[;&a-z\\\\d%_.~+=-]*)?' + // query string\r\n            '(\\\\#[-a-z\\\\d_]*)?$', 'i'); // fragment locator\r\n        return !!urlPattern.test(text);\r\n    };\r\n\r\n    const handleLinkPress = (url) => {\r\n        Linking.canOpenURL(url).then(supported => {\r\n            if (supported) {\r\n                Linking.openURL(url);\r\n            } else {\r\n                console.log(\"Don't know how to open URI: \" + url);\r\n            }\r\n        });\r\n    };\r\n\r\n    const cleanUrl = (url) => {\r\n        // Removing Zero Width Space and other potential invisible characters\r\n        return url.replace(/[\\u200B-\\u200D\\uFEFF]/g, '');\r\n    };\r\n\r\n\r\n    const renderItemText = (isGlobalCustomerSender, text) => {\r\n        const urlPattern = new RegExp('(https?:\\\\/\\\\/[^\\\\s]+)', 'g');\r\n        let segments = text.split(urlPattern);\r\n\r\n        const insertBreaks = (str, n) => {\r\n            // Inserts a zero-width space every 'n' characters in 'str'\r\n            let result = '';\r\n            while (str.length > 0) {\r\n                result += str.substring(0, n) + '\\u200B';\r\n                str = str.substring(n);\r\n            }\r\n            return result;\r\n        };\r\n\r\n        return segments.map((segment, index) => {\r\n            const segmentWithBreaks = segment.length > 30 && !segment.includes(' ') ? insertBreaks(segment, 30) : segment;\r\n\r\n            if (isUrlForText(segment)) {\r\n                // Apply breaks for long URLs\r\n                return (\r\n                    <Pressable key={index} onPress={() => handleLinkPress(segment)}>\r\n                        <Text\r\n                            selectable\r\n                            style={{\r\n                                fontWeight: '400',\r\n                                color: isGlobalCustomerSender ? 'black' : 'white',\r\n                                fontSize: 16,\r\n                                flexShrink: 1,\r\n                                textDecorationLine: 'underline',\r\n                                flexWrap: 'wrap',\r\n                            }}\r\n                        >\r\n                            {segmentWithBreaks}\r\n                        </Text>\r\n                    </Pressable>\r\n                );\r\n            } else {\r\n                return (\r\n                    <Text\r\n                        selectable\r\n                        key={index}\r\n                        style={{\r\n                            fontWeight: '400',\r\n                            color: isGlobalCustomerSender ? 'black' : 'white',\r\n                            fontSize: 16,\r\n                            flexShrink: 1,\r\n                            flexWrap: 'wrap',\r\n                        }}\r\n                    >\r\n                        {segmentWithBreaks}\r\n                    </Text>\r\n                );\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n\r\n    const getFileIcon = (fileName) => {\r\n        const iconSize = 24;\r\n        const lowerFileName = fileName.toLowerCase();\r\n\r\n        if (lowerFileName.endsWith('.pdf')) {\r\n            return <MaterialIcons name={'picture-as-pdf'} size={iconSize} color=\"white\" />;\r\n        }\r\n        // Add more conditions for other file types as needed\r\n        // Example for .docx files\r\n        if (lowerFileName.endsWith('.docx') || lowerFileName.endsWith('.doc')) {\r\n            return <MaterialCommunityIcons name={'microsoft-word'} size={iconSize} color=\"white\" />;\r\n        }\r\n        if (lowerFileName.endsWith('.xlsx') || lowerFileName.endsWith('.xls') || lowerFileName.endsWith('.csv')) {\r\n            return <MaterialCommunityIcons name={'microsoft-excel'} size={iconSize} color=\"white\" />;\r\n        }\r\n\r\n        if (lowerFileName.endsWith('.rar') || lowerFileName.endsWith('.zip')) {\r\n            return <FastImage\r\n                source={{ uri: require('../../assets/rar_icon.png'), priority: FastImage.priority.high }}\r\n                style={{\r\n                    width: iconSize,\r\n                    height: iconSize,\r\n                }}\r\n                resizeMode={FastImage.resizeMode.cover}\r\n            />;\r\n        }\r\n        // Default icon if no specific type is matched\r\n        return <MaterialIcons name=\"insert-drive-file\" size={iconSize} color=\"black\" />;\r\n    };\r\n\r\n    const isUrlForText = (text) => {\r\n        const urlPattern = new RegExp('^(http://www\\\\.|https://www\\\\.|http://|https://)[a-z0-9]+([\\\\-\\\\.]{1}[a-z0-9]+)*\\\\.[a-z]{2,5}(:[0-9]{1,5})?(/.*)?$');\r\n        return urlPattern.test(text);\r\n    }\r\n\r\n    const renderItem = ({ item, index }) => {\r\n        const isGlobalCustomerSender = item.sender === globalCustomerId;\r\n        const isLastMessage = index === 0; // Since the list is inverted, the first item is actually the last message\r\n        const isHovered = hoveredImageIndex === index;\r\n\r\n\r\n        return (\r\n            <View style={{\r\n                flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse',\r\n                width: '100%',\r\n                alignSelf: isGlobalCustomerSender ? 'flex-start' : 'flex-end',\r\n                marginVertical: 4,\r\n                maxWidth: '60%', // Max width for long messages\r\n                // borderWidth: 1,\r\n                // borderColor: 'red',\r\n            }}>\r\n                {item.messageType == 'IssuedInvoice' &&\r\n                    <View style={{ flexDirection: 'column', alignItems: 'flex-end', flex: 1 }}>\r\n                        <View style={{ flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse', flex: 1, }}>\r\n                            <Animated.View style={{\r\n                                padding: 7,\r\n                                flex: 1,\r\n                                borderRadius: 20,\r\n                                backgroundColor: isGlobalCustomerSender ? '#EFEFEF' : '#0A7CFF',\r\n                                marginRight: isGlobalCustomerSender ? 0 : 10,\r\n                                borderWidth: 3,\r\n                                borderColor: borderColor,\r\n                            }}>\r\n                                <Pressable onPress={handlePreviewInvoiceModalOpen}>\r\n                                    <Text underline selectable style={{\r\n                                        fontWeight: 400,\r\n                                        color: isGlobalCustomerSender ? 'black' : 'white',\r\n                                        fontSize: 16,\r\n                                    }}>\r\n                                        {item.text.trim()}\r\n                                    </Text>\r\n                                </Pressable>\r\n                            </Animated.View>\r\n                            {isLastMessage && selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Already read by the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail-open\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n\r\n                            {isLastMessage && !selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Message sent to the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n                            {isLastMessage && selectedChatData.readBy.length > 0 && (\r\n                                <View style={{\r\n                                    alignSelf: 'flex-end',\r\n                                    marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                    marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                    alignSelf: 'center',\r\n                                }}>\r\n                                    <Pressable\r\n                                        focusable={false}\r\n                                        onHoverIn={() => setIsEyeHovered(true)}\r\n                                        onHoverOut={() => setIsEyeHovered(false)}\r\n                                        onPress={handleReadByListModalOpen}\r\n\r\n                                    >\r\n                                        <Entypo name=\"eye\" size={20} color={isEyeHovered ? '#c5d1ce' : '#75A99C'} />\r\n                                    </Pressable>\r\n                                </View>\r\n                            )}\r\n                        </View>\r\n\r\n                        {/* Additional message properties like timestamp, sender email, IP, and country */}\r\n                        <Text style={{\r\n                            fontWeight: '300',\r\n                            color: 'gray',\r\n                            fontSize: 11,\r\n                            marginTop: 4,\r\n                            marginBottom: 4,\r\n                            marginLeft: isGlobalCustomerSender ? 15 : 0,\r\n                            marginRight: isGlobalCustomerSender ? 0 : 15,\r\n                        }}\r\n                            selectable>\r\n                            {!isGlobalCustomerSender ?\r\n                                (`${formatDate(item.timestamp)} - ${extractUsernameFromEmail(item.sender)}${item.ip ? ` - ${item.ip}` : ''}${item.ipCountry ? ` - ${item.ipCountry}` : ''}`)\r\n                                : (`${formatDate(item.timestamp)}${item.ip ? ` - ${item.ip}${item.ipCountry ? ` - ${item.ipCountry}` : ''}` : ''}`)\r\n                            }\r\n                        </Text>\r\n                    </View>\r\n                }\r\n\r\n\r\n                {item.messageType == 'InputPayment' &&\r\n                    <View style={{ flexDirection: 'column', alignItems: 'flex-end', flex: 1 }}>\r\n                        <View style={{ flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse', flex: 1, }}>\r\n                            <Animated.View style={{\r\n                                padding: 7,\r\n                                flex: 1,\r\n                                borderRadius: 20,\r\n                                backgroundColor: isGlobalCustomerSender ? '#EFEFEF' : '#0A7CFF',\r\n                                marginRight: isGlobalCustomerSender ? 0 : 10,\r\n                                borderWidth: 3,\r\n                                borderColor: borderColor,\r\n                            }}>\r\n                                <Text selectable style={{\r\n                                    fontWeight: 400,\r\n                                    color: isGlobalCustomerSender ? 'black' : 'white',\r\n                                    fontSize: 16,\r\n                                }}>\r\n                                    {item.text.trim()}\r\n                                </Text>\r\n                            </Animated.View>\r\n                            {isLastMessage && selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Already read by the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail-open\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n\r\n                            {isLastMessage && !selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Message sent to the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n                            {isLastMessage && selectedChatData.readBy.length > 0 && (\r\n                                <View style={{\r\n                                    alignSelf: 'flex-end',\r\n                                    marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                    marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                    alignSelf: 'center',\r\n                                }}>\r\n                                    <Pressable\r\n                                        focusable={false}\r\n                                        onHoverIn={() => setIsEyeHovered(true)}\r\n                                        onHoverOut={() => setIsEyeHovered(false)}\r\n                                        onPress={handleReadByListModalOpen}\r\n\r\n                                    >\r\n                                        <Entypo name=\"eye\" size={20} color={isEyeHovered ? '#c5d1ce' : '#75A99C'} />\r\n                                    </Pressable>\r\n                                </View>\r\n                            )}\r\n                        </View>\r\n\r\n                        {/* Additional message properties like timestamp, sender email, IP, and country */}\r\n                        <Text style={{\r\n                            fontWeight: '300',\r\n                            color: 'gray',\r\n                            fontSize: 11,\r\n                            marginTop: 4,\r\n                            marginBottom: 4,\r\n                            marginLeft: isGlobalCustomerSender ? 15 : 0,\r\n                            marginRight: isGlobalCustomerSender ? 0 : 15,\r\n                        }}\r\n                            selectable>\r\n                            {!isGlobalCustomerSender ?\r\n                                (`${formatDate(item.timestamp)} - ${extractUsernameFromEmail(item.sender)}${item.ip ? ` - ${item.ip}` : ''}${item.ipCountry ? ` - ${item.ipCountry}` : ''}`)\r\n                                : (`${formatDate(item.timestamp)}${item.ip ? ` - ${item.ip}${item.ipCountry ? ` - ${item.ipCountry}` : ''}` : ''}`)\r\n                            }\r\n                        </Text>\r\n                    </View>\r\n                }\r\n\r\n\r\n                {!item.messageType && item.file && item.file.type == 'attachment' &&\r\n                    <View style={{ flexDirection: 'column', alignItems: isGlobalCustomerSender ? 'flex-start' : 'flex-end', flex: 1 }}>\r\n                        {item.text && item.text !== '' &&\r\n                            <View style={{\r\n                                marginBottom: 5,\r\n                                padding: 10,\r\n                                borderRadius: 20,\r\n                                backgroundColor: isGlobalCustomerSender ? '#EFEFEF' : '#0A7CFF',\r\n                                marginLeft: isGlobalCustomerSender ? 10 : 0,\r\n                                marginRight: isGlobalCustomerSender ? 0 : 10,\r\n                                flexShrink: 1,\r\n                            }}>\r\n                                {renderItemText(isGlobalCustomerSender, item.text.trim())}\r\n                            </View>\r\n                        }\r\n                        <View style={{ flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse', flex: 1, }}>\r\n\r\n                            <View style={{\r\n                                flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse',\r\n                                flex: 1,\r\n                            }}>\r\n                                <View style={{\r\n                                    marginBottom: 5,\r\n                                    padding: 10,\r\n                                    borderRadius: 20,\r\n                                    backgroundColor: isGlobalCustomerSender ? '#EFEFEF' : '#0A7CFF',\r\n                                    marginLeft: isGlobalCustomerSender ? 10 : 0,\r\n                                    marginRight: isGlobalCustomerSender ? 0 : 10,\r\n                                    flexShrink: 1,\r\n                                }}>\r\n                                    <Pressable\r\n                                        onPress={() => {\r\n                                            if (item.file.name.endsWith('.pdf')) {\r\n                                                globalSelectedFileType = 'pdf'\r\n                                                dispatch(setPdfViewerModalVisible(true));\r\n                                                dispatch(setSelectedFileUrl(item.file.url));\r\n                                                globalSelectedPDFUrl = item.file.url;\r\n\r\n                                            }\r\n                                            else {\r\n                                                globalSelectedFileType = 'not-pdf'\r\n                                                dispatch(setPdfViewerModalVisible(true));\r\n                                                dispatch(setSelectedFileUrl(item.file.url));\r\n                                                globalSelectedPDFUrl = item.file.url;\r\n\r\n\r\n\r\n                                            }\r\n                                            // dispatch(setSelectedFileUrl(item.file.url));\r\n                                            // // globalSelectedPDFUrl = item.file.url\r\n                                            // dispatch(setPdfViewerModalVisible(true));\r\n\r\n                                        }}\r\n                                        style={{ flexDirection: 'row', }}\r\n                                    >\r\n                                        <View style={{ marginRight: 5, }}>\r\n                                            {getFileIcon(item.file.name)}\r\n                                        </View>\r\n\r\n                                        <Text underline selectable style={{\r\n                                            fontWeight: 400,\r\n                                            color: isGlobalCustomerSender ? 'black' : 'white',\r\n                                            fontSize: 16,\r\n                                        }}>\r\n                                            {item.file.name.trim()}\r\n                                        </Text>\r\n                                    </Pressable>\r\n                                </View>\r\n                            </View>\r\n\r\n                            {/* Display read status text outside of the message bubble */}\r\n                            {isLastMessage && selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Already read by the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail-open\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n\r\n                            {isLastMessage && !selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Message sent to the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n                            {isLastMessage && selectedChatData.readBy.length > 0 && (\r\n                                <View style={{\r\n                                    alignSelf: 'flex-end',\r\n                                    marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                    marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                    alignSelf: 'center',\r\n                                }}>\r\n                                    <Pressable\r\n                                        focusable={false}\r\n                                        onHoverIn={() => setIsEyeHovered(true)}\r\n                                        onHoverOut={() => setIsEyeHovered(false)}\r\n                                        onPress={handleReadByListModalOpen}\r\n\r\n                                    >\r\n                                        <Entypo name=\"eye\" size={20} color={isEyeHovered ? '#c5d1ce' : '#75A99C'} />\r\n                                    </Pressable>\r\n                                </View>\r\n                            )}\r\n                        </View>\r\n\r\n                        {/* Additional message properties like timestamp and sender */}\r\n                        <Text style={{\r\n                            fontWeight: '300',\r\n                            color: 'gray',\r\n                            fontSize: 11,\r\n                            marginTop: 4,\r\n                            marginBottom: 4,\r\n                            marginLeft: isGlobalCustomerSender ? 15 : 0,\r\n                            marginRight: isGlobalCustomerSender ? 0 : 15,\r\n                        }}\r\n                            selectable>\r\n                            {!isGlobalCustomerSender ?\r\n                                (`${formatDate(item.timestamp)} - ${extractUsernameFromEmail(item.sender)}${item.ip ? ` - ${item.ip}` : ''}${item.ipCountry ? ` - ${item.ipCountry}` : ''}`)\r\n                                : (`${formatDate(item.timestamp)}${item.ip ? ` - ${item.ip}${item.ipCountry ? ` - ${item.ipCountry}` : ''}` : ''}`)\r\n                            }\r\n                        </Text>\r\n\r\n                    </View>}\r\n\r\n\r\n                {!item.messageType && item.file && item.file.type == 'image' &&\r\n                    <View style={{ flexDirection: 'column', alignItems: isGlobalCustomerSender ? 'flex-start' : 'flex-end', flex: 1 }}>\r\n                        {item.text && item.text !== '' &&\r\n                            <View style={{\r\n                                marginBottom: 5,\r\n                                padding: 10,\r\n                                borderRadius: 20,\r\n                                backgroundColor: isGlobalCustomerSender ? '#EFEFEF' : '#0A7CFF',\r\n                                marginLeft: isGlobalCustomerSender ? 10 : 0,\r\n                                marginRight: isGlobalCustomerSender ? 0 : 10,\r\n                                flexShrink: 1,\r\n                            }}>\r\n                                {renderItemText(isGlobalCustomerSender, item.text.trim())}\r\n                            </View>\r\n                        }\r\n                        <View style={{ flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse', flex: 1, }}>\r\n                            <View style={{\r\n                                flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse',\r\n                                flex: 1,\r\n                            }}>\r\n                                <View style={{\r\n                                    padding: 0,\r\n                                    borderRadius: 10,\r\n                                    marginLeft: isGlobalCustomerSender ? 10 : 0,\r\n                                    marginRight: isGlobalCustomerSender ? 0 : 10,\r\n                                    flexShrink: 1,\r\n                                }}>\r\n                                    <Pressable\r\n                                        onMouseEnter={() => handleImageMessageMouseEnter(index)}\r\n                                        onMouseLeave={handleImageMessageMouseLeave}\r\n                                        onPress={() => openPreview(index)}\r\n                                        style={{\r\n                                            position: 'relative', // Ensure relative positioning for the overlay\r\n                                            width: 250,\r\n                                            height: 250,\r\n                                            alignSelf: 'center',\r\n                                        }}\r\n                                    >\r\n                                        <FastImage\r\n                                            source={{ uri: item.file.url, priority: FastImage.priority.normal }}\r\n                                            style={{\r\n                                                width: '100%',\r\n                                                height: '100%',\r\n                                                borderRadius: 10,\r\n                                                borderWidth: 1,\r\n                                                borderColor: '#DADDE1',\r\n                                            }}\r\n                                            resizeMode={FastImage.resizeMode.contain}\r\n                                        />\r\n                                        {isHovered && (\r\n                                            <View style={{\r\n                                                ...StyleSheet.absoluteFillObject, // Make overlay cover the entire image\r\n                                                backgroundColor: 'rgba(0, 0, 0, 0.1)', // Semi-transparent black\r\n                                                borderRadius: 10, // Match the border radius of the image\r\n                                            }} />\r\n                                        )}\r\n                                    </Pressable>\r\n                                </View>\r\n                            </View>\r\n\r\n                            {/* Display read status text outside of the message bubble */}\r\n                            {isLastMessage && selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Already read by the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail-open\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n\r\n                            {isLastMessage && !selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Message sent to the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n                            {isLastMessage && selectedChatData.readBy.length > 0 && (\r\n                                <View style={{\r\n                                    alignSelf: 'flex-end',\r\n                                    marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                    marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                    alignSelf: 'center',\r\n                                }}>\r\n                                    <Pressable\r\n                                        focusable={false}\r\n                                        onHoverIn={() => setIsEyeHovered(true)}\r\n                                        onHoverOut={() => setIsEyeHovered(false)}\r\n                                        onPress={handleReadByListModalOpen}\r\n                                    >\r\n                                        <Entypo name=\"eye\" size={20} color={isEyeHovered ? '#c5d1ce' : '#75A99C'} />\r\n                                    </Pressable>\r\n                                </View>\r\n                            )}\r\n                        </View>\r\n\r\n                        {/* Additional message properties like timestamp and sender */}\r\n                        <Text style={{\r\n                            fontWeight: '300',\r\n                            color: 'gray',\r\n                            fontSize: 11,\r\n                            marginTop: 4,\r\n                            marginBottom: 4,\r\n                            marginLeft: isGlobalCustomerSender ? 15 : 0,\r\n                            marginRight: isGlobalCustomerSender ? 0 : 15,\r\n                        }}\r\n                            selectable>\r\n                            {!isGlobalCustomerSender ?\r\n                                (`${formatDate(item.timestamp)} - ${extractUsernameFromEmail(item.sender)}${item.ip ? ` - ${item.ip}` : ''}${item.ipCountry ? ` - ${item.ipCountry}` : ''}`)\r\n                                : (`${formatDate(item.timestamp)}${item.ip ? ` - ${item.ip}${item.ipCountry ? ` - ${item.ipCountry}` : ''}` : ''}`)\r\n                            }\r\n                        </Text>\r\n\r\n                    </View>}\r\n\r\n                {!item.messageType && !item.file &&\r\n                    <View style={{ flexDirection: 'column', alignItems: isGlobalCustomerSender ? 'flex-start' : 'flex-end', flex: 1 }}>\r\n                        <View style={{ flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse', flex: 1, }}>\r\n                            <View style={{\r\n                                flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse',\r\n                                flex: 1,\r\n                            }}>\r\n                                <View style={{\r\n                                    padding: 10,\r\n                                    borderRadius: 20,\r\n                                    backgroundColor: isGlobalCustomerSender ? '#EFEFEF' : '#0A7CFF',\r\n                                    marginLeft: isGlobalCustomerSender ? 10 : 0,\r\n                                    marginRight: isGlobalCustomerSender ? 0 : 10,\r\n                                    flexShrink: 1,\r\n                                }}>\r\n                                    {renderItemText(isGlobalCustomerSender, item.text.trim())}\r\n                                </View>\r\n                            </View>\r\n\r\n                            {/* Display read status text outside of the message bubble */}\r\n                            {isLastMessage && selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Already read by the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail-open\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n\r\n                            {isLastMessage && !selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Message sent to the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n                            {isLastMessage && selectedChatData.readBy.length > 0 && (\r\n                                <View style={{\r\n                                    alignSelf: 'flex-end',\r\n                                    marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                    marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                    alignSelf: 'center',\r\n                                }}>\r\n                                    <Pressable\r\n                                        focusable={false}\r\n                                        onHoverIn={() => setIsEyeHovered(true)}\r\n                                        onHoverOut={() => setIsEyeHovered(false)}\r\n                                        onPress={handleReadByListModalOpen}\r\n                                    >\r\n                                        <Entypo name=\"eye\" size={20} color={isEyeHovered ? '#c5d1ce' : '#75A99C'} />\r\n                                    </Pressable>\r\n                                </View>\r\n                            )}\r\n                        </View>\r\n\r\n                        {/* Additional message properties like timestamp and sender */}\r\n                        <Text style={{\r\n                            fontWeight: '300',\r\n                            color: 'gray',\r\n                            fontSize: 11,\r\n                            marginTop: 4,\r\n                            marginBottom: 4,\r\n                            marginLeft: isGlobalCustomerSender ? 15 : 0,\r\n                            marginRight: isGlobalCustomerSender ? 0 : 15,\r\n                        }}\r\n                            selectable>\r\n                            {!isGlobalCustomerSender ?\r\n                                (`${formatDate(item.timestamp)} - ${extractUsernameFromEmail(item.sender)}${item.ip ? ` - ${item.ip}` : ''}${item.ipCountry ? ` - ${item.ipCountry}` : ''}`)\r\n                                : (`${formatDate(item.timestamp)}${item.ip ? ` - ${item.ip}${item.ipCountry ? ` - ${item.ipCountry}` : ''}` : ''}`)\r\n                            }\r\n                        </Text>\r\n\r\n                    </View>}\r\n\r\n            </View>\r\n        );\r\n    };\r\n\r\n\r\n    return (\r\n        chatMessagesData.length > 0 ? (\r\n            <>\r\n                <FlatList\r\n                    style={{ height: 100 }}\r\n                    ref={flatListRef}\r\n                    data={chatMessagesData}\r\n                    renderItem={renderItem}\r\n                    keyExtractor={item => item.id}\r\n                    initialNumToRender={10} // Adjust based on your average message size and performance\r\n                    maxToRenderPerBatch={10}\r\n                    windowSize={500}\r\n                    onEndReachedThreshold={0.05}\r\n                    ListFooterComponent={renderFooter}\r\n                    onEndReached={handleLoadMoreMessages}\r\n                    inverted\r\n                />\r\n                {selectedImageIndex !== null && (\r\n                    <ImagePreviewModal\r\n                        isVisible={isPreviewVisible}\r\n                        onClose={closePreview}\r\n                        imageUrl={chatMessagesData[selectedImageIndex].file.url}\r\n                    />\r\n                )}\r\n                <ReadByListModal userEmail={userEmail} handleReadByListModalClose={handleReadByListModalClose} />\r\n            </>\r\n        ) : null\r\n    );\r\n};\r\n\r\n\r\n\r\n\r\nexport default function ChatMessages() {\r\n    const navigate = useNavigate();\r\n\r\n    const [email, setEmail] = useState('');\r\n    const chatListData = useSelector((state) => state.chatListData);\r\n    const activeChatId = useSelector((state) => state.activeChatId);\r\n    const chatMessageBoxLoading = useSelector((state) => state.chatMessageBoxLoading);\r\n    const chatListSearchText = useSelector((state) => state.chatListSearchText);\r\n    const chatMessagesData = useSelector((state) => state.chatMessagesData);\r\n    const loginName = useSelector((state) => state.loginName);\r\n\r\n    const [name, setName] = useState(loginName);\r\n\r\n    const screenWidth = Dimensions.get('window').width;\r\n\r\n    const [activeButton, setActiveButton] = useState('All messages');\r\n    const [activeButtonValue, setActiveButtonValue] = useState(0);\r\n\r\n    const [activeFilterButton, setActiveFilterButton] = useState('');\r\n    const [unreadButtonValue, setUnreadButtonValue] = useState(false);\r\n    const [readButtonValue, setReadButtonValue] = useState(false);\r\n    const [lastVisible, setLastVisible] = useState(null);\r\n    const [unreadCount, setUnreadCount] = useState(0);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        // globalImageUrl = '';\r\n        // navigate(`/devadmin/chat-messages/#`);\r\n\r\n        const fetchIpAndCountry = async () => {\r\n            try {\r\n                // dispatch(setChatMessageBoxLoading(true));\r\n                // Fetch IP Address\r\n                const ipResponse = await axios.get('https://api.ipify.org?format=json');\r\n                const fetchedIp = ipResponse.data.ip;\r\n                ip = fetchedIp;\r\n\r\n                // Fetch IP Country\r\n                if (fetchedIp) {\r\n                    const countryResponse = await axios.get(`https://ipapi.co/${fetchedIp}/json/`);\r\n                    const fetchedIpCountry = countryResponse.data.country_name;\r\n                    ipCountry = fetchedIpCountry;\r\n                    // dispatch(setChatMessageBoxLoading(false));\r\n                }\r\n\r\n            } catch (error) {\r\n                console.error('Error fetching IP data:', error);\r\n            }\r\n        };\r\n        const collectionRef = collection(projectExtensionFirestore, 'chats'); // Replace with your collection name\r\n        const unrepliedQuery = query(\r\n            collectionRef,\r\n            where('read', '==', false),\r\n            limit(10) // Limit the query to 10 documents\r\n        );\r\n\r\n        const unsubscribe = onSnapshot(unrepliedQuery, (querySnapshot) => {\r\n            setUnreadCount(querySnapshot.size); // Update state with the new count\r\n            fetchIpAndCountry();\r\n\r\n        }, (error) => {\r\n            console.error(\"Error fetching documents: \", error);\r\n        });\r\n\r\n\r\n\r\n        // Clean up function to unsubscribe from the listener when the component unmounts\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const handlePress = (buttonTitle, buttonTitleValue) => {\r\n        if (activeButton == buttonTitle) {\r\n        }\r\n        else {\r\n            setActiveButton(buttonTitle);\r\n            setActiveButtonValue(buttonTitleValue);\r\n            setActiveFilterButton('');\r\n            setUnreadButtonValue(false);\r\n\r\n            dispatch(setActiveChatId(''));\r\n\r\n            dispatch(setLoadMoreLoading(false));\r\n            dispatch(setNoMoreData(false));\r\n        }\r\n    };\r\n\r\n\r\n    const handleUnreadPress = (buttonTitle) => {\r\n\r\n        setActiveFilterButton(prevState => prevState === buttonTitle ? '' : buttonTitle);\r\n        setUnreadButtonValue(prevState => !prevState);\r\n        setReadButtonValue(false);\r\n    };\r\n\r\n    const handleReadPress = (buttonTitle) => {\r\n\r\n        setActiveFilterButton(prevState => prevState === buttonTitle ? '' : buttonTitle);\r\n        setReadButtonValue(prevState => !prevState);\r\n        setUnreadButtonValue(false);\r\n\r\n    };\r\n\r\n\r\n    //Main fetch\r\n    useEffect(() => {\r\n        let queryRef;\r\n\r\n        dispatch(setChatMessagesData([]));\r\n        dispatch(setChatMessageBoxLoading(false));\r\n        dispatch(setActiveChatId(''));\r\n\r\n        // Helper function to build the query\r\n        const buildQuery = () => {\r\n            const searchValue = chatListSearchText.toUpperCase();\r\n\r\n            if (unreadButtonValue) {\r\n                if (activeButtonValue === 0) {\r\n                    return searchValue === '' ?\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('read', '==', false), orderBy('lastMessageDate', 'desc'), limit(10)) :\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('read', '==', false), where('keywords', 'array-contains', searchValue), orderBy('lastMessageDate', 'desc'), limit(10));\r\n                } else {\r\n                    return searchValue === '' ?\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('read', '==', false), where('stepIndicator.value', '==', activeButtonValue), orderBy('lastMessageDate', 'desc'), limit(10)) :\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('stepIndicator.value', '==', activeButtonValue), where('read', '==', false), where('keywords', 'array-contains', searchValue), orderBy('lastMessageDate', 'desc'), limit(10));\r\n                }\r\n            }\r\n            else if (readButtonValue) {\r\n                if (activeButtonValue === 0) {\r\n                    return searchValue === '' ?\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('read', '==', true), orderBy('lastMessageDate', 'desc'), limit(10)) :\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('read', '==', true), where('keywords', 'array-contains', searchValue), orderBy('lastMessageDate', 'desc'), limit(10));\r\n                } else {\r\n                    return searchValue === '' ?\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('read', '==', true), where('stepIndicator.value', '==', activeButtonValue), orderBy('lastMessageDate', 'desc'), limit(10)) :\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('stepIndicator.value', '==', activeButtonValue), where('read', '==', true), where('keywords', 'array-contains', searchValue), orderBy('lastMessageDate', 'desc'), limit(10));\r\n                }\r\n            }\r\n            else {\r\n                if (activeButtonValue === 0) {\r\n                    return searchValue === '' ?\r\n                        query(collection(projectExtensionFirestore, 'chats'), orderBy('lastMessageDate', 'desc'), limit(10)) :\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('keywords', 'array-contains', searchValue), orderBy('lastMessageDate', 'desc'), limit(10));\r\n                } else {\r\n                    return searchValue === '' ?\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('stepIndicator.value', '==', activeButtonValue), orderBy('lastMessageDate', 'desc'), limit(10)) :\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('stepIndicator.value', '==', activeButtonValue), where('keywords', 'array-contains', searchValue), orderBy('lastMessageDate', 'desc'), limit(10));\r\n                }\r\n            }\r\n        };\r\n\r\n        // Build and execute the query\r\n        queryRef = buildQuery();\r\n\r\n        const unsubscribe = onSnapshot(queryRef, (snapshot) => {\r\n            const chatsData = [];\r\n            snapshot.forEach((doc) => {\r\n                chatsData.push({\r\n                    id: doc.id,\r\n                    ...doc.data(),\r\n                });\r\n            });\r\n\r\n            dispatch(setChatListData(chatsData));\r\n            globalLastVisible = snapshot.docs[snapshot.docs.length - 1];\r\n            dispatch(setNoMoreData(false));\r\n            dispatch(setLoadMoreLoading(false));\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n        }, (error) => {\r\n            console.error('Error fetching data from Firebase:', error);\r\n        });\r\n\r\n        // Cleanup function\r\n        return () => {\r\n            if (unsubscribe) {\r\n                unsubscribe();\r\n            }\r\n        };\r\n    }, [unreadButtonValue, readButtonValue, activeButtonValue, chatListSearchText]);\r\n\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = projectControlAuth.onAuthStateChanged(user => {\r\n            if (!user) {\r\n                navigate(\"/login\")\r\n            }\r\n\r\n        })\r\n\r\n        return unsubscribe\r\n    }, [])\r\n\r\n\r\n    const handleDocumentChange = (snapshot) => {\r\n        if (snapshot.exists()) {\r\n            const data = snapshot.data();\r\n            const isActive = data.active;\r\n\r\n            if (!isActive) {\r\n                signOut(projectControlAuth)\r\n                    .then(() => {\r\n                        navigate(\"/login\")\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error('Error signing out:', error);\r\n                    });\r\n            }\r\n        } else {\r\n            signOut(projectControlAuth)\r\n                .then(() => {\r\n                    navigate(\"/login\")\r\n                })\r\n                .catch((error) => {\r\n                    console.error('Error signing out:', error);\r\n                });\r\n        }\r\n    };\r\n\r\n    const subscribeToFieldChange = () => {\r\n        const userId = projectControlAuth.currentUser?.email;\r\n        if (userId) {\r\n            const userRef = doc(firestore, 'accounts', userId);\r\n            const unsubscribe = onSnapshot(userRef, handleDocumentChange);\r\n            return unsubscribe;\r\n        } else {\r\n            // Return a no-op function if there's no user\r\n            return () => {\r\n                navigate(\"/login\")\r\n            };\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = subscribeToFieldChange();\r\n\r\n        return () => {\r\n            // This will now always be a function\r\n            unsubscribe();\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n\r\n        const currentUserEmail = getEmailOfCurrentUser();\r\n        if (currentUserEmail) {\r\n            getFieldValueByEmail(currentUserEmail);\r\n            setEmail(currentUserEmail)\r\n            const documentId = currentUserEmail;\r\n            listenForNameChange(documentId);\r\n        }\r\n    }, []);\r\n\r\n\r\n    const listenForNameChange = (documentId) => {\r\n\r\n\r\n        // To stop listening for updates, you can call unsubscribe()\r\n        // unsubscribe();\r\n    };\r\n\r\n    const getFieldValueByEmail = async (email) => {\r\n        try {\r\n            const accountDocRef = doc(firestore, 'accounts', email);\r\n            const accountDocSnapshot = await getDoc(accountDocRef);\r\n\r\n            onSnapshot(accountDocRef, (docSnapshot) => {\r\n                if (docSnapshot.exists()) {\r\n                    const data = docSnapshot.data();\r\n                    const fieldType = data.type;\r\n                    const fieldName = data.name;\r\n                    dispatch(setLoginName(fieldName));\r\n\r\n                } else {\r\n                    // Handle the case where the document does not exist\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.error('Error fetching field value:', error);\r\n        }\r\n    };\r\n\r\n\r\n    const handleSignOut = () => {\r\n        // Check if currentUser exists before signing out\r\n        if (projectControlAuth.currentUser) {\r\n            signOut(projectControlAuth).then(() => {\r\n                navigate(\"/login\")\r\n                setEmail('');\r\n                setName('');\r\n            }).catch(() => {\r\n                // Handle any sign out errors here\r\n            });\r\n        } else {\r\n            // Handle the case where there is no user currently signed in\r\n            console.log('No user signed in to sign out');\r\n            // Optionally navigate to the login screen or show a message\r\n            navigate(\"/login\")\r\n        }\r\n    }\r\n\r\n    // useEffect(() => {\r\n    //   const handleScreenResize = () => {\r\n    //     const screenWidth = Dimensions.get('window').width;\r\n    //     setIsMobileView(screenWidth < 1200);\r\n    //   };\r\n\r\n    //   // Initial check on component mount\r\n    //   handleScreenResize();\r\n\r\n    //   // Listen for screen dimension changes\r\n    //   Dimensions.addEventListener('change', handleScreenResize);\r\n\r\n    //   // Cleanup event listener on component unmount\r\n    //   return () => {\r\n    //     Dimensions.removeEventListener('change', handleScreenResize);\r\n    //   };\r\n    // }, []);\r\n\r\n\r\n    const NamePopover = ({ name, handleSignOut }) => {\r\n        const [showNamePopover, setShowNamePopover] = useState(false);\r\n\r\n        const showPopover = () => {\r\n            setShowNamePopover(!showNamePopover);\r\n        };\r\n\r\n        return (\r\n            <Box w={[100, 200, 1020]} h={[10, 10, 10]} flex={1}>\r\n                <Flex direction=\"row-reverse\">\r\n                    <Popover\r\n                        isOpen={showNamePopover}\r\n                        trigger={(triggerProps) => (\r\n                            <Text color=\"white\" marginTop={[2, 2, 2]} fontSize={[17, 18, 20]} marginRight={[1, 3, 5]} {...triggerProps} onPress={showPopover}>\r\n                                <MaterialCommunityIcons name=\"account\" size={[20, 25, 30]} color=\"white\" /> {name} <Ionicons name=\"caret-down\" size={16} color=\"white\" />\r\n                            </Text>\r\n                        )}\r\n                        onClose={() => setShowNamePopover(!showNamePopover)}\r\n                        placement='bottom right'\r\n                        trapFocus={false}\r\n                    >\r\n                        <Popover.Content backgroundColor={'#7B9CFF'}>\r\n                            {/* <Popover.Arrow bgColor={'#7B9CFF'} /> */}\r\n                            <Popover.Body backgroundColor={'#7B9CFF'}>\r\n                                <Button _hover={{ bgColor: 'blueGray.500' }} onPress={handleSignOut} leftIcon={<MaterialCommunityIcons name=\"logout\" size={20} color=\"white\" />} bgColor={'transparent'}>\r\n                                    Logout\r\n                                </Button>\r\n                            </Popover.Body>\r\n                        </Popover.Content>\r\n                    </Popover>\r\n                </Flex>\r\n            </Box>\r\n        );\r\n    };\r\n\r\n    const styles = StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n        },\r\n        image: {\r\n            flex: 1,\r\n        },\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <NativeBaseProvider>\r\n                <View style={{ backgroundColor: \"#A6BCFE\", height: '100%', width: '100%', flexDirection: 'column', }} bgColor=\"#A6BCFE\" h=\"100vh\" w=\"full\" flexDirection=\"column\">\r\n                    {/* Header */}\r\n                    <Box\r\n                        px=\"3\"\r\n                        bgColor='#7b9cff'\r\n                        height={54}\r\n                        position=\"sticky\"\r\n                        top={0}\r\n                        zIndex={999}\r\n                        flexDirection=\"row\"\r\n                        alignItems=\"center\"\r\n                        borderBottomWidth={2}\r\n                        borderBottomColor={'cyan.500'}\r\n                    >\r\n\r\n                        <SideDrawer\r\n                            selectedScreen={selectedScreen} />\r\n\r\n                        <Box w={screenWidth <= 960 ? 0 : 850} h={[10, 10, 10, 10]} marginBottom={1.5} marginTop={1.5} paddingLeft={5}>\r\n\r\n                            <FastImage\r\n                                source={{\r\n                                    uri: 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20FULL.png?alt=media&token=79ed34a5-f960-4154-b4e8-897b0f3248d4',\r\n                                    priority: FastImage.priority.high,\r\n                                }}\r\n                                resizeMode={FastImage.resizeMode.stretch}\r\n                                style={styles.image} />\r\n                        </Box>\r\n\r\n                        {/* {screenWidth <= 960 && <MobileViewDrawer\r\n                            selectedScreen={selectedScreen} />} */}\r\n\r\n\r\n                        <Box w={screenWidth <= 960 ? 120 : 0} h={screenWidth <= 960 ? 6 : 10} marginBottom={1.5} marginTop={1.5} marginLeft={[3, 3, 3, 10]}>\r\n\r\n                            <FastImage\r\n                                source={{\r\n                                    uri: 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20HALF.png?alt=media&token=7ce6aef2-0527-40c7-b1ce-e47079e144df',\r\n                                    priority: FastImage.priority.high,\r\n                                }}\r\n                                resizeMode={FastImage.resizeMode.stretch}\r\n                                style={styles.image} />\r\n                        </Box>\r\n                        <NamePopover name={loginName} handleSignOut={handleSignOut} />\r\n\r\n\r\n                    </Box>\r\n\r\n                    {/* Content */}\r\n                    <View style={{ flex: 1, flexDirection: 'row' }} flex={[1]} flexDirection=\"row\">\r\n                        {/* Sidebar */}\r\n                        {/* <SideDrawer\r\n                            selectedScreen={selectedScreen} /> */}\r\n\r\n                        {/* Main Content */}\r\n                        {/* <Box flex={1} flexGrow={1} minHeight={0}> */}\r\n                        {/* Main Content Content */}\r\n\r\n\r\n                        {/* <Box px=\"3\" bgColor=\"#A6BCFE\" height=\"full\" > */}\r\n                        <View style={{ flex: 1, backgroundColor: \"#A6BCFE\", height: '100%' }}>\r\n                            <View style={{ flex: 1, margin: 10, }}>\r\n\r\n                                <View style={{\r\n                                    borderBottomWidth: 1,\r\n                                    borderColor: '#DADDE1',\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    height: 60,\r\n                                    borderTopLeftRadius: 5,\r\n                                    borderTopRightRadius: 5,\r\n                                }}>\r\n                                    {/* Chat Header */}\r\n                                    <View style={{\r\n                                        flex: 1,\r\n                                        flexDirection: 'row',\r\n                                    }}>\r\n                                        <View style={{\r\n                                            flex: 1,\r\n                                            flexDirection: 'row',\r\n                                        }}>\r\n                                            <ScrollView scrollEnabled horizontal>\r\n\r\n\r\n                                                <HeaderButton\r\n                                                    key={'All messages'}\r\n                                                    title={'All messages'}\r\n                                                    onPress={() => handlePress('All messages', 0)}\r\n                                                    isActive={activeButton === 'All messages'}\r\n                                                    headerCount={\r\n                                                        unreadCount > 0 ?\r\n                                                            (<View style={{\r\n                                                                backgroundColor: '#FF0000',\r\n                                                                borderRadius: 100, // Half of width and height\r\n                                                                width: 20,\r\n                                                                height: 20, // Same as width for a perfect circle\r\n                                                                marginLeft: 10,\r\n                                                                justifyContent: 'center', // Center children vertically\r\n                                                                alignItems: 'center', // Center children horizontally\r\n                                                            }}>\r\n                                                                <Text style={{\r\n                                                                    color: 'white',\r\n                                                                    fontWeight: 700,\r\n                                                                    fontSize: 14,\r\n                                                                }}>{unreadCount > 9 ? `9+` : unreadCount}</Text>\r\n                                                            </View>) : (<></>)}\r\n                                                />\r\n\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Negotiation'}\r\n                                                    title={'Negotiation'}\r\n                                                    onPress={() => handlePress('Negotiation', 1)}\r\n                                                    isActive={activeButton === 'Negotiation'}\r\n                                                />\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Issued Proforma Invoice'}\r\n                                                    title={'Issued Proforma Invoice'}\r\n                                                    onPress={() => handlePress('Issued Proforma Invoice', 2)}\r\n                                                    isActive={activeButton === 'Issued Proforma Invoice'}\r\n                                                />\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Order Item'}\r\n                                                    title={'Order Item'}\r\n                                                    onPress={() => handlePress('Order Item', 3)}\r\n                                                    isActive={activeButton === 'Order Item'}\r\n                                                />\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Payment Confirmed'}\r\n                                                    title={'Payment Confirmed'}\r\n                                                    onPress={() => handlePress('Payment Confirmed', 4)}\r\n                                                    isActive={activeButton === 'Payment Confirmed'}\r\n                                                />\r\n\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Shipping Schedule'}\r\n                                                    title={'Shipping Schedule'}\r\n                                                    onPress={() => handlePress('Shipping Schedule', 5)}\r\n                                                    isActive={activeButton === 'Shipping Schedule'}\r\n                                                />\r\n\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Documents'}\r\n                                                    title={'Documents'}\r\n                                                    onPress={() => handlePress('Documents', 6)}\r\n                                                    isActive={activeButton === 'Documents'}\r\n                                                />\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Vehicle Received'}\r\n                                                    title={'Vehicle Received'}\r\n                                                    onPress={() => handlePress('Vehicle Received', 7)}\r\n                                                    isActive={activeButton === 'Vehicle Received'}\r\n                                                />\r\n                                            </ScrollView>\r\n                                        </View>\r\n\r\n                                    </View>\r\n                                </View>\r\n\r\n                                <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                    {/* Chat Body */}\r\n\r\n                                    <View>\r\n\r\n                                        <View style={{ flex: 1, maxWidth: 380, minWidth: 380, borderRightWidth: 1, borderColor: '#DADDE1', maxHeight: 100, minHeight: 100, backgroundColor: 'white', }}>\r\n                                            {/* Chat Search */}\r\n                                            <View style={{ flex: 1, paddingHorizontal: 10 }}>\r\n                                                <SearchChat lastVisible={lastVisible} setLastVisible={setLastVisible} unreadButtonValue={unreadButtonValue} activeButtonValue={activeButtonValue} />\r\n                                                {/* <Pressable\r\n                                                variant=\"ghost\"\r\n                                                style={{\r\n                                                    padding: 3,\r\n                                                    width: 100,\r\n                                                    flexDirection: 'row', // Align items in a row\r\n                                                    alignItems: 'center', // Center items vertically\r\n                                                    borderRadius: 5,\r\n                                                }}\r\n                                                backgroundColor='#ECEDF0'\r\n                                                _hover={{ backgroundColor: '#d7d7d9' }}\r\n                                            >\r\n                                                <MaterialIcons name=\"mark-email-unread\" color=\"#1C2B33\" size={20} />\r\n                                                <Text style={{ color: '#1C2B33', marginLeft: 5 }}>Unreplied</Text>\r\n                                            </Pressable> */}\r\n                                                <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                                    <FilterButton\r\n                                                        key={'Unread'}\r\n                                                        title={'Unread '}\r\n                                                        onPress={() => handleUnreadPress('Unread')}\r\n                                                        isActive={activeFilterButton === 'Unread'}\r\n                                                        iconActive={<MaterialIcons name=\"mark-email-unread\" color=\"#0A78BE\" size={16} />}\r\n                                                        iconNotActive={<MaterialIcons name=\"mark-email-unread\" color=\"#1C2B33\" size={16} />}\r\n                                                    />\r\n\r\n                                                    <FilterButton\r\n                                                        key={'Read'}\r\n                                                        title={'Read '}\r\n                                                        onPress={() => handleReadPress('Read')}\r\n                                                        isActive={activeFilterButton === 'Read'}\r\n                                                        iconActive={<MaterialIcons name=\"mark-email-read\" color=\"#0A78BE\" size={16} />}\r\n                                                        iconNotActive={<MaterialIcons name=\"mark-email-read\" color=\"#1C2B33\" size={16} />}\r\n                                                    />\r\n\r\n                                                </View>\r\n\r\n                                            </View>\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, maxWidth: 380, minWidth: 380, borderRightWidth: 1, borderColor: '#DADDE1', backgroundColor: 'white', borderBottomLeftRadius: 5, }}>\r\n                                            {/* Chat List */}\r\n                                            <ChatList unreadButtonValue={unreadButtonValue} activeButtonValue={activeButtonValue} />\r\n                                        </View>\r\n\r\n                                    </View>\r\n\r\n                                    {chatMessageBoxLoading ? (\r\n                                        <View style={{ flex: 1, backgroundColor: 'white', justifyContent: 'center', alignItems: 'center', }}>\r\n                                            <Spinner\r\n                                                animating\r\n                                                size=\"lg\"\r\n                                                color={'#7B9CFF'}\r\n                                            />\r\n                                        </View>) : (\r\n                                        <View style={{ flex: 1, }}>\r\n\r\n                                            <View style={{ flex: 1, minHeight: 90, maxHeight: screenWidth < 1281 ? 130 : 125, borderBottomWidth: 1, borderColor: '#DADDE1', backgroundColor: 'white', justifyContent: 'center', }}>\r\n                                                {/* Chat Message Header */}\r\n                                                <ScrollView scrollEnabled horizontal>\r\n                                                    {chatMessagesData.length < 1 ? null : (<ChatMessageHeader />)}\r\n                                                </ScrollView>\r\n                                            </View>\r\n\r\n                                            <View style={{ flex: 1, borderColor: '#DADDE1', backgroundColor: 'white', borderBottomRightRadius: 5, paddingBottom: 5, }}>\r\n\r\n                                                <View style={{ flex: 1 }}>\r\n                                                    {/* Chat Message Box */}\r\n                                                    <ChatMessageBox activeButtonValue={activeButtonValue} userEmail={email} />\r\n                                                    <DocumentPreviewModal />\r\n                                                </View>\r\n\r\n                                                <View style={{ maxHeight: 180, justifyContent: 'flex-end', alignItems: 'center' }}>\r\n                                                    {/* Chat Input Text */}\r\n                                                    {chatMessagesData.length < 1 ? null : (<ChatInputText />)}\r\n                                                </View>\r\n\r\n                                            </View>\r\n\r\n                                        </View>\r\n                                    )}\r\n\r\n\r\n\r\n\r\n                                </View>\r\n\r\n\r\n                            </View>\r\n                            {/* <SuccessModal /> */}\r\n\r\n                        </View>\r\n\r\n\r\n                        {/* </Box> */}\r\n\r\n                        {/* </Box> */}\r\n                    </View>\r\n\r\n                </View>\r\n                <LoadingModal />\r\n            </NativeBaseProvider>\r\n\r\n\r\n        </>\r\n    );\r\n}","import {\r\n    Box,\r\n    Button,\r\n    Center,\r\n    Flex,\r\n    HStack,\r\n    Icon,\r\n    Image as NativeImage,\r\n    Input,\r\n    Modal,\r\n    NativeBaseProvider,\r\n    Popover,\r\n    Pressable,\r\n    Spinner,\r\n    Stack,\r\n    Text,\r\n    VStack,\r\n    useBreakpointValue,\r\n    TextArea,\r\n    InputRightAddon,\r\n    InputGroup,\r\n    InputLeftAddon,\r\n    Select,\r\n    CheckIcon,\r\n    PresenceTransition,\r\n    CloseIcon,\r\n    ScrollView as ScrollViewNative,\r\n    Divider,\r\n    useDisclosure,\r\n    useDisclose,\r\n    FormControl,\r\n    Checkbox,\r\n    useToast,\r\n} from 'native-base';\r\nimport { DataTable } from 'react-native-paper';\r\n\r\nimport React, { useEffect, useRef, useState, useMemo, useCallback, useReducer } from 'react';\r\nimport {\r\n    Dimensions,\r\n    ImageBackground,\r\n    TouchableOpacity,\r\n    TouchableWithoutFeedback,\r\n    StyleSheet,\r\n    View,\r\n    PanResponder,\r\n    Animated,\r\n    InputAccessoryView,\r\n    FlatList,\r\n    ScrollView,\r\n    TouchableHighlight,\r\n    TextInput,\r\n    Image as RNImage\r\n} from 'react-native';\r\nimport 'react-native-gesture-handler';\r\nimport {\r\n    AntDesign,\r\n    FontAwesome,\r\n    Ionicons,\r\n    MaterialCommunityIcons,\r\n    MaterialIcons,\r\n    Entypo,\r\n    FontAwesome5,\r\n    EvilIcons\r\n} from 'react-native-vector-icons';\r\n// import { createDrawerNavigator } from '@react-navigation/drawer';\r\nimport { debounce } from 'lodash';\r\nimport { useNavigation } from '@react-navigation/core';\r\nimport axios from 'axios';\r\nimport { createUserWithEmailAndPassword, fetchSignInMethodsForEmail, signOut } from 'firebase/auth';\r\nimport { addDoc, collection, doc, getDoc, getFirestore, onSnapshot, setDoc, arrayUnion, updateDoc, deleteField } from 'firebase/firestore';\r\nimport moment from 'moment';\r\nimport { authForCreateUser } from '../../firebasecontrolCreateUser';\r\nimport './../style.css';\r\nimport { projectControlFirestore, projectControlAuth, projectExtensionFirestore, projectExtensionAuth, projectControlFirebase, projectExtensionFirebase } from \"../../crossFirebase\";\r\nimport { launchImageLibrary } from 'react-native-image-picker';\r\nimport { getStorage, ref, uploadBytes, getDownloadURL, listAll, deleteObject } from 'firebase/storage';\r\nimport FastImage from 'react-native-fast-image-web-support';\r\nimport MobileViewDrawer from './SideDrawer/MobileViewDrawer';\r\nimport SideDrawer from './SideDrawer/SideDrawer';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport DraggableFlatList from \"react-native-draggable-flatlist\";\r\nimport { Calendar, LocaleConfig } from 'react-native-calendars';\r\nimport { DragSortableView } from 'react-native-drag-sort';\r\nimport {\r\n    setVehicleListData,\r\n    setSupplyChainsCostsData,\r\n    setSelectedPaidTo,\r\n    setSelectedExpenseName,\r\n    setSupplyChainsCostsModalVisible,\r\n    setVehicleListSupplyChainsCostsData,\r\n    setDeleteImageVisible,\r\n    setSelectedImages,\r\n    setAddAnotherImages,\r\n    setIsAddPhotoVisible,\r\n    setUploadImagesModalVisible,\r\n    setUploadImagesButtonLoading,\r\n    setViewImagesModalVisible,\r\n    setViewImagesData,\r\n    setLoadingModalVisible,\r\n    setAddVehicleListData,\r\n    setEditVehicleModalVisible,\r\n    setFobPriceHistoryModalVisible,\r\n    setSelectedButton,\r\n    setAddCountryModalVisible,\r\n    setAddPortModalVisible,\r\n    setDeletePortModalVisible,\r\n    setAddPortsForCountriesModalVisible,\r\n    setCountryPortsData,\r\n    setDeleteCountryModalVisible,\r\n    setLoginName\r\n} from './redux/store';\r\nimport BouncyCheckbox from \"react-native-bouncy-checkbox\";\r\n// import { TextInput } from 'react-native-gesture-handler';\r\nimport { nanoid } from 'nanoid';\r\nimport { cloneDeep, merge } from 'lodash';\r\nimport StickyHeader from './Header/StickyHeader';\r\nimport { UsePagination } from './VehicleListComponent/UsePagination';\r\nimport { useNavigate } from 'react-router-dom';\r\n// import { CollectionGroup } from 'firebase-admin/firestore';\r\nconst { width } = Dimensions.get('window');\r\nlet selectedScreen = 'FREIGHT'\r\n\r\nlet nameVariable = {\r\n    text: ''\r\n}\r\n\r\nlet defaultSelectedButton = 'countries';\r\n\r\nlet selectedPort = '';\r\nlet selectedCountry = '';\r\nlet selectedPortForCountry = '';\r\n\r\nconst firestore = getFirestore();\r\n\r\nconst getEmailOfCurrentUser = () => {\r\n    const user = projectControlAuth.currentUser;\r\n    if (user) {\r\n        const email = user.email;\r\n        return email;\r\n    } else {\r\n        // console.log('No user is currently authenticated');\r\n        return null;\r\n    }\r\n};\r\n\r\nconst SearchablePortDropdown = ({ modalAddOpen }) => {\r\n    // const [selectedItem, setSelectedItem] = useState(null);\r\n    const [query, setQuery] = useState('');\r\n    const [isDropdownVisible, setIsDropdownVisible] = useState(false);\r\n    const [data, setData] = useState([]); // Initialize data state with an empty array\r\n    const searchRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        // Your data fetching logic here\r\n        const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'PortsDoc');\r\n\r\n        // This will start the listener\r\n        const unsubscribe = onSnapshot(docRef, (docSnap) => {\r\n            if (docSnap.exists()) {\r\n                const data = docSnap.data();\r\n                const formattedData = Object.keys(data)\r\n                    .map((key) => ({\r\n                        ports: key.replace(/_/g, '.'),\r\n                        ...data[key],\r\n                    }))\r\n                    .sort((a, b) => a.sortOrder - b.sortOrder); // Sorting based on the sortOrder field\r\n                setData(formattedData);\r\n            } else {\r\n                console.log('No such document!');\r\n            }\r\n        }, (error) => {\r\n            console.error('Error fetching countries: ', error);\r\n        });\r\n\r\n        // This will unsubscribe from the listener when the component is unmounted\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const filteredData = data.filter((item) =>\r\n        item.ports.toLowerCase().includes(query.toLowerCase().trim()) ||\r\n        item.country.toLowerCase().includes(query.toLowerCase().trim())\r\n    );\r\n\r\n    const renderItem = ({ item }) => (\r\n        <TouchableOpacity\r\n            style={{\r\n                padding: 10,\r\n                borderBottomWidth: 1,\r\n                borderBottomColor: '#ccc',\r\n                width: '100%',\r\n                backgroundColor: '#85929F',\r\n            }}\r\n            onPress={() => {\r\n                // setSelectedItem(item);\r\n                selectedPortForCountry = item;\r\n                setQuery('');\r\n                setIsDropdownVisible(false);\r\n\r\n            }}\r\n        >\r\n            <Text style={{ color: 'white', }}>{item.ports}</Text>\r\n        </TouchableOpacity>\r\n    );\r\n\r\n    useEffect(() => {\r\n\r\n        searchRef.current.focus();\r\n\r\n    }, [isDropdownVisible])\r\n\r\n    useEffect(() => {\r\n\r\n        searchRef.current.focus();\r\n        setIsDropdownVisible(false);\r\n        selectedPortForCountry = '';\r\n\r\n    }, [modalAddOpen])\r\n\r\n    return (\r\n        <View style={{ flex: 1, width: '100%' }}>\r\n            <Button\r\n                title=\"Show Dropdown\"\r\n                onPress={() => {\r\n                    setIsDropdownVisible(!isDropdownVisible)\r\n\r\n                }}\r\n                bgColor={'#102A43'}\r\n                style={{ borderWidth: 1 }}\r\n                flex={1}\r\n            >\r\n                <View style={{\r\n                    flex: 1,\r\n                    flexDirection: 'row',\r\n                    justifyContent: 'space-between', // This will position the children at opposite ends\r\n                }}>\r\n                    <Text style={{ color: 'white', flex: 1, alignSelf: 'flex-start' }}>{selectedPortForCountry ? selectedPortForCountry.ports : 'Select Port'}</Text>\r\n                    <MaterialIcons style={{ alignSelf: 'flex-end' }} name={isDropdownVisible ? 'keyboard-arrow-up' : 'keyboard-arrow-down'} color='white' size={22} />\r\n                </View>\r\n            </Button>\r\n            <View style={{ display: isDropdownVisible ? 'flex' : 'none' }}>\r\n                <TextInput\r\n                    ref={searchRef}\r\n                    style={{\r\n                        outlineStyle: 'none',\r\n                        padding: 10,\r\n                        borderWidth: 1,\r\n                        borderColor: '#102A43',\r\n                        flex: 1,\r\n                    }}\r\n                    placeholder=\"Search...\"\r\n                    value={query}\r\n                    onChangeText={(text) => setQuery(text)}\r\n                />\r\n                <FlatList\r\n                    style={{ height: 150, width: '100%', borderWidth: 1, borderColor: '#102A43', borderRadius: 5, }}\r\n                    data={filteredData}\r\n                    renderItem={renderItem}\r\n                    keyExtractor={(item) => item.ports.toString()}\r\n                />\r\n            </View>\r\n\r\n        </View>\r\n    );\r\n};\r\n\r\n\r\n\r\nconst LoadingModal = () => {\r\n    const loadingModalVisible = useSelector((state) => state.loadingModalVisible);\r\n\r\n\r\n    return (\r\n        <View\r\n            style={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                bottom: 0,\r\n                left: 0,\r\n                right: 0,\r\n                backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                flex: 1,\r\n                display: loadingModalVisible ? 'flex' : 'none',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n            }}\r\n        >\r\n            {/* Content within the modal */}\r\n            <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n                <Spinner size=\"lg\" color=\"white\" />\r\n                <Text style={{ color: 'white' }}>Loading, please wait!</Text>\r\n            </View>\r\n        </View>\r\n\r\n    );\r\n\r\n}\r\n\r\n\r\n//     const dispatch = useDispatch();\r\n//     const toast = useToast();\r\n//     const [inspectionData, setInspectionData] = useState(['Required', 'Not-Required', 'Optional']);\r\n//     const [key, setKey] = useState(nanoid());\r\n\r\n//     const [selectedStockStatusValue, setSelectedStockStatusValue] = useState(selectedValue);\r\n//     const screenWidth = Dimensions.get('window').width;\r\n\r\n\r\n\r\n//     const handleSaveStockStatus = async () => {\r\n\r\n//         dispatch(setLoadingModalVisible(true));\r\n\r\n//        const response = await axios.get('http://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n//         const { datetime } = response.data;\r\n//         const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n//         const year = moment(datetime).format('YYYY');\r\n//         const month = moment(datetime).format('MM');\r\n//         const monthWithDay = moment(datetime).format('MM/DD');\r\n//         const date = moment(datetime).format('YYYY/MM/DD');\r\n//         const day = moment(datetime).format('DD');\r\n//         const time = moment(datetime).format('HH:mm');\r\n\r\n//         const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n//         if (item.stockStatus == selectedStockStatusValue || selectedStockStatusValue == '' || selectedStockStatusValue == '__NativeBasePlaceHolder__') {\r\n//             dispatch(setLoadingModalVisible(false));\r\n//         }\r\n\r\n//         else {\r\n\r\n//             const stockStatusHistoryData = {\r\n//                 date: formattedTime,\r\n//                 stockStatus: selectedStockStatusValue,\r\n//                 changedBy: nameVariable.text,\r\n//             };\r\n//             const vehicleProductRef = doc(collection(projectExtensionFirestore, 'VehicleProducts'), item.stockID);\r\n\r\n//             try {\r\n//                 await updateDoc(vehicleProductRef, {\r\n//                     stockStatus: selectedStockStatusValue,\r\n//                     stockStatusHistory: arrayUnion(stockStatusHistoryData)\r\n//                 });\r\n//                 const logData = {\r\n//                     message: `Stock Status Updated: \"${nameVariable.text}\" updated \"${item.carName}\" stock status to \"${selectedStockStatusValue}\" with a reference number of \"${item.referenceNumber}\" using Vehicle List.`,\r\n//                     timestamp: formattedTime,\r\n//                     colorScheme: true,\r\n//                     keywords: [\r\n//                         formattedTime.toLowerCase(),\r\n//                         globalCurrentStockID.toLowerCase(),\r\n//                         `Stock Status Updated: \"${nameVariable.text}\" updated \"${item.carName}\" stock status to ${selectedStockStatusValue} with a reference number of \"${item.referenceNumber}\" using Vehicle List`.toLowerCase(),\r\n//                         'Stock Status'.toLowerCase(),\r\n//                         'Stock Status Updated'.toLowerCase(),\r\n//                         'Stock'.toLowerCase(),\r\n//                         'Status Updated'.toLowerCase(),\r\n//                         'Updated'.toLowerCase(),\r\n//                         globalSelectedCarName.toLowerCase(),\r\n//                         globalSelectedVehicleReferenceNumber.toLowerCase(),\r\n//                         nameVariable.text.toLowerCase(),\r\n//                         year.toLowerCase(),\r\n//                         month.toLowerCase(),\r\n//                         monthWithDay.toLowerCase(),\r\n//                         date.toLowerCase(),\r\n//                         day.toLowerCase(),\r\n//                         time.toLowerCase(),\r\n//                         timeWithMinutesSeconds.toLowerCase(),\r\n//                     ],\r\n//                 };\r\n//                 addLogToCollection(logData);\r\n//                 dispatch(setLoadingModalVisible(false));\r\n\r\n//                 // console.log('FOB Price updated successfully');\r\n//                 toast.show({\r\n//                     render: () => {\r\n//                         return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n//                             <Text style={{ color: 'white' }}>Stock Status updated successfully!</Text>\r\n//                         </View>;\r\n//                     }\r\n//                 })\r\n//             } catch (error) {\r\n//                 console.error(error);\r\n//                 toast.show({\r\n//                     render: () => {\r\n//                         return <View style={{ backgroundColor: '#DC2626', padding: 5, borderRadius: 5 }}>\r\n//                             <Text style={{ color: 'white' }}>Error updating: {error}</Text>\r\n//                         </View>;\r\n//                     }\r\n//                 })\r\n//             }\r\n//         }\r\n//     }\r\n\r\n//     return (\r\n//         <View style={{ flex: 1, flexDirection: 'row' }}>\r\n//             <View style={{ width: screenWidth >= 1360 ? '70%' : '88%', backgroundColor: 'white', }}>\r\n//                 <Select\r\n//                     selectedValue={selectedStockStatusValue}\r\n//                     onValueChange={(value) => {\r\n//                         setSelectedStockStatusValue(value);\r\n//                     }}\r\n//                     flex={3}\r\n//                     accessibilityLabel=\"---\"\r\n//                     placeholder=\"---\"\r\n//                     _selectedItem={{\r\n//                         bg: \"teal.600\",\r\n//                         endIcon: <CheckIcon size=\"5\" />\r\n//                     }}\r\n//                 >\r\n//                     {stockStatusData.map((item) => (\r\n//                         <Select.Item key={item} label={item} value={item} />\r\n//                     ))}\r\n//                 </Select>\r\n//             </View>\r\n\r\n//             <TouchableHighlight\r\n//                 underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n//                 onPress={handleSaveStockStatus}\r\n//                 style={{\r\n//                     backgroundColor: '#16A34A',\r\n//                     borderRadius: 5,\r\n//                     padding: 3,\r\n//                     margin: 2,\r\n//                     alignSelf: 'center',\r\n//                 }}>\r\n//                 <MaterialIcons name='update' color='white' size={22} />\r\n//             </TouchableHighlight>\r\n//         </View>\r\n\r\n\r\n\r\n\r\n//     );\r\n// };\r\n\r\nconst addLogToCollection = async (data) => {\r\n    try {\r\n        const logsCollectionRef = collection(projectControlFirestore, 'logs');\r\n\r\n        // Add a new document to the \"logs\" collection\r\n        await addDoc(logsCollectionRef, data);\r\n\r\n        console.log('Document added successfully!');\r\n    } catch (error) {\r\n        console.error('Error adding document:', error);\r\n    }\r\n};\r\n\r\n\r\nconst SortAndAddModal = ({ headerText, data, title, dataName, databaseInit, textAreaAdd, handleAddTextChange, docName, collectionName, handleFirstModalClose, handleFirstModalOpen }) => {\r\n    const [modalSortOpen, setModalSortOpen] = useState(false);\r\n    const [modalAddOpen, setModalAddOpen] = useState(false);\r\n    const [modalAddSuccess, setModalAddSuccess] = useState(false);\r\n    const [modalSave, setModalSave] = useState(false);\r\n    const [modalSaveLoading, setModalSaveLoading] = useState(false);\r\n    const [modalData, setModalData] = useState(data);\r\n    const [modalIsLoading, setModalIsLoading] = useState(false);\r\n\r\n    const handleDeleteItemPress = useCallback(\r\n        (item) => {\r\n            setModalData((prevData) => {\r\n                const updatedData = prevData.filter((value) => value !== item);\r\n                return updatedData;\r\n            });\r\n        },\r\n        []\r\n    );\r\n\r\n    // useEffect(() => {\r\n\r\n    //   fetchData();\r\n\r\n    // }, [modalSortOpen]);\r\n\r\n\r\n\r\n    const fetchData = useCallback(async () => {\r\n        const modalDocRef = doc(collection(databaseInit, collectionName), docName);\r\n        const modalDocSnap = await getDoc(modalDocRef);\r\n        if (modalDocSnap.exists()) {\r\n            // setModalData(modalDocSnap.data()?.dataName || []);\r\n            setModalData(modalDocSnap.data()?.[dataName] || []);\r\n        }\r\n    }, [databaseInit, modalData]);\r\n\r\n    // useEffect(() => {\r\n    //   const unsubscribe = onSnapshot(doc(collection(databaseInit, docName), docName), (snapshot) => {\r\n    //     setModalData(snapshot.data()?.[dataName] || []);\r\n    //   });\r\n\r\n    //   return () => unsubscribe();\r\n    // }, [dataName, databaseInit, docName]);\r\n\r\n    const handleSave = useCallback(async () => {\r\n        setModalSaveLoading(true);\r\n\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        try {\r\n            await updateDoc(doc(collection(databaseInit, collectionName), docName), { [dataName]: modalData });\r\n            setModalSaveLoading(false);\r\n            setModalSortOpen(true);\r\n            setModalSave(false);\r\n\r\n\r\n            const logData = {\r\n                message: `\"${title}\" updated: \"${nameVariable.text}\" updated \"${title}\"`,\r\n                timestamp: formattedTime,\r\n                colorScheme: true,\r\n                keywords: [\r\n                    formattedTime.toLowerCase(),\r\n                    `\"${title}\" updated: \"${nameVariable.text}\" updated \"${title}\"`.toLowerCase(),\r\n                    `${title} updated`.toLowerCase(),\r\n                    `\"${title}\" updated`.toLowerCase(),\r\n                    'updated'.toLowerCase(),\r\n                    title.toLowerCase(),\r\n                    nameVariable.text.toLowerCase(),\r\n                    year.toLowerCase(),\r\n                    month.toLowerCase(),\r\n                    monthWithDay.toLowerCase(),\r\n                    date.toLowerCase(),\r\n                    day.toLowerCase(),\r\n                    time.toLowerCase(),\r\n                    timeWithMinutesSeconds.toLowerCase(),\r\n                ],\r\n            };\r\n\r\n            addLogToCollection(logData);\r\n\r\n        } catch (error) {\r\n            setModalSaveLoading(false);\r\n            handleModalSaveClose();\r\n            console.error(error);\r\n        }\r\n\r\n\r\n    }, [databaseInit, modalData, dataName, docName]);\r\n\r\n\r\n    const handleSortModalOpen = useCallback(() => {\r\n        setModalIsLoading(true);\r\n        fetchData();\r\n        setModalSortOpen(true);\r\n        // handleFirstModalClose();\r\n    }, [modalSortOpen, modalIsLoading]);\r\n\r\n    const handleSortModalClose = useCallback(async () => {\r\n        setModalSortOpen(false);\r\n        setModalIsLoading(false);\r\n        // handleFirstModalOpen();\r\n    }, [modalSortOpen, modalIsLoading]);\r\n\r\n    // const handleAddTextChange = () => {\r\n    //   const newText = textAreaAdd.current?.value?.toUpperCase();\r\n    //   textAreaAdd.current?.setNativeProps({ text: newText });\r\n    // };\r\n\r\n\r\n    const handleModalAddOpen = useCallback(() => {\r\n        setModalAddOpen(true);\r\n        handleSortModalClose();\r\n        setModalIsLoading(true);\r\n        // handleFirstModalClose();\r\n\r\n    }, [])\r\n\r\n    const handleModalAddClose = useCallback(() => {\r\n        setModalAddOpen(false);\r\n        handleSortModalOpen();\r\n        textAreaAdd.current?.clear();\r\n    }, [modalAddOpen])\r\n\r\n    const handleModalAddSuccessClose = useCallback(() => {\r\n        setModalAddSuccess(false);\r\n        // setIsLoading(false);\r\n        handleSortModalOpen();\r\n    }, [modalAddSuccess])\r\n\r\n    const handleModalAddSuccessOpen = useCallback(() => {\r\n        setModalAddSuccess(true);\r\n        handleSortModalClose();\r\n        setModalAddOpen(false);\r\n        setModalIsLoading(true);\r\n        // handleFirstModalClose();\r\n\r\n    }, [modalAddSuccess, modalAddOpen, modalIsLoading])\r\n\r\n    const handleModalSaveOpen = useCallback(() => {\r\n        setModalSave(true);\r\n        setModalSortOpen(false);\r\n        setModalIsLoading(true);\r\n    }, [modalSave, modalSortOpen, modalIsLoading])\r\n\r\n    const handleModalSaveClose = useCallback(() => {\r\n        setModalSave(false);\r\n        setModalSortOpen(true);\r\n    }, [modalSave, modalSortOpen]);\r\n\r\n    const handleAddSubmit = async () => {\r\n\r\n        const data = textAreaAdd.current?.value;\r\n        const dataArray = data.split('\\n').map((item) => item.trim());\r\n\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        if (data !== '') {\r\n\r\n            setModalSaveLoading(true);\r\n\r\n            try {\r\n                const modalCollectionRef = collection(databaseInit, collectionName);\r\n                const modalDocRef = doc(modalCollectionRef, docName);\r\n                await setDoc(modalDocRef, { [dataName]: arrayUnion(...dataArray) }, { merge: true });\r\n\r\n                const logData = {\r\n                    message: `\"${title}\" added: \"${nameVariable.text}\" added \"${title}\"(s).`,\r\n                    timestamp: formattedTime,\r\n                    colorScheme: true,\r\n                    keywords: [\r\n                        formattedTime.toLowerCase(),\r\n                        `\"${title}\" added: \"${nameVariable.text}\" added \"${title}\"(s).`.toLowerCase(),\r\n                        `${title} added`.toLowerCase(),\r\n                        `\"${title}\" added`.toLowerCase(),\r\n                        'added'.toLowerCase(),\r\n                        title.toLowerCase(),\r\n                        nameVariable.text.toLowerCase(),\r\n                        year.toLowerCase(),\r\n                        month.toLowerCase(),\r\n                        monthWithDay.toLowerCase(),\r\n                        date.toLowerCase(),\r\n                        day.toLowerCase(),\r\n                        time.toLowerCase(),\r\n                        timeWithMinutesSeconds.toLowerCase(),\r\n                    ],\r\n                };\r\n                addLogToCollection(logData);\r\n                setModalSaveLoading(false);\r\n\r\n                handleModalAddSuccessOpen();\r\n\r\n\r\n\r\n                console.log('Data added to Firestore');\r\n            } catch (error) {\r\n                console.error('Error adding data to Firestore:', error);\r\n                setModalSaveLoading(false);\r\n            }\r\n        }\r\n        else {\r\n\r\n        }\r\n\r\n\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Box justifyContent=\"center\" alignItems={'flex-start'} marginRight={1}>\r\n\r\n                {!modalIsLoading ? (\r\n                    <TouchableOpacity onPress={handleSortModalOpen} >\r\n                        <Icon as={<MaterialCommunityIcons name=\"playlist-edit\" />} size={5} color=\"white\" />\r\n                    </TouchableOpacity>\r\n                ) : (\r\n                    <Spinner color=\"white\" size={20} />\r\n                )}\r\n\r\n\r\n            </Box>\r\n\r\n            <Modal\r\n                isOpen={modalSortOpen}\r\n                onClose={handleSortModalClose}>\r\n                <Modal.Content>\r\n                    <Modal.CloseButton />\r\n                    <Modal.Header borderBottomWidth={0}>\r\n                        <Text color={'#102A43'} bold>{headerText}</Text>\r\n                    </Modal.Header>\r\n                    <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1}>\r\n                        <Box w={'full'} flexDir={'column'}>\r\n                            <Box alignItems={'flex-end'}>\r\n                                <Pressable onPress={handleModalAddOpen} ><Icon as={<FontAwesome name=\"plus-circle\" />} size={5} color=\"#102A43\" /></Pressable>\r\n                            </Box>\r\n\r\n                            <Box flex={1} borderWidth={1} borderColor={'#102A43'} borderRadius={5}>\r\n\r\n                                <DraggableFlatList\r\n                                    style={{ alignContent: 'center', flex: 1, }}\r\n                                    data={modalData}\r\n                                    keyExtractor={(item) => item}\r\n                                    renderItem={({ item, drag }) => (\r\n\r\n                                        <Box flex={1} bgColor={'rgba(16,42,67, 0.5)'} borderBottomWidth={1} borderBottomColor={'warmGray.400'} flexDir={'row'} justifyContent={'center'} alignItems={'center'}>\r\n                                            <Pressable onPress={() => handleDeleteItemPress(item)}><Icon as={<AntDesign name=\"minuscircle\" />} size={4} color=\"#102A43\" /></Pressable>\r\n\r\n                                            <Text flex={1} textAlign={'center'} color={'white'}>{item}</Text>\r\n                                            <Pressable onPressIn={drag}><Icon as={<Entypo name=\"menu\" />} size={4} color=\"#102A43\" /></Pressable>\r\n                                        </Box>\r\n\r\n                                    )}\r\n                                    onDragEnd={useCallback(({ data }) => setModalData(data), [])} />\r\n\r\n                            </Box>\r\n\r\n                        </Box>\r\n\r\n                    </Modal.Body>\r\n                    <Modal.Footer borderTopWidth={0}>\r\n                        <HStack space={5} flex={1}>\r\n                            <Button onPress={handleSortModalClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>Close</Button>\r\n                            <Button onPress={handleModalSaveOpen} flex={1} size={'sm'} borderRadius={5}>Save</Button>\r\n                        </HStack>\r\n                    </Modal.Footer>\r\n                </Modal.Content>\r\n            </Modal>\r\n\r\n\r\n            <Modal\r\n                isOpen={modalSave}\r\n                onClose={handleModalSaveClose}>\r\n                <Modal.Content >\r\n                    <Modal.CloseButton />\r\n                    <Modal.Header borderBottomWidth={0}>\r\n                        <Text color={'#102A43'} bold>Save Order?</Text>\r\n                    </Modal.Header>\r\n                    <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1} >\r\n\r\n                        <Text>Are you sure you want to save changes?</Text>\r\n\r\n                    </Modal.Body>\r\n                    <Modal.Footer borderTopWidth={0} >\r\n                        <HStack space={5} flex={1}>\r\n                            <Button onPress={handleModalSaveClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>No</Button>\r\n                            <Button onPress={handleSave} flex={1} size={'sm'} borderRadius={5} isLoading={modalSaveLoading ? true : false}>Yes</Button>\r\n                        </HStack>\r\n                    </Modal.Footer>\r\n                </Modal.Content>\r\n            </Modal>\r\n\r\n\r\n            <Modal\r\n                isOpen={modalAddOpen}\r\n                onClose={handleModalAddClose}\r\n                initialFocusRef={textAreaAdd}>\r\n                <Modal.Content >\r\n                    <Modal.CloseButton />\r\n                    <Modal.Header borderBottomWidth={0}>\r\n                        <Text color={'#102A43'} bold>Add {title}</Text>\r\n                    </Modal.Header>\r\n                    <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1} >\r\n\r\n                        <TextArea\r\n                            textAlign={'center'}\r\n                            w={'full'}\r\n                            ref={textAreaAdd}\r\n                            multiline\r\n                            onChangeText={handleAddTextChange}\r\n                            totalLines={4}\r\n                            placeholder=\"Enter your data, separated by new lines\" />\r\n\r\n                    </Modal.Body>\r\n                    <Modal.Footer borderTopWidth={0} >\r\n                        <HStack space={5} flex={1}>\r\n                            <Button onPress={handleModalAddClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>Close</Button>\r\n                            <Button onPress={handleAddSubmit} isLoading={modalSaveLoading ? true : false} flex={1} size={'sm'} borderRadius={5}>Add</Button>\r\n                        </HStack>\r\n                    </Modal.Footer>\r\n                </Modal.Content>\r\n            </Modal>\r\n\r\n            {/* <SuccessModal isOpen={modalAddMakeSuccess} onClose={handleModalAddMakeSuccessClose} headerText={'Added successfully!'} bodyText={'Added successfully!'}/> */}\r\n            <Modal isOpen={modalAddSuccess} onClose={handleModalAddSuccessClose} >\r\n                <Modal.Content bgColor={'green.100'}>\r\n                    <Modal.Header borderBottomWidth={0} bgColor={'green.100'}>\r\n                        <Text textAlign={'center'} color={'#102A43'} bold>\r\n                             Success! \r\n                        </Text>\r\n                    </Modal.Header>\r\n                    <Modal.Body\r\n                        justifyContent={'center'}\r\n                        alignItems={'center'}\r\n                        bgColor={'green.200'}\r\n                        borderLeftWidth={4}\r\n                        borderLeftColor={'green.600'}\r\n                        margin={5}\r\n                    >\r\n                        <Box flex={1}>\r\n                            <Text color={'green.600'} bold>\r\n                                Added successfully!\r\n                            </Text>\r\n                            <Text color={'green.600'}>\r\n                                Added successfully!\r\n                            </Text>\r\n                        </Box>\r\n                    </Modal.Body>\r\n                    <Modal.Footer borderTopWidth={0} bgColor={'green.100'}>\r\n                        <HStack space={5} flex={1}>\r\n                            <Button colorScheme={'success'} flex=\"1\" onPress={handleModalAddSuccessClose} _text={{ color: 'white' }}>\r\n                                Ok\r\n                            </Button>\r\n                        </HStack>\r\n                    </Modal.Footer>\r\n                </Modal.Content>\r\n            </Modal>\r\n\r\n\r\n        </>\r\n\r\n\r\n    );\r\n};\r\n\r\n\r\n\r\nconst FreightNavigation = () => {\r\n\r\n    const screenWidth = Dimensions.get('window').width;\r\n\r\n    const dispatch = useDispatch();\r\n    const [selectedButtonState, setSelectedButtonState] = useState(defaultSelectedButton);\r\n\r\n\r\n    const handlePress = (button) => {\r\n        if (button !== selectedButtonState) {\r\n            dispatch(setLoadingModalVisible(true));\r\n        }\r\n        dispatch(setSelectedButton(button));\r\n        setSelectedButtonState(button);\r\n    };\r\n\r\n    return (\r\n        <View style={{ flexDirection: 'row', justifyContent: 'center', alignItems: 'center', width: screenWidth >= 960 ? '50%' : '90%' }}>\r\n\r\n            <TouchableOpacity\r\n                onPress={() => handlePress('countries')}\r\n                style={{\r\n                    borderRadius: 5,\r\n                    flex: 1,\r\n                    padding: 10,\r\n                    margin: 10,\r\n                    borderWidth: 1,\r\n                    borderColor: 'white',\r\n                    backgroundColor: selectedButtonState === 'countries' ? '#0642F4' : 'transparent',\r\n                    flexDirection: 'row',\r\n                }}\r\n            >\r\n                <MaterialIcons\r\n                    name=\"flag\" // The icon name from MaterialIcons\r\n                    size={20} // Set the size of the icon\r\n                    color={selectedButtonState === 'countries' ? 'white' : 'black'} // Set the color based on active state\r\n                />\r\n                <Text style={{ color: selectedButtonState === 'countries' ? 'white' : 'black', fontWeight: 'bold', marginLeft: 5, }}>Countries</Text>\r\n            </TouchableOpacity>\r\n            <TouchableOpacity\r\n                onPress={() => handlePress('ports')}\r\n                style={{\r\n                    borderRadius: 5,\r\n                    flex: 1,\r\n                    padding: 10,\r\n                    margin: 10,\r\n                    borderWidth: 1,\r\n                    borderColor: 'white',\r\n                    backgroundColor: selectedButtonState === 'ports' ? '#0642F4' : 'transparent',\r\n                    flexDirection: 'row',\r\n                }}\r\n            >\r\n                <MaterialIcons\r\n                    name=\"directions-boat\" // The icon name from MaterialIcons\r\n                    size={20} // Set the size of the icon\r\n                    color={selectedButtonState === 'ports' ? 'white' : 'black'} // Set the color based on active state\r\n                />\r\n                <Text style={{ color: selectedButtonState === 'ports' ? 'white' : 'black', fontWeight: 'bold', marginLeft: 5, }}>Ports</Text>\r\n            </TouchableOpacity>\r\n\r\n        </View>\r\n    );\r\n}\r\n\r\nconst SelectMethod = ({ defaultValue, portCode, page, searchQuery }) => {\r\n    const [selectedMethod, setSelectedMethod] = useState('');\r\n    const methodData = useSelector((state) => state.methodData);\r\n\r\n    const dispatch = useDispatch();\r\n    const toast = useToast();\r\n    let currentValue = '';\r\n\r\n\r\n\r\n\r\n    const updatePortMethod = async (portCode, newValue) => {\r\n        // Specify the document reference\r\n        const documentRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'PortsDoc');\r\n        dispatch(setLoadingModalVisible(true));\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n\r\n        if (newValue !== '' && newValue !== '__NativeBasePlaceHolder__') {\r\n            // Replace dots with underscores in the countryCode if the keys in Firestore use underscores\r\n            // If your keys can contain dots and are used as such in Firestore, do not replace with underscores.\r\n            const formattedCountryCode = portCode.replace(/\\./g, '_'); // Replace dots with underscores or any other valid character\r\n\r\n            // Specify the field using dot notation for the nested field\r\n            const methodField = `${formattedCountryCode}.method`;\r\n\r\n            try {\r\n                if (currentValue == selectedMethod) {\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n\r\n                }\r\n                else {\r\n\r\n                    await updateDoc(documentRef, {\r\n                        [methodField]: newValue\r\n                    });\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n                    const logData = {\r\n                        message: `Method Updated: \"${nameVariable.text}\" updated \"${portCode}\" method to \"${newValue}\"`,\r\n                        timestamp: formattedTime,\r\n                        colorScheme: true,\r\n                        keywords: [\r\n                            formattedTime.toLowerCase(),\r\n                            `Method Updated: \"${nameVariable.text}\" updated \"${portCode}\" inspection to \"${newValue}\"`.toLowerCase(),\r\n                            'Method'.toLowerCase(),\r\n                            'Method Updated'.toLowerCase(),\r\n                            'Updated'.toLowerCase(),\r\n                            portCode.toLowerCase(),\r\n                            newValue.toLowerCase(),\r\n                            nameVariable.text.toLowerCase(),\r\n                            year.toLowerCase(),\r\n                            month.toLowerCase(),\r\n                            monthWithDay.toLowerCase(),\r\n                            date.toLowerCase(),\r\n                            day.toLowerCase(),\r\n                            time.toLowerCase(),\r\n                        ],\r\n                    };\r\n                    addLogToCollection(logData);\r\n                    toast.show({\r\n                        render: () => {\r\n                            return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n                                <Text style={{ color: 'white' }}>Method updated successfully</Text>\r\n                            </View>;\r\n                        }\r\n                    })\r\n                    console.log('Method updated successfully');\r\n                }\r\n                // Perform the update\r\n\r\n            } catch (error) {\r\n                console.error('Error updating method:', error);\r\n            }\r\n        }\r\n        else {\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n        }\r\n\r\n    };\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        // Replace dots with underscores in the country code\r\n        const formattedPortCode = portCode.replace(/\\./g, '_');\r\n        // Reference to your document\r\n        const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'PortsDoc');\r\n\r\n        // Listen for document updates\r\n        const unsubscribe = onSnapshot(docRef, (documentSnapshot) => {\r\n            if (documentSnapshot.exists()) {\r\n                // Use bracket notation to access the property using the variable\r\n                const portData = documentSnapshot.data()[formattedPortCode];\r\n                // Make sure to check if portData exists before trying to access its properties\r\n                if (portData && portData.method) {\r\n                    const method = portData.method;\r\n                    setSelectedMethod(method);\r\n                    currentValue = method;\r\n                }\r\n                else {\r\n                    setSelectedMethod('__NativeBasePlaceHolder__');\r\n                }\r\n            } else {\r\n                // documentSnapshot.data() will be undefined in this case\r\n                console.log('No such document!');\r\n            }\r\n        },\r\n            (error) => {\r\n                // Handle the error\r\n                console.error(\"Error getting document: \", error);\r\n            });\r\n\r\n        // Detach the listener when the component unmounts\r\n        return () => unsubscribe();\r\n    }, [page, searchQuery]);\r\n\r\n    return (\r\n        <View style={{ flexDirection: 'row', width: '100%', }}>\r\n\r\n\r\n            <Select\r\n                selectedValue={selectedMethod}\r\n                onValueChange={(value) => {\r\n                    setSelectedMethod(value);\r\n                }}\r\n                bgColor={'white'}\r\n                flex={1}\r\n                accessibilityLabel=\"---\"\r\n                placeholder=\"---\"\r\n                _selectedItem={{\r\n                    bg: \"teal.600\",\r\n                    endIcon: <CheckIcon />\r\n                }}\r\n            >\r\n                {methodData.map((item) => (\r\n                    <Select.Item key={item} label={item} value={item} />\r\n                ))}\r\n            </Select>\r\n            <TouchableHighlight\r\n                onPress={() => updatePortMethod(portCode, selectedMethod)}\r\n                underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                style={{\r\n                    backgroundColor: '#16A34A',\r\n                    borderRadius: 5,\r\n                    padding: 5,\r\n                    margin: 2,\r\n                    alignSelf: 'center',\r\n                }}>\r\n                <MaterialIcons name='update' color='white' size={22} />\r\n            </TouchableHighlight>\r\n        </View>\r\n    );\r\n}\r\n\r\nconst SelectInspectionIsRequired = ({ width, defaultValue, countryCode, page, searchQuery }) => {\r\n    const [selectedInspectionIsRequired, setSelectedInspectionIsRequired] = useState('');\r\n    const inspectionIsRequiredData = useSelector((state) => state.inspectionIsRequiredData);\r\n\r\n    const dispatch = useDispatch();\r\n    const toast = useToast();\r\n    let currentValue = '';\r\n\r\n\r\n\r\n\r\n    const updateCountryInspection = async (countryCode, newValue) => {\r\n        // Specify the document reference\r\n        const documentRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'CountriesDoc');\r\n        dispatch(setLoadingModalVisible(true));\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        if (newValue !== '') {\r\n            // Replace dots with underscores in the countryCode if the keys in Firestore use underscores\r\n            // If your keys can contain dots and are used as such in Firestore, do not replace with underscores.\r\n            const formattedCountryCode = countryCode.replace(/\\./g, '_'); // Replace dots with underscores or any other valid character\r\n\r\n            // Specify the field using dot notation for the nested field\r\n            const inspectionIsRequiredField = `${formattedCountryCode}.inspectionIsRequired`;\r\n\r\n            try {\r\n                if (currentValue == selectedInspectionIsRequired) {\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n\r\n                }\r\n                else {\r\n\r\n                    await updateDoc(documentRef, {\r\n                        [inspectionIsRequiredField]: newValue\r\n                    });\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n                    const logData = {\r\n                        message: `Inspection Updated: \"${nameVariable.text}\" updated \"${countryCode}\" inspection to \"${newValue}\"`,\r\n                        timestamp: formattedTime,\r\n                        colorScheme: true,\r\n                        keywords: [\r\n                            formattedTime.toLowerCase(),\r\n                            `Inspection Updated: \"${nameVariable.text}\" updated \"${countryCode}\" inspection to \"${newValue}\"`.toLowerCase(),\r\n                            'Inspection'.toLowerCase(),\r\n                            'Inspection Updated'.toLowerCase(),\r\n                            'Updated'.toLowerCase(),\r\n                            countryCode.toLowerCase(),\r\n                            newValue.toLowerCase(),\r\n                            nameVariable.text.toLowerCase(),\r\n                            year.toLowerCase(),\r\n                            month.toLowerCase(),\r\n                            monthWithDay.toLowerCase(),\r\n                            date.toLowerCase(),\r\n                            day.toLowerCase(),\r\n                            time.toLowerCase(),\r\n                        ],\r\n                    };\r\n                    addLogToCollection(logData);\r\n                    toast.show({\r\n                        render: () => {\r\n                            return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n                                <Text style={{ color: 'white' }}>Inspection updated successfully</Text>\r\n                            </View>;\r\n                        }\r\n                    })\r\n                    console.log('Inspection updated successfully');\r\n                }\r\n                // Perform the update\r\n\r\n            } catch (error) {\r\n                console.error('Error updating inspection:', error);\r\n            }\r\n        }\r\n        else {\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n        }\r\n\r\n    };\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        // Replace dots with underscores in the country code\r\n        const formattedCountryCode = countryCode.replace(/\\./g, '_');\r\n        // Reference to your document\r\n        const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'CountriesDoc');\r\n\r\n        // Listen for document updates\r\n        const unsubscribe = onSnapshot(docRef, (documentSnapshot) => {\r\n            if (documentSnapshot.exists()) {\r\n                // Use bracket notation to access the property using the variable\r\n                const countryData = documentSnapshot.data()[formattedCountryCode];\r\n                // Make sure to check if countryData exists before trying to access its properties\r\n                if (countryData && countryData.inspectionIsRequired) {\r\n                    const inspectionIsRequired = countryData.inspectionIsRequired;\r\n                    setSelectedInspectionIsRequired(inspectionIsRequired);\r\n                    currentValue = inspectionIsRequired;\r\n\r\n\r\n                }\r\n            } else {\r\n                // documentSnapshot.data() will be undefined in this case\r\n                console.log('No such document!');\r\n            }\r\n        },\r\n            (error) => {\r\n                // Handle the error\r\n                console.error(\"Error getting document: \", error);\r\n            });\r\n\r\n        // Detach the listener when the component unmounts\r\n        return () => unsubscribe();\r\n    }, [page, searchQuery]);\r\n\r\n    return (\r\n        <View style={{ flexDirection: 'row', width: width, }}>\r\n\r\n\r\n            <Select\r\n                selectedValue={selectedInspectionIsRequired}\r\n                onValueChange={(value) => {\r\n                    setSelectedInspectionIsRequired(value);\r\n                }}\r\n                bgColor={'white'}\r\n                flex={1}\r\n                accessibilityLabel=\"---\"\r\n                placeholder=\"---\"\r\n                _selectedItem={{\r\n                    bg: \"teal.600\",\r\n                    endIcon: <CheckIcon />\r\n                }}\r\n            >\r\n                {inspectionIsRequiredData.map((item) => (\r\n                    <Select.Item key={item} label={item} value={item} />\r\n                ))}\r\n            </Select>\r\n            <TouchableHighlight\r\n                onPress={() => updateCountryInspection(countryCode, selectedInspectionIsRequired)}\r\n                underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                style={{\r\n                    backgroundColor: '#16A34A',\r\n                    borderRadius: 5,\r\n                    padding: 5,\r\n                    margin: 2,\r\n                    alignSelf: 'center',\r\n                }}>\r\n                <MaterialIcons name='update' color='white' size={22} />\r\n            </TouchableHighlight>\r\n        </View>\r\n    );\r\n}\r\n\r\nconst SelectInspectionName = ({ width, defaultValue, countryCode, page, searchQuery }) => {\r\n    const [selectedInspectionName, setSelectedInspectionName] = useState('');\r\n    const inspectionNameData = useSelector((state) => state.inspectionNameData);\r\n    const dispatch = useDispatch();\r\n    const toast = useToast();\r\n    let currentValue = '';\r\n\r\n\r\n\r\n\r\n    const updateCountryInspectionName = async (countryCode, newValue) => {\r\n        // Specify the document reference\r\n        const documentRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'CountriesDoc');\r\n        dispatch(setLoadingModalVisible(true));\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        if (newValue !== '') {\r\n            // Replace dots with underscores in the countryCode if the keys in Firestore use underscores\r\n            // If your keys can contain dots and are used as such in Firestore, do not replace with underscores.\r\n            const formattedCountryCode = countryCode.replace(/\\./g, '_'); // Replace dots with underscores or any other valid character\r\n\r\n            // Specify the field using dot notation for the nested field\r\n            const inspectionNameField = `${formattedCountryCode}.inspectionName`;\r\n\r\n            try {\r\n                if (currentValue == selectedInspectionName) {\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n\r\n                }\r\n                else {\r\n\r\n                    await updateDoc(documentRef, {\r\n                        [inspectionNameField]: newValue\r\n                    });\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n                    const logData = {\r\n                        message: `Inspection Name Updated: \"${nameVariable.text}\" updated \"${countryCode}\" inspection name to \"${newValue}\"`,\r\n                        timestamp: formattedTime,\r\n                        colorScheme: true,\r\n                        keywords: [\r\n                            formattedTime.toLowerCase(),\r\n                            `Inspection Name Updated: \"${nameVariable.text}\" updated \"${countryCode}\" inspection name to \"${newValue}\"`.toLowerCase(),\r\n                            'Inspection Name'.toLowerCase(),\r\n                            'Inspection'.toLowerCase(),\r\n                            'Inspection Name Updated'.toLowerCase(),\r\n                            'Name'.toLowerCase(),\r\n                            'Updated'.toLowerCase(),\r\n                            newValue.toLowerCase(),\r\n                            countryCode.toLowerCase(),\r\n                            nameVariable.text.toLowerCase(),\r\n                            year.toLowerCase(),\r\n                            month.toLowerCase(),\r\n                            monthWithDay.toLowerCase(),\r\n                            date.toLowerCase(),\r\n                            day.toLowerCase(),\r\n                            time.toLowerCase(),\r\n                        ],\r\n                    };\r\n                    addLogToCollection(logData);\r\n                    toast.show({\r\n                        render: () => {\r\n                            return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n                                <Text style={{ color: 'white' }}>Inspection Name updated successfully</Text>\r\n                            </View>;\r\n                        }\r\n                    })\r\n                    console.log('Inspection Name updated successfully');\r\n                }\r\n                // Perform the update\r\n\r\n            } catch (error) {\r\n                console.error('Error updating inspection:', error);\r\n            }\r\n        }\r\n        else {\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n        }\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n        // Replace dots with underscores in the country code\r\n        const formattedCountryCode = countryCode.replace(/\\./g, '_');\r\n\r\n        // Reference to your document\r\n        const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'CountriesDoc');\r\n\r\n        // Listen for document updates\r\n        const unsubscribe = onSnapshot(docRef, (documentSnapshot) => {\r\n            if (documentSnapshot.exists()) {\r\n                // Use bracket notation to access the property using the variable\r\n                const countryData = documentSnapshot.data()[formattedCountryCode];\r\n                // Make sure to check if countryData exists before trying to access its properties\r\n                if (countryData && countryData.inspectionName) {\r\n                    const inspectionName = countryData.inspectionName;\r\n                    setSelectedInspectionName(inspectionName);\r\n                    currentValue = inspectionName;\r\n\r\n                }\r\n                else {\r\n                    setSelectedInspectionName('__NativeBasePlaceHolder__');\r\n                    currentValue = '__NativeBasePlaceHolder__';\r\n                }\r\n            } else {\r\n                // documentSnapshot.data() will be undefined in this case\r\n\r\n                console.log('No such document!');\r\n            }\r\n        },\r\n            (error) => {\r\n                // Handle the error\r\n                console.error(\"Error getting document: \", error);\r\n            });\r\n\r\n        // Detach the listener when the component unmounts\r\n        return () => unsubscribe();\r\n    }, [page, searchQuery]);\r\n\r\n    return (\r\n        <View style={{ flexDirection: 'row', width: width, }}>\r\n            <Select\r\n                selectedValue={selectedInspectionName}\r\n                onValueChange={(value) => {\r\n                    setSelectedInspectionName(value);\r\n                }}\r\n                bgColor={'white'}\r\n                flex={1}\r\n                accessibilityLabel=\"---\"\r\n                placeholder=\"---\"\r\n                _selectedItem={{\r\n                    bg: \"teal.600\",\r\n                    endIcon: <CheckIcon />\r\n                }}\r\n            >\r\n                {inspectionNameData.map((item) => (\r\n                    <Select.Item key={item} label={item} value={item} />\r\n                ))}\r\n            </Select>\r\n            <TouchableHighlight\r\n                onPress={() => updateCountryInspectionName(countryCode, selectedInspectionName)}\r\n                underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                style={{\r\n                    backgroundColor: '#16A34A',\r\n                    borderRadius: 5,\r\n                    padding: 5,\r\n                    margin: 2,\r\n                    alignSelf: 'center',\r\n                }}>\r\n                <MaterialIcons name='update' color='white' size={22} />\r\n            </TouchableHighlight>\r\n        </View>\r\n    );\r\n}\r\n\r\n\r\nconst countriesList = [\r\n    \"Zambia\",\r\n    \"D.R.Congo\",\r\n    \"Mozambique\",\r\n    \"Zimbabwe\",\r\n    \"Uganda\",\r\n    \"Tanzania\",\r\n    \"Malawi\",\r\n    \"Burundi\",\r\n    \"Lesotho\",\r\n    \"South Sudan\",\r\n    \"Botswana\",\r\n    \"Kenya\",\r\n    \"Republic of South Africa\",\r\n    \"Djibouti\",\r\n    \"Ethiopia\",\r\n    \"Angola\",\r\n    \"Benin\",\r\n    \"Cameroon\",\r\n    \"Gabon\",\r\n    \"Ghana\",\r\n    \"Guinea\",\r\n    \"Madagascar\",\r\n    \"Mali\",\r\n    \"Namibia\",\r\n    \"Nigeria\",\r\n    \"Rwanda\",\r\n    \"Sierra Leone\",\r\n    \"Sudan\",\r\n    \"Algeria\",\r\n    \"Canary Islands\",\r\n    \"Cape Verde\",\r\n    \"Central African Republic\",\r\n    \"Chad\",\r\n    \"Equatorial Guinea\",\r\n    \"Eritrea\",\r\n    \"Gambia\",\r\n    \"Liberia\",\r\n    \"Mahe\",\r\n    \"Maldives\",\r\n    \"Mauritania\",\r\n    \"Mayotte\",\r\n    \"Morocco\",\r\n    \"Niger\",\r\n    \"Republic of Guinea-Bissau\",\r\n    \"Republic of the Congo\",\r\n    \"Reunion\",\r\n    \"Saint Helena\",\r\n    \"Sao Tome and Principe\",\r\n    \"Seychelles\",\r\n    \"Swaziland\",\r\n    \"Tunisia\",\r\n    \"Afghanistan\",\r\n    \"Albania\",\r\n    \"American Samoa\",\r\n    \"Anguilla\",\r\n    \"Antigua and Barbuda\",\r\n    \"Argentina\",\r\n    \"Armenia\",\r\n    \"Aruba\",\r\n    \"Australia\",\r\n    \"Austria\",\r\n    \"Azerbaijan\",\r\n    \"Bahamas\",\r\n    \"Bahrain\",\r\n    \"Bangladesh\",\r\n    \"Barbados\",\r\n    \"Belgium\",\r\n    \"Belize\",\r\n    \"Bermuda\",\r\n    \"Bhutan\",\r\n    \"Bolivia\",\r\n    \"Bonaire/Netherlands Antilles\",\r\n    \"Brazil\",\r\n    \"British Virgin Islands\",\r\n    \"Brunei Darussalam\",\r\n    \"Bulgaria\",\r\n    \"Burkina Faso\",\r\n    \"Cambodia\",\r\n    \"Canada\",\r\n    \"Cayman Islands\",\r\n    \"Chile\",\r\n    \"Colombia\",\r\n    \"Commonwealth of Dominica\",\r\n    \"Comoros\",\r\n    \"Cook Islands\",\r\n    \"Costa Rica\",\r\n    \"Cote D'Ivoire\",\r\n    \"Croatia\",\r\n    \"Cuba\",\r\n    \"Curacao/Netherlands Antilles\",\r\n    \"Cyprus\",\r\n    \"Czech Republic\",\r\n    \"Denmark\",\r\n    \"Dominican Republic\",\r\n    \"East Timor\",\r\n    \"Ecuador\",\r\n    \"Egypt\",\r\n    \"Estonia\",\r\n    \"Fiji\",\r\n    \"Finland\",\r\n    \"France\",\r\n    \"French Guiana\",\r\n    \"French Polynesia\",\r\n    \"Georgia\",\r\n    \"Germany\",\r\n    \"Greece\",\r\n    \"Grenada\",\r\n    \"Guadeloupe\",\r\n    \"Guatemala\",\r\n    \"Guyana\",\r\n    \"Haiti\",\r\n    \"Honduras\",\r\n    \"Hong Kong\",\r\n    \"Hungary\",\r\n    \"Iceland\",\r\n    \"India\",\r\n    \"Indonesia\",\r\n    \"Iran\",\r\n    \"Iraq\",\r\n    \"Ireland\",\r\n    \"Israel\",\r\n    \"Italy\",\r\n    \"Jamaica\",\r\n    \"Japan\",\r\n    \"Jordan\",\r\n    \"Kazakhstan\",\r\n    \"Kiribati\",\r\n    \"Korea\",\r\n    \"Kuwait\",\r\n    \"Kyrgyzstan\",\r\n    \"LAO PDR\",\r\n    \"Latvia\",\r\n    \"Lebanon\",\r\n    \"Libya\",\r\n    \"Lithuania\",\r\n    \"Luxembourg\",\r\n    \"Macau\",\r\n    \"Malaysia\",\r\n    \"Malta\",\r\n    \"Marshall Islands\",\r\n    \"Martinique\",\r\n    \"Mauritius\",\r\n    \"Mexico\",\r\n    \"Micronesia\",\r\n    \"Moldova\",\r\n    \"Mongolia\",\r\n    \"Montenegro\",\r\n    \"Montserrat\",\r\n    \"Myanmar\",\r\n    \"Nauru\",\r\n    \"Nepal\",\r\n    \"Netherlands\",\r\n    \"Netherlands Antilles\",\r\n    \"New Caledonia\",\r\n    \"New Zealand\",\r\n    \"Niue\",\r\n    \"Norway\",\r\n    \"Oman\",\r\n    \"Pakistan\",\r\n    \"Palau\",\r\n    \"Panama\",\r\n    \"Papua New Guinea\",\r\n    \"Paraguay\",\r\n    \"People's Republic of China\",\r\n    \"Peru\",\r\n    \"Philippines\",\r\n    \"Poland\",\r\n    \"Portugal\",\r\n    \"Puerto Rico\",\r\n    \"Qatar\",\r\n    \"Republic of Belarus\",\r\n    \"Republic of El Salvador\",\r\n    \"Republic of Macedonia\",\r\n    \"Republic of Nicaragua\",\r\n    \"Romania\",\r\n    \"Russian Federation\",\r\n    \"Saba Island\",\r\n    \"Saint Eustatius\",\r\n    \"Saint Kitts And Nevis\",\r\n    \"Samoa\",\r\n    \"Saudi Arabia\",\r\n    \"Senegal\",\r\n    \"Serbia\",\r\n    \"Singapore\",\r\n    \"Slovak Republic\",\r\n    \"Slovenia\",\r\n    \"Solomon Islands\",\r\n    \"Somalia\",\r\n    \"Spain\",\r\n    \"Sri Lanka\",\r\n    \"St. Barthelemy\",\r\n    \"St. Croix\",\r\n    \"St. Lucia\",\r\n    \"St. Maarten\",\r\n    \"St. Thomas\",\r\n    \"St. Vincent\",\r\n    \"Suriname\",\r\n    \"Sweden\",\r\n    \"Switzerland\",\r\n    \"Syria\",\r\n    \"Taiwan\",\r\n    \"Tajikistan\",\r\n    \"Thailand\",\r\n    \"Togo\",\r\n    \"Tonga\",\r\n    \"Tortola\",\r\n    \"Trinidad and Tobago\",\r\n    \"Turkey\",\r\n    \"Turkmenistan\",\r\n    \"Turks and Caicos Islands\",\r\n    \"Tuvalu\",\r\n    \"UAE\",\r\n    \"Ukraine\",\r\n    \"United Kingdom\",\r\n    \"Uruguay\",\r\n    \"US Virgin Islands\",\r\n    \"USA\",\r\n    \"Uzbekistan\",\r\n    \"Vanuatu\",\r\n    \"Venezuela\",\r\n    \"Vietnam\",\r\n    \"Wallis et Futuna\",\r\n    \"Yemen\",\r\n    \"Somaliland\",\r\n\r\n];\r\n\r\n\r\nconst addPort = async (portName, country, sortOrder) => {\r\n    const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'PortsDoc');\r\n\r\n    // New country data\r\n    const newCountryData = {\r\n        [portName]: {\r\n            country: country,\r\n            sortOrder: sortOrder,\r\n            method: '',\r\n        }\r\n    };\r\n\r\n    // Set document with merge option\r\n    try {\r\n        await setDoc(docRef, newCountryData, { merge: true });\r\n        console.log(\"Country added/updated successfully!\");\r\n\r\n    } catch (error) {\r\n        console.error(\"Error adding/updating country: \", error);\r\n    }\r\n};\r\n\r\n\r\nconst addCountry = async (countryName, inspectionIsRequired, inspectionName, sortOrder) => {\r\n    const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'CountriesDoc');\r\n\r\n    // New country data\r\n    const newCountryData = {\r\n        [countryName]: {\r\n            inspectionIsRequired: inspectionIsRequired,\r\n            inspectionName: inspectionName,\r\n            sortOrder: sortOrder\r\n        }\r\n    };\r\n\r\n    // Set document with merge option\r\n    try {\r\n        await setDoc(docRef, newCountryData, { merge: true });\r\n        console.log(\"Country added/updated successfully!\");\r\n\r\n    } catch (error) {\r\n        console.error(\"Error adding/updating country: \", error);\r\n    }\r\n};\r\n\r\nconst AddCountryModal = ({ handleAddCountryModalClose }) => {\r\n\r\n    const addCountryModalVisible = useSelector((state) => state.addCountryModalVisible);\r\n    const inspectionIsRequiredData = useSelector((state) => state.inspectionIsRequiredData);\r\n    const inspectionNameData = useSelector((state) => state.inspectionNameData);\r\n    const inputCountryText = useRef(null);\r\n    const textAreaAddInspectionIsRequired = useRef(null);\r\n    const textAreaAddInspectionName = useRef(null);\r\n    const dispatch = useDispatch();\r\n    const toast = useToast();\r\n    const [addButtonLoading, setAddButtonLoading] = useState(false);\r\n\r\n    const handleAddInspectionIsRequiredTextChange = () => {\r\n        const textAreaValue = textAreaAddInspectionIsRequired.current?.value;\r\n        if (textAreaValue) {\r\n            const newText = textAreaValue\r\n                .split('\\n')\r\n                .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n                .join('\\n');\r\n            textAreaAddInspectionIsRequired.current.setNativeProps({ text: newText });\r\n        }\r\n    };\r\n\r\n    const handleAddInspectionNameTextChange = () => {\r\n        const textAreaValue = textAreaAddInspectionName.current?.value;\r\n        if (textAreaValue) {\r\n            const newText = textAreaValue\r\n                .split('\\n')\r\n                .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n                .join('\\n');\r\n            textAreaAddInspectionName.current.setNativeProps({ text: newText });\r\n        }\r\n    };\r\n\r\n    const handleAddButton = async () => {\r\n        setAddButtonLoading(true);\r\n        const countryCode = inputCountryText.current?.value;\r\n        const formattedCountryCode = countryCode.replace(/\\./g, '_');\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n\r\n        if (inputCountryText.current?.value !== '') {\r\n            try {\r\n                await addCountry(formattedCountryCode, 'Not-Required', '', 999);\r\n                const logData = {\r\n                    message: `Country Added: \"${nameVariable.text}\" added country \"${countryCode}\" for Freight.`,\r\n                    timestamp: formattedTime,\r\n                    colorScheme: true,\r\n                    keywords: [\r\n                        formattedTime.toLowerCase(),\r\n                        `Country Added: \"${nameVariable.text}\" added country \"${countryCode}\" for Freight.`.toLowerCase(),\r\n                        'Country'.toLowerCase(),\r\n                        'Country Added'.toLowerCase(),\r\n                        'Added'.toLowerCase(),\r\n                        'Freight'.toLowerCase(),\r\n                        countryCode.toLowerCase(),\r\n                        nameVariable.text.toLowerCase(),\r\n                        year.toLowerCase(),\r\n                        month.toLowerCase(),\r\n                        monthWithDay.toLowerCase(),\r\n                        date.toLowerCase(),\r\n                        day.toLowerCase(),\r\n                        time.toLowerCase(),\r\n                    ],\r\n                };\r\n\r\n                addLogToCollection(logData);\r\n                toast.show({\r\n                    render: () => {\r\n                        return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n                            <Text style={{ color: 'white' }}>Country added successfully!</Text>\r\n                        </View>;\r\n                    }\r\n                })\r\n                dispatch(setAddCountryModalVisible(false));\r\n                setAddButtonLoading(false);\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        }\r\n\r\n        else {\r\n            setAddButtonLoading(false);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const handleFirstModalClose = () => {\r\n        dispatch(setAddCountryModalVisible(false));\r\n\r\n    };\r\n    const handleFirstModalOpen = () => {\r\n        dispatch(setAddCountryModalVisible(true));\r\n    }\r\n\r\n    const filterInput = (inputRef) => {\r\n        const currentValue = inputRef.current.value;\r\n        const filteredValue = currentValue.replace(/[^a-zA-Z0-9. ]/g, '');\r\n        if (currentValue !== filteredValue) {\r\n            inputRef.current.setNativeProps({ text: filteredValue });\r\n        }\r\n    };\r\n    return (\r\n        <Modal\r\n            isOpen={addCountryModalVisible}\r\n            onClose={() => {\r\n                handleAddCountryModalClose();\r\n                inputCountryText.current.value = '';\r\n            }}\r\n            size={'md'}>\r\n            <Modal.Content>\r\n                <Modal.CloseButton />\r\n                <Modal.Header style={{ backgroundColor: '#7B9CFF', }}><Text color={'white'} fontSize={20} bold>Add Country</Text></Modal.Header>\r\n                <Modal.Body >\r\n                    <View style={{ marginVertical: 5, }}>\r\n                        <View style={{ backgroundColor: '#7B9CFF', flex: 1, }}>\r\n                            <Text bold color={'white'} marginLeft={1}>Country</Text>\r\n                        </View>\r\n                        <TextInput\r\n                            ref={inputCountryText}\r\n                            onChangeText={() => filterInput(inputCountryText)}\r\n                            style={{\r\n                                outlineStyle: 'none',\r\n                                flex: 1,\r\n                                padding: 5,\r\n                                backgroundColor: 'white',\r\n                                borderBottomLeftRadius: 5,\r\n                                borderBottomRightRadius: 5,\r\n                                placeholderTextColor: '#ACADA3',\r\n                                borderColor: '#D4D4D4',\r\n                                borderWidth: 1,\r\n                            }}\r\n                            placeholder='Input Country' />\r\n\r\n                    </View>\r\n\r\n\r\n                </Modal.Body>\r\n                <Modal.Footer >\r\n                    <Button.Group variant=\"solid\" space=\"2\">\r\n                        <Button colorScheme={'gray'} onPress={() => {\r\n                            handleAddCountryModalClose();\r\n                            inputCountryText.current.value = '';\r\n                        }}>Cancel</Button>\r\n                        {addButtonLoading ?\r\n                            (<Spinner size=\"lg\" color={'#16A34A'} />) :\r\n                            (<Button colorScheme={'success'} onPress={handleAddButton}>Add</Button>)\r\n                        }\r\n\r\n                    </Button.Group>\r\n                </Modal.Footer>\r\n            </Modal.Content>\r\n        </Modal>\r\n\r\n    );\r\n\r\n}\r\n\r\nconst NavigatePage = () => {\r\n    const selectedButton = useSelector((state) => state.selectedButton);\r\n\r\n    if (selectedButton === 'countries') {\r\n        return <CountriesTable />;\r\n    }\r\n    if (selectedButton === 'ports') {\r\n        return <PortsTable />;\r\n    }\r\n};\r\n\r\n\r\nconst AddPortsForCountriesModal = ({ handleAddPortsForCountriesModalClose, handleAddPortsForCountriesModalOpen }) => {\r\n\r\n    const addPortsForCountriesModalVisible = useSelector((state) => state.addPortsForCountriesModalVisible);\r\n    const countryPortsData = useSelector((state) => state.countryPortsData);\r\n    const [data, setData] = useState([]);\r\n    const [modalSortOpen, setModalSortOpen] = useState(false);\r\n    const [modalAddOpen, setModalAddOpen] = useState(false);\r\n    const [modalAddSuccess, setModalAddSuccess] = useState(false);\r\n    const [modalSave, setModalSave] = useState(false);\r\n    const [modalSaveLoading, setModalSaveLoading] = useState(false);\r\n    const [modalIsLoading, setModalIsLoading] = useState(false);\r\n    const dispatch = useDispatch();\r\n    const toast = useToast();\r\n\r\n    useEffect(() => {\r\n        // Replace dots with underscores in the country code\r\n        const formattedCountryCode = selectedCountry.replace(/\\./g, '_');\r\n\r\n        // Reference to your document\r\n        const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'CountriesDoc');\r\n\r\n        // Listen for document updates\r\n        const unsubscribe = onSnapshot(docRef, (documentSnapshot) => {\r\n            if (documentSnapshot.exists()) {\r\n                // Use bracket notation to access the property using the variable\r\n                const countryData = documentSnapshot.data()[formattedCountryCode];\r\n                // Make sure to check if countryData exists before trying to access its properties\r\n                if (countryData && countryData.nearestPorts) {\r\n                    const nearestPorts = countryData.nearestPorts;\r\n                    setData(nearestPorts);\r\n\r\n                }\r\n                else {\r\n                    setData([]);\r\n                }\r\n            } else {\r\n                // documentSnapshot.data() will be undefined in this case\r\n\r\n                console.log('No such document!');\r\n            }\r\n        },\r\n            (error) => {\r\n                // Handle the error\r\n                console.error(\"Error getting document: \", error);\r\n            });\r\n\r\n        // Detach the listener when the component unmounts\r\n        return () => unsubscribe();\r\n    }, [addPortsForCountriesModalVisible]);\r\n\r\n    const handleDeleteItemPress = useCallback(\r\n        (item) => {\r\n            setData((prevData) => {\r\n                const updatedData = prevData.filter((value) => value !== item);\r\n                return updatedData;\r\n            });\r\n        },\r\n        []\r\n    );\r\n\r\n    const handleModalAddOpen = useCallback(() => {\r\n        setModalAddOpen(true);\r\n        handleAddPortsForCountriesModalClose();\r\n        setModalIsLoading(true);\r\n        // handleFirstModalClose();\r\n\r\n    }, []);\r\n\r\n    const handleModalAddClose = useCallback(() => {\r\n        setModalAddOpen(false);\r\n        dispatch(setAddPortsForCountriesModalVisible(true));\r\n    }, []);\r\n\r\n    const addPortForCountryField = async (newValue) => {\r\n        // Specify the document reference\r\n        const documentRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'CountriesDoc');\r\n        setModalSaveLoading(true);\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n\r\n\r\n        if (selectedPortForCountry.ports !== '') {\r\n            const formattedCountryCode = selectedCountry.replace(/\\./g, '_');\r\n            const nearestPortsField = `${formattedCountryCode}.nearestPorts`;\r\n\r\n            try {\r\n                // Fetch the current nearestPorts array from Firestore\r\n                const docSnap = await getDoc(documentRef);\r\n                if (docSnap.exists()) {\r\n                    const nearestPorts = docSnap.data()[formattedCountryCode]?.nearestPorts || [];\r\n\r\n                    // Check if selectedPortForCountry is already in the nearestPorts array\r\n                    if (!nearestPorts.includes(selectedPortForCountry.ports)) {\r\n                        // Update the document with the new value\r\n                        await updateDoc(documentRef, {\r\n                            [nearestPortsField]: [...nearestPorts, selectedPortForCountry.ports]\r\n                        });\r\n\r\n                        const logData = {\r\n                            message: `Nearest Ports Added: \"${nameVariable.text}\" added \"${selectedPortForCountry.ports}\" port to \"${selectedCountry}\"`,\r\n                            timestamp: formattedTime,\r\n                            colorScheme: true,\r\n                            keywords: [\r\n                                formattedTime.toLowerCase(),\r\n                                `Nearest Ports Added: \"${nameVariable.text}\" added \"${selectedPortForCountry.ports}\" port to \"${selectedCountry}\"`.toLowerCase(),\r\n                                'Nearest Ports'.toLowerCase(),\r\n                                'Nearest'.toLowerCase(),\r\n                                'Nearest Ports Added'.toLowerCase(),\r\n                                'Ports'.toLowerCase(),\r\n                                'Added'.toLowerCase(),\r\n                                selectedPortForCountry.ports.toLowerCase(),\r\n                                selectedCountry.toLowerCase(),\r\n                                nameVariable.text.toLowerCase(),\r\n                                year.toLowerCase(),\r\n                                month.toLowerCase(),\r\n                                monthWithDay.toLowerCase(),\r\n                                date.toLowerCase(),\r\n                                day.toLowerCase(),\r\n                                time.toLowerCase(),\r\n                            ],\r\n                        };\r\n                        addLogToCollection(logData);\r\n                        handleAddPortsForCountriesModalClose();\r\n                        toast.show({\r\n                            render: () => {\r\n                                return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n                                    <Text style={{ color: 'white' }}>Nearest Ports added successfully</Text>\r\n                                </View>;\r\n                            }\r\n                        })\r\n                        console.log('Nearest Ports added successfully');\r\n                        setModalSaveLoading(false);\r\n                        handleModalAddClose();\r\n                        // ...\r\n                    } else {\r\n                        // Handle the case where the port already exists\r\n                        console.log('Port already exists in the nearest ports list');\r\n                        setModalSaveLoading(false);\r\n\r\n                        // You can show a message to the user here if needed\r\n                    }\r\n                } else {\r\n                    console.log('No such document!');\r\n                    setModalSaveLoading(false);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error updating inspection:', error);\r\n                setModalSaveLoading(false);\r\n                // Error handling...\r\n            }\r\n        }\r\n        else {\r\n            dispatch(setLoadingModalVisible(false));\r\n            console.log(newValue);\r\n\r\n        }\r\n\r\n    };\r\n\r\n\r\n    const updateCountryPortsField = async (newValue) => {\r\n        // Specify the document reference\r\n        const documentRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'CountriesDoc');\r\n        setModalSaveLoading(true);\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n\r\n\r\n        if (newValue !== '') {\r\n            // Replace dots with underscores in the countryCode if the keys in Firestore use underscores\r\n            // If your keys can contain dots and are used as such in Firestore, do not replace with underscores.\r\n            const formattedCountryCode = selectedCountry.replace(/\\./g, '_'); // Replace dots with underscores or any other valid character\r\n\r\n            // Specify the field using dot notation for the nested field\r\n            const nearestPortsField = `${formattedCountryCode}.nearestPorts`;\r\n\r\n            try {\r\n\r\n\r\n                await updateDoc(documentRef, {\r\n                    [nearestPortsField]: newValue\r\n                });\r\n\r\n                dispatch(setLoadingModalVisible(false));\r\n                const logData = {\r\n                    message: `Nearest Ports Updated: \"${nameVariable.text}\" updated \"${selectedCountry}\" nearest ports`,\r\n                    timestamp: formattedTime,\r\n                    colorScheme: true,\r\n                    keywords: [\r\n                        formattedTime.toLowerCase(),\r\n                        `Nearest Ports Updated: \"${nameVariable.text}\" updated \"${selectedCountry}\" nearest ports`.toLowerCase(),\r\n                        'Nearest Ports'.toLowerCase(),\r\n                        'Nearest'.toLowerCase(),\r\n                        'Nearest Ports Updated'.toLowerCase(),\r\n                        'Ports'.toLowerCase(),\r\n                        'Updated'.toLowerCase(),\r\n                        selectedCountry.toLowerCase(),\r\n                        nameVariable.text.toLowerCase(),\r\n                        year.toLowerCase(),\r\n                        month.toLowerCase(),\r\n                        monthWithDay.toLowerCase(),\r\n                        date.toLowerCase(),\r\n                        day.toLowerCase(),\r\n                        time.toLowerCase(),\r\n                    ],\r\n                };\r\n                addLogToCollection(logData);\r\n                handleAddPortsForCountriesModalClose();\r\n                toast.show({\r\n                    render: () => {\r\n                        return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n                            <Text style={{ color: 'white' }}>Nearest Ports updated successfully</Text>\r\n                        </View>;\r\n                    }\r\n                })\r\n                console.log('Nearest Ports updated successfully');\r\n                setModalSaveLoading(false);\r\n\r\n                // Perform the update\r\n\r\n            } catch (error) {\r\n                console.error('Error updating inspection:', error);\r\n                setModalSaveLoading(false);\r\n            }\r\n        }\r\n        else {\r\n            dispatch(setLoadingModalVisible(false));\r\n            console.log(newValue);\r\n\r\n        }\r\n\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <><Modal\r\n            isOpen={addPortsForCountriesModalVisible}\r\n            onClose={handleAddPortsForCountriesModalClose}>\r\n            <Modal.Content>\r\n                <Modal.CloseButton />\r\n                <Modal.Header borderBottomWidth={0}>\r\n                    <Text color={'#102A43'} bold>Manage ports for {selectedCountry}</Text>\r\n                </Modal.Header>\r\n                <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1}>\r\n                    <View style={{ width: '100%' }}>\r\n                        <View style={{ alignItems: 'flex-end', }}>\r\n                            <TouchableOpacity onPress={handleModalAddOpen}><Icon as={<FontAwesome name=\"plus-circle\" />} size={5} color=\"#102A43\" /></TouchableOpacity>\r\n                        </View>\r\n                        <View style={{ flex: 1, borderWidth: 1, borderColor: '#102A43', borderRadius: 5, }}>\r\n                            <DraggableFlatList\r\n                                style={{ alignContent: 'center', flex: 1, }}\r\n                                data={data}\r\n                                keyExtractor={(item) => item}\r\n                                renderItem={({ item, drag }) => (\r\n\r\n                                    <View style={{\r\n                                        flex: 1,\r\n                                        backgroundColor: 'rgba(16,42,67, 0.5)',\r\n                                        borderBottomWidth: 1,\r\n                                        borderBottomColor: '#A8A29E',\r\n                                        flexDirection: 'row',\r\n                                        justifyContent: 'center',\r\n                                        alignItems: 'center',\r\n                                    }}>\r\n                                        <TouchableOpacity onPress={() => handleDeleteItemPress(item)}><Icon as={<AntDesign name=\"minuscircle\" />} size={4} color=\"#102A43\" /></TouchableOpacity>\r\n                                        <Text flex={1} textAlign={'center'} color={'white'}>{item}</Text>\r\n                                        <TouchableOpacity onPressIn={drag}><Icon as={<Entypo name=\"menu\" />} size={4} color=\"#102A43\" /></TouchableOpacity>\r\n                                    </View>\r\n\r\n                                )}\r\n                                onDragEnd={useCallback(({ data }) => setData(data), [])} />\r\n\r\n\r\n                        </View>\r\n\r\n                    </View>\r\n                </Modal.Body>\r\n                <Modal.Footer borderTopWidth={0}>\r\n                    <HStack space={5} flex={1}>\r\n                        <Button onPress={handleAddPortsForCountriesModalClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>Close</Button>\r\n                        {modalSaveLoading ?\r\n                            (<Button flex={1} size={'sm'} borderRadius={5} colorScheme={'success'} disabled>\r\n                                <Spinner size={18} color={'white'} flex={1} borderRadius={5} />\r\n                            </Button>) :\r\n                            (<Button onPress={() => updateCountryPortsField(data)} flex={1} size={'sm'} borderRadius={5} colorScheme={'success'}>Save</Button>)\r\n                        }\r\n\r\n                    </HStack>\r\n                </Modal.Footer>\r\n            </Modal.Content>\r\n        </Modal>\r\n            <Modal\r\n                isOpen={modalAddOpen}\r\n                onClose={handleModalAddClose}\r\n            // initialFocusRef={textAreaAdd}\r\n            >\r\n                <Modal.Content>\r\n                    <Modal.CloseButton />\r\n                    <Modal.Header borderBottomWidth={0}>\r\n                        <Text color={'#102A43'} bold>Add Ports for {selectedCountry}</Text>\r\n                    </Modal.Header>\r\n                    <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1}>\r\n                        <SearchablePortDropdown modalAddOpen={modalAddOpen} />\r\n\r\n                    </Modal.Body>\r\n                    <Modal.Footer borderTopWidth={0}>\r\n                        <HStack space={5} flex={1}>\r\n                            <Button onPress={handleModalAddClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>Close</Button>\r\n                            <Button onPress={() => addPortForCountryField()} isLoading={modalSaveLoading ? true : false} flex={1} size={'sm'} borderRadius={5} colorScheme={'success'}>Add</Button>\r\n                        </HStack>\r\n                    </Modal.Footer>\r\n                </Modal.Content>\r\n            </Modal></>\r\n    );\r\n\r\n}\r\n\r\nconst DeleteCountryModal = ({ handleDeleteCountryModalClose }) => {\r\n    const deleteCountryModalVisible = useSelector((state) => state.deleteCountryModalVisible);\r\n    const [buttonLoading, setButtonLoading] = useState(false);\r\n\r\n    const handleDeleteCountry = async () => {\r\n        setButtonLoading(true);\r\n        const documentRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'CountriesDoc');\r\n        const formattedFieldCode = selectedCountry.replace(/\\./g, '_');\r\n\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        updateDoc(documentRef, {\r\n            [formattedFieldCode]: deleteField()\r\n        })\r\n            .then(() => {\r\n                console.log('Field deleted successfully');\r\n                handleDeleteCountryModalClose();\r\n                setButtonLoading(false);\r\n                const logData = {\r\n                    message: `Country Deleted: \"${nameVariable.text}\" deleted country \"${selectedCountry}\" for Freight.`,\r\n                    timestamp: formattedTime,\r\n                    colorScheme: false,\r\n                    keywords: [\r\n                        formattedTime.toLowerCase(),\r\n                        `Country Deleted: \"${nameVariable.text}\" deleted country \"${selectedCountry}\" for Freight.`.toLowerCase(),\r\n                        'Country'.toLowerCase(),\r\n                        'Country Deleted'.toLowerCase(),\r\n                        'Deleted'.toLowerCase(),\r\n                        'Freight'.toLowerCase(),\r\n                        selectedCountry.toLowerCase(),\r\n                        nameVariable.text.toLowerCase(),\r\n                        year.toLowerCase(),\r\n                        month.toLowerCase(),\r\n                        monthWithDay.toLowerCase(),\r\n                        date.toLowerCase(),\r\n                        day.toLowerCase(),\r\n                        time.toLowerCase(),\r\n                    ],\r\n                };\r\n\r\n                addLogToCollection(logData);\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error deleting field: ', error);\r\n            });\r\n\r\n    }\r\n\r\n    return (\r\n\r\n        <Modal isOpen={deleteCountryModalVisible} onClose={handleDeleteCountryModalClose}>\r\n            <Modal.Content>\r\n                <Modal.CloseButton />\r\n                <Modal.Header>Delete Country?</Modal.Header>\r\n                <Modal.Body>\r\n                    Are you sure you want to delete the selected country?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <View style={{ flex: 1, flexDirection: 'row' }}>\r\n                        <TouchableOpacity\r\n                            style={{ flex: 1, backgroundColor: '#525252', padding: 5, borderRadius: 5, margin: 5, }}\r\n                            onPress={handleDeleteCountryModalClose}\r\n                        >\r\n                            <Text style={{ color: 'white', alignSelf: 'center', }}>No</Text>\r\n                        </TouchableOpacity>\r\n                        {buttonLoading ?\r\n                            (<TouchableOpacity\r\n                                style={{ flex: 1, backgroundColor: '#DC2626', padding: 5, borderRadius: 5, margin: 5, }}\r\n                            ><Spinner size={18} color={'white'} />\r\n                            </TouchableOpacity>) :\r\n                            (<TouchableOpacity\r\n                                style={{ flex: 1, backgroundColor: '#DC2626', padding: 5, borderRadius: 5, margin: 5, }}\r\n                                onPress={handleDeleteCountry}\r\n                            >\r\n                                <Text style={{ color: 'white', alignSelf: 'center', }}>Yes</Text>\r\n                            </TouchableOpacity>)\r\n                        }\r\n\r\n\r\n                    </View>\r\n                </Modal.Footer>\r\n            </Modal.Content>\r\n        </Modal>\r\n\r\n\r\n    );\r\n}\r\n\r\nconst CountriesTable = () => {\r\n\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const optionsPerPage = [10, 20, 50];\r\n    const inspectionIsRequiredData = useSelector((state) => state.inspectionIsRequiredData);\r\n    const inspectionNameData = useSelector((state) => state.inspectionNameData);\r\n    const [data, setData] = useState([]); // This will hold all the countries data   \r\n    const [page, setPage] = useState(0);\r\n    const [itemsPerPage, setItemsPerPage] = useState(optionsPerPage[0]);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [filteredData, setFilteredData] = useState([]);\r\n\r\n    const inputSearchRef = useRef(null);\r\n    const inputSortOrder = useRef([]);\r\n    const toast = useToast();\r\n    const textAreaAddInspectionIsRequired = useRef(null);\r\n    const textAreaAddInspectionName = useRef(null);\r\n    const screenWidth = Dimensions.get('window').width;\r\n\r\n    useEffect(() => {\r\n        setPage(0);\r\n    }, [itemsPerPage]);\r\n\r\n    const filtered = useMemo(() => {\r\n        return data.filter((item) =>\r\n            item.country.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n            item.inspectionName.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n            item.inspectionIsRequired.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n            item.sortOrder.toString().includes(searchQuery)\r\n        );\r\n    }, [searchQuery, data]);\r\n\r\n    const paginatedData = useMemo(() => {\r\n        const startIndex = page * itemsPerPage;\r\n        const endIndex = startIndex + itemsPerPage;\r\n        return filtered.slice(startIndex, endIndex);\r\n    }, [page, itemsPerPage, searchQuery, data, filtered]);\r\n\r\n\r\n    const handleSearch = debounce(() => {\r\n        setSearchQuery(inputSearchRef.current?.value);\r\n    }, 50);\r\n\r\n    const startIndex = page * itemsPerPage;\r\n    const endIndex = Math.min(startIndex + itemsPerPage, data.length);\r\n\r\n    // useEffect(() => {\r\n    //     const addCountriesToFirestore = async () => {\r\n    //         // Create a new list with dots replaced by underscores\r\n    //         const sanitizedCountriesList = countriesList.map(country =>\r\n    //             country.replace(/\\./g, '_')\r\n    //         );\r\n\r\n    //         for (const [index, country] of sanitizedCountriesList.entries()) {\r\n    //             // The index of an array is zero-based, to make it one-based add 1\r\n    //             // (If you really need a one-based index, otherwise just use index)\r\n    //             const sortOrder = index;\r\n    //             try {\r\n    //                 await addCountry(country, 'Not-Required', '', sortOrder);\r\n    //             } catch (error) {\r\n    //                 console.error(`Error adding country: ${country}`, error);\r\n    //                 // Optionally handle the error by stopping the loop, or continue to the next iteration\r\n    //                 // break; // Stop the loop if an error occurs\r\n    //                 // continue; // Skip to the next iteration\r\n    //             }\r\n    //             // Optionally add a delay here if necessary\r\n    //             // await new Promise(resolve => setTimeout(resolve, 1000)); // 1 second delay\r\n    //         }\r\n    //     };\r\n\r\n    //     addCountriesToFirestore();\r\n    // }, []);\r\n    const handleAddInspectionNameTextChange = () => {\r\n        const textAreaValue = textAreaAddInspectionName.current?.value;\r\n        if (textAreaValue) {\r\n            const newText = textAreaValue\r\n                .split('\\n')\r\n                .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n                .join('\\n');\r\n            textAreaAddInspectionName.current.setNativeProps({ text: newText });\r\n        }\r\n    };\r\n\r\n    const handleAddInspectionIsRequiredTextChange = () => {\r\n        const textAreaValue = textAreaAddInspectionIsRequired.current?.value;\r\n        if (textAreaValue) {\r\n            const newText = textAreaValue\r\n                .split('\\n')\r\n                .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n                .join('\\n');\r\n            textAreaAddInspectionIsRequired.current.setNativeProps({ text: newText });\r\n        }\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'CountriesDoc');\r\n        dispatch(setLoadingModalVisible(true));\r\n\r\n        // This will start the listener\r\n        const unsubscribe = onSnapshot(docRef, (docSnap) => {\r\n            if (docSnap.exists()) {\r\n                const data = docSnap.data();\r\n                const formattedData = Object.keys(data)\r\n                    .map(key => ({\r\n                        country: key.replace(/_/g, '.'),\r\n                        ...data[key],\r\n                    }))\r\n                    .sort((a, b) => a.sortOrder - b.sortOrder); // Sorting based on the sortOrder field\r\n                setData(formattedData);\r\n                setFilteredData(formattedData);\r\n                dispatch(setLoadingModalVisible(false));\r\n            } else {\r\n                console.log(\"No such document!\");\r\n\r\n            }\r\n        }, (error) => {\r\n            console.error(\"Error fetching countries: \", error);\r\n\r\n        });\r\n\r\n        // This will unsubscribe from the listener when the component is unmounted\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n\r\n    const handleAddCountryModalOpen = () => {\r\n\r\n        dispatch(setAddCountryModalVisible(true));\r\n\r\n    }\r\n\r\n    const handleAddCountryModalClose = () => {\r\n\r\n        dispatch(setAddCountryModalVisible(false));\r\n\r\n    }\r\n\r\n\r\n    const handleAddPortsForCountriesModalOpen = (nearestPorts, country) => {\r\n\r\n        dispatch(setAddPortsForCountriesModalVisible(true));\r\n        dispatch(setCountryPortsData(nearestPorts));\r\n        // setSelectedCountry(selectedCountry);\r\n        selectedCountry = country;\r\n    }\r\n\r\n\r\n    const handleAddPortsForCountriesModalClose = () => {\r\n\r\n        dispatch(setAddPortsForCountriesModalVisible(false));\r\n    }\r\n\r\n    useEffect(() => {\r\n        paginatedData.forEach(item => {\r\n            inputSortOrder.current[item.country].value = item.sortOrder ? item.sortOrder : 0;\r\n        });\r\n        // setInputMemoValues(initialValues);\r\n\r\n    }, [paginatedData, screenWidth]); // Run this effect when 'items' changes\r\n    // Now, to update a specific field\r\n\r\n    const updateCountrySortOrder = async (countryCode, newValue, inputRef) => {\r\n        // Specify the document reference\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n\r\n        const documentRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'CountriesDoc');\r\n        dispatch(setLoadingModalVisible(true));\r\n        if (newValue !== '') {\r\n            // Replace dots with underscores in the countryCode if the keys in Firestore use underscores\r\n            // If your keys can contain dots and are used as such in Firestore, do not replace with underscores.\r\n            const formattedCountryCode = countryCode.replace(/\\./g, '_'); // Replace dots with underscores or any other valid character\r\n\r\n            // Specify the field using dot notation for the nested field\r\n            const sortOrderField = `${formattedCountryCode}.sortOrder`;\r\n\r\n            try {\r\n                // Perform the update\r\n                await updateDoc(documentRef, {\r\n                    [sortOrderField]: newValue\r\n                });\r\n\r\n\r\n\r\n                const logData = {\r\n                    message: `Sort Order Updated: \"${nameVariable.text}\" updated \"${countryCode}\" sort order to \"${newValue}\".`,\r\n                    timestamp: formattedTime,\r\n                    colorScheme: true,\r\n                    keywords: [\r\n                        formattedTime.toLowerCase(),\r\n                        `Sort Order Updated: \"${nameVariable.text}\" updated \"${countryCode}\" sort order to \"${newValue}\"`.toLowerCase(),\r\n                        'Sort'.toLowerCase(),\r\n                        'Sort Order'.toLowerCase(),\r\n                        'Sort Order Updated'.toLowerCase(),\r\n                        'Order Updated'.toLowerCase(),\r\n                        'Order'.toLowerCase(),\r\n                        'Updated'.toLowerCase(),\r\n                        countryCode.toLowerCase(),\r\n                        nameVariable.text.toLowerCase(),\r\n                        year.toLowerCase(),\r\n                        month.toLowerCase(),\r\n                        monthWithDay.toLowerCase(),\r\n                        date.toLowerCase(),\r\n                        day.toLowerCase(),\r\n                        time.toLowerCase(),\r\n                    ],\r\n                };\r\n                toast.show({\r\n                    render: () => {\r\n                        return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n                            <Text style={{ color: 'white' }}>Sort order updated successfully!</Text>\r\n                        </View>;\r\n                    }\r\n                })\r\n                addLogToCollection(logData);\r\n                dispatch(setLoadingModalVisible(false));\r\n                console.log('Sort order updated successfully');\r\n            } catch (error) {\r\n                console.error('Error updating sort order:', error);\r\n\r\n            }\r\n        }\r\n        else {\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n        }\r\n\r\n    };\r\n    // Call the function to update the field\r\n\r\n\r\n\r\n\r\n    const handleSortOrderTextChange = (text, item) => {\r\n        // Remove any non-numeric characters from the input text and limit to 3 digits\r\n        const numericValue = text.replace(/[^0-9]/g, '').slice(0, 3);\r\n\r\n        inputSortOrder.current[item.country].value = numericValue;\r\n\r\n    };\r\n\r\n\r\n\r\n\r\n    const handleDeleteCountryModalOpen = (selectedValue) => {\r\n\r\n        dispatch(setDeleteCountryModalVisible(true));\r\n        selectedCountry = selectedValue;\r\n\r\n    }\r\n\r\n    const handleDeleteCountryModalClose = () => {\r\n\r\n        dispatch(setDeleteCountryModalVisible(false));\r\n\r\n    }\r\n\r\n    const handleUpdateInsurance = async (newValue, currentValue, countryCode) => {\r\n\r\n        // Specify the document reference\r\n        const documentRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'CountriesDoc');\r\n        dispatch(setLoadingModalVisible(true));\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        if (newValue !== '') {\r\n            // Replace dots with underscores in the countryCode if the keys in Firestore use underscores\r\n            // If your keys can contain dots and are used as such in Firestore, do not replace with underscores.\r\n            const formattedCountryCode = countryCode.replace(/\\./g, '_'); // Replace dots with underscores or any other valid character\r\n\r\n            // Specify the field using dot notation for the nested field\r\n            const insuranceField = `${formattedCountryCode}.insurance`;\r\n\r\n            try {\r\n                if (currentValue == newValue) {\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n\r\n                }\r\n                else {\r\n\r\n                    await updateDoc(documentRef, {\r\n                        [insuranceField]: newValue,\r\n                    });\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n                    const logData = {\r\n                        message: `Insurance Updated: \"${nameVariable.text}\" updated \"${countryCode}\" insurance to \"${newValue}\"`,\r\n                        timestamp: formattedTime,\r\n                        colorScheme: true,\r\n                        keywords: [\r\n                            formattedTime.toLowerCase(),\r\n                            `Insurance Updated: \"${nameVariable.text}\" updated \"${countryCode}\" insurance to \"${newValue}\"`.toLowerCase(),\r\n                            'Insurance'.toLowerCase(),\r\n                            'Inspection'.toLowerCase(),\r\n                            'Insurance Updated'.toLowerCase(),\r\n                            'Updated'.toLowerCase(),\r\n                            newValue.toString().toLowerCase(),\r\n                            countryCode.toLowerCase(),\r\n                            nameVariable.text.toLowerCase(),\r\n                            year.toLowerCase(),\r\n                            month.toLowerCase(),\r\n                            monthWithDay.toLowerCase(),\r\n                            date.toLowerCase(),\r\n                            day.toLowerCase(),\r\n                            time.toLowerCase(),\r\n                        ],\r\n                    };\r\n                    addLogToCollection(logData);\r\n                    toast.show({\r\n                        render: () => {\r\n                            return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n                                <Text style={{ color: 'white' }}>Insurance updated successfully</Text>\r\n                            </View>;\r\n                        }\r\n                    })\r\n                    console.log('Insurance updated successfully');\r\n                }\r\n                // Perform the update\r\n\r\n            } catch (error) {\r\n                console.error('Error updating inspection:', error);\r\n            }\r\n        }\r\n        else {\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {screenWidth >= 1280 ? (\r\n                <View style={{ flex: 1, }}>\r\n                    {/* Search Bar */}\r\n                    <View style={{ padding: 10 }}>\r\n                        <TextInput\r\n                            ref={inputSearchRef}\r\n                            onSubmitEditing={handleSearch}\r\n                            style={{ outlineStyle: 'none', padding: 10, backgroundColor: 'white', borderRadius: 5, placeholderTextColor: '#ACADA3' }}\r\n                            placeholder='Search'\r\n                            returnKeyType='search'\r\n                            autoCapitalize='none'\r\n                        />\r\n                    </View>\r\n\r\n                    {/* Add Country Button */}\r\n                    <View style={{ paddingHorizontal: 10, paddingTop: 0, paddingBottom: 0, alignItems: 'flex-start' }}>\r\n                        <TouchableOpacity\r\n                            onPress={handleAddCountryModalOpen}\r\n                            style={{\r\n                                borderRadius: 5,\r\n                                padding: 10,\r\n                                borderWidth: 1,\r\n                                borderColor: 'white',\r\n                                backgroundColor: '#16A34A',\r\n                                flexDirection: 'row',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                            }}\r\n                        >\r\n                            <MaterialIcons name=\"add\" size={20} color={'white'} />\r\n                            <Text style={{ color: 'white', fontWeight: 'bold', marginLeft: 5 }}>Add Country</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n\r\n                    {/* Table Headers */}\r\n                    <View\r\n                        style={{\r\n                            flexDirection: 'row',\r\n                            justifyContent: 'space-between',\r\n                            borderBottomWidth: 1,\r\n                            borderBottomColor: '#E4E4E7',\r\n                            backgroundColor: '#0642F4',\r\n                            padding: 10,\r\n                            borderRadius: 5,\r\n                            marginTop: 10,\r\n                        }}\r\n                    >\r\n                        <View style={{ flex: 1, padding: 2, }}>\r\n                            <Text style={{ color: 'white', }} bold>Country</Text>\r\n                        </View>\r\n                        <View style={{ flex: screenWidth < 1700 ? 2 : 1, padding: 2, }}>\r\n                            <Text style={{ color: 'white', }} bold>Sort Order</Text>\r\n                        </View>\r\n                        <View style={{ flex: screenWidth < 1700 ? 2 : 1, padding: 2, flexDirection: 'row', }}>\r\n                            <SortAndAddModal\r\n                                collectionName='CustomerCountryPort'\r\n                                docName='InspectionIsRequiredDoc'\r\n                                handleAddTextChange={handleAddInspectionIsRequiredTextChange}\r\n                                textAreaAdd={textAreaAddInspectionIsRequired}\r\n                                title='Inspection'\r\n                                dataName={'inspectionIsRequiredData'}\r\n                                databaseInit={projectExtensionFirestore}\r\n                                headerText=\"Rearrange/Add Inspection\"\r\n                                data={inspectionIsRequiredData}\r\n                            />\r\n                            <Text flex={1} style={{ color: 'white', }} bold>Inspection</Text>\r\n                        </View>\r\n                        <View style={{ flex: screenWidth < 1700 ? 2 : 1, padding: 2, flexDirection: 'row', }}>\r\n                            <SortAndAddModal\r\n                                collectionName='CustomerCountryPort'\r\n                                docName='InspectionNameDoc'\r\n                                handleAddTextChange={handleAddInspectionNameTextChange}\r\n                                textAreaAdd={textAreaAddInspectionName}\r\n                                title='Inspection Name'\r\n                                dataName={'inspectionNameData'}\r\n                                databaseInit={projectExtensionFirestore}\r\n                                headerText=\"Rearrange/Add Inspection\"\r\n                                data={inspectionNameData}\r\n                            />\r\n                            <Text style={{ color: 'white', }} bold>Inspection Name</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, padding: 2 }}>\r\n                            <Text style={{ color: 'white', alignSelf: 'center', }} bold>Insurance</Text>\r\n                        </View>\r\n                        <View style={{ flex: screenWidth < 1700 ? 2 : 1, padding: 2 }}>\r\n                            <Text style={{ color: 'white', alignSelf: 'center', }} bold>Nearest Port</Text>\r\n                        </View>\r\n\r\n                        <View style={{ flex: 1, padding: 2, justifyContent: 'center', alignItems: 'center', }}>\r\n                            <Text style={{ color: 'white', }} bold>Operate</Text>\r\n                        </View>\r\n\r\n                    </View>\r\n\r\n                    <DataTable margin={[0, 0, 0, 1, 1, 1]}>\r\n                        {paginatedData.map((item, index) => (\r\n                            <View\r\n                                key={index}\r\n                                style={{\r\n                                    flex: 1,\r\n                                    flexDirection: 'row',\r\n                                    justifyContent: 'space-between',\r\n                                    alignItems: 'center',\r\n                                    borderBottomWidth: 1,\r\n                                    borderBottomColor: '#E4E4E7',\r\n                                    backgroundColor: '#BFDBFE',\r\n                                    paddingVertical: 10,\r\n                                }}>\r\n                                <Text style={{ flex: 1, marginHorizontal: 5 }} selectable>{item.country}</Text>\r\n                                <View style={{ flex: screenWidth < 1700 ? 2 : 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 5, }}>\r\n                                    {/* <Text style={{ borderTopLeftRadius: 5, borderBottomLeftRadius: 5, alignSelf: 'center', backgroundColor: 'white', padding: 8 }}>{item.sortOrder}</Text> */}\r\n                                    <TextInput\r\n                                        ref={(ref) => (inputSortOrder.current[item.country] = ref)}\r\n                                        style={{ outlineStyle: 'none', padding: 5, width: '20%', backgroundColor: 'white', borderLeftColor: '#E4E4E7', borderLeftWidth: 1, }}\r\n                                        onSubmitEditing={() => updateCountrySortOrder(item.country, inputSortOrder.current[item.country].value, inputSortOrder)}\r\n                                        onChangeText={(text) => handleSortOrderTextChange(text, item)}\r\n                                    />\r\n                                    <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                        <TouchableHighlight\r\n                                            onPress={() => updateCountrySortOrder(item.country, inputSortOrder.current[item.country].value, inputSortOrder)}\r\n                                            underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                            style={{\r\n                                                backgroundColor: '#16A34A',\r\n                                                borderRadius: 5,\r\n                                                padding: 5,\r\n                                                margin: 2,\r\n                                                alignSelf: 'center',\r\n                                            }}>\r\n                                            <MaterialIcons name='update' color='white' size={22} />\r\n                                        </TouchableHighlight>\r\n                                    </View>\r\n\r\n                                </View>\r\n                                {/* <Text style={{ flex: 1, marginHorizontal: 5 }}>{item.inspectionIsRequired}</Text> */}\r\n                                <View style={{ flex: screenWidth < 1700 ? 2 : 1, marginHorizontal: 5 }}>\r\n                                    <SelectInspectionIsRequired width={'70%'} defaultValue={item.inspectionIsRequired} countryCode={item.country} page={page} searchQuery={searchQuery} />\r\n\r\n                                </View>\r\n                                <View style={{ flex: screenWidth < 1700 ? 2 : 1, marginHorizontal: 5 }}>\r\n                                    <SelectInspectionName width={'70%'} defaultValue={item.inspectionName} countryCode={item.country} page={page} searchQuery={searchQuery} />\r\n                                </View>\r\n\r\n                                <View style={{ flex: 1, marginHorizontal: 5, justifyContent: 'center', alignItems: 'center', }}>\r\n                                    <BouncyCheckbox\r\n                                        size={25}\r\n                                        fillColor=\"#0642F4\"\r\n                                        unfillColor=\"#FFFFFF\"\r\n                                        innerIconStyle={{ borderWidth: 2 }}\r\n                                        textStyle={{ fontFamily: \"JosefinSans-Regular\" }}\r\n                                        isChecked={item.insurance ? item.insurance : false}\r\n                                        onPress={(isChecked) => handleUpdateInsurance(isChecked, item.insurance ? item.insurance : false, item.country)}\r\n                                    />\r\n                                </View>\r\n                                <View style={{ flexDirection: 'row', flex: screenWidth < 1700 ? 2 : 1, marginHorizontal: 5 }}>\r\n                                    <TouchableOpacity\r\n                                        onPress={() => handleAddPortsForCountriesModalOpen(item.nearestPorts ? item.nearestPorts : [], item.country)}\r\n                                        style={{ flex: 1, backgroundColor: '#0891B2', padding: 5, borderRadius: 5, flexDirection: 'row', justifyContent: 'center', alignItems: 'center', margin: 5, }}\r\n                                    >\r\n                                        <MaterialIcons\r\n                                            name=\"directions-boat\" // The icon name from MaterialIcons\r\n                                            size={20} // Set the size of the icon\r\n                                            color={'white'} // Set the color based on active state\r\n                                        />\r\n                                        <Text style={{ alignSelf: 'center', color: 'white', marginLeft: 3, }}>View Ports</Text>\r\n                                    </TouchableOpacity>\r\n                                    {/* <TouchableOpacity style={{ flex: 1 }}>\r\n                                <Text>Add Ports</Text>\r\n                            </TouchableOpacity> */}\r\n                                </View>\r\n                                <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, justifyContent: 'center', alignItems: 'center', }}>\r\n\r\n                                    <View style={{ borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                        <TouchableHighlight\r\n                                            onPress={() => handleDeleteCountryModalOpen(item.country)}\r\n                                            underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                            style={{\r\n                                                backgroundColor: '#DC2626',\r\n                                                borderRadius: 5,\r\n                                                padding: 10,\r\n                                                alignSelf: 'center',\r\n                                                height: '100%',\r\n                                                justifyContent: 'center',\r\n                                                alignItems: 'center',\r\n                                            }}>\r\n                                            <AntDesign name='delete' color='white' size={22} />\r\n                                        </TouchableHighlight>\r\n                                    </View>\r\n                                </View>\r\n                                {/* You can add the mapping for nearestPorts here, assuming nearestPorts is an array */}\r\n                                {/* {item.nearestPorts && item.nearestPorts.map((port, portIndex) => (\r\n            <Text key={portIndex}>Nearest Port: {port}</Text>\r\n          ))} */}\r\n                            </View>\r\n                        ))}\r\n                        <DataTable.Pagination\r\n                            page={page}\r\n                            numberOfPages={Math.ceil(filtered.length / itemsPerPage)}\r\n                            onPageChange={(page) => setPage(page)}\r\n                            label={`${startIndex + 1}-${endIndex} of ${filtered.length}`}\r\n                            optionsPerPage={optionsPerPage}\r\n                            itemsPerPage={itemsPerPage}\r\n                            setItemsPerPage={setItemsPerPage}\r\n                            showFastPagination\r\n                            optionsLabel={'Rows per page'}\r\n                        />\r\n                    </DataTable>\r\n                    <AddCountryModal handleAddCountryModalClose={handleAddCountryModalClose} />\r\n                    <AddPortsForCountriesModal handleAddPortsForCountriesModalClose={handleAddPortsForCountriesModalClose} handleAddPortsForCountriesModalOpen={handleAddPortsForCountriesModalOpen} />\r\n                    <DeleteCountryModal handleDeleteCountryModalClose={handleDeleteCountryModalClose} />\r\n                </View>\r\n            ) :\r\n\r\n                (\r\n                    //Countries Table Mobile View\r\n                    <View style={{ flex: 1, }}>\r\n                        {/* Search Bar */}\r\n                        <View style={{ padding: 10 }}>\r\n                            <TextInput\r\n                                ref={inputSearchRef}\r\n                                onSubmitEditing={handleSearch}\r\n                                style={{ outlineStyle: 'none', padding: 10, backgroundColor: 'white', borderRadius: 5, placeholderTextColor: '#ACADA3' }}\r\n                                placeholder='Search'\r\n                                returnKeyType='search'\r\n                                autoCapitalize='none'\r\n                            />\r\n                        </View>\r\n\r\n                        <View style={{ paddingHorizontal: 10, paddingTop: 0, paddingBottom: 0, alignItems: 'flex-start' }}>\r\n                            <TouchableOpacity\r\n                                onPress={handleAddCountryModalOpen}\r\n                                style={{\r\n                                    borderRadius: 5,\r\n                                    padding: 10,\r\n                                    borderWidth: 1,\r\n                                    borderColor: 'white',\r\n                                    backgroundColor: '#16A34A',\r\n                                    flexDirection: 'row',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                }}\r\n                            >\r\n                                <MaterialIcons name=\"add\" size={20} color={'white'} />\r\n                                <Text style={{ color: 'white', fontWeight: 'bold', marginLeft: 5 }}>Add Country</Text>\r\n                            </TouchableOpacity>\r\n                        </View>\r\n\r\n\r\n                        {/* Table Headers */}\r\n\r\n\r\n                        <DataTable margin={[0, 0, 0, 1, 1, 1]}>\r\n                            {paginatedData.map((item, index) => (\r\n                                <View\r\n                                    key={index}\r\n                                    style={{\r\n                                        flex: 1,\r\n                                        flexDirection: 'column',\r\n                                        borderWidth: 1,\r\n                                        borderColor: '#E4E4E7',\r\n                                        backgroundColor: '#BFDBFE',\r\n                                        margin: 10,\r\n                                    }}>\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Country</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            <Text selectable style={{ marginLeft: 3 }}>{item.country}</Text>\r\n                                        </View>\r\n                                    </View>\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Sort Order</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            {/* <Text style={{ borderTopLeftRadius: 5, borderBottomLeftRadius: 5, alignSelf: 'center', backgroundColor: 'white', padding: 8 }}>{item.sortOrder}</Text> */}\r\n                                            <TextInput\r\n                                                ref={(ref) => (inputSortOrder.current[item.country] = ref)}\r\n                                                style={{ outlineStyle: 'none', padding: 5, width: '100%', backgroundColor: 'white', borderLeftColor: '#E4E4E7', borderLeftWidth: 1, }}\r\n                                                onSubmitEditing={() => updateCountrySortOrder(item.country, inputSortOrder.current[item.country].value, inputSortOrder)}\r\n                                                onChangeText={(text) => handleSortOrderTextChange(text, item)}\r\n                                            />\r\n                                            <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                                <TouchableHighlight\r\n                                                    onPress={() => updateCountrySortOrder(item.country, inputSortOrder.current[item.country].value, inputSortOrder)}\r\n                                                    underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                                    style={{\r\n                                                        backgroundColor: '#16A34A',\r\n                                                        borderRadius: 5,\r\n                                                        padding: 5,\r\n                                                        margin: 2,\r\n                                                        alignSelf: 'center',\r\n                                                    }}>\r\n                                                    <MaterialIcons name='update' color='white' size={22} />\r\n                                                </TouchableHighlight>\r\n                                            </View>\r\n\r\n                                        </View>\r\n                                    </View>\r\n\r\n\r\n                                    {/* <Text style={{ flex: 1, marginHorizontal: 5 }}>{item.inspectionIsRequired}</Text> */}\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Inspection</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            <SelectInspectionIsRequired width={'100%'} defaultValue={item.inspectionIsRequired} countryCode={item.country} page={page} searchQuery={searchQuery} />\r\n\r\n                                        </View>\r\n                                    </View>\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Inspection Name</Text>\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            <SelectInspectionName width={'100%'} defaultValue={item.inspectionName} countryCode={item.country} page={page} searchQuery={searchQuery} />\r\n                                        </View>\r\n                                    </View>\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Insurance</Text>\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            <BouncyCheckbox\r\n                                                size={25}\r\n                                                fillColor=\"#0642F4\"\r\n                                                unfillColor=\"#FFFFFF\"\r\n                                                innerIconStyle={{ borderWidth: 2 }}\r\n                                                textStyle={{ fontFamily: \"JosefinSans-Regular\" }}\r\n                                                isChecked={item.insurance ? item.insurance : false}\r\n                                                onPress={(isChecked) => handleUpdateInsurance(isChecked, item.insurance ? item.insurance : false, item.country)}\r\n                                            />\r\n                                        </View>\r\n                                    </View>\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Nearest Port</Text>\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            <View style={{ flexDirection: 'row', flex: 1, marginHorizontal: 5 }}>\r\n                                                <TouchableOpacity\r\n                                                    onPress={() => handleAddPortsForCountriesModalOpen(item.nearestPorts ? item.nearestPorts : [], item.country)}\r\n                                                    style={{ flex: 1, backgroundColor: '#0891B2', padding: 5, borderRadius: 5, flexDirection: 'row', justifyContent: 'center', alignItems: 'center', margin: 5, }}\r\n                                                >\r\n                                                    <MaterialIcons\r\n                                                        name=\"directions-boat\" // The icon name from MaterialIcons\r\n                                                        size={20} // Set the size of the icon\r\n                                                        color={'white'} // Set the color based on active state\r\n                                                    />\r\n                                                    <Text style={{ alignSelf: 'center', color: 'white', marginLeft: 3, }}>View Ports</Text>\r\n                                                </TouchableOpacity>\r\n                                            </View>\r\n                                        </View>\r\n                                    </View>\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Operate</Text>\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, justifyContent: 'center', }}>\r\n                                            <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, }}>\r\n\r\n                                                <View style={{ flex: 1, borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                                    <TouchableHighlight\r\n                                                        onPress={() => handleDeleteCountryModalOpen(item.country)}\r\n                                                        underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                                        style={{ flex: 1, backgroundColor: '#DC2626', padding: 5, borderRadius: 5, flexDirection: 'row', justifyContent: 'center', alignItems: 'center', margin: 6, }}>\r\n                                                        <AntDesign name='delete' color='white' size={22} />\r\n                                                    </TouchableHighlight>\r\n                                                </View>\r\n                                            </View>\r\n                                        </View>\r\n                                    </View>\r\n\r\n                                </View>\r\n                            ))}\r\n                            <DataTable.Pagination\r\n                                page={page}\r\n                                numberOfPages={Math.ceil(filtered.length / itemsPerPage)}\r\n                                onPageChange={(page) => setPage(page)}\r\n                                label={`${startIndex + 1}-${endIndex} of ${filtered.length}`}\r\n                                optionsPerPage={optionsPerPage}\r\n                                itemsPerPage={itemsPerPage}\r\n                                setItemsPerPage={setItemsPerPage}\r\n                                showFastPagination\r\n                                optionsLabel={'Rows per page'}\r\n                            />\r\n                        </DataTable>\r\n                        <AddCountryModal handleAddCountryModalClose={handleAddCountryModalClose} />\r\n                        <AddPortsForCountriesModal handleAddPortsForCountriesModalClose={handleAddPortsForCountriesModalClose} handleAddPortsForCountriesModalOpen={handleAddPortsForCountriesModalOpen} />\r\n                        <DeleteCountryModal handleDeleteCountryModalClose={handleDeleteCountryModalClose} />\r\n                    </View>\r\n                )}\r\n\r\n\r\n        </>\r\n\r\n    );\r\n\r\n}\r\n\r\nconst portsList = {\r\n    \"Dar es Salaam\": { country: \"Tanzania\" },\r\n    \"Durban\": { country: \"Republic of South Africa\" },\r\n    \"Maputo\": { country: \"Mozambique\" },\r\n    \"Abidjan\": { country: \"Cote D'Ivoire\" },\r\n    \"Mombasa\": { country: \"Kenya\" },\r\n    \"Lusaka\": { country: \"Zambia\" },\r\n    \"Matadi\": { country: \"D.R. Congo\" },\r\n    \"Zanzibar\": { country: \"Tanzania\" },\r\n    \"St. John's\": { country: \"Antigua and Barbuda\" },\r\n    \"Aarhus\": { country: \"Denmark\" },\r\n    \"Abadan\": { country: \"Iran\" },\r\n    \"Abu Dhabi\": { country: \"United Arab Emirates\" },\r\n    \"Acapulco\": { country: \"Mexico\" },\r\n    \"Adelaide\": { country: \"Australia\" },\r\n    \"Aden\": { country: \"Yemen\" },\r\n    \"Al Khobar\": { country: \"Saudi Arabia\" },\r\n    \"Al Ladhiqiyah\": { country: \"Syria\" },\r\n    \"Al Mukalla\": { country: \"Yemen\" },\r\n    \"Al Qusayr\": { country: \"Egypt\" },\r\n    \"Al Ruwais\": { country: \"Qatar\" },\r\n    \"Alexandria\": { country: \"Egypt\" },\r\n    \"Algiers\": { country: \"Algeria\" },\r\n    \"Antwerp\": { country: \"Belgium\" },\r\n    \"Apia\": { country: \"Samoa\" },\r\n    \"Aqaba\": { country: \"Jordan\" },\r\n    \"Arwad\": { country: \"Syria\" },\r\n    \"As Salif\": { country: \"Yemen\" },\r\n    \"Ash Shihr\": { country: \"Yemen\" },\r\n    \"Ashdod\": { country: \"Israel\" },\r\n    \"Ashgabat\": { country: \"Turkmenistan\" },\r\n    \"Ashkelon\": { country: \"Israel\" },\r\n    \"Assab\": { country: \"Eritrea\" },\r\n    \"Assumption Island\": { country: \"Seychelles\" },\r\n    \"Asuncin\": { country: \"Paraguay\" },\r\n    \"Auckland\": { country: \"New Zealand\" },\r\n    \"Avarua\": { country: \"Cook Islands\" },\r\n    \"Balboa\": { country: \"Panama\" },\r\n    \"Balhaf\": { country: \"Yemen\" },\r\n    \"Banana\": { country: \"D.R.Congo\" },\r\n    \"Bandar Abbas\": { country: \"Iran\" },\r\n    \"Bandar Seri Begawan\": { country: \"Brunei Darussalam\" },\r\n    \"Bangkok\": { country: \"Thailand\" },\r\n    \"Baniyas\": { country: \"Syria\" },\r\n    \"Banjul\": { country: \"Gambia\" },\r\n    \"Bar\": { country: \"Montenegro\" },\r\n    \"Barcelona\": { country: \"Spain\" },\r\n    \"Barranquilla\": { country: \"Colombia\" },\r\n    \"Basra\": { country: \"Iraq\" },\r\n    \"Basse-Terre\": { country: \"Guadeloupe\" },\r\n    \"Batroun\": { country: \"Lebanon\" },\r\n    \"Batumi\": { country: \"Georgia\" },\r\n    \"Beira\": { country: \"Mozambique\" },\r\n    \"Beirut\": { country: \"Lebanon\" },\r\n    \"Belize City\": { country: \"Belize\" },\r\n    \"Benghazi\": { country: \"Libya\" },\r\n    \"Berbera\": { country: \"Somalia\" },\r\n    \"Berbera\": { country: \"Somaliland\" },\r\n    \"Bissau\": { country: \"Guinea-Bissau\" },\r\n    \"Bissau\": { country: \"Republic of Guinea-Bissau\" },\r\n    \"Blantyre\": { country: \"Malawi\" },\r\n    \"Bo\": { country: \"Sierra Leone\" },\r\n    \"Boma\": { country: \"D.R.Congo\" },\r\n    \"Bosaso\": { country: \"Somalia\" },\r\n    \"Brava\": { country: \"Somalia\" },\r\n    \"Brazzaville\": { country: \"Republic of the Congo\" },\r\n    \"Bridgetown\": { country: \"Barbados\" },\r\n    \"Brisbane\": { country: \"Australia\" },\r\n    \"Buchanan\": { country: \"Liberia\" },\r\n    \"Bucharest\": { country: \"Romania\" },\r\n    \"Buenos Aires\": { country: \"Argentina\" },\r\n    \"Busan\": { country: \"South Korea\" },\r\n    \"Byblos\": { country: \"Lebanon\" },\r\n    \"Cabinda\": { country: \"Angola\" },\r\n    \"Calabar\": { country: \"Nigeria\" },\r\n    \"Calais\": { country: \"France\" },\r\n    \"Callao\": { country: \"Peru\" },\r\n    \"Cap-Haitien\": { country: \"Haiti\" },\r\n    \"Cape Town\": { country: \"South Africa\" },\r\n    \"Caracas\": { country: \"Venezuela\" },\r\n    \"Cartagena\": { country: \"Colombia\" },\r\n    \"Casablanca\": { country: \"Morocco\" },\r\n    \"Cayenne\": { country: \"French Guiana\" },\r\n    \"Cebu\": { country: \"Philippines\" },\r\n    \"Chabahar\": { country: \"Iran\" },\r\n    \"Charlotte Amalie\": { country: \"US Virgin Islands\" },\r\n    \"Chekka\": { country: \"Lebanon\" },\r\n    \"Chisinau\": { country: \"Moldova\" },\r\n    \"Chittagong\": { country: \"Bangladesh\" },\r\n    \"Christchurch\": { country: \"New Zealand\" },\r\n    \"Colombo\": { country: \"Sri Lanka\" },\r\n    \"Colonia\": { country: \"Micronesia\" },\r\n    \"Comoros\": { country: \"Comoros\" },\r\n    \"Conakry\": { country: \"Guinea\" },\r\n    \"Constanta\": { country: \"Romania\" },\r\n    \"Constana\": { country: \"Romania\" },\r\n    \"Copenhagen\": { country: \"Denmark\" },\r\n    \"Cork\": { country: \"Ireland\" },\r\n    \"Cotonou\": { country: \"Benin\" },\r\n    \"Cristbal\": { country: \"Panama\" },\r\n    \"Dakar\": { country: \"Senegal\" },\r\n    \"Dammam\": { country: \"Saudi Arabia\" },\r\n    \"Darwin\": { country: \"Australia\" },\r\n    \"Diego Suarez (Antsiranana)\": { country: \"Madagascar\" },\r\n    \"Dili\": { country: \"East Timor\" },\r\n    \"Djibouti\": { country: \"Djibouti\" },\r\n    \"Doha\": { country: \"Qatar\" },\r\n    \"Doraleh\": { country: \"Djibouti\" },\r\n    \"Douala\": { country: \"Cameroon\" },\r\n    \"Dubai\": { country: \"UAE\" },\r\n    \"Dublin\": { country: \"Ireland\" },\r\n    \"Duqm\": { country: \"Oman\" },\r\n    \"Durrs\": { country: \"Albania\" },\r\n    \"Dzaoudzi\": { country: \"Mayotte\" },\r\n    \"Ehoala\": { country: \"Madagascar\" },\r\n    \"Eil\": { country: \"Somalia\" },\r\n    \"Eilat\": { country: \"Israel\" },\r\n    \"El Arish\": { country: \"Egypt\" },\r\n    \"El Ma'an\": { country: \"Somalia\" },\r\n    \"El Tor\": { country: \"Egypt\" },\r\n    \"Famagusta\": { country: \"Cyprus\" },\r\n    \"Freeport\": { country: \"Bahamas\" },\r\n    \"Freetown\": { country: \"Sierra Leone\" },\r\n    \"Fremantle\": { country: \"Australia\" },\r\n    \"Funafuti\": { country: \"Tuvalu\" },\r\n    \"Garoua\": { country: \"Cameroon\" },\r\n    \"Gdansk\": { country: \"Poland\" },\r\n    \"Gdask\": { country: \"Poland\" },\r\n    \"Gdynia\": { country: \"Poland\" },\r\n    \"Genoa\": { country: \"Italy\" },\r\n    \"George Town\": { country: \"Cayman Islands\" },\r\n    \"Georgetown\": { country: \"Guyana\" },\r\n    \"Gizo\": { country: \"Solomon Islands\" },\r\n    \"Gothenburg\": { country: \"Sweden\" },\r\n    \"Grand Turk\": { country: \"Turks and Caicos Islands\" },\r\n    \"Greenville\": { country: \"Liberia\" },\r\n    \"Guangzhou\": { country: \"Peoples Republic of China\" },\r\n    \"Guayaquil\": { country: \"Ecuador\" },\r\n    \"Gwadar\": { country: \"Pakistan\" },\r\n    \"Gydnia\": { country: \"Poland\" },\r\n    \"Hadera\": { country: \"Israel\" },\r\n    \"Haifa\": { country: \"Israel\" },\r\n    \"Hamburg\": { country: \"Germany\" },\r\n    \"Hamilton\": { country: \"Bermuda\" },\r\n    \"Hargeisa\": { country: \"Somaliland\" },\r\n    \"Harper\": { country: \"Liberia\" },\r\n    \"Havana\": { country: \"Cuba\" },\r\n    \"Helsinki\": { country: \"Finland\" },\r\n    \"Ho Chi Minh City\": { country: \"Vietnam\" },\r\n    \"Hobyo\": { country: \"Somalia\" },\r\n    \"Hodeida\": { country: \"Yemen\" },\r\n    \"Hodeidah\": { country: \"Yemen\" },\r\n    \"Hong Kong\": { country: \"Hong Kong\" },\r\n    \"Honiara\": { country: \"Solomon Islands\" },\r\n    \"Incheon\": { country: \"South Korea\" },\r\n    \"Inchon\": { country: \"South Korea\" },\r\n    \"Istanbul\": { country: \"Turkey\" },\r\n    \"Jaffna\": { country: \"Sri Lanka\" },\r\n    \"Jakarta\": { country: \"Indonesia\" },\r\n    \"Jamestown\": { country: \"Saint Helena\" },\r\n    \"Jeddah Islamic Port\": { country: \"Saudi Arabia\" },\r\n    \"Jeddah\": { country: \"Saudi Arabia\" },\r\n    \"Jizan\": { country: \"Saudi Arabia\" },\r\n    \"Jounieh\": { country: \"Lebanon\" },\r\n    \"Jubail\": { country: \"Saudi Arabia\" },\r\n    \"Jurong\": { country: \"Singapore\" },\r\n    \"Kandla\": { country: \"India\" },\r\n    \"Kaohsiung\": { country: \"Taiwan\" },\r\n    \"Karachi\": { country: \"Pakistan\" },\r\n    \"Kathmandu\": { country: \"Nepal\" },\r\n    \"Khartoum\": { country: \"Sudan\" },\r\n    \"Khasab\": { country: \"Oman\" },\r\n    \"King Abdul Aziz Port\": { country: \"Saudi Arabia\" },\r\n    \"King Fahd Industrial Port\": { country: \"Saudi Arabia\" },\r\n    \"Kingston\": { country: \"Jamaica\" },\r\n    \"Kinshasa\": { country: \"D.R.Congo\" },\r\n    \"Kismayo\": { country: \"Somalia\" },\r\n    \"Klaipeda\": { country: \"Lithuania\" },\r\n    \"Kobe\": { country: \"Japan\" },\r\n    \"Kolkata\": { country: \"India\" },\r\n    \"Koror\": { country: \"Palau\" },\r\n    \"Kralendijk\": { country: \"Bonaire/Netherlands Antilles\" },\r\n    \"Kribi\": { country: \"Cameroon\" },\r\n    \"Kuching Port\": { country: \"Malaysia\" },\r\n    \"Kuwait City\": { country: \"Kuwait\" },\r\n    \"Kyrenia\": { country: \"Cyprus\" },\r\n    \"La Ceiba\": { country: \"Honduras\" },\r\n    \"La Digue\": { country: \"Seychelles\" },\r\n    \"La Guaira\": { country: \"Venezuela\" },\r\n    \"La Libertad\": { country: \"El Salvador\" },\r\n    \"Lae\": { country: \"Papua New Guinea\" },\r\n    \"Lagos\": { country: \"Nigeria\" },\r\n    \"Larnaca\": { country: \"Cyprus\" },\r\n    \"Las Palmas\": { country: \"Canary Islands\" },\r\n    \"Latakia\": { country: \"Syria\" },\r\n    \"Le Havre\": { country: \"France\" },\r\n    \"Le Port\": { country: \"Reunion\" },\r\n    \"Libreville\": { country: \"Gabon\" },\r\n    \"Limassol\": { country: \"Cyprus\" },\r\n    \"Limbe\": { country: \"Cameroon\" },\r\n    \"Limn\": { country: \"Costa Rica\" },\r\n    \"Lisbon\": { country: \"Portugal\" },\r\n    \"Lobito\": { country: \"Angola\" },\r\n    \"Lom\": { country: \"Togo\" },\r\n    \"London\": { country: \"United Kingdom\" },\r\n    \"Luanda\": { country: \"Angola\" },\r\n    \"Luganville\": { country: \"Vanuatu\" },\r\n    \"Lderitz\": { country: \"Namibia\" },\r\n    \"Mah\": { country: \"Seychelles\" },\r\n    \"Majunga (Mahajanga)\": { country: \"Madagascar\" },\r\n    \"Majuro\": { country: \"Marshall Islands\" },\r\n    \"Malabo\": { country: \"Equatorial Guinea\" },\r\n    \"Male\": { country: \"Maldives\" },\r\n    \"Mal\": { country: \"Maldives\" },\r\n    \"Manama\": { country: \"Bahrain\" },\r\n    \"Manila\": { country: \"Philippines\" },\r\n    \"Manta\": { country: \"Ecuador\" },\r\n    \"Manzanillo\": { country: \"Mexico\" },\r\n    \"Marsa Matruh\": { country: \"Egypt\" },\r\n    \"MARSAXLOKK\": { country: \"Malta\" },\r\n    \"Marsaxlokk\": { country: \"Malta\" },\r\n    \"Marseille\": { country: \"France\" },\r\n    \"Massawa\": { country: \"Eritrea\" },\r\n    \"Mata-Utu\": { country: \"Wallis and Futuna\" },\r\n    \"Matadi\": { country: \"D.R.Congo\" },\r\n    \"Matarani\": { country: \"Peru\" },\r\n    \"Mayumba\": { country: \"Gabon\" },\r\n    \"Melbourne\": { country: \"Australia\" },\r\n    \"Merca\": { country: \"Somalia\" },\r\n    \"Mindelo\": { country: \"Cape Verde\" },\r\n    \"Miri Port\": { country: \"Malaysia\" },\r\n    \"Mocha\": { country: \"Yemen\" },\r\n    \"Mogadishu\": { country: \"Somalia\" },\r\n    \"Monaco\": { country: \"Monaco\" },\r\n    \"Monrovia\": { country: \"Liberia\" },\r\n    \"Montego Bay\": { country: \"Jamaica\" },\r\n    \"Montevideo\": { country: \"Uruguay\" },\r\n    \"Moroni\": { country: \"Comoros\" },\r\n    \"Muara\": { country: \"Brunei Darussalam\" },\r\n    \"Mukalla\": { country: \"Yemen\" },\r\n    \"Mumbai\": { country: \"India\" },\r\n    \"Muscat\": { country: \"Oman\" },\r\n    \"Nacala\": { country: \"Mozambique\" },\r\n    \"Naha\": { country: \"Japan\" },\r\n    \"Namibe\": { country: \"Angola\" },\r\n    \"Naples\": { country: \"Italy\" },\r\n    \"Nassau\": { country: \"Bahamas\" },\r\n    \"Neiafu\": { country: \"Tonga\" },\r\n    \"New Westminster\": { country: \"Canada\" },\r\n    \"New York\": { country: \"USA\" },\r\n    \"Newcastle\": { country: \"Australia\" },\r\n    \"Nieuw Nickerie\": { country: \"Suriname\" },\r\n    \"Nishtun\": { country: \"Yemen\" },\r\n    \"Nouadhibou\": { country: \"Mauritania\" },\r\n    \"Nouakchott\": { country: \"Mauritania\" },\r\n    \"Noumea\": { country: \"New Caledonia\" },\r\n    \"Novorossiysk\": { country: \"Russian Federation\" },\r\n    \"Nuku'alofa\": { country: \"Tonga\" },\r\n    \"Obock\": { country: \"Djibouti\" },\r\n    \"Odessa\": { country: \"Ukraine\" },\r\n    \"Omboue\": { country: \"Gabon\" },\r\n    \"Onne\": { country: \"Nigeria\" },\r\n    \"Oran\": { country: \"Algeria\" },\r\n    \"Oranjestad\": { country: \"Aruba\" },\r\n    \"Osaka\": { country: \"Japan\" },\r\n    \"Padang\": { country: \"Indonesia\" },\r\n    \"Palermo\": { country: \"Italy\" },\r\n    \"Papeete\": { country: \"French Polynesia\" },\r\n    \"Paramaribo\": { country: \"Suriname\" },\r\n    \"Pattaya\": { country: \"Thailand\" },\r\n    \"Pemba\": { country: \"Mozambique\" },\r\n    \"Penang Port\": { country: \"Malaysia\" },\r\n    \"Philipsburg\": { country: \"Netherlands Antilles\" },\r\n    \"Piraeus\": { country: \"Greece\" },\r\n    \"Plymouth\": { country: \"Montserrat\" },\r\n    \"Pohnpei\": { country: \"Micronesia\" },\r\n    \"Pointe Noire\": { country: \"Republic of the Congo\" },\r\n    \"Pointe-Noire\": { country: \"Republic of the Congo\" },\r\n    \"Pointe--Pitre\": { country: \"Guadeloupe\" },\r\n    \"Ponce\": { country: \"Puerto Rico\" },\r\n    \"Port Castries\": { country: \"St. Lucia\" },\r\n    \"Port Elizabeth\": { country: \"South Africa\" },\r\n    \"Port Gentil\": { country: \"Gabon\" },\r\n    \"Port Harcourt\": { country: \"Nigeria\" },\r\n    \"Port Kelang\": { country: \"Malaysia\" },\r\n    \"Port Kembla\": { country: \"Australia\" },\r\n    \"Port Louis\": { country: \"Mauritius\" },\r\n    \"Port Moresby\": { country: \"Papua New Guinea\" },\r\n    \"Port of Spain\": { country: \"Trinidad and Tobago\" },\r\n    \"Port Rashid\": { country: \"United Arab Emirates\" },\r\n    \"Port Runion\": { country: \"Reunion\" },\r\n    \"Port Sudan\": { country: \"Sudan\" },\r\n    \"Port Sultan Qaboos\": { country: \"Oman\" },\r\n    \"Port Victoria\": { country: \"Seychelles\" },\r\n    \"Port Vila\": { country: \"Vanuatu\" },\r\n    \"Port Villa\": { country: \"Vanuatu\" },\r\n    \"Port-au-Prince\": { country: \"Haiti\" },\r\n    \"Port-Louis\": { country: \"Mauritius\" },\r\n    \"Port-Vila\": { country: \"Vanuatu\" },\r\n    \"Porto Grande (Mindelo)\": { country: \"Cape Verde\" },\r\n    \"Porto-Novo\": { country: \"Benin\" },\r\n    \"Porto\": { country: \"Portugal\" },\r\n    \"Poti\": { country: \"Georgia\" },\r\n    \"Praslin\": { country: \"Seychelles\" },\r\n    \"Principe\": { country: \"Sao Tome and Principe\" },\r\n    \"Providenciales\": { country: \"Turks And Caicos Islands\" },\r\n    \"Puerto Barrios\": { country: \"Guatemala\" },\r\n    \"Puerto Cabello\": { country: \"Venezuela\" },\r\n    \"Puerto Limon\": { country: \"Republic of Costa Rica\" },\r\n    \"Puerto Madryn\": { country: \"Argentina\" },\r\n    \"Puerto Plata\": { country: \"Dominican Republic\" },\r\n    \"Puerto Sucre\": { country: \"Venezuela\" },\r\n    \"Punta del Este\": { country: \"Uruguay\" },\r\n    \"Puntarenas\": { country: \"Costa Rica\" },\r\n    \"Quelimane\": { country: \"Mozambique\" },\r\n    \"Quetzal\": { country: \"Guatemala\" },\r\n    \"Rabaul\": { country: \"Papua New Guinea\" },\r\n    \"Rabigh\": { country: \"Saudi Arabia\" },\r\n    \"Ras Al Ghar\": { country: \"Saudi Arabia\" },\r\n    \"Ras al Khafji\": { country: \"Saudi Arabia\" },\r\n    \"Ras al-Arah\": { country: \"Yemen\" },\r\n    \"Ras Gharib\": { country: \"Egypt\" },\r\n    \"Ras Isa Marine Terminal\": { country: \"Yemen\" },\r\n    \"Ras Isa\": { country: \"Yemen\" },\r\n    \"Ras Shukheir\": { country: \"Egypt\" },\r\n    \"Ras Tanura\": { country: \"Saudi Arabia\" },\r\n    \"Reykjavik\": { country: \"Iceland\" },\r\n    \"Riga\": { country: \"Latvia\" },\r\n    \"Rijeka\": { country: \"Croatia\" },\r\n    \"Rio de Janeiro\": { country: \"Brazil\" },\r\n    \"Road Town\": { country: \"British Virgin Islands\" },\r\n    \"Robertsport\": { country: \"Liberia\" },\r\n    \"Roseau\": { country: \"Commonwealth Of Dominica\" },\r\n    \"Rotterdam\": { country: \"Netherlands\" },\r\n    \"Saida\": { country: \"Lebanon\" },\r\n    \"Saint George's\": { country: \"Grenada\" },\r\n    \"Saint John's\": { country: \"Antigua and Barbuda\" },\r\n    \"Saint John\": { country: \"Barbados\" },\r\n    \"Saint Louis\": { country: \"Senegal\" },\r\n    \"Saint Petersburg\": { country: \"Russian Federation\" },\r\n    \"Saint Pierre\": { country: \"Saint Pierre and Miquelon\" },\r\n    \"Saint-Denis\": { country: \"Reunion\" },\r\n    \"Saipan\": { country: \"Northern Mariana Islands\" },\r\n    \"Salalah\": { country: \"Oman\" },\r\n    \"Saleef\": { country: \"Yemen\" },\r\n    \"San Antonio\": { country: \"Chile\" },\r\n    \"San Jose\": { country: \"Antigua\" },\r\n    \"San Juan\": { country: \"Puerto Rico\" },\r\n    \"San Pedro\": { country: \"Cote D'Ivoire\" },\r\n    \"Sana'a\": { country: \"Yemen\" },\r\n    \"Santo Domingo\": { country: \"Dominican Republic\" },\r\n    \"Santo\": { country: \"Vanuatu\" },\r\n    \"Santos\": { country: \"Brazil\" },\r\n    \"Sao Tome\": { country: \"Sao Tome and Principe\" },\r\n    \"Scarborough\": { country: \"Trinidad and Tobago\" },\r\n    \"Sevastopol\": { country: \"Ukraine\" },\r\n    \"Sfax\": { country: \"Tunisia\" },\r\n    \"Shanghai\": { country: \"Peoples Republic of China\" },\r\n    \"Sharjah\": { country: \"United Arab Emirates\" },\r\n    \"Shenzhen\": { country: \"Peoples Republic of China\" },\r\n    \"Sibu Port\": { country: \"Malaysia\" },\r\n    \"Sidon\": { country: \"Lebanon\" },\r\n    \"Sihanoukville\": { country: \"Cambodia\" },\r\n    \"Singapore\": { country: \"Singapore\" },\r\n    \"Sinop\": { country: \"Turkey\" },\r\n    \"Sittwe\": { country: \"Myanmar\" },\r\n    \"Sochi\": { country: \"Russian Federation\" },\r\n    \"Socotra\": { country: \"Yemen\" },\r\n    \"Sohar\": { country: \"Oman\" },\r\n    \"Sokod\": { country: \"Togo\" },\r\n    \"Southampton\": { country: \"United Kingdom\" },\r\n    \"Soyo\": { country: \"Angola\" },\r\n    \"Split\": { country: \"Croatia\" },\r\n    \"St. Croix\": { country: \"US Virgin Islands\" },\r\n    \"St. George\": { country: \"Grenada\" },\r\n    \"Stockholm\": { country: \"Sweden\" },\r\n    \"Suakin\": { country: \"Sudan\" },\r\n    \"Sur\": { country: \"Lebanon\" },\r\n    \"Surabaya\": { country: \"Indonesia\" },\r\n    \"Suva\": { country: \"Fiji\" },\r\n    \"Sydney\": { country: \"Australia\" },\r\n    \"Szczecin\": { country: \"Poland\" },\r\n    \"So Tom\": { country: \"Sao Tome and Principe\" },\r\n    \"Tadjoura\": { country: \"Djibouti\" },\r\n    \"Tainan\": { country: \"Taiwan\" },\r\n    \"Tallinn\": { country: \"Estonia\" },\r\n    \"Tamatave (Toamasina)\": { country: \"Madagascar\" },\r\n    \"Tanajib\": { country: \"Saudi Arabia\" },\r\n    \"Tanjung Pelepas\": { country: \"Malaysia\" },\r\n    \"Tarawa\": { country: \"Kiribati\" },\r\n    \"Tartus\": { country: \"Syria\" },\r\n    \"Tauranga\": { country: \"New Zealand\" },\r\n    \"Tekirdag\": { country: \"Turkey\" },\r\n    \"Tema\": { country: \"Ghana\" },\r\n    \"Tianjin\": { country: \"Peoples Republic of China\" },\r\n    \"Tin Can Island\": { country: \"Nigeria\" },\r\n    \"Toamasina\": { country: \"Madagascar\" },\r\n    \"Toliara\": { country: \"Madagascar\" },\r\n    \"Tonga\": { country: \"Tonga\" },\r\n    \"Toripoli\": { country: \"Libya\" },\r\n    \"Trabzon\": { country: \"Turkey\" },\r\n    \"Trieste\": { country: \"Italy\" },\r\n    \"Trincomalee\": { country: \"Sri Lanka\" },\r\n    \"Tripoli\": { country: \"Lebanon\" },\r\n    \"Tunis\": { country: \"Tunisia\" },\r\n    \"Turkmenbashi\": { country: \"Turkmenistan\" },\r\n    \"Tyre\": { country: \"Lebanon\" },\r\n    \"Trshavn\": { country: \"Faroe Islands\" },\r\n    \"ULAANBAATAR\": { country: \"Mongolia\" },\r\n    \"Ulcinj\": { country: \"Montenegro\" },\r\n    \"Umm Qasr\": { country: \"Iraq\" },\r\n    \"Ushuaia\": { country: \"Argentina\" },\r\n    \"Valletta\": { country: \"Malta\" },\r\n    \"Valparaso\": { country: \"Chile\" },\r\n    \"Vancouver\": { country: \"Canada\" },\r\n    \"Varna\": { country: \"Bulgaria\" },\r\n    \"Veracruz\": { country: \"Mexico\" },\r\n    \"Victoria\": { country: \"Mahe (Seychelles)\" },\r\n    \"Visakhapatnam\": { country: \"India\" },\r\n    \"Vladivostok\": { country: \"Russian Federation\" },\r\n    \"Walvis Bay\": { country: \"Namibia\" },\r\n    \"Warri\": { country: \"Nigeria\" },\r\n    \"Wellington\": { country: \"New Zealand\" },\r\n    \"Willemstad\": { country: \"Curacao\" },\r\n    \"Yanbu\": { country: \"Saudi Arabia\" },\r\n    \"Yangon\": { country: \"Myanmar\" },\r\n    \"Yap\": { country: \"Micronesia\" },\r\n    \"Yaren\": { country: \"Nauru\" },\r\n    \"Yokohama\": { country: \"Japan\" },\r\n    \"Zeebrugge\": { country: \"Belgium\" },\r\n    \"Ziguinchor\": { country: \"Senegal\" },\r\n    \"Zonguldak\": { country: \"Turkey\" },\r\n}\r\n\r\n\r\nconst AddPortModal = ({ handleAddPortModalClose }) => {\r\n\r\n    const addPortModalVisible = useSelector((state) => state.addPortModalVisible);\r\n    const inputPortText = useRef(null);\r\n    const inputCountryText = useRef(null);\r\n    const dispatch = useDispatch();\r\n    const toast = useToast();\r\n    const [addButtonLoading, setAddButtonLoading] = useState(false);\r\n\r\n    const handleAddButton = async () => {\r\n        setAddButtonLoading(true);\r\n        if (inputPortText.current?.value !== '' && inputCountryText.current?.value !== '') {\r\n            const countryCode = inputCountryText.current?.value;\r\n            const portCode = inputPortText.current?.value;\r\n            const formattedPortCode = portCode.replace(/\\./g, '_');\r\n            const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n            const { datetime } = response.data;\r\n            const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n            const year = moment(datetime).format('YYYY');\r\n            const month = moment(datetime).format('MM');\r\n            const monthWithDay = moment(datetime).format('MM/DD');\r\n            const date = moment(datetime).format('YYYY/MM/DD');\r\n            const day = moment(datetime).format('DD');\r\n            const time = moment(datetime).format('HH:mm');\r\n            try {\r\n                await addPort(formattedPortCode, inputCountryText.current?.value, 9999);\r\n                const logData = {\r\n                    message: `Port Added: \"${nameVariable.text}\" added port \"${portCode}\" for Freight.`,\r\n                    timestamp: formattedTime,\r\n                    colorScheme: true,\r\n                    keywords: [\r\n                        formattedTime.toLowerCase(),\r\n                        `Port Added: \"${nameVariable.text}\" added port \"${portCode}\" for Freight.`.toLowerCase(),\r\n                        'Port'.toLowerCase(),\r\n                        'Port Added'.toLowerCase(),\r\n                        'Added'.toLowerCase(),\r\n                        'Freight'.toLowerCase(),\r\n                        portCode.toLowerCase(),\r\n                        nameVariable.text.toLowerCase(),\r\n                        year.toLowerCase(),\r\n                        month.toLowerCase(),\r\n                        monthWithDay.toLowerCase(),\r\n                        date.toLowerCase(),\r\n                        day.toLowerCase(),\r\n                        time.toLowerCase(),\r\n                    ],\r\n                };\r\n\r\n                addLogToCollection(logData);\r\n                toast.show({\r\n                    render: () => {\r\n                        return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n                            <Text style={{ color: 'white' }}>Port added successfully!</Text>\r\n                        </View>;\r\n                    }\r\n\r\n                })\r\n                dispatch(setAddPortModalVisible(false));\r\n                setAddButtonLoading(false);\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        }\r\n        else {\r\n            setAddButtonLoading(false);\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    const filterInput = (inputRef) => {\r\n        const currentValue = inputRef.current.value;\r\n        const filteredValue = currentValue.replace(/[^a-zA-Z0-9. ]/g, '');\r\n        if (currentValue !== filteredValue) {\r\n            inputRef.current.setNativeProps({ text: filteredValue });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={addPortModalVisible}\r\n            onClose={() => {\r\n                handleAddPortModalClose();\r\n                inputPortText.current.value = '';\r\n            }}\r\n            size={'md'}>\r\n            <Modal.Content>\r\n                <Modal.CloseButton />\r\n                <Modal.Header style={{ backgroundColor: '#7B9CFF', }}><Text color={'white'} fontSize={20} bold>Add Port</Text></Modal.Header>\r\n                <Modal.Body >\r\n                    <View style={{ marginVertical: 5, }}>\r\n                        <View style={{ backgroundColor: '#7B9CFF', flex: 1, }}>\r\n                            <Text bold color={'white'} marginLeft={1}>Port</Text>\r\n                        </View>\r\n                        <TextInput\r\n                            ref={inputPortText}\r\n                            onChangeText={() => filterInput(inputPortText)}\r\n                            style={{\r\n                                outlineStyle: 'none',\r\n                                flex: 1,\r\n                                padding: 5,\r\n                                backgroundColor: 'white',\r\n                                borderBottomLeftRadius: 5,\r\n                                borderBottomRightRadius: 5,\r\n                                placeholderTextColor: '#ACADA3',\r\n                                borderColor: '#D4D4D4',\r\n                                borderWidth: 1,\r\n                            }}\r\n                            placeholder='Input Port' />\r\n\r\n                        <View style={{ backgroundColor: '#7B9CFF', flex: 1, marginTop: 10, }}>\r\n                            <Text bold color={'white'} marginLeft={1}>Country</Text>\r\n                        </View>\r\n                        <TextInput\r\n                            ref={inputCountryText}\r\n                            onChangeText={() => filterInput(inputCountryText)}\r\n                            style={{\r\n                                outlineStyle: 'none',\r\n                                flex: 1,\r\n                                padding: 5,\r\n                                backgroundColor: 'white',\r\n                                borderBottomLeftRadius: 5,\r\n                                borderBottomRightRadius: 5,\r\n                                placeholderTextColor: '#ACADA3',\r\n                                borderColor: '#D4D4D4',\r\n                                borderWidth: 1,\r\n                            }}\r\n                            placeholder='Input Country' />\r\n\r\n                    </View>\r\n\r\n\r\n                </Modal.Body>\r\n                <Modal.Footer >\r\n                    <Button.Group variant=\"solid\" space=\"2\">\r\n                        <Button colorScheme={'gray'} onPress={() => {\r\n                            handleAddPortModalClose();\r\n                            inputPortText.current.value = '';\r\n                        }}>Cancel</Button>\r\n                        {addButtonLoading ?\r\n                            (<Spinner size=\"lg\" color={'#16A34A'} />) :\r\n                            (<Button colorScheme={'success'} onPress={handleAddButton}>Add</Button>)\r\n                        }\r\n\r\n                    </Button.Group>\r\n                </Modal.Footer>\r\n            </Modal.Content>\r\n        </Modal>\r\n\r\n    );\r\n\r\n}\r\n\r\nconst DeletePortModal = ({ handleDeletePortModalClose }) => {\r\n    const deletePortModalVisible = useSelector((state) => state.deletePortModalVisible);\r\n    const [buttonLoading, setButtonLoading] = useState(false);\r\n\r\n    const handleDeletePort = async () => {\r\n        setButtonLoading(true);\r\n        const documentRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'PortsDoc');\r\n        const formattedFieldCode = selectedPort.replace(/\\./g, '_');\r\n\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        updateDoc(documentRef, {\r\n            [formattedFieldCode]: deleteField()\r\n        })\r\n            .then(() => {\r\n                console.log('Field deleted successfully');\r\n                handleDeletePortModalClose();\r\n                setButtonLoading(false);\r\n                const logData = {\r\n                    message: `Port Deleted: \"${nameVariable.text}\" deleted port \"${selectedPort}\" for Freight.`,\r\n                    timestamp: formattedTime,\r\n                    colorScheme: false,\r\n                    keywords: [\r\n                        formattedTime.toLowerCase(),\r\n                        `Port Deleted: \"${nameVariable.text}\" deleted port \"${selectedPort}\" for Freight.`.toLowerCase(),\r\n                        'Port'.toLowerCase(),\r\n                        'Port Deleted'.toLowerCase(),\r\n                        'Deleted'.toLowerCase(),\r\n                        'Freight'.toLowerCase(),\r\n                        selectedPort.toLowerCase(),\r\n                        nameVariable.text.toLowerCase(),\r\n                        year.toLowerCase(),\r\n                        month.toLowerCase(),\r\n                        monthWithDay.toLowerCase(),\r\n                        date.toLowerCase(),\r\n                        day.toLowerCase(),\r\n                        time.toLowerCase(),\r\n                    ],\r\n                };\r\n\r\n                addLogToCollection(logData);\r\n            })\r\n            .catch((error) => {\r\n                console.error('Error deleting field: ', error);\r\n            });\r\n\r\n    }\r\n\r\n    return (\r\n\r\n        <Modal isOpen={deletePortModalVisible} onClose={handleDeletePortModalClose}>\r\n            <Modal.Content>\r\n                <Modal.CloseButton />\r\n                <Modal.Header>Delete Port?</Modal.Header>\r\n                <Modal.Body>\r\n                    Are you sure you want to delete the selected port?\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                    <View style={{ flex: 1, flexDirection: 'row' }}>\r\n                        <TouchableOpacity\r\n                            style={{ flex: 1, backgroundColor: '#525252', padding: 5, borderRadius: 5, margin: 5, }}\r\n                            onPress={handleDeletePortModalClose}\r\n                        >\r\n                            <Text style={{ color: 'white', alignSelf: 'center', }}>No</Text>\r\n                        </TouchableOpacity>\r\n                        {buttonLoading ?\r\n                            (<TouchableOpacity\r\n                                style={{ flex: 1, backgroundColor: '#DC2626', padding: 5, borderRadius: 5, margin: 5, }}\r\n                            ><Spinner size={18} color={'white'} />\r\n                            </TouchableOpacity>) :\r\n                            (<TouchableOpacity\r\n                                style={{ flex: 1, backgroundColor: '#DC2626', padding: 5, borderRadius: 5, margin: 5, }}\r\n                                onPress={handleDeletePort}\r\n                            >\r\n                                <Text style={{ color: 'white', alignSelf: 'center', }}>Yes</Text>\r\n                            </TouchableOpacity>)\r\n                        }\r\n\r\n\r\n                    </View>\r\n                </Modal.Footer>\r\n            </Modal.Content>\r\n        </Modal>\r\n\r\n\r\n    );\r\n}\r\n\r\n\r\n\r\nconst PortsTable = () => {\r\n    const dispatch = useDispatch();\r\n    const methodData = useSelector((state) => state.methodData);\r\n    const toast = useToast();\r\n    const [data, setData] = useState([]);\r\n    const [page, setPage] = useState(0);\r\n    const optionsPerPage = [10, 20, 50];\r\n    const [itemsPerPage, setItemsPerPage] = useState(optionsPerPage[0]);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const inputSearchRef = useRef(null);\r\n    const textAreaAddMethod = useRef(null);\r\n\r\n    const inputSortOrder = useRef([]);\r\n    const inputProfitPrice = useRef([]);\r\n    const inputNagoyaPrice = useRef([]);\r\n    const inputYokohamaPrice = useRef([]);\r\n    const inputKyushuPrice = useRef([]);\r\n    const inputKobePrice = useRef([]);\r\n    const inputMemo = useRef([]);\r\n\r\n    const [inputMemoValues, setInputMemoValues] = useState({});\r\n\r\n    const screenWidth = Dimensions.get('window').width;\r\n\r\n    const handleSortOrderTextChange = (text, item) => {\r\n        // Remove any non-numeric characters from the input text and limit to 3 digits\r\n        const numericValue = text.replace(/[^0-9]/g, '').slice(0, 3);\r\n\r\n        inputSortOrder.current[item.ports].value = numericValue;\r\n\r\n    };\r\n\r\n    const handleProfitPriceTextChange = (text, item) => {\r\n        // Remove any non-numeric characters from the input text and limit to 3 digits\r\n        const numericValue = text.replace(/[^0-9]/g, '').slice(0, 4);\r\n\r\n        inputProfitPrice.current[item.ports].value = numericValue;\r\n\r\n    };\r\n\r\n\r\n    const updatePortsField = async (portCode, newValue, inputRef, title, fieldName) => {\r\n        // Specify the document reference\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n\r\n        const documentRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'PortsDoc');\r\n        dispatch(setLoadingModalVisible(true));\r\n        if (newValue !== '') {\r\n            // Replace dots with underscores in the countryCode if the keys in Firestore use underscores\r\n            // If your keys can contain dots and are used as such in Firestore, do not replace with underscores.\r\n            const formattedCountryCode = portCode.replace(/\\./g, '_'); // Replace dots with underscores or any other valid character\r\n\r\n            // Specify the field using dot notation for the nested field\r\n            const field = `${formattedCountryCode}.${fieldName}`;\r\n\r\n            try {\r\n                // Perform the update\r\n                await updateDoc(documentRef, {\r\n                    [field]: newValue\r\n                });\r\n\r\n                const logData = {\r\n                    message: `${title} Updated: \"${nameVariable.text}\" updated \"${portCode}\" ${title} to \"${newValue}\".`,\r\n                    timestamp: formattedTime,\r\n                    colorScheme: true,\r\n                    keywords: [\r\n                        formattedTime.toLowerCase(),\r\n                        `${title} Updated: \"${nameVariable.text}\" updated \"${portCode}\" ${title} to \"${newValue}\"`.toLowerCase(),\r\n                        `Sort`.toLowerCase(),\r\n                        `${title}`.toLowerCase(),\r\n                        `${title} Updated`.toLowerCase(),\r\n                        `Updated`.toLowerCase(),\r\n                        portCode.toLowerCase(),\r\n                        nameVariable.text.toLowerCase(),\r\n                        year.toLowerCase(),\r\n                        month.toLowerCase(),\r\n                        monthWithDay.toLowerCase(),\r\n                        date.toLowerCase(),\r\n                        day.toLowerCase(),\r\n                        time.toLowerCase(),\r\n                    ],\r\n                };\r\n                toast.show({\r\n                    render: () => {\r\n                        return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n                            <Text style={{ color: 'white' }}>{title} updated successfully!</Text>\r\n                        </View>;\r\n                    }\r\n                })\r\n                addLogToCollection(logData);\r\n                dispatch(setLoadingModalVisible(false));\r\n                console.log(`${title} updated successfully`);\r\n            } catch (error) {\r\n                console.error(`Error updating ${title}:`, error);\r\n\r\n            }\r\n        }\r\n        else {\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n        }\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n        setPage(0);\r\n    }, [itemsPerPage]);\r\n\r\n    const filtered = useMemo(() => {\r\n        return data.filter((item) =>\r\n            item.country.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n            item.ports.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n            item.sortOrder.toString().includes(searchQuery)\r\n        );\r\n    }, [searchQuery, data]);\r\n\r\n    const paginatedData = useMemo(() => {\r\n        const startIndex = page * itemsPerPage;\r\n        const endIndex = startIndex + itemsPerPage;\r\n        return filtered.slice(startIndex, endIndex);\r\n    }, [page, itemsPerPage, searchQuery, data, filtered]);\r\n\r\n\r\n    const handleSearch = debounce(() => {\r\n        setSearchQuery(inputSearchRef.current?.value);\r\n    }, 50);\r\n\r\n    const startIndex = page * itemsPerPage;\r\n    const endIndex = Math.min(startIndex + itemsPerPage, data.length);\r\n\r\n    // useEffect(() => {\r\n    //     const portsDataWithSortOrder = Object.entries(portsList).reduce((acc, [portName, portDetails], index) => {\r\n    //         // Replace dots in portName with underscores\r\n    //         const sanitizedPortName = portName.replace(/\\./g, '_');\r\n    //         acc[sanitizedPortName] = { ...portDetails, sortOrder: index };\r\n    //         return acc;\r\n    //     }, {});\r\n\r\n    //     setDoc(doc(projectExtensionFirestore, \"CustomerCountryPort\", \"PortsDoc\"), portsDataWithSortOrder)\r\n    //         .then(() => {\r\n    //             console.log(\"Document successfully written!\");\r\n    //             dispatch(setLoadingModalVisible(false));\r\n    //         })\r\n    //         .catch((error) => {\r\n    //             console.error(\"Error writing document: \", error);\r\n    //         });\r\n    // }, []);\r\n\r\n    useEffect(() => {\r\n        const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'PortsDoc');\r\n        dispatch(setLoadingModalVisible(true));\r\n\r\n        // This will start the listener\r\n        const unsubscribe = onSnapshot(docRef, (docSnap) => {\r\n            if (docSnap.exists()) {\r\n                const data = docSnap.data();\r\n                const formattedData = Object.keys(data)\r\n                    .map(key => ({\r\n                        ports: key.replace(/_/g, '.'),\r\n                        ...data[key],\r\n                    }))\r\n                    .sort((a, b) => a.sortOrder - b.sortOrder); // Sorting based on the sortOrder field\r\n                setData(formattedData);\r\n                // setFilteredData(formattedData);\r\n                dispatch(setLoadingModalVisible(false));\r\n            } else {\r\n                console.log(\"No such document!\");\r\n                dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n            }\r\n        }, (error) => {\r\n            console.error(\"Error fetching countries: \", error);\r\n\r\n        });\r\n\r\n        // This will unsubscribe from the listener when the component is unmounted\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n\r\n    const handleAddMethodTextChange = () => {\r\n        const textAreaValue = textAreaAddMethod.current?.value;\r\n        if (textAreaValue) {\r\n            const newText = textAreaValue\r\n                .split('\\n')\r\n                .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n                .join('\\n');\r\n            textAreaAddMethod.current.setNativeProps({ text: newText });\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        paginatedData.forEach(item => {\r\n            inputMemo.current[item.ports].value = item.memo ? item.memo : '';\r\n            inputSortOrder.current[item.ports].value = item.sortOrder ? item.sortOrder : 0;\r\n            inputProfitPrice.current[item.ports].value = item.profitPrice ? item.profitPrice : 0;\r\n            inputNagoyaPrice.current[item.ports].value = item.nagoyaPrice ? item.nagoyaPrice : 0;\r\n            inputYokohamaPrice.current[item.ports].value = item.yokohamaPrice ? item.yokohamaPrice : 0;\r\n            inputKyushuPrice.current[item.ports].value = item.kyushuPrice ? item.kyushuPrice : 0;\r\n            inputKobePrice.current[item.ports].value = item.kobePrice ? item.kobePrice : 0;\r\n\r\n\r\n\r\n        });\r\n        // setInputMemoValues(initialValues);\r\n\r\n    }, [paginatedData]); // Run this effect when 'items' changes\r\n\r\n    const handleAddPortModalOpen = () => {\r\n\r\n        dispatch(setAddPortModalVisible(true));\r\n\r\n    }\r\n\r\n    const handleAddPortModalClose = () => {\r\n\r\n        dispatch(setAddPortModalVisible(false));\r\n\r\n    }\r\n\r\n    const handleDeletePortModalOpen = (selectedValue) => {\r\n\r\n        dispatch(setDeletePortModalVisible(true));\r\n        selectedPort = selectedValue;\r\n\r\n    }\r\n\r\n    const handleDeletePortModalClose = () => {\r\n\r\n        dispatch(setDeletePortModalVisible(false));\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            {screenWidth >= 1280 ? (\r\n                <View style={{ flex: 1, }}>\r\n                    {/* Search Bar */}\r\n                    <View style={{ padding: 10 }}>\r\n                        <TextInput\r\n                            ref={inputSearchRef}\r\n                            onSubmitEditing={handleSearch}\r\n                            style={{ outlineStyle: 'none', padding: 10, backgroundColor: 'white', borderRadius: 5, placeholderTextColor: '#ACADA3' }}\r\n                            placeholder='Search'\r\n                            returnKeyType='search'\r\n                            autoCapitalize='none'\r\n                        />\r\n                    </View>\r\n\r\n                    {/* Add Port Button */}\r\n                    <View style={{ paddingHorizontal: 10, paddingTop: 0, paddingBottom: 0, alignItems: 'flex-start' }}>\r\n                        <TouchableOpacity\r\n                            onPress={handleAddPortModalOpen}\r\n                            style={{\r\n                                borderRadius: 5,\r\n                                padding: 10,\r\n                                borderWidth: 1,\r\n                                borderColor: 'white',\r\n                                backgroundColor: '#16A34A',\r\n                                flexDirection: 'row',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                            }}\r\n                        >\r\n                            <MaterialIcons name=\"add\" size={20} color={'white'} />\r\n                            <Text style={{ color: 'white', fontWeight: 'bold', marginLeft: 5 }}>Add Port</Text>\r\n                        </TouchableOpacity>\r\n                    </View>\r\n\r\n                    <View\r\n                        style={{\r\n                            flexDirection: 'row',\r\n                            justifyContent: 'space-between',\r\n                            borderBottomWidth: 1,\r\n                            borderBottomColor: '#E4E4E7',\r\n                            backgroundColor: '#0642F4',\r\n                            padding: 10,\r\n                            borderRadius: 5,\r\n                            marginTop: 10,\r\n                        }}\r\n                    >\r\n                        <View style={{ flex: 1, padding: 2 }}>\r\n                            <Text style={{ color: 'white', }} bold>Port Name</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, padding: 2 }}>\r\n                            <Text style={{ color: 'white', }} bold>Country</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, padding: 2 }}>\r\n                            <Text style={{ color: 'white', }} bold>Sort Order</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, padding: 2 }}>\r\n                            <Text style={{ color: 'white', }} bold>Price (USD)</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, padding: 2 }}>\r\n                            <Text style={{ color: 'white', }} bold>Nagoya</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, padding: 2 }}>\r\n                            <Text style={{ color: 'white', }} bold>Yokohama</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, padding: 2 }}>\r\n                            <Text style={{ color: 'white', }} bold>Kyushu</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, padding: 2 }}>\r\n                            <Text style={{ color: 'white', }} bold>Kobe</Text>\r\n                        </View>\r\n\r\n                        <View style={{ flex: 1, padding: 2, flexDirection: 'row' }}>\r\n                            <SortAndAddModal\r\n                                collectionName='CustomerCountryPort'\r\n                                docName='MethodDoc'\r\n                                handleAddTextChange={handleAddMethodTextChange}\r\n                                textAreaAdd={textAreaAddMethod}\r\n                                title='Method'\r\n                                dataName={'methodData'}\r\n                                databaseInit={projectExtensionFirestore}\r\n                                headerText=\"Rearrange/Add Method\"\r\n                                data={methodData}\r\n                            />\r\n                            <Text style={{ color: 'white', }} bold>Method</Text>\r\n                        </View>\r\n                        <View style={{ flex: 2, padding: 2, justifyContent: 'center', alignItems: 'center', }}>\r\n                            <Text style={{ color: 'white', }} bold>Memo</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, padding: 2, justifyContent: 'center', alignItems: 'center', }}>\r\n                            <Text style={{ color: 'white', }} bold>Operate</Text>\r\n                        </View>\r\n\r\n\r\n                    </View>\r\n                    <DataTable margin={[0, 0, 0, 1, 1, 1]}>\r\n                        {paginatedData.map((item, index) => (\r\n                            <View\r\n                                key={index}\r\n                                style={{\r\n                                    flex: 1,\r\n                                    flexDirection: 'row',\r\n                                    justifyContent: 'space-between',\r\n                                    alignItems: 'center',\r\n                                    borderBottomWidth: 1,\r\n                                    borderBottomColor: '#E4E4E7',\r\n                                    backgroundColor: '#BFDBFE',\r\n                                    paddingVertical: 10,\r\n                                }}>\r\n                                <Text style={{ flex: 1, marginHorizontal: 3 }} selectable>{item.ports}</Text>\r\n                                <Text style={{ flex: 1, marginHorizontal: 3, alignSelf: 'center' }} selectable>{item.country}</Text>\r\n                                <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                    {/* <Text style={{ marginHorizontal: 3, alignSelf: 'center', }} bold>{item.sortOrder ? item.sortOrder : 0}</Text> */}\r\n                                    <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, borderLeftColor: '#E4E4E7', }}>\r\n                                        <TextInput\r\n                                            onChangeText={(text) => handleSortOrderTextChange(text, item)}\r\n                                            onSubmitEditing={() => updatePortsField(item.ports, inputSortOrder.current[item.ports].value, inputSortOrder, 'Sort Order', 'sortOrder')}\r\n                                            ref={(ref) => (inputSortOrder.current[item.ports] = ref)}\r\n                                            style={{ outlineStyle: 'none', padding: 5, width: '90%', backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5 }}\r\n                                        />\r\n                                        <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                            <TouchableHighlight\r\n                                                onPress={() => updatePortsField(item.ports, inputSortOrder.current[item.ports].value, inputSortOrder, 'Sort Order', 'sortOrder')}\r\n                                                underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                                style={{\r\n                                                    backgroundColor: '#16A34A',\r\n                                                    borderRadius: 5,\r\n                                                    padding: 5,\r\n                                                    margin: 2,\r\n                                                    alignSelf: 'center',\r\n                                                }}>\r\n                                                <MaterialIcons name='update' color='white' size={22} />\r\n                                            </TouchableHighlight>\r\n                                        </View>\r\n                                    </View>\r\n                                </View>\r\n\r\n                                <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                    {/* <Text style={{ marginHorizontal: 3, alignSelf: 'center', }} bold>{item.profitPrice ? item.profitPrice : 0}</Text> */}\r\n                                    <TextInput\r\n                                        onChangeText={(text) => handleProfitPriceTextChange(text, item)}\r\n                                        onSubmitEditing={() => updatePortsField(item.ports, inputProfitPrice.current[item.ports].value, inputProfitPrice, 'Profit Price', 'profitPrice')}\r\n                                        ref={(ref) => (inputProfitPrice.current[item.ports] = ref)}\r\n                                        style={{ outlineStyle: 'none', padding: 5, width: '90%', backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, borderLeftColor: '#E4E4E7', borderLeftWidth: 1, }}\r\n                                    />\r\n                                    <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                        <TouchableHighlight\r\n                                            onPress={() => updatePortsField(item.ports, inputProfitPrice.current[item.ports].value, inputProfitPrice, 'Profit Price', 'profitPrice')}\r\n                                            underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                            style={{\r\n                                                backgroundColor: '#16A34A',\r\n                                                borderRadius: 5,\r\n                                                padding: 5,\r\n                                                margin: 2,\r\n                                                alignSelf: 'center',\r\n                                            }}>\r\n                                            <MaterialIcons name='update' color='white' size={22} />\r\n                                        </TouchableHighlight>\r\n                                    </View>\r\n                                </View>\r\n\r\n                                <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                    {/* <Text style={{ marginHorizontal: 3, alignSelf: 'center', }} bold>{item.nagoyaPrice ? item.nagoyaPrice : 0}</Text> */}\r\n                                    <TextInput\r\n                                        onSubmitEditing={() => updatePortsField(item.ports, inputNagoyaPrice.current[item.ports].value, inputNagoyaPrice, 'Nagoya Price', 'nagoyaPrice')}\r\n                                        ref={(ref) => (inputNagoyaPrice.current[item.ports] = ref)}\r\n                                        style={{ outlineStyle: 'none', padding: 5, width: '90%', backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, borderLeftColor: '#E4E4E7', borderLeftWidth: 1, }}\r\n                                    />\r\n                                    <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                        <TouchableHighlight\r\n                                            onPress={() => updatePortsField(item.ports, inputNagoyaPrice.current[item.ports].value, inputNagoyaPrice, 'Nagoya Price', 'nagoyaPrice')}\r\n                                            underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                            style={{\r\n                                                backgroundColor: '#16A34A',\r\n                                                borderRadius: 5,\r\n                                                padding: 5,\r\n                                                margin: 2,\r\n                                                alignSelf: 'center',\r\n                                            }}>\r\n                                            <MaterialIcons name='update' color='white' size={22} />\r\n                                        </TouchableHighlight>\r\n                                    </View>\r\n                                </View>\r\n\r\n                                <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                    {/* <Text style={{ marginHorizontal: 3, alignSelf: 'center', }} bold>{item.yokohamaPrice ? item.yokohamaPrice : 0}</Text> */}\r\n                                    <TextInput\r\n                                        onSubmitEditing={() => updatePortsField(item.ports, inputYokohamaPrice.current[item.ports].value, inputYokohamaPrice, 'Yokohama Price', 'yokohamaPrice')}\r\n                                        ref={(ref) => (inputYokohamaPrice.current[item.ports] = ref)}\r\n                                        style={{ outlineStyle: 'none', padding: 5, width: '90%', backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, borderLeftColor: '#E4E4E7', borderLeftWidth: 1, }}\r\n                                    />\r\n                                    <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                        <TouchableHighlight\r\n                                            onPress={() => updatePortsField(item.ports, inputYokohamaPrice.current[item.ports].value, inputYokohamaPrice, 'Yokohama Price', 'yokohamaPrice')}\r\n                                            underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                            style={{\r\n                                                backgroundColor: '#16A34A',\r\n                                                borderRadius: 5,\r\n                                                padding: 5,\r\n                                                margin: 2,\r\n                                                alignSelf: 'center',\r\n                                            }}>\r\n                                            <MaterialIcons name='update' color='white' size={22} />\r\n                                        </TouchableHighlight>\r\n                                    </View>\r\n                                </View>\r\n\r\n                                <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                    {/* <Text style={{ marginHorizontal: 3, alignSelf: 'center', }} bold>{item.kyushuPrice ? item.kyushuPrice : 0}</Text> */}\r\n                                    <TextInput\r\n                                        onSubmitEditing={() => updatePortsField(item.ports, inputKyushuPrice.current[item.ports].value, inputKyushuPrice, 'Kyushu Price', 'kyushuPrice')}\r\n                                        ref={(ref) => (inputKyushuPrice.current[item.ports] = ref)}\r\n                                        style={{ outlineStyle: 'none', padding: 5, width: '90%', backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, borderLeftColor: '#E4E4E7', borderLeftWidth: 1, }}\r\n                                    />\r\n                                    <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                        <TouchableHighlight\r\n                                            onPress={() => updatePortsField(item.ports, inputKyushuPrice.current[item.ports].value, inputKyushuPrice, 'Kyushu Price', 'kyushuPrice')}\r\n                                            underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                            style={{\r\n                                                backgroundColor: '#16A34A',\r\n                                                borderRadius: 5,\r\n                                                padding: 5,\r\n                                                margin: 2,\r\n                                                alignSelf: 'center',\r\n                                            }}>\r\n                                            <MaterialIcons name='update' color='white' size={22} />\r\n                                        </TouchableHighlight>\r\n                                    </View>\r\n                                </View>\r\n\r\n                                <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                    {/* <Text style={{ marginHorizontal: 3, alignSelf: 'center', }} bold>{item.kobePrice ? item.kobePrice : 0}</Text> */}\r\n                                    <TextInput\r\n                                        onSubmitEditing={() => updatePortsField(item.ports, inputKobePrice.current[item.ports].value, inputKobePrice, 'Kobe Price', 'kobePrice')}\r\n                                        ref={(ref) => (inputKobePrice.current[item.ports] = ref)}\r\n                                        style={{ outlineStyle: 'none', padding: 5, width: '90%', backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, borderLeftColor: '#E4E4E7', borderLeftWidth: 1, }}\r\n                                    />\r\n                                    <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                        <TouchableHighlight\r\n                                            onPress={() => updatePortsField(item.ports, inputKobePrice.current[item.ports].value, inputKobePrice, 'Kobe Price', 'kobePrice')}\r\n                                            underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                            style={{\r\n                                                backgroundColor: '#16A34A',\r\n                                                borderRadius: 5,\r\n                                                padding: 5,\r\n                                                margin: 2,\r\n                                                alignSelf: 'center',\r\n                                            }}>\r\n                                            <MaterialIcons name='update' color='white' size={22} />\r\n                                        </TouchableHighlight>\r\n                                    </View>\r\n                                </View>\r\n\r\n                                <View style={{ flex: screenWidth < 1800 ? 2 : 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                    <SelectMethod defaultValue={item.method} portCode={item.ports} page={page} searchQuery={searchQuery} />\r\n                                </View>\r\n\r\n                                <View style={{ flex: 2, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, }}>\r\n                                    <TextInput\r\n                                        multiline\r\n                                        // value={inputMemoValues[item.ports] || ''}\r\n                                        // onChangeText={(text) => handleMemoTextChange(text, item.ports)}\r\n                                        ref={(ref) => (inputMemo.current[item.ports] = ref)}\r\n                                        style={{ outlineStyle: 'none', flex: 2, height: 60, paddingLeft: 5, backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, }}\r\n                                    />\r\n                                    <View style={{ borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                        <TouchableHighlight\r\n                                            onPress={() => updatePortsField(item.ports, inputMemo.current[item.ports].value, inputMemo, 'Memo', 'memo')}\r\n                                            underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                            style={{\r\n                                                backgroundColor: '#16A34A',\r\n                                                borderRadius: 5,\r\n                                                padding: 5,\r\n                                                alignSelf: 'center',\r\n                                                height: '100%',\r\n                                                justifyContent: 'center',\r\n                                                alignItems: 'center',\r\n                                            }}>\r\n                                            <MaterialIcons name='update' color='white' size={22} />\r\n                                        </TouchableHighlight>\r\n                                    </View>\r\n                                </View>\r\n\r\n                                <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, justifyContent: 'center', alignItems: 'center', }}>\r\n\r\n                                    <View style={{ borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                        <TouchableHighlight\r\n                                            onPress={() => handleDeletePortModalOpen(item.ports)}\r\n                                            underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                            style={{\r\n                                                backgroundColor: '#DC2626',\r\n                                                borderRadius: 5,\r\n                                                padding: 10,\r\n                                                alignSelf: 'center',\r\n                                                height: '100%',\r\n                                                justifyContent: 'center',\r\n                                                alignItems: 'center',\r\n                                            }}>\r\n                                            <AntDesign name='delete' color='white' size={22} />\r\n                                        </TouchableHighlight>\r\n                                    </View>\r\n                                </View>\r\n                                {/* <Text style={{ flex: 1, marginHorizontal: 5 }}>{item.inspectionIsRequired}</Text> */}\r\n\r\n                                {/* You can add the mapping for nearestPorts here, assuming nearestPorts is an array */}\r\n                                {/* {item.nearestPorts && item.nearestPorts.map((port, portIndex) => (\r\n            <Text key={portIndex}>Nearest Port: {port}</Text>\r\n          ))} */}\r\n                            </View>\r\n                        ))}\r\n                        <DataTable.Pagination\r\n                            page={page}\r\n                            numberOfPages={Math.ceil(filtered.length / itemsPerPage)}\r\n                            onPageChange={(page) => setPage(page)}\r\n                            label={`${startIndex + 1}-${endIndex} of ${filtered.length}`}\r\n                            optionsPerPage={optionsPerPage}\r\n                            itemsPerPage={itemsPerPage}\r\n                            setItemsPerPage={setItemsPerPage}\r\n                            showFastPagination\r\n                            optionsLabel={'Rows per page'}\r\n                        />\r\n                    </DataTable>\r\n                    <AddPortModal handleAddPortModalClose={handleAddPortModalClose} />\r\n                    <DeletePortModal handleDeletePortModalClose={handleDeletePortModalClose} />\r\n                </View>) :\r\n                (\r\n                    //Ports Table Mobile View\r\n                    <View style={{ flex: 1, }}>\r\n                        {/* Search Bar */}\r\n                        <View style={{ padding: 10 }}>\r\n                            <TextInput\r\n                                ref={inputSearchRef}\r\n                                onSubmitEditing={handleSearch}\r\n                                style={{ outlineStyle: 'none', padding: 10, backgroundColor: 'white', borderRadius: 5, placeholderTextColor: '#ACADA3' }}\r\n                                placeholder='Search'\r\n                                returnKeyType='search'\r\n                                autoCapitalize='none'\r\n                            />\r\n                        </View>\r\n\r\n                        {/* Add Port Button */}\r\n                        <View style={{ paddingHorizontal: 10, paddingTop: 0, paddingBottom: 0, alignItems: 'flex-start' }}>\r\n                            <TouchableOpacity\r\n                                onPress={handleAddPortModalOpen}\r\n                                style={{\r\n                                    borderRadius: 5,\r\n                                    padding: 10,\r\n                                    borderWidth: 1,\r\n                                    borderColor: 'white',\r\n                                    backgroundColor: '#16A34A',\r\n                                    flexDirection: 'row',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center',\r\n                                }}\r\n                            >\r\n                                <MaterialIcons name=\"add\" size={20} color={'white'} />\r\n                                <Text style={{ color: 'white', fontWeight: 'bold', marginLeft: 5 }}>Add Port</Text>\r\n                            </TouchableOpacity>\r\n                        </View>\r\n\r\n                        <DataTable margin={[0, 0, 0, 1, 1, 1]}>\r\n                            {paginatedData.map((item, index) => (\r\n                                <View\r\n                                    key={index}\r\n                                    style={{\r\n                                        flex: 1,\r\n                                        flexDirection: 'column',\r\n                                        borderWidth: 1,\r\n                                        borderColor: '#E4E4E7',\r\n                                        backgroundColor: '#BFDBFE',\r\n                                        margin: 10,\r\n                                    }}>\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Port Name</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            <Text style={{ flex: 1, marginHorizontal: 3 }} selectable>{item.ports}</Text>\r\n                                        </View>\r\n                                    </View>\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Country</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n\r\n                                            <Text style={{ flex: 1, marginHorizontal: 3, }} selectable>{item.country}</Text>\r\n                                        </View>\r\n                                    </View>\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Sort Order</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n\r\n                                            <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                                {/* <Text style={{ marginHorizontal: 3, alignSelf: 'center', }} bold>{item.sortOrder ? item.sortOrder : 0}</Text> */}\r\n                                                <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, borderLeftColor: '#E4E4E7', }}>\r\n                                                    <TextInput\r\n                                                        onChangeText={(text) => handleSortOrderTextChange(text, item)}\r\n                                                        onSubmitEditing={() => updatePortsField(item.ports, inputSortOrder.current[item.ports].value, inputSortOrder, 'Sort Order', 'sortOrder')}\r\n                                                        ref={(ref) => (inputSortOrder.current[item.ports] = ref)}\r\n                                                        style={{ outlineStyle: 'none', padding: 5, width: '90%', backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5 }}\r\n                                                    />\r\n                                                    <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                                        <TouchableHighlight\r\n                                                            onPress={() => updatePortsField(item.ports, inputSortOrder.current[item.ports].value, inputSortOrder, 'Sort Order', 'sortOrder')}\r\n                                                            underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                                            style={{\r\n                                                                backgroundColor: '#16A34A',\r\n                                                                borderRadius: 5,\r\n                                                                padding: 5,\r\n                                                                margin: 2,\r\n                                                                alignSelf: 'center',\r\n                                                            }}>\r\n                                                            <MaterialIcons name='update' color='white' size={22} />\r\n                                                        </TouchableHighlight>\r\n                                                    </View>\r\n                                                </View>\r\n                                            </View>\r\n                                        </View>\r\n                                    </View>\r\n\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Price (USD)</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                                {/* <Text style={{ marginHorizontal: 3, alignSelf: 'center', }} bold>{item.profitPrice ? item.profitPrice : 0}</Text> */}\r\n                                                <TextInput\r\n                                                    onChangeText={(text) => handleProfitPriceTextChange(text, item)}\r\n                                                    onSubmitEditing={() => updatePortsField(item.ports, inputProfitPrice.current[item.ports].value, inputProfitPrice, 'Profit Price', 'profitPrice')}\r\n                                                    ref={(ref) => (inputProfitPrice.current[item.ports] = ref)}\r\n                                                    style={{ outlineStyle: 'none', padding: 5, width: '90%', backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, borderLeftColor: '#E4E4E7', borderLeftWidth: 1, }}\r\n                                                />\r\n                                                <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                                    <TouchableHighlight\r\n                                                        onPress={() => updatePortsField(item.ports, inputProfitPrice.current[item.ports].value, inputProfitPrice, 'Profit Price', 'profitPrice')}\r\n                                                        underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                                        style={{\r\n                                                            backgroundColor: '#16A34A',\r\n                                                            borderRadius: 5,\r\n                                                            padding: 5,\r\n                                                            margin: 2,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                        <MaterialIcons name='update' color='white' size={22} />\r\n                                                    </TouchableHighlight>\r\n                                                </View>\r\n                                            </View>\r\n                                        </View>\r\n                                    </View>\r\n\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Nagoya</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                                {/* <Text style={{ marginHorizontal: 3, alignSelf: 'center', }} bold>{item.nagoyaPrice ? item.nagoyaPrice : 0}</Text> */}\r\n                                                <TextInput\r\n                                                    onSubmitEditing={() => updatePortsField(item.ports, inputNagoyaPrice.current[item.ports].value, inputNagoyaPrice, 'Nagoya Price', 'nagoyaPrice')}\r\n                                                    ref={(ref) => (inputNagoyaPrice.current[item.ports] = ref)}\r\n                                                    style={{ outlineStyle: 'none', padding: 5, width: '90%', backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, borderLeftColor: '#E4E4E7', borderLeftWidth: 1, }}\r\n                                                />\r\n                                                <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                                    <TouchableHighlight\r\n                                                        onPress={() => updatePortsField(item.ports, inputNagoyaPrice.current[item.ports].value, inputNagoyaPrice, 'Nagoya Price', 'nagoyaPrice')}\r\n                                                        underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                                        style={{\r\n                                                            backgroundColor: '#16A34A',\r\n                                                            borderRadius: 5,\r\n                                                            padding: 5,\r\n                                                            margin: 2,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                        <MaterialIcons name='update' color='white' size={22} />\r\n                                                    </TouchableHighlight>\r\n                                                </View>\r\n                                            </View>\r\n                                        </View>\r\n                                    </View>\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Yokohama</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                                {/* <Text style={{ marginHorizontal: 3, alignSelf: 'center', }} bold>{item.yokohamaPrice ? item.yokohamaPrice : 0}</Text> */}\r\n                                                <TextInput\r\n                                                    onSubmitEditing={() => updatePortsField(item.ports, inputYokohamaPrice.current[item.ports].value, inputYokohamaPrice, 'Yokohama Price', 'yokohamaPrice')}\r\n                                                    ref={(ref) => (inputYokohamaPrice.current[item.ports] = ref)}\r\n                                                    style={{ outlineStyle: 'none', padding: 5, width: '90%', backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, borderLeftColor: '#E4E4E7', borderLeftWidth: 1, }}\r\n                                                />\r\n                                                <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                                    <TouchableHighlight\r\n                                                        onPress={() => updatePortsField(item.ports, inputYokohamaPrice.current[item.ports].value, inputYokohamaPrice, 'Yokohama Price', 'yokohamaPrice')}\r\n                                                        underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                                        style={{\r\n                                                            backgroundColor: '#16A34A',\r\n                                                            borderRadius: 5,\r\n                                                            padding: 5,\r\n                                                            margin: 2,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                        <MaterialIcons name='update' color='white' size={22} />\r\n                                                    </TouchableHighlight>\r\n                                                </View>\r\n                                            </View>\r\n                                        </View>\r\n                                    </View>\r\n\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Kyushu</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                                {/* <Text style={{ marginHorizontal: 3, alignSelf: 'center', }} bold>{item.kyushuPrice ? item.kyushuPrice : 0}</Text> */}\r\n                                                <TextInput\r\n                                                    onSubmitEditing={() => updatePortsField(item.ports, inputKyushuPrice.current[item.ports].value, inputKyushuPrice, 'Kyushu Price', 'kyushuPrice')}\r\n                                                    ref={(ref) => (inputKyushuPrice.current[item.ports] = ref)}\r\n                                                    style={{ outlineStyle: 'none', padding: 5, width: '90%', backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, borderLeftColor: '#E4E4E7', borderLeftWidth: 1, }}\r\n                                                />\r\n                                                <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                                    <TouchableHighlight\r\n                                                        onPress={() => updatePortsField(item.ports, inputKyushuPrice.current[item.ports].value, inputKyushuPrice, 'Kyushu Price', 'kyushuPrice')}\r\n                                                        underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                                        style={{\r\n                                                            backgroundColor: '#16A34A',\r\n                                                            borderRadius: 5,\r\n                                                            padding: 5,\r\n                                                            margin: 2,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                        <MaterialIcons name='update' color='white' size={22} />\r\n                                                    </TouchableHighlight>\r\n                                                </View>\r\n                                            </View>\r\n                                        </View>\r\n                                    </View>\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Kobe</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                                {/* <Text style={{ marginHorizontal: 3, alignSelf: 'center', }} bold>{item.kobePrice ? item.kobePrice : 0}</Text> */}\r\n                                                <TextInput\r\n                                                    onSubmitEditing={() => updatePortsField(item.ports, inputKobePrice.current[item.ports].value, inputKobePrice, 'Kobe Price', 'kobePrice')}\r\n                                                    ref={(ref) => (inputKobePrice.current[item.ports] = ref)}\r\n                                                    style={{ outlineStyle: 'none', padding: 5, width: '90%', backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, borderLeftColor: '#E4E4E7', borderLeftWidth: 1, }}\r\n                                                />\r\n                                                <View style={{ backgroundColor: 'white', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                                    <TouchableHighlight\r\n                                                        onPress={() => updatePortsField(item.ports, inputKobePrice.current[item.ports].value, inputKobePrice, 'Kobe Price', 'kobePrice')}\r\n                                                        underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                                        style={{\r\n                                                            backgroundColor: '#16A34A',\r\n                                                            borderRadius: 5,\r\n                                                            padding: 5,\r\n                                                            margin: 2,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                        <MaterialIcons name='update' color='white' size={22} />\r\n                                                    </TouchableHighlight>\r\n                                                </View>\r\n                                            </View>\r\n                                        </View>\r\n                                    </View>\r\n\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Method</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n\r\n\r\n                                            <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, backgroundColor: 'white' }}>\r\n                                                <SelectMethod defaultValue={item.method} portCode={item.ports} page={page} searchQuery={searchQuery} />\r\n                                            </View>\r\n                                        </View>\r\n                                    </View>\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Memo</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            <View style={{ flex: 2, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, }}>\r\n                                                <TextInput\r\n                                                    multiline\r\n                                                    // value={inputMemoValues[item.ports] || ''}\r\n                                                    // onChangeText={(text) => handleMemoTextChange(text, item.ports)}\r\n                                                    ref={(ref) => (inputMemo.current[item.ports] = ref)}\r\n                                                    style={{ outlineStyle: 'none', flex: 2, height: 60, paddingLeft: 5, backgroundColor: 'white', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, }}\r\n                                                />\r\n                                                <View style={{ borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                                    <TouchableHighlight\r\n                                                        onPress={() => updatePortsField(item.ports, inputMemo.current[item.ports].value, inputMemo, 'Memo', 'memo')}\r\n                                                        underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                                        style={{\r\n                                                            backgroundColor: '#16A34A',\r\n                                                            borderRadius: 5,\r\n                                                            padding: 5,\r\n                                                            alignSelf: 'center',\r\n                                                            height: '100%',\r\n                                                            justifyContent: 'center',\r\n                                                            alignItems: 'center',\r\n                                                        }}>\r\n                                                        <MaterialIcons name='update' color='white' size={22} />\r\n                                                    </TouchableHighlight>\r\n                                                </View>\r\n                                            </View>\r\n                                        </View>\r\n                                    </View>\r\n\r\n                                    <View style={{ flexDirection: 'row' }}>\r\n                                        <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                                            <Text style={{ color: 'white', }} bold>Operate</Text>\r\n                                        </View>\r\n                                        <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                                            <View style={{ flex: 1, flexDirection: 'row', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, marginHorizontal: 3, justifyContent: 'center', alignItems: 'center', }}>\r\n                                                <View style={{ width: '100%', borderTopRightRadius: 5, borderBottomRightRadius: 5, }}>\r\n                                                    <TouchableHighlight\r\n                                                        onPress={() => handleDeletePortModalOpen(item.ports)}\r\n                                                        underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                                                        style={{ flex: 1, backgroundColor: '#DC2626', padding: 5, borderRadius: 5, flexDirection: 'row', justifyContent: 'center', alignItems: 'center', margin: 6, }}>\r\n                                                        <AntDesign name='delete' color='white' size={22} />\r\n                                                    </TouchableHighlight>\r\n                                                </View>\r\n                                            </View>\r\n                                        </View>\r\n                                    </View>\r\n\r\n\r\n                                    {/* <Text style={{ flex: 1, marginHorizontal: 5 }}>{item.inspectionIsRequired}</Text> */}\r\n\r\n                                    {/* You can add the mapping for nearestPorts here, assuming nearestPorts is an array */}\r\n                                    {/* {item.nearestPorts && item.nearestPorts.map((port, portIndex) => (\r\n            <Text key={portIndex}>Nearest Port: {port}</Text>\r\n          ))} */}\r\n                                </View>\r\n                            ))}\r\n                            <DataTable.Pagination\r\n                                page={page}\r\n                                numberOfPages={Math.ceil(filtered.length / itemsPerPage)}\r\n                                onPageChange={(page) => setPage(page)}\r\n                                label={`${startIndex + 1}-${endIndex} of ${filtered.length}`}\r\n                                optionsPerPage={optionsPerPage}\r\n                                itemsPerPage={itemsPerPage}\r\n                                setItemsPerPage={setItemsPerPage}\r\n                                showFastPagination\r\n                                optionsLabel={'Rows per page'}\r\n                            />\r\n                        </DataTable>\r\n                        <AddPortModal handleAddPortModalClose={handleAddPortModalClose} />\r\n                        <DeletePortModal handleDeletePortModalClose={handleDeletePortModalClose} />\r\n                    </View>\r\n                )}\r\n        </>\r\n\r\n\r\n\r\n    );\r\n}\r\n\r\n\r\n\r\n\r\nexport default function Freight() {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const logo = require('../../assets/C-Hub.png');\r\n    const logo2 = require('../../assets/C-Hub Logo Only.png');\r\n    const [isMobileView, setIsMobileView] = useState(false);\r\n    const [isDrawerOpen, setIsDrawerOpen] = useState(false);\r\n    // const navigation = useNavigation();\r\n    const navigate = useNavigate();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const [typeOfAccount, setTypeOfAccount] = useState('');\r\n\r\n\r\n    const loginName = useSelector((state) => state.loginName);\r\n    nameVariable.text = loginName;\r\n    const [name, setName] = useState(loginName);\r\n    const [time, setTime] = useState('');\r\n\r\n    const [selectedImages, setSelectedImages] = useState([]);\r\n\r\n    const [widthState, setWidthState] = useState(Dimensions.get('window').width);\r\n\r\n\r\n\r\n\r\n    const screenWidth = Dimensions.get('window').width;\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(setSelectedButton(defaultSelectedButton));\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = projectControlAuth.onAuthStateChanged(user => {\r\n            if (!user) {\r\n                // navigation.navigate(\"Login\")\r\n                navigate(\"/Login\");\r\n            }\r\n        })\r\n        return unsubscribe\r\n    }, [])\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const handleDocumentChange = (snapshot) => {\r\n        if (snapshot.exists()) {\r\n            const data = snapshot.data();\r\n            const isActive = data.active;\r\n\r\n            if (!isActive) {\r\n                signOut(projectControlAuth)\r\n                    .then(() => {\r\n                        // navigation.navigate('Login');\r\n                        navigate(\"/Login\");\r\n\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error('Error signing out:', error);\r\n                    });\r\n            }\r\n        } else {\r\n            signOut(projectControlAuth)\r\n                .then(() => {\r\n                    // navigation.navigate('Login');\r\n                    navigate(\"/Login\");\r\n\r\n                })\r\n                .catch((error) => {\r\n                    console.error('Error signing out:', error);\r\n                });\r\n        }\r\n    };\r\n\r\n    const subscribeToFieldChange = () => {\r\n        const userId = projectControlAuth.currentUser?.email;\r\n        if (userId) {\r\n            const userRef = doc(firestore, 'accounts', userId);\r\n            const unsubscribe = onSnapshot(userRef, handleDocumentChange);\r\n            return unsubscribe;\r\n        } else {\r\n            // Return a no-op function if there's no user\r\n            return () => {\r\n                navigate(\"/login\")\r\n            };\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = subscribeToFieldChange();\r\n\r\n        return () => {\r\n            // This will now always be a function\r\n            unsubscribe();\r\n        };\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        const currentUserEmail = getEmailOfCurrentUser();\r\n        if (currentUserEmail) {\r\n            getFieldValueByEmail(currentUserEmail);\r\n            setEmail(currentUserEmail)\r\n            const documentId = currentUserEmail;\r\n            listenForNameChange(documentId);\r\n        }\r\n    }, []);\r\n\r\n\r\n    const listenForNameChange = (documentId) => {\r\n\r\n\r\n        // To stop listening for updates, you can call unsubscribe()\r\n        // unsubscribe();\r\n    };\r\n\r\n\r\n\r\n    const getFieldValueByEmail = async (email) => {\r\n        try {\r\n            const accountDocRef = doc(firestore, 'accounts', email);\r\n            const accountDocSnapshot = await getDoc(accountDocRef);\r\n\r\n            if (accountDocSnapshot.exists()) {\r\n                const data = accountDocSnapshot.data();\r\n                const fieldType = data.type;\r\n                const fieldName = data.name;\r\n                dispatch(setLoginName(data.name));\r\n\r\n            } else {\r\n                console.log('Document does not exist');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching field value:', error);\r\n        }\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const handleSignOut = () => {\r\n\r\n        signOut(projectControlAuth).then(() => {\r\n            // navigation.navigate('Login');\r\n            navigate(\"/Login\");\r\n\r\n            setEmail('');\r\n            setName('');\r\n        }).catch(() => {\r\n            // An error happened.\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    // const showDrawerIcon = useBreakpointValue([true, true, true, false]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const NamePopover = ({ name, handleSignOut }) => {\r\n        const [showNamePopover, setShowNamePopover] = useState(false);\r\n\r\n        const showPopover = () => {\r\n            setShowNamePopover(!showNamePopover);\r\n        };\r\n\r\n        return (\r\n            <Box w={[100, 200, 1020]} h={[10, 10, 10]} flex={1}>\r\n                <Flex direction=\"row-reverse\">\r\n                    <Popover\r\n                        isOpen={showNamePopover}\r\n                        trigger={(triggerProps) => (\r\n                            <Text color=\"white\" marginTop={[2, 2, 2]} fontSize={[17, 18, 20]} marginRight={[1, 3, 5]} {...triggerProps} onPress={showPopover}>\r\n                                <MaterialCommunityIcons name=\"account\" size={[20, 25, 30]} color=\"white\" /> {name} <Ionicons name=\"caret-down\" size={16} color=\"white\" />\r\n                            </Text>\r\n                        )}\r\n                        onClose={() => setShowNamePopover(!showNamePopover)}\r\n                        placement='bottom right'\r\n                        trapFocus={false}\r\n                    >\r\n                        <Popover.Content backgroundColor={'#7B9CFF'}>\r\n                            {/* <Popover.Arrow bgColor={'#7B9CFF'} /> */}\r\n                            <Popover.Body backgroundColor={'#7B9CFF'}>\r\n                                <Button _hover={{ bgColor: 'blueGray.500' }} onPress={handleSignOut} leftIcon={<MaterialCommunityIcons name=\"logout\" size={20} color=\"white\" />} bgColor={'transparent'}>\r\n                                    Logout\r\n                                </Button>\r\n                            </Popover.Body>\r\n                        </Popover.Content>\r\n                    </Popover>\r\n                </Flex>\r\n            </Box>\r\n        );\r\n    };\r\n\r\n    const styles = StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n        },\r\n        image: {\r\n            flex: 1,\r\n        },\r\n    });\r\n\r\n    return (\r\n        <NativeBaseProvider>\r\n            <View style={{ backgroundColor: \"#A6BCFE\", height: '100%', width: '100%', flexDirection: 'column', }} bgColor=\"#A6BCFE\" h=\"100vh\" w=\"full\" flexDirection=\"column\">\r\n                {/* Header */}\r\n                <Box\r\n                    px=\"3\"\r\n                    bgColor='#7b9cff'\r\n                    height={54}\r\n                    position=\"sticky\"\r\n                    top={0}\r\n                    zIndex={999}\r\n                    flexDirection=\"row\"\r\n                    alignItems=\"center\"\r\n                    borderBottomWidth={2}\r\n                    borderBottomColor={'cyan.500'}\r\n                >\r\n\r\n                    <SideDrawer\r\n                        selectedScreen={selectedScreen} />\r\n\r\n                    <Box w={screenWidth <= 960 ? 0 : 850} h={[10, 10, 10, 10]} marginBottom={1.5} marginTop={1.5} paddingLeft={5}>\r\n\r\n                        <FastImage\r\n                            source={{\r\n                                uri: 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20FULL.png?alt=media&token=79ed34a5-f960-4154-b4e8-897b0f3248d4',\r\n                                priority: FastImage.priority.high,\r\n                            }}\r\n                            resizeMode={FastImage.resizeMode.stretch}\r\n                            style={styles.image} />\r\n                    </Box>\r\n\r\n                    {screenWidth <= 960 && <MobileViewDrawer\r\n                        selectedScreen={selectedScreen} />}\r\n\r\n\r\n                    <Box w={screenWidth <= 960 ? 120 : 0} h={screenWidth <= 960 ? 6 : 10} marginBottom={1.5} marginTop={1.5} marginLeft={[3, 3, 3, 10]}>\r\n\r\n                        <FastImage\r\n                            source={{\r\n                                uri: 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20HALF.png?alt=media&token=7ce6aef2-0527-40c7-b1ce-e47079e144df',\r\n                                priority: FastImage.priority.high,\r\n                            }}\r\n                            resizeMode={FastImage.resizeMode.stretch}\r\n                            style={styles.image} />\r\n                    </Box>\r\n                    <NamePopover name={name} handleSignOut={handleSignOut} />\r\n\r\n\r\n                </Box>\r\n\r\n                {/* Content */}\r\n                <View style={{ flex: 1, flexDirection: 'row' }} flex={[1]} flexDirection=\"row\">\r\n\r\n\r\n                    {/* Main Content */}\r\n                    {/* <Box flex={1} flexGrow={1} minHeight={0}> */}\r\n                    {/* Main Content Content */}\r\n\r\n\r\n                    {/* <Box px=\"3\" bgColor=\"#A6BCFE\" height=\"full\" > */}\r\n                    <View style={{ flex: 1, backgroundColor: \"#A6BCFE\", height: '100%' }}>\r\n                        <ScrollView style={{ flex: 1, }} keyboardShouldPersistTaps='always'>\r\n                            <View style={{ flex: 1, }}>\r\n\r\n                                <FreightNavigation />\r\n                                <NavigatePage />\r\n                                {/* {selectedButton == 'countries' ? <CountriesTable /> : <></>}\r\n                                {selectedButton == 'ports' ? <PortsTable /> : <></>} */}\r\n                            </View>\r\n                        </ScrollView>\r\n                        {/* <SuccessModal /> */}\r\n\r\n                    </View>\r\n\r\n\r\n                    {/* </Box> */}\r\n\r\n                    {/* </Box> */}\r\n                </View>\r\n\r\n            </View>\r\n            <LoadingModal />\r\n\r\n        </NativeBaseProvider>\r\n    );\r\n}","import { useState } from \"react\";\r\nimport { View, Dimensions, StyleSheet, Image } from \"react-native\";\r\nimport { Box, Flex, Popover, Button, Text } from \"native-base\";\r\nimport FastImage from \"react-native-fast-image-web-support\";\r\nimport {\r\n  AntDesign,\r\n  FontAwesome,\r\n  Ionicons,\r\n  MaterialCommunityIcons,\r\n  MaterialIcons,\r\n  Entypo,\r\n  FontAwesome5,\r\n  EvilIcons\r\n} from 'react-native-vector-icons';\r\n\r\nimport MobileViewDrawer from \"../SideDrawer/MobileViewDrawer\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n\r\n\r\nconst NamePopover = ({ name, handleSignOut }) => {\r\n  const [showNamePopover, setShowNamePopover] = useState(false);\r\n\r\n  const showPopover = () => {\r\n    setShowNamePopover(!showNamePopover);\r\n  };\r\n\r\n  return (\r\n    <Box w={[100, 200, 1020]} h={[10, 10, 10]} flex={1}>\r\n      <Flex direction=\"row-reverse\">\r\n        <Popover\r\n          isOpen={showNamePopover}\r\n          trigger={(triggerProps) => (\r\n            <Text color=\"white\" marginTop={[2, 2, 2]} fontSize={[17, 18, 20]} marginRight={[1, 3, 5]} {...triggerProps} onPress={showPopover}>\r\n              <MaterialCommunityIcons name=\"account\" size={[20, 25, 30]} color=\"white\" /> {name} <Ionicons name=\"caret-down\" size={16} color=\"white\" />\r\n            </Text>\r\n          )}\r\n          onClose={() => setShowNamePopover(!showNamePopover)}\r\n          placement='bottom right'\r\n          trapFocus={false}\r\n        >\r\n          <Popover.Content backgroundColor={'#7B9CFF'}>\r\n            {/* <Popover.Arrow bgColor={'#7B9CFF'} /> */}\r\n            <Popover.Body backgroundColor={'#7B9CFF'}>\r\n              <Button _hover={{ bgColor: 'blueGray.500' }} onPress={handleSignOut} leftIcon={<MaterialCommunityIcons name=\"logout\" size={20} color=\"white\" />} bgColor={'transparent'}>\r\n                Logout\r\n              </Button>\r\n            </Popover.Body>\r\n          </Popover.Content>\r\n        </Popover>\r\n      </Flex>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst StickyHeader = ({ selectedScreen, handleSignOut }) => {\r\n  const loginName = useSelector((state) => state.loginName);\r\n\r\n  const screenWidth = Dimensions.get('window').width;\r\n  // const logo = require('https://i.imgur.com/V98nKSK.png');\r\n  // const logo2 = require('https://i.imgur.com/NGCIoSV.png');\r\n\r\n  const styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n    },\r\n    image: {\r\n      flex: 1,\r\n    },\r\n  });\r\n\r\n  return (\r\n\r\n    <Box\r\n      px=\"3\"\r\n      bgColor='#7b9cff'\r\n      height={54}\r\n      position=\"sticky\"\r\n      top={0}\r\n      zIndex={999}\r\n      flexDirection=\"row\"\r\n      alignItems=\"center\"\r\n      borderBottomWidth={2}\r\n      borderBottomColor={'cyan.500'} >\r\n\r\n      <Box w={[0, 0, 0, 850]} h={[10, 10, 10, 10]} marginBottom={1.5} marginTop={1.5}>\r\n        <Image\r\n          source={{ uri: 'https://i.imgur.com/V98nKSK.png' }}\r\n          style={styles.image}\r\n          resizeMode=\"stretch\"\r\n        />\r\n      </Box>\r\n\r\n      {screenWidth <= 960 && <MobileViewDrawer\r\n        selectedScreen={selectedScreen}\r\n      />}\r\n\r\n\r\n      <Box w={[150, 200, 250, 0]} h={[6, 8, 10, 10]} marginBottom={1.5} marginTop={1.5} marginLeft={[3, 3, 3, 10]}>\r\n      <Image\r\n          source={{ uri: 'https://i.imgur.com/NGCIoSV.png' }}\r\n          style={styles.image}\r\n          resizeMode=\"stretch\"\r\n        />\r\n      </Box>\r\n\r\n      <NamePopover name={loginName} handleSignOut={handleSignOut} />\r\n    </Box>\r\n\r\n  );\r\n}\r\n\r\nexport default StickyHeader;","import React, { useState, useEffect, useRef, useMemo, useCallback } from 'react';\r\nimport { View, TouchableOpacity, StyleSheet, Dimensions, TextInput, Keyboard } from 'react-native';\r\nimport {\r\n    Input,\r\n    Icon,\r\n    Stack,\r\n    Pressable,\r\n    Center,\r\n    PresenceTransition,\r\n    NativeBaseProvider,\r\n    Button,\r\n    Box,\r\n    HStack,\r\n    Image,\r\n    Container,\r\n    Header,\r\n    Left,\r\n    Body,\r\n    Title,\r\n    Content,\r\n    Text,\r\n    Heading,\r\n    Flex,\r\n    VStack,\r\n    ScrollView,\r\n    SectionList,\r\n    useBreakpointValue,\r\n    Spinner,\r\n    Modal,\r\n    Divider,\r\n    IconButton,\r\n    Popover\r\n} from \"native-base\";\r\nimport { DataTable } from 'react-native-paper';\r\nimport {\r\n    FontAwesome,\r\n    Entypo,\r\n    MaterialIcons,\r\n    Ionicons,\r\n    Fontisto,\r\n    EvilIcons,\r\n    AntDesign,\r\n    MaterialCommunityIcons,\r\n    Feather,\r\n    FontAwesome5Brands\r\n} from 'react-native-vector-icons';\r\nimport 'react-native-gesture-handler';\r\n// import { createDrawerNavigator } from '@react-navigation/drawer';\r\nimport { signOut, onAuthStateChanged, reload, getAuth, getIdTokenResult, createUserWithEmailAndPassword, fetchSignInMethodsForEmail } from 'firebase/auth';\r\nimport { authForCreateUser } from '../../firebasecontrolCreateUser';\r\nimport { app, db, getFirestore, collection, addDoc, doc, setDoc, auth, getDoc, onSnapshot, updateDoc, getDocs, orderBy, query, limit } from '../../firebasecontrol'\r\nimport { arrayUnion, where, startAfter, endBefore, limitToLast, collectionGroup } from 'firebase/firestore';\r\nimport { projectExtensionFirestore, projectControlFirestore } from '../../crossFirebase';\r\nimport { useNavigation } from '@react-navigation/core'\r\nimport './../style.css';\r\nimport { debounce, set, throttle } from 'lodash';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport { bg } from 'date-fns/locale';\r\nimport FastImage from 'react-native-fast-image-web-support';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setLoginName } from './redux/store';\r\nimport MobileViewDrawer from './SideDrawer/MobileViewDrawer';\r\nimport SideDrawer from './SideDrawer/SideDrawer';\r\nimport { LineChart, BarChart } from 'react-native-chart-kit';\r\nimport { VictoryBar, VictoryChart, VictoryAxis, VictoryTheme } from 'victory';\r\nimport {\r\n    OPEN_EXCHANGE_API_KEY\r\n} from '@env';\r\nconst { width, height } = Dimensions.get('window');\r\n\r\nconst firestore = getFirestore();\r\nconst getEmailOfCurrentUser = () => {\r\n    const user = auth.currentUser;\r\n    if (user) {\r\n        const email = user.email;\r\n        return email;\r\n    } else {\r\n        // console.log('No user is currently authenticated');\r\n        return null;\r\n    }\r\n};\r\n\r\n// const Drawer = createDrawerNavigator();\r\n\r\nimport {\r\n    setLogsData,\r\n    setLoadingModalVisible,\r\n} from './redux/store';\r\nimport { useNavigate } from 'react-router-dom';\r\nlet selectedScreen = 'LOGS'\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// const addKeywordsToLogs = async () =>{\r\n//     const logsRef = collection(projectControlFirestore, \"logs\");\r\n\r\n//     try {\r\n//       const querySnapshot = await getDocs(logsRef);\r\n\r\n//       querySnapshot.forEach((doc) => {\r\n//         const data = doc.data();\r\n//         const keywords = [\r\n//           data.timestamp,\r\n//           data.message,\r\n//         ];\r\n\r\n//         updateDoc(doc.ref, {\r\n//           keywords: arrayUnion(...keywords)\r\n//         });\r\n//       });\r\n\r\n//       console.log(\"Keywords added successfully to logs collection.\");\r\n//     } catch (error) {\r\n//       console.error(\"Error adding keywords to logs collection:\", error);\r\n//     }\r\n//   }\r\nconst LoadingModal = () => {\r\n    const loadingModalVisible = useSelector((state) => state.loadingModalVisible);\r\n\r\n\r\n    return (\r\n        <View\r\n            style={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                bottom: 0,\r\n                left: 0,\r\n                right: 0,\r\n                backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                flex: 1,\r\n                display: loadingModalVisible ? 'flex' : 'none',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n            }}\r\n        >\r\n            {/* Content within the modal */}\r\n            <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n                <Spinner size=\"lg\" color=\"white\" />\r\n                <Text style={{ color: 'white' }}>Loading, please wait!</Text>\r\n            </View>\r\n        </View>\r\n\r\n    );\r\n\r\n}\r\n\r\n\r\nconst LogsTable = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const [pageSize, setPageSize] = useState(10);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [lastVisible, setLastVisible] = useState(null);\r\n    const [firstVisible, setFirstVisible] = useState(null);\r\n    const [searchText, setSearchText] = useState('');\r\n    const searchInputRef = useRef(null);\r\n    const logsData = useSelector((state) => state.logsData);\r\n    const screenWidth = Dimensions.get('window').width;\r\n\r\n    useEffect(() => {\r\n        const q = query(\r\n            collection(projectControlFirestore, 'logs'),\r\n            orderBy('timestamp', 'desc'),\r\n            limit(pageSize)\r\n        );\r\n        const unsubscribe = onSnapshot(q, (documents) => {\r\n            const logsDatabaseData = [];\r\n            documents.forEach((document) => {\r\n                logsDatabaseData.push({\r\n                    id: document.id,\r\n                    ...document.data(),\r\n                });\r\n            });\r\n            dispatch(setLogsData(logsDatabaseData));\r\n            setLastVisible(documents.docs[documents.docs.length - 1]);\r\n            setFirstVisible(documents.docs[0]);\r\n        });\r\n        return () => unsubscribe();\r\n\r\n    }, []);\r\n\r\n    const fetchNextData = async () => {\r\n\r\n        if (searchText === '') {\r\n\r\n\r\n            const q = query(\r\n                collectionGroup(projectControlFirestore, 'logs'),\r\n                orderBy('timestamp', 'desc'),\r\n                startAfter(lastVisible),\r\n                limit(pageSize)\r\n            );\r\n\r\n            const documents = await getDocs(q);\r\n            updateState(documents, 'next');\r\n\r\n\r\n\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n        }\r\n\r\n        else {\r\n            const q = query(\r\n                collection(projectControlFirestore, 'logs'),\r\n                where('keywords', 'array-contains', searchText.toLowerCase()),\r\n                orderBy('timestamp', 'desc'),\r\n                startAfter(lastVisible),\r\n                limit(pageSize)\r\n            );\r\n\r\n            const documents = await getDocs(q);\r\n            updateState(documents, 'next');\r\n\r\n\r\n\r\n            dispatch(setLoadingModalVisible(false));\r\n        }\r\n\r\n    };\r\n\r\n\r\n    const fetchPreviousData = async () => {\r\n        if (searchText === '') {\r\n\r\n\r\n            const q = query(\r\n                collection(projectControlFirestore, 'logs'),\r\n                orderBy('timestamp', 'desc'),\r\n                endBefore(firstVisible),\r\n                limitToLast(pageSize)\r\n            );\r\n\r\n\r\n            const documents = await getDocs(q);\r\n            updateState(documents, 'prev')\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n        }\r\n\r\n        else {\r\n\r\n            const q = query(\r\n                collection(projectControlFirestore, 'logs'),\r\n                where('keywords', 'array-contains', searchText.toLowerCase()),\r\n                orderBy('timestamp', 'desc'),\r\n                endBefore(firstVisible),\r\n                limitToLast(pageSize)\r\n            );\r\n\r\n            const documents = await getDocs(q);\r\n            updateState(documents, 'prev');\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    const fetchFirstPage = (documents) => {\r\n\r\n\r\n        const logsDatabaseData = [];\r\n\r\n        documents.forEach((document) => {\r\n            logsDatabaseData.push({\r\n                id: document.id,\r\n                ...document.data(),\r\n            });\r\n        });\r\n\r\n        dispatch(setLogsData(logsDatabaseData));\r\n\r\n        if (documents?.docs[0]) {\r\n            setFirstVisible(documents.docs[0]);\r\n        }\r\n        if (documents?.docs[documents.docs.length - 1]) {\r\n            setLastVisible(documents.docs[documents.docs.length - 1]);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    const updateState = async (documents, pageClicked) => {\r\n\r\n\r\n        if (!documents.empty) {\r\n            const logsDatabaseData = [];\r\n            documents.forEach((document) => {\r\n                logsDatabaseData.push({\r\n                    id: document.id,\r\n                    ...document.data(),\r\n                });\r\n            });\r\n\r\n\r\n\r\n            if (documents?.docs[0]) {\r\n                setFirstVisible(documents.docs[0]);\r\n            }\r\n            if (documents?.docs[documents.docs.length - 1]) {\r\n                setLastVisible(documents.docs[documents.docs.length - 1]);\r\n            }\r\n\r\n            if (pageClicked == 'next') {\r\n                setCurrentPage(currentPage + 1);\r\n            }\r\n            if (pageClicked == 'prev') {\r\n                setCurrentPage(currentPage - 1);\r\n            }\r\n\r\n            dispatch(setLogsData(logsDatabaseData));\r\n        }\r\n\r\n        else {\r\n\r\n            if (searchText == '') {\r\n                setCurrentPage(1);\r\n\r\n                const q = query(\r\n                    collection(projectControlFirestore, 'logs'),\r\n                    orderBy('timestamp', 'desc'),\r\n                    limit(pageSize)\r\n                );\r\n                const firstPageDocuments = await getDocs(q);\r\n                fetchFirstPage(firstPageDocuments);\r\n\r\n            }\r\n            else {\r\n\r\n                setCurrentPage(1);\r\n\r\n                const q = query(\r\n                    collection(projectControlFirestore, 'logs'),\r\n                    where('keywords', 'array-contains', searchText.toLowerCase()),\r\n                    orderBy('timestamp', 'desc'),\r\n                    limit(pageSize)\r\n                );\r\n                const firstPageDocuments = await getDocs(q);\r\n                fetchFirstPage(firstPageDocuments);\r\n\r\n            }\r\n\r\n\r\n        }\r\n\r\n\r\n    };\r\n\r\n\r\n    const handleNextPage = async () => {\r\n        // setPageClicked('next');\r\n        dispatch(setLoadingModalVisible(true));\r\n        // setCurrentPage(currentPage + 1);\r\n        await fetchNextData();\r\n\r\n\r\n\r\n\r\n    };\r\n\r\n    const handlePreviousPage = async () => {\r\n        // setPageClicked('previous');\r\n        dispatch(setLoadingModalVisible(true));\r\n        // setCurrentPage(currentPage - 1);\r\n        await fetchPreviousData();\r\n\r\n\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        searchData();\r\n\r\n    }, [searchText]);\r\n\r\n    const searchData = async () => {\r\n\r\n        dispatch(setLoadingModalVisible(true));\r\n\r\n        if (searchText === '') {\r\n\r\n            setCurrentPage(1);\r\n            const q = query(\r\n                collection(projectControlFirestore, 'logs'),\r\n                orderBy('timestamp', 'desc'),\r\n                limit(pageSize)\r\n            );\r\n\r\n            const firstPageDocuments = await getDocs(q);\r\n            fetchFirstPage(firstPageDocuments);\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n\r\n        }\r\n\r\n        else {\r\n\r\n            setCurrentPage(1);\r\n            const q = query(\r\n                collection(projectControlFirestore, 'logs'),\r\n                where('keywords', 'array-contains', searchText.toLowerCase()),\r\n                orderBy('timestamp', 'desc'),\r\n                limit(pageSize)\r\n            );\r\n\r\n            const firstPageDocuments = await getDocs(q);\r\n            fetchFirstPage(firstPageDocuments);\r\n            dispatch(setLoadingModalVisible(false));\r\n        }\r\n    };\r\n\r\n    const handleSearchEnter = () => {\r\n\r\n        if (searchInputRef.current?.value !== '') {\r\n            setSearchText(searchInputRef.current.value.trim());\r\n        }\r\n        else {\r\n            setSearchText('');\r\n\r\n            if (searchText == '') {\r\n                searchData();\r\n            }\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <View style={{ flex: 1, }}>\r\n            <View>\r\n                <TextInput ref={searchInputRef} style={{ width: '100%', padding: 10, backgroundColor: 'white', borderRadius: 5, placeholderTextColor: '#ACADA3', }}\r\n                    onSubmitEditing={handleSearchEnter}\r\n                    placeholder='Search'\r\n                    returnKeyType='search'\r\n                    keyboardType='default'\r\n                    autoCapitalize='none'\r\n                />\r\n            </View>\r\n            <View\r\n                style={{\r\n                    flexDirection: 'row',\r\n                    justifyContent: 'space-between',\r\n                    borderBottomWidth: 1,\r\n                    borderBottomColor: '#E4E4E7',\r\n                    backgroundColor: '#0642F4',\r\n                    padding: 2,\r\n                    borderRadius: 5,\r\n                }}>\r\n                <View style={{ flex: 1, padding: 2 }}>\r\n                    <Text style={{ color: 'white', }} bold>Timestamp</Text>\r\n                </View>\r\n                <View style={{ flex: 1, padding: 2 }}>\r\n                    <Text style={{ color: 'white', }} bold>Action</Text>\r\n                </View>\r\n            </View>\r\n            {logsData.map((item) => (\r\n                <View\r\n                    key={item.id}\r\n                    style={{\r\n                        flexDirection: 'row',\r\n                        justifyContent: 'space-between',\r\n                        alignItems: 'center',\r\n                        borderBottomWidth: 1,\r\n                        borderBottomColor: '#E4E4E7',\r\n                        backgroundColor: item.colorScheme ? '#BBF7D0' : '#EAC7D6',\r\n                        paddingVertical: 10,\r\n                        flexGrow: 1,\r\n                    }}>\r\n                    <View style={{ flex: 1, }}>\r\n                        <Text selectable style={{ width: '90%', marginLeft: 3, }}>{item.timestamp}</Text>\r\n                    </View>\r\n                    <View style={{ flex: 1 }}>\r\n                        <Text selectable style={{ width: '90%', }}>{item.message} </Text>\r\n                    </View>\r\n                </View>\r\n            ))}\r\n\r\n            <View style={{ flexDirection: 'row', width: screenWidth < 960 ? '90%' : '30%', alignSelf: 'center', }}>\r\n\r\n                <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n                    <TouchableOpacity\r\n                        style={{ display: currentPage <= 1 ? 'none' : 'flex' }}\r\n                        onPress={handlePreviousPage}>\r\n                        <View style={{ backgroundColor: 'rgba(6,66,244, 0.6)', borderRadius: 5, padding: 4, margin: 10 }}>\r\n                            <MaterialIcons name='navigate-before' size={40} color={'white'} />\r\n                        </View>\r\n                    </TouchableOpacity>\r\n                </View>\r\n\r\n\r\n                <View style={{ flex: 1, backgroundColor: 'rgba(6,66,244, 0.6)', borderRadius: 5, margin: 10, padding: 4, justifyContent: 'center', alignItems: 'center' }}>\r\n                    <Text style={{ textAlign: 'center', color: 'white' }} bold>Page {currentPage}</Text>\r\n                </View>\r\n\r\n                <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', }} >\r\n                    <TouchableOpacity\r\n                        onPress={handleNextPage}>\r\n                        <View style={{ backgroundColor: 'rgba(6,66,244, 0.6)', borderRadius: 5, padding: 4, margin: 10 }}>\r\n                            <MaterialIcons name='navigate-next' size={40} color={'white'} />\r\n                        </View>\r\n                    </TouchableOpacity>\r\n                </View>\r\n\r\n                {/* <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', }} >\r\n            <TouchableOpacity\r\n              onPress={addKeywordsToVehicleProducts}>\r\n              <View style={{ backgroundColor: 'rgba(6,66,244, 0.6)', borderRadius: 5, padding: 4, margin: 10 }}>\r\n                <MaterialIcons name='save' size={40} color={'white'} />\r\n              </View>\r\n            </TouchableOpacity>\r\n          </View> */}\r\n\r\n            </View>\r\n        </View>\r\n\r\n    );\r\n\r\n\r\n};\r\n\r\nconst addLogToCollection = async (data) => {\r\n    try {\r\n        const firestore = getFirestore();\r\n        const logsCollectionRef = collection(firestore, 'logs');\r\n\r\n        // Add a new document to the \"logs\" collection\r\n        await addDoc(logsCollectionRef, data);\r\n\r\n        // console.log('Document added successfully!');\r\n    } catch (error) {\r\n        console.error('Error adding document:', error);\r\n    }\r\n};\r\n\r\nconst CurrencyConverterComponent = () => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isYesLoading, setIsYesLoading] = useState(false);\r\n    const [successModalVisible, setSuccessModalVisible] = useState(false);\r\n    const [todayCurrency, setTodayCurrency] = useState([]);\r\n    const [timestampCurrency, setTimestampCurrency] = useState([]);\r\n    const [exchangeRate, setExchangeRate] = useState('');\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const [time, setTime] = useState('');\r\n    const [lastUpdate, setLastUpdate] = useState(null);\r\n    const loginName = useSelector((state) => state.loginName);\r\n    const screenWidth = Dimensions.get('window').width;\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = onSnapshot(\r\n            doc(projectExtensionFirestore, 'currency', 'currency'),\r\n            (snapshot) => {\r\n                const data = snapshot.data();\r\n                setTodayCurrency(data?.todayCurrency);\r\n                setTimestampCurrency(data?.timestampCurrency);\r\n            }\r\n        );\r\n\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const CurrencyConverter = async () => {\r\n\r\n        setIsLoading(true);\r\n        setIsYesLoading(true);\r\n        try {\r\n            const response = await axios.get(\r\n                `https://openexchangerates.org/api/latest.json?app_id=${OPEN_EXCHANGE_API_KEY}`\r\n            );\r\n\r\n            // Replace 'YOUR_APP_ID' with your actual API key obtained from Open Exchange Rates\r\n\r\n\r\n            const rates = response.data.rates;\r\n            const usdToJpy = 1 / rates.JPY; // Invert the rate to convert USD to JPY\r\n            const JpyToUsd = rates.JPY / 1;\r\n\r\n\r\n\r\n            const yenToDollar = Number(usdToJpy.toFixed(4)); // Move the toFixed here\r\n            const dollarToYen = Number(JpyToUsd.toFixed(4));\r\n\r\n            const usdToEur = 1 / rates.EUR;\r\n            const eurToUsd = rates.EUR;\r\n\r\n            const usdToGbp = 1 / rates.GBP;\r\n            const gbpToUsd = rates.GBP;\r\n\r\n            const usdToAud = 1 / rates.AUD;\r\n            const audToUsd = rates.AUD;\r\n\r\n\r\n            const usdToCad = 1 / rates.CAD;\r\n            const cadToUsd = rates.CAD;\r\n\r\n            // Calculate Yen to Euro and Euro to Yen\r\n            const yenToEuro = yenToDollar * eurToUsd; // Convert Yen to USD first, then to Euro\r\n            const euroToYen = dollarToYen * usdToEur; // Convert Euro to USD first, then to Yen\r\n\r\n            const yenToGbp = yenToDollar * gbpToUsd; // Convert Yen to USD first, then to Pound Sterling\r\n            const gbpToYen = dollarToYen * usdToGbp; // Convert Pound Sterling to USD first, then to Yen\r\n\r\n            const yenToAud = yenToDollar * audToUsd; // Convert Yen to USD first, then to Australian Dollars\r\n            const audToYen = dollarToYen * usdToAud; // Convert Australian Dollars to USD first, then to Yen\r\n\r\n            const yenToCad = yenToDollar * cadToUsd; // Convert Yen to USD first, then to Canadian Dollars\r\n            const cadToYen = dollarToYen * usdToCad; // Convert Canadian Dollars to USD first, then to Yen\r\n\r\n            // Format the new rates\r\n\r\n\r\n\r\n            setExchangeRate(yenToDollar);\r\n\r\n            const timestamp = response.data.timestamp;\r\n            const lastUpdateDate = new Date(timestamp * 1000);\r\n            setLastUpdate(lastUpdateDate);\r\n\r\n            const formattedLastUpdate = lastUpdateDate.toLocaleString('en-US', {\r\n                month: 'long',\r\n                day: 'numeric',\r\n                year: 'numeric',\r\n                hour: 'numeric',\r\n                minute: 'numeric',\r\n                second: 'numeric',\r\n                timeZoneName: 'short',\r\n            });\r\n\r\n            const newTodayCurrency = `1 JPY = ${yenToDollar} USD / 1 USD = ${dollarToYen} JPY\\n1 JPY = ${yenToEuro.toFixed(4)} EUR / 1 EUR = ${euroToYen.toFixed(4)} JPY\\n1 JPY = ${yenToAud.toFixed(4)} AUD / 1 AUD = ${audToYen.toFixed(4)} JPY\\n1 JPY = ${yenToGbp.toFixed(4)} GBP / 1 GBP = ${gbpToYen.toFixed(4)} JPY\\n1 JPY = ${yenToCad.toFixed(4)} CAD / 1 CAD = ${cadToYen.toFixed(4)} JPY\\n`;\r\n            const currencyRef = doc(projectExtensionFirestore, 'currency', 'currency');\r\n\r\n            try {\r\n                await setDoc(currencyRef, {\r\n                    jpyToUsd: Number(usdToJpy),\r\n                    usdToJpy: Number(JpyToUsd),\r\n                    jpyToEur: yenToEuro,\r\n                    eurToJpy: euroToYen,\r\n                    jpyToGbp: yenToGbp,\r\n                    gbpToJpy: gbpToYen,\r\n                    jpyToAud: yenToAud,\r\n                    audToJpy: audToYen,\r\n                    usdToEur: eurToUsd,\r\n                    eurToUsd: usdToEur,\r\n                    usdToGbp: gbpToUsd,\r\n                    gbpToUsd: usdToGbp,\r\n                    usdToAud: audToUsd,\r\n                    audToUsd: usdToAud,\r\n                    cadToUsd: usdToCad,\r\n                    usdToCad: cadToUsd,\r\n                    jpyToCad: cadToYen,\r\n                    cadToJpy: yenToCad,\r\n                    todayCurrency: newTodayCurrency,\r\n                    timestampCurrency: 'Updated Last: ' + formattedLastUpdate,\r\n                }, { merge: true });\r\n                // console.log('Currency data updated successfully!');\r\n                setSuccessModalVisible(true);\r\n                setModalVisible(false);\r\n                setIsLoading(false);\r\n                setIsYesLoading(false);\r\n                try {\r\n                    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n                    const { datetime } = response.data;\r\n                    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n                    const year = moment(datetime).format('YYYY');\r\n                    const month = moment(datetime).format('MM');\r\n                    const monthWithDay = moment(datetime).format('MM/DD');\r\n                    const date = moment(datetime).format('YYYY/MM/DD');\r\n                    const day = moment(datetime).format('DD');\r\n                    const time = moment(datetime).format('HH:mm');\r\n                    const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n                    setTime(formattedTime);\r\n\r\n                    const logDataCurrency = {\r\n                        message: `Currency Update: \"${loginName}\" updated the currency exchange.\\nJPY  $USD = ${Number(usdToJpy).toFixed(4)} / $USD  JPY = ${Number(JpyToUsd).toFixed(4)}\\nJPY  EUR = ${yenToEuro.toFixed(4)} / EUR  JPY = ${euroToYen.toFixed(4)}\\nJPY  A$AUD = ${yenToAud.toFixed(4)} / A$AUD  JPY = ${audToYen.toFixed(4)}\\nJPY  GBP = ${yenToGbp.toFixed(4)} / GBP  JPY = ${gbpToYen.toFixed(4)}\\nJPY  C$CAD = ${yenToCad.toFixed(4)} / C$CAD  JPY = ${cadToYen.toFixed(4)}`,\r\n                        timestamp: formattedTime, // Use the formatted time here\r\n                        colorScheme: true,\r\n                        keywords: [\r\n                            formattedTime.toLowerCase(),\r\n                            loginName.toLowerCase(),\r\n                            '$'.toLowerCase(),\r\n                            ''.toLowerCase(),\r\n                            `Currency Update: \"${loginName}\" updated the currency exchange.`.toLowerCase(),\r\n                            'Update'.toLowerCase(),\r\n                            'Currency'.toLowerCase(),\r\n                            formattedTime.toLowerCase(),\r\n                            year.toLowerCase(),\r\n                            month.toLowerCase(),\r\n                            monthWithDay.toLowerCase(),\r\n                            date.toLowerCase(),\r\n                            day.toLowerCase(),\r\n                            time.toLowerCase(),\r\n                            timeWithMinutesSeconds.toLowerCase(),\r\n                        ],\r\n\r\n                    };\r\n\r\n                    addLogToCollection(logDataCurrency);\r\n                }\r\n                catch (error) {\r\n                    console.error('Error fetching time:', error);\r\n                }\r\n\r\n            } catch (error) {\r\n                console.error('Error updating currency data:', error);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching exchange rate:', error);\r\n        }\r\n    };\r\n\r\n\r\n    const handleCloseCurrencyModal = () => {\r\n        setModalVisible(false);\r\n        setIsLoading(false);\r\n    };\r\n    const handleOpenCurrencyModal = () => {\r\n        setModalVisible(true);\r\n        setIsLoading(true);\r\n    };\r\n\r\n    const handleCloseSuccessModal = () => {\r\n        setSuccessModalVisible(false);\r\n        setIsLoading(false);\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <Box\r\n                flex={1}\r\n                borderWidth={1}\r\n                borderColor=\"gray.200\"\r\n                borderRadius={4}\r\n                overflow=\"hidden\"\r\n                margin={1}\r\n                alignItems={'center'}\r\n                bg=\"#F5F5F5\">\r\n                <Image\r\n                    source={require('../../assets/currency_background.jpg')}\r\n                    alt=\"Background Image\"\r\n                    resizeMode=\"stretch\"\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    position={'absolute'}\r\n\r\n                />\r\n\r\n                <Center height=\"100%\">\r\n\r\n                    <Box alignItems=\"center\" backgroundColor={\"rgba(0, 0, 0, 0.7)\"} borderRadius={5} paddingBottom={1}>\r\n\r\n                        <Text bold color=\"#39ff14\" margin={1} textAlign={'center'} fontSize={screenWidth > 960 ? '' : 12} >{todayCurrency}</Text>\r\n                        <Text textAlign=\"center\" color=\"#39ff14\" margin={1} fontSize={screenWidth > 960 ? '' : 12}>{timestampCurrency}</Text>\r\n                        <Button alignSelf={'center'} w={'95%'} _hover={{ bgColor: \"green.800\" }} bgColor={'transparent'} variant={'outline'} borderColor={\"#39ff14\"} _text={{ color: \"#39ff14\", }} onPress={handleOpenCurrencyModal}>{isLoading ? <Spinner color=\"#39ff14\" size={21} /> : 'Update'}</Button>\r\n\r\n                    </Box>\r\n\r\n                </Center>\r\n\r\n            </Box>\r\n\r\n            <Modal isOpen={modalVisible} onClose={handleCloseCurrencyModal}>\r\n                <Modal.Content>\r\n                    <Modal.CloseButton />\r\n                    <Modal.Header borderBottomWidth={0}>Update currency</Modal.Header>\r\n                    <Modal.Body>\r\n                        Do you want to update to the latest currency?\r\n                    </Modal.Body>\r\n                    <Modal.Footer borderTopWidth={0}>\r\n                        <Button onPress={handleCloseCurrencyModal} flex={1} margin={1} colorScheme={'danger'}>No</Button>\r\n                        <Button onPress={CurrencyConverter} colorScheme={'success'} flex={1} margin={1}>{isYesLoading ? <Spinner color=\"white\" size={21} /> : 'Yes'}</Button>\r\n                    </Modal.Footer>\r\n                </Modal.Content>\r\n            </Modal><Modal isOpen={successModalVisible} onClose={handleCloseSuccessModal}>\r\n                <Modal.Content>\r\n                    <Modal.CloseButton />\r\n                    <Modal.Header bgColor={'green.200'} borderBottomWidth={0}>Update success!</Modal.Header>\r\n                    <Modal.Body bgColor={'green.200'}>\r\n                        <Text bold margin={1}>{todayCurrency}</Text>\r\n                        <Text margin={1}>{timestampCurrency}</Text>\r\n                    </Modal.Body>\r\n                    <Modal.Footer bgColor={'green.200'} borderTopWidth={0}>\r\n                        <Button onPress={handleCloseSuccessModal} flex={1} margin={1}>Ok</Button>\r\n                    </Modal.Footer>\r\n                </Modal.Content>\r\n            </Modal>\r\n        </>\r\n\r\n    );\r\n\r\n};\r\n\r\n\r\nconst MyBarChart = () => {\r\n    const dataValues = [\r\n        { day: 1, value: 30 },\r\n        { day: 2, value: 45 },\r\n        // ... add data for each day of the month\r\n        { day: 31, value: 60 }\r\n    ];\r\n\r\n    return (\r\n        <ScrollView style={{ flex: 1, margin: 5, borderRadius: 5, }}>\r\n            <VictoryChart\r\n                theme={VictoryTheme.material}\r\n                domainPadding={10}\r\n                style={{\r\n                    parent: {\r\n                        backgroundColor: \"#FFF\", // White background\r\n                    }\r\n                }}\r\n            >\r\n                <VictoryAxis\r\n                    style={{\r\n                        axis: { stroke: \"#757575\" }, // Style for the axis itself\r\n                        ticks: { stroke: \"grey\", size: 5 }, // Style for axis ticks\r\n                        tickLabels: { fontSize: 10, padding: 5, fill: \"grey\" } // Style for the labels\r\n                    }}\r\n                />\r\n                <VictoryAxis\r\n                    dependentAxis\r\n                    style={{\r\n                        axis: { stroke: \"#757575\" },\r\n                        ticks: { stroke: \"grey\", size: 5 },\r\n                        tickLabels: { fontSize: 10, padding: 5, fill: \"grey\" }\r\n                    }}\r\n                />\r\n                <VictoryBar\r\n                    data={dataValues}\r\n                    x=\"day\"\r\n                    y=\"value\"\r\n                    style={{\r\n                        data: {\r\n                            fill: ({ datum }) => datum.value > 50 ? \"#4178BE\" : \"#5AA9E6\", // Blue shades for bars\r\n                            width: 8 // Width of each bar\r\n                        }\r\n                    }}\r\n                    barRatio={0.8} // Adjusts the width of the bars\r\n                />\r\n            </VictoryChart>\r\n        </ScrollView>\r\n    );\r\n};\r\n\r\n\r\nexport default function Logs() {\r\n    const [email, setEmail] = useState('');\r\n    const [name, setName] = useState('');\r\n    const loginName = useSelector((state) => state.loginName);\r\n\r\n    // const navigation = useNavigation();\r\n    const navigate = useNavigate();\r\n\r\n    const [isSelectedLogs, setIsSelectedLogs] = useState(true);\r\n    const [isSelectedAddAccount, setIsSelectedAddAccount] = useState(false);\r\n    const [isSelectedAccountList, setIsSelectedAccountList] = useState(false);\r\n    const [typeOfAccount, setTypeOfAccount] = useState('');\r\n    const [showModal, setShowModal] = React.useState(false);\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n\r\n    const [remainingTime, setRemainingTime] = useState(0);\r\n    const [todayCurrency, setTodayCurrency] = useState('')\r\n    const [timestampCurrency, setTimestampCurrency] = useState('');\r\n    const [exchangeRate, setExchangeRate] = useState(null);\r\n    const [lastUpdate, setLastUpdate] = useState(null);\r\n\r\n    const [time, setTime] = useState('');\r\n    const optionsPerPage = [13, 26, 52];\r\n    const [page, setPage] = useState(0);\r\n    const [itemsPerPage, setItemsPerPage] = useState(optionsPerPage[0]);\r\n    const [data, setData] = useState([]);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n\r\n    const searchInput = useRef(null);\r\n    const searchInputValue = searchInput.current?.value;\r\n\r\n    const screenWidth = Dimensions.get('window').width;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const q = query(collection(db, 'logs'), orderBy('timestamp', 'desc'));\r\n                const unsubscribe = onSnapshot(q, (snapshot) => {\r\n                    const documents = snapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() }));\r\n                    setData(documents);\r\n                });\r\n\r\n                return () => unsubscribe();\r\n            } catch (error) {\r\n                console.error('Error retrieving data:', error);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setPage(0);\r\n    }, [itemsPerPage]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // const delayedSearch = (text) => {\r\n    //     clearTimeout(timeoutId);\r\n    //     timeoutId = setTimeout(() => {\r\n    //         handleSearch(text);\r\n    //     }, 300); // Set the delay to 300 milliseconds\r\n    // };\r\n\r\n\r\n\r\n\r\n\r\n    // const handleChange = text => {\r\n    //     setEmail(text)\r\n    //     setErrorShow(false)\r\n    // };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const SuccessModal = () => {\r\n        return <Center>\r\n            <Modal isOpen={showModal} onClose={() => setShowModal(false)} size=\"lg\"  >\r\n                <Modal.Content maxWidth=\"350\" bgColor={'green.600'} borderWidth={3} borderColor={'green.400'}>\r\n                    <Modal.Header bgColor={'green.600'} borderBottomWidth={0}><Text color=\"white\" textAlign={'center'} bold> Success! </Text></Modal.Header>\r\n                    <Modal.Body >\r\n                        <Text color=\"white\" textAlign={'center'}>Account creation for Real Motor Japan Control Hub was successful.</Text>\r\n                    </Modal.Body>\r\n                    <Modal.Footer bgColor={'green.600'} borderTopWidth={0}>\r\n                        <Button _hover={{ bgColor: 'green.500', }} variant={'outline'} flex=\"1\" onPress={() => setShowModal(false)}>\r\n                            <Text color=\"white\" textAlign={'center'}>Proceed</Text>\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal.Content>\r\n            </Modal>\r\n        </Center>;\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            if (!user) {\r\n                // navigation.navigate(\"Login\")\r\n                navigate(\"/Login\");\r\n            }\r\n\r\n        })\r\n\r\n        return unsubscribe\r\n    }, []);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const handleDocumentChange = (snapshot) => {\r\n        if (snapshot.exists()) {\r\n            const data = snapshot.data();\r\n            const isActive = data.active;\r\n\r\n            if (!isActive) {\r\n                signOut(auth)\r\n                    .then(() => {\r\n                        // navigation.navigate('Login');\r\n                        navigate(\"/Login\");\r\n\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error('Error signing out:', error);\r\n                    });\r\n            }\r\n        } else {\r\n            signOut(auth)\r\n                .then(() => {\r\n                    // navigation.navigate('Login');\r\n                    navigate(\"/Login\");\r\n\r\n                })\r\n                .catch((error) => {\r\n                    console.error('Error signing out:', error);\r\n                });\r\n        }\r\n    };\r\n\r\n    const subscribeToFieldChange = () => {\r\n        const userId = auth.currentUser?.email;\r\n        if (userId) {\r\n            const userRef = doc(firestore, 'accounts', userId);\r\n            const unsubscribe = onSnapshot(userRef, handleDocumentChange);\r\n            return unsubscribe;\r\n        } else {\r\n            // Return a no-op function if there's no user\r\n            return () => {\r\n                navigate(\"/login\")\r\n            };\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = subscribeToFieldChange();\r\n\r\n        return () => {\r\n            // This will now always be a function\r\n            unsubscribe();\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const currentUserEmail = getEmailOfCurrentUser();\r\n        if (currentUserEmail) {\r\n            getFieldValueByEmail(currentUserEmail);\r\n            setEmail(currentUserEmail)\r\n            const documentId = currentUserEmail;\r\n            listenForNameChange(documentId);\r\n        }\r\n    }, []);\r\n\r\n    const listenForNameChange = (documentId) => {\r\n        const userRef = doc(db, 'accounts', documentId);\r\n\r\n\r\n        // To stop listening for updates, you can call unsubscribe()\r\n        // unsubscribe();\r\n    };\r\n\r\n\r\n\r\n    const getFieldValueByEmail = async (email) => {\r\n        try {\r\n            const accountDocRef = doc(firestore, 'accounts', email);\r\n            const accountDocSnapshot = await getDoc(accountDocRef);\r\n\r\n            if (accountDocSnapshot.exists()) {\r\n                const data = accountDocSnapshot.data();\r\n                const fieldType = data.type;\r\n                const fieldName = data.name;\r\n                dispatch(setLoginName(data.name));\r\n\r\n            } else {\r\n                console.log('Document does not exist');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching field value:', error);\r\n        }\r\n    };\r\n\r\n\r\n\r\n\r\n\r\n    const handleSignOut = () => {\r\n\r\n        signOut(auth).then(() => {\r\n            // navigation.navigate('Login');\r\n            navigate(\"/Login\");\r\n            setEmail('');\r\n            setName('');\r\n        }).catch(() => {\r\n            // An error happened.\r\n        });\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // const showDrawerIcon = useBreakpointValue([true, true, true, false]);\r\n\r\n\r\n    // Function to hide the Popover\r\n\r\n    const NamePopover = ({ name, handleSignOut }) => {\r\n        const [showNamePopover, setShowNamePopover] = useState(false);\r\n\r\n        const showPopover = () => {\r\n            setShowNamePopover(!showNamePopover);\r\n        };\r\n\r\n        return (\r\n            <Box w={[100, 200, 1020]} h={[10, 10, 10]} flex={1}>\r\n                <Flex direction=\"row-reverse\">\r\n                    <Popover\r\n                        isOpen={showNamePopover}\r\n                        trigger={(triggerProps) => (\r\n                            <Text color=\"white\" marginTop={[2, 2, 2]} fontSize={[17, 18, 20]} marginRight={[1, 3, 5]} {...triggerProps} onPress={showPopover}>\r\n                                <MaterialCommunityIcons name=\"account\" size={[20, 25, 30]} color=\"white\" /> {name} <Ionicons name=\"caret-down\" size={16} color=\"white\" />\r\n                            </Text>\r\n                        )}\r\n                        onClose={() => setShowNamePopover(!showNamePopover)}\r\n                        placement='bottom right'\r\n                        trapFocus={false}\r\n                    >\r\n                        <Popover.Content backgroundColor={'#7B9CFF'}>\r\n                            {/* <Popover.Arrow bgColor={'#7B9CFF'} /> */}\r\n                            <Popover.Body backgroundColor={'#7B9CFF'}>\r\n                                <Button _hover={{ bgColor: 'blueGray.500' }} onPress={handleSignOut} leftIcon={<MaterialCommunityIcons name=\"logout\" size={20} color=\"white\" />} bgColor={'transparent'}>\r\n                                    Logout\r\n                                </Button>\r\n                            </Popover.Body>\r\n                        </Popover.Content>\r\n                    </Popover>\r\n                </Flex>\r\n            </Box>\r\n        );\r\n    };\r\n    const styles = StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n        },\r\n        image: {\r\n            flex: 1,\r\n        },\r\n    });\r\n    return (\r\n        <NativeBaseProvider>\r\n            <SuccessModal />\r\n            <Box bgColor=\"#A6BCFE\" h=\"100vh\" w=\"full\" flexDirection=\"column\">\r\n                {/* Header */}\r\n                <Box\r\n                    px=\"3\"\r\n                    bgColor='#7b9cff'\r\n                    height={54}\r\n                    position=\"sticky\"\r\n                    top={0}\r\n                    zIndex={999}\r\n                    flexDirection=\"row\"\r\n                    alignItems=\"center\"\r\n                    borderBottomWidth={2}\r\n                    borderBottomColor={'cyan.500'} >\r\n\r\n                    <SideDrawer\r\n                        selectedScreen={selectedScreen} />\r\n\r\n                    <Box w={[0, 0, 0, 850]} h={[10, 10, 10, 10]} marginBottom={1.5} marginTop={1.5} paddingLeft={5}>\r\n                        <FastImage\r\n                            source={{\r\n                                uri: 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20FULL.png?alt=media&token=79ed34a5-f960-4154-b4e8-897b0f3248d4',\r\n                                priority: FastImage.priority.high,\r\n                            }}\r\n                            resizeMode={FastImage.resizeMode.stretch}\r\n                            style={styles.image}\r\n                        />\r\n                    </Box>\r\n                    {/* \r\n                    {showDrawerIcon && <MobileViewDrawer\r\n                        selectedScreen={selectedScreen} />} */}\r\n\r\n                    <Box w={[150, 200, 250, 0]} h={[6, 8, 10, 10]} marginBottom={1.5} marginTop={1.5} marginLeft={[3, 3, 3, 10]} >\r\n                        <FastImage\r\n                            source={{\r\n                                uri: 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20HALF.png?alt=media&token=7ce6aef2-0527-40c7-b1ce-e47079e144df',\r\n                                priority: FastImage.priority.high,\r\n                            }}\r\n                            resizeMode={FastImage.resizeMode.stretch}\r\n                            style={styles.image}\r\n                        />\r\n                    </Box>\r\n\r\n                    <NamePopover name={loginName} handleSignOut={handleSignOut} />\r\n\r\n                </Box>\r\n\r\n                {/* Content */}\r\n                <Box flex={[1]} flexDirection=\"row\" >\r\n\r\n\r\n                    {/* Main Content */}\r\n                    <Box flex={1} flexGrow={1} minHeight={0} flexDirection={screenWidth <= 960 ? 'column' : 'row'}>\r\n                        {/* Main Content Content */}\r\n\r\n\r\n\r\n                        <Box flex={1}>\r\n                            <CurrencyConverterComponent />\r\n                            <MyBarChart />\r\n                        </Box>\r\n\r\n\r\n\r\n                        <Box flex={1} height={'100%'}>\r\n                            <ScrollView flex={1}>\r\n                                <LogsTable />\r\n                            </ScrollView>\r\n\r\n\r\n                        </Box>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    </Box>\r\n                </Box>\r\n            </Box>\r\n            <LoadingModal />\r\n        </NativeBaseProvider>\r\n    );\r\n}\r\n\r\n\r\n\r\n","\r\nimport {\r\n  Box,\r\n  Button,\r\n  Center,\r\n  HStack,\r\n  Modal,\r\n  Text,\r\n  VStack,\r\n  ScrollView,\r\n\r\n} from 'native-base';\r\nimport React, { useState, useCallback, useEffect, useRef } from 'react';\r\nimport {\r\n  AntDesign,\r\n  FontAwesome,\r\n  Ionicons,\r\n  MaterialCommunityIcons,\r\n  MaterialIcons,\r\n  Entypo\r\n} from 'react-native-vector-icons';\r\nimport { View, TouchableOpacity, Easing, Image, Dimensions, Animated } from 'react-native';\r\nimport { TouchableHighlight } from 'react-native-gesture-handler';\r\nimport { useNavigation } from '@react-navigation/core';\r\n\r\n\r\n\r\nconst MobileViewDrawer = ({ selectedScreen }) => {\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const logo2 = require('../../../assets/C-Hub Logo Only.png');\r\n\r\n  const screenWidth = Dimensions.get('window').width;\r\n\r\n  const navigation = useNavigation();\r\n\r\n  const handleOpen = () => {\r\n\r\n    setIsOpen(true);\r\n\r\n  }\r\n  const handleClose = () => {\r\n\r\n    setIsOpen(false);\r\n\r\n  }\r\n\r\n  const handleToggleLogs = useCallback(() => {\r\n\r\n\r\n    navigation.navigate(\"LOGS\");\r\n  }, []);\r\n\r\n  const handleToggleAddAccount = useCallback(() => {\r\n\r\n\r\n    navigation.navigate(\"ADD C-HUB ACCOUNT\");\r\n  }, []);\r\n\r\n  const handleToggleAccountList = useCallback(() => {\r\n\r\n    navigation.navigate(\"ACCOUNT LIST\");\r\n  }, []);\r\n\r\n  const handleToggleAddVehicle = useCallback(() => {\r\n\r\n    navigation.navigate(\"ADD NEW VEHICLE\");\r\n  }, []);\r\n\r\n\r\n  const handleVehicleList = useCallback(() => {\r\n    navigation.navigate(\"VEHICLE LIST\");\r\n  }, []);\r\n\r\n\r\n  const handleFreight = useCallback(() => {\r\n    navigation.navigate(\"FREIGHT\");\r\n  }, []);\r\n\r\n  const handleChatMessages = useCallback(() => {\r\n    navigation.navigate(\"CHAT MESSAGES\");\r\n  }, []);\r\n\r\n\r\n  const slideAnimation = useRef(new Animated.Value(0)).current;\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      Animated.timing(slideAnimation, {\r\n        toValue: 1,\r\n        duration: 500,\r\n        easing: Easing.inOut(Easing.ease),\r\n        useNativeDriver: true,\r\n      }).start();\r\n    } else {\r\n      Animated.timing(slideAnimation, {\r\n        toValue: 0,\r\n        duration: 500,\r\n        easing: Easing.inOut(Easing.ease),\r\n        useNativeDriver: true,\r\n      }).start();\r\n    }\r\n  }, [isOpen, slideAnimation]);\r\n\r\n  return (\r\n\r\n    <>\r\n      <TouchableHighlight onPress={() => handleOpen()} onPressOut={() => handleOpen()} underlayColor=\"#5a7bc9\" style={{ borderRadius: 5, flex: 1 }}>\r\n        <FontAwesome name=\"navicon\" size={30} color=\"white\" style={{ margin: 2 }} />\r\n      </TouchableHighlight>\r\n\r\n\r\n      <Modal\r\n        isOpen={isOpen}\r\n        onClose={handleClose}\r\n        useRNModal\r\n        style={{\r\n          alignItems: 'flex-start',\r\n          justifyContent: 'flex-start',\r\n          height: '100%',\r\n\r\n        }}\r\n      >\r\n        <Modal.Content\r\n          maxWidth={255}\r\n          borderRadius={0}\r\n          maxHeight=\"100%\"\r\n          height=\"full\"\r\n          bgColor={'transparent'}\r\n        >\r\n          <Animated.View\r\n            style={{\r\n              flex: 1,\r\n              transform: [\r\n                {\r\n                  translateX: slideAnimation.interpolate({\r\n                    inputRange: [0, 1],\r\n                    outputRange: [-255, 0],\r\n                  }),\r\n                },\r\n              ],\r\n            }}\r\n          >\r\n            <View style={{ backgroundColor: '#7b9cff', flex: 1, borderRightWidth: 2, borderColor: 'cyan' }}>\r\n              <View style={{ flex: 1, }}>\r\n\r\n                <View style={{ flexDirection: 'row', margin: 3, justifyContent: 'space-between' }}>\r\n                  <View style={{ width: '80%', alignItems: 'center', justifyContent: 'center' }}>\r\n                    <Image\r\n                      source={{\r\n                        uri: logo2,\r\n                      }}\r\n                      resizeMode=\"stretch\"\r\n                      style={{ width: 170, height: 30 }}\r\n                    />\r\n                  </View>\r\n                  <TouchableOpacity\r\n                    style={{ flexDirection: 'row', alignItems: 'flex-end', marginVertical: 1.5, marginHorizontal: 1.5 }}\r\n                  >\r\n                    <MaterialIcons\r\n                      name=\"arrow-back\"\r\n                      size={30}\r\n                      color=\"white\"\r\n                      onPress={handleClose}\r\n                    />\r\n                  </TouchableOpacity>\r\n                </View>\r\n\r\n                {/* Sidebar Content */}\r\n                <View style={{ paddingHorizontal: 1, backgroundColor: '#7b9cff', flex: 1 }}>\r\n                  <ScrollView>\r\n                    <TouchableOpacity\r\n                      style={{\r\n                        borderBottomWidth: 1,\r\n                        borderTopWidth: 1,\r\n                        borderColor: 'white',\r\n                        backgroundColor: selectedScreen == 'LOGS' ? '#0642F4' : '#7b9cff',\r\n                      }}\r\n                      onPress={handleToggleLogs}\r\n                    >\r\n                      <View style={{ flexDirection: 'row', alignItems: 'center', marginLeft: 2, }}>\r\n                        <MaterialCommunityIcons name=\"history\" size={20} color=\"white\" />\r\n                        <Text style={{ color: 'white', paddingVertical: 10, paddingLeft: 10 }}>\r\n                          LOGS\r\n                        </Text>\r\n                      </View>\r\n\r\n                    </TouchableOpacity>\r\n\r\n                    {/* ACCOUNT MANAGEMENT */}\r\n                    <TouchableOpacity\r\n                      style={{\r\n                        borderBottomWidth: 1,\r\n                        borderBottomColor: 'white',\r\n                        backgroundColor: selectedScreen == 'ADD C-HUB ACCOUNT' ? '#0642F4' : '#7b9cff',\r\n                      }}\r\n                      onPress={handleToggleAddAccount}\r\n                    >\r\n                      <View style={{ flexDirection: 'row', alignItems: 'center', marginLeft: 2, }}>\r\n\r\n                        <MaterialIcons name=\"person-add\" size={20} color=\"white\" />\r\n                        <Text style={{ color: 'white', paddingVertical: 10, paddingLeft: 10 }}>\r\n                          ADD C-HUB ACCOUNT\r\n                        </Text>\r\n                      </View>\r\n\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity\r\n                      style={{\r\n                        borderBottomWidth: 1,\r\n                        borderBottomColor: 'white',\r\n                        backgroundColor: selectedScreen == 'ACCOUNT LIST' ? '#0642F4' : '#7b9cff',\r\n                      }}\r\n                      onPress={handleToggleAccountList}\r\n                    >\r\n                      <View style={{ flexDirection: 'row', alignItems: 'center', marginLeft: 2, }}>\r\n                        <MaterialCommunityIcons name=\"account-details\" size={20} color=\"white\" />\r\n                        <Text style={{ color: 'white', paddingVertical: 10, paddingLeft: 10 }}>\r\n                          ACCOUNT LIST\r\n                        </Text>\r\n                      </View>\r\n\r\n                    </TouchableOpacity>\r\n                    {/* VEHICLE INFORMATION INPUT */}\r\n                    <TouchableOpacity\r\n                      style={{\r\n                        borderBottomWidth: 1,\r\n                        borderBottomColor: 'white',\r\n                        backgroundColor: selectedScreen == 'ADD NEW VEHICLE' ? '#0642F4' : '#7b9cff',\r\n                      }}\r\n                      onPress={handleToggleAddVehicle}\r\n                    >\r\n\r\n                      <View style={{ flexDirection: 'row', alignItems: 'center', marginLeft: 2, }}>\r\n                        <View style={{ marginLeft: 4, }}>\r\n                          <FontAwesome name=\"automobile\" size={15} color=\"white\" />\r\n                          <FontAwesome\r\n                            name=\"plus\"\r\n                            size={10}\r\n                            color=\"white\"\r\n                            style={{\r\n                              position: 'absolute', // Position it absolutely...\r\n                              top: -3, // ...at the top...\r\n                              left: -5 // ...and left.\r\n                            }}\r\n                          />\r\n                        </View>\r\n                        <Text style={{ color: 'white', paddingVertical: 10, paddingLeft: 10 }}>\r\n                          UPDATE / ADD NEW VEHICLE\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity\r\n                      style={{\r\n                        borderBottomWidth: 1,\r\n                        borderBottomColor: 'white',\r\n                        backgroundColor: selectedScreen == 'VEHICLE LIST' ? '#0642F4' : '#7b9cff',\r\n                      }}\r\n                      onPress={handleVehicleList}\r\n                    >\r\n\r\n                      <View style={{ flexDirection: 'row', alignItems: 'center', marginLeft: 2, }}>\r\n                        <View style={{ marginLeft: 3, }}>\r\n                          <FontAwesome\r\n                            name=\"automobile\"\r\n                            size={15}\r\n                            color=\"white\" />\r\n\r\n                          <MaterialCommunityIcons name=\"format-list-bulleted\" size={10} color=\"white\"\r\n                            style={{\r\n                              position: 'absolute', // Position it absolutely...\r\n                              top: -3, // ...at the top...\r\n                              left: -5 // ...and left.\r\n                            }}\r\n                          />\r\n\r\n                        </View>\r\n                        <Text style={{ color: 'white', paddingVertical: 10, paddingLeft: 10 }}>\r\n                          VEHICLE LIST\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n\r\n\r\n                    <TouchableOpacity\r\n                      style={{\r\n                        borderBottomWidth: 1,\r\n                        borderBottomColor: 'white',\r\n                        backgroundColor: selectedScreen == 'FREIGHT' ? '#0642F4' : '#7b9cff',\r\n                      }}\r\n                      onPress={handleFreight}\r\n                    >\r\n\r\n                      <View style={{ flexDirection: 'row', alignItems: 'center', marginLeft: 2, }}>\r\n                        <View style={{ marginLeft: 3, }}>\r\n                          <MaterialIcons\r\n                            name=\"public\"\r\n                            size={20}\r\n                            color=\"white\" />\r\n\r\n                          <MaterialIcons name=\"sync\" size={12} color=\"white\"\r\n                            style={{\r\n                              position: 'absolute', // Position it absolutely...\r\n                              top: -3, // ...at the top...\r\n                              left: -5 // ...and left.\r\n                            }}\r\n                          />\r\n\r\n                        </View>\r\n                        <Text style={{ color: 'white', paddingVertical: 10, paddingLeft: 10 }}>\r\n                          FREIGHT\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n\r\n\r\n                    <TouchableOpacity\r\n                      style={{\r\n                        borderBottomWidth: 1,\r\n                        borderBottomColor: 'white',\r\n                        backgroundColor: selectedScreen == 'CHAT MESSAGES' ? '#0642F4' : '#7b9cff',\r\n                      }}\r\n                      onPress={handleChatMessages}\r\n                    >\r\n\r\n                      <View style={{ flexDirection: 'row', alignItems: 'center', marginLeft: 2, }}>\r\n                        <View style={{ marginLeft: 3, }}>\r\n                          <Entypo\r\n                            name=\"chat\"\r\n                            size={20}\r\n                            color=\"white\" />\r\n\r\n                        </View>\r\n                        <Text style={{ color: 'white', paddingVertical: 10, paddingLeft: 10 }}>\r\n                          CHAT MESSAGES\r\n                        </Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                    {/* Footer Content */}\r\n                    {/* <TouchableOpacity\r\n              style={{ borderTopWidth: 1, borderColor: 'gray', backgroundColor: '#7b9cff', paddingVertical: 10 }}\r\n              onPress={handleSignOut}\r\n            >\r\n              <Text style={{ color: 'white', textAlign: 'center' }}>\r\n                Logout\r\n              </Text>\r\n            </TouchableOpacity> */}\r\n                  </ScrollView>\r\n                </View>\r\n              </View>\r\n            </View>\r\n          </Animated.View>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n    </>\r\n\r\n\r\n  );\r\n};\r\n\r\nexport default MobileViewDrawer;","import {\r\n    Box,\r\n    Button,\r\n    Center,\r\n    HStack,\r\n    Modal,\r\n    Text,\r\n    VStack,\r\n    ScrollView,\r\n\r\n} from 'native-base';\r\nimport React, { useState, useCallback, useEffect, useRef } from 'react';\r\nimport {\r\n    AntDesign,\r\n    FontAwesome,\r\n    Ionicons,\r\n    MaterialCommunityIcons,\r\n    MaterialIcons,\r\n    Entypo\r\n} from 'react-native-vector-icons';\r\nimport { View, TouchableOpacity, Easing, Image, Dimensions, Animated, Pressable } from 'react-native';\r\nimport { TouchableHighlight } from 'react-native-gesture-handler';\r\nimport { useNavigation } from '@react-navigation/core';\r\nimport { HashRouter as Router, Route, Routes, Navigate, useNavigate } from 'react-router-dom';\r\n\r\n\r\n\r\nconst SideDrawer = ({ selectedScreen }) => {\r\n\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const logo2 = require('../../../assets/C-Hub Logo Only.png');\r\n    const [onHover, setOnHover] = useState(false);\r\n\r\n    const screenWidth = Dimensions.get('window').width;\r\n\r\n    // const navigation = useNavigation();\r\n    const navigate = useNavigate();\r\n    const handleOpen = () => {\r\n\r\n        setIsOpen(true);\r\n\r\n    }\r\n    const handleClose = () => {\r\n\r\n        setIsOpen(false);\r\n\r\n    }\r\n\r\n    const handleToggleLogs = useCallback(() => {\r\n        navigate(\"/devadmin/logs\");\r\n    }, []);\r\n\r\n    const handleToggleAddAccount = useCallback(() => {\r\n        navigate(\"/devadmin/add-c-hub-account\");\r\n    }, []);\r\n\r\n    const handleToggleAccountList = useCallback(() => {\r\n\r\n        navigate(\"/devadmin/account-list\");\r\n    }, []);\r\n\r\n    const handleToggleAddVehicle = useCallback(() => {\r\n\r\n        navigate(\"/devadmin/add-new-vehicle\");\r\n    }, []);\r\n\r\n\r\n    const handleVehicleList = useCallback(() => {\r\n        navigate(\"/devadmin/vehicle-list\");\r\n    }, []);\r\n\r\n\r\n    const handleFreight = useCallback(() => {\r\n        navigate(\"/devadmin/freight\");\r\n    }, []);\r\n\r\n    const handleChatMessages = useCallback(() => {\r\n        navigate(\"/devadmin/chat-messages\");\r\n    }, []);\r\n\r\n\r\n    const slideAnimation = useRef(new Animated.Value(0)).current;\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            Animated.timing(slideAnimation, {\r\n                toValue: 1,\r\n                duration: 500,\r\n                easing: Easing.inOut(Easing.ease),\r\n                useNativeDriver: true,\r\n            }).start();\r\n        } else {\r\n            Animated.timing(slideAnimation, {\r\n                toValue: 0,\r\n                duration: 500,\r\n                easing: Easing.inOut(Easing.ease),\r\n                useNativeDriver: true,\r\n            }).start();\r\n        }\r\n    }, [isOpen, slideAnimation]);\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n\r\n        <>\r\n            <Pressable\r\n                onHoverIn={() => {\r\n                    handleOpen()\r\n                    setOnHover(true);\r\n                }}\r\n                onHoverOut={() =>\r\n                    setTimeout(() => setOnHover(false), [100])\r\n                }\r\n                onPress={() => handleOpen()} onPressOut={() => handleOpen()} underlayColor=\"#5a7bc9\" style={{\r\n                    backgroundColor: onHover ? '#5a7bc9' : 'transparent',\r\n                    borderRadius: 5,\r\n                }}>\r\n                <FontAwesome name=\"navicon\" size={30} color=\"white\" style={{ margin: 2 }} />\r\n            </Pressable>\r\n\r\n            <Modal\r\n                isOpen={isOpen}\r\n                onClose={handleClose}\r\n                useRNModal\r\n                style={{\r\n                    alignItems: 'flex-start',\r\n                    justifyContent: 'flex-start',\r\n                    height: '100%',\r\n                }}\r\n            >\r\n                <Modal.Content\r\n                    maxWidth={255}\r\n                    borderRadius={0}\r\n                    maxHeight=\"100%\"\r\n                    height=\"full\"\r\n                    bgColor={'transparent'}\r\n                >\r\n                    <Animated.View\r\n                        style={{\r\n                            flex: 1,\r\n                            transform: [\r\n                                {\r\n                                    translateX: slideAnimation.interpolate({\r\n                                        inputRange: [0, 1],\r\n                                        outputRange: [-255, 0],\r\n                                    }),\r\n                                },\r\n                            ],\r\n                        }}\r\n                    >\r\n\r\n                        <View style={{ backgroundColor: '#7b9cff', flex: 1, borderRightWidth: 2, borderColor: 'cyan' }}>\r\n                            <View style={{ flex: 1, }}>\r\n\r\n                                <View style={{ flexDirection: 'row', margin: 3, justifyContent: 'space-between' }}>\r\n                                    <View style={{ width: '80%', alignItems: 'center', justifyContent: 'center' }}>\r\n                                        <Image\r\n                                            source={{\r\n                                                uri: logo2,\r\n                                            }}\r\n                                            resizeMode=\"stretch\"\r\n                                            style={{ width: 170, height: 30 }}\r\n                                        />\r\n                                    </View>\r\n                                    <TouchableOpacity\r\n                                        style={{ flexDirection: 'row', alignItems: 'flex-end', marginVertical: 1.5, marginHorizontal: 1.5 }}\r\n                                    >\r\n                                        <MaterialIcons\r\n                                            name=\"arrow-back\"\r\n                                            size={30}\r\n                                            color=\"white\"\r\n                                            onPress={handleClose}\r\n                                        />\r\n                                    </TouchableOpacity>\r\n                                </View>\r\n\r\n                                {/* Sidebar Content */}\r\n                                <View style={{ paddingHorizontal: 1, backgroundColor: '#7b9cff', height: '100%' }}>\r\n                                    <ScrollView style={{ width: 245 }}>\r\n                                        <View style={{ height: 20 }}>\r\n                                            {/* Sidebar Content Items */}\r\n                                            <Button\r\n                                                borderRadius={0}\r\n                                                borderTopWidth={1}\r\n                                                borderBottomWidth={1}\r\n                                                borderColor={'white'}\r\n                                                _hover={{ bgColor: selectedScreen == 'LOGS' ? '#0642F4' : '#5a7bc9', }}\r\n                                                marginTop={0}\r\n                                                w={'full'}\r\n                                                onPress={() => selectedScreen == 'LOGS' ? null : handleToggleLogs()}\r\n                                                colorScheme={undefined}\r\n                                                bgColor={selectedScreen == 'LOGS' ? '#0642F4' : '#7b9cff'}\r\n                                                leftIcon={<MaterialCommunityIcons name=\"history\" size={20} color=\"white\" />}\r\n                                                justifyContent=\"flex-start\"\r\n                                                alignItems=\"center\"\r\n                                            >\r\n                                                LOGS\r\n                                            </Button>\r\n\r\n                                            {/* ACCOUNT MANAGEMENT */}\r\n                                            <Button\r\n                                                borderRadius={0}\r\n                                                borderTopWidth={1}\r\n                                                borderBottomWidth={1}\r\n                                                borderColor={'white'}\r\n                                                _hover={{ bgColor: selectedScreen == 'ADD C-HUB ACCOUNT' ? '#0642F4' : '#5a7bc9', }}\r\n                                                marginTop={0} w={'full'}\r\n                                                onPress={() => selectedScreen == 'ADD C-HUB ACCOUNT' ? null : handleToggleAddAccount()}\r\n                                                colorScheme={undefined}\r\n                                                bgColor={selectedScreen == 'ADD C-HUB ACCOUNT' ? '#0642F4' : '#7b9cff'}\r\n                                                leftIcon={<MaterialIcons name=\"person-add\" size={20} color=\"white\" />}\r\n                                                justifyContent=\"flex-start\"\r\n                                                alignItems=\"center\"\r\n                                            >ADD C-HUB ACCOUNT</Button>\r\n\r\n                                            <Button\r\n                                                borderRadius={0}\r\n                                                borderTopWidth={1}\r\n                                                borderBottomWidth={1}\r\n                                                borderColor={'white'}\r\n                                                _hover={{ bgColor: selectedScreen == 'ACCOUNT LIST' ? '#0642F4' : '#5a7bc9', }}\r\n                                                marginTop={0}\r\n                                                onPress={() => selectedScreen == 'ACCOUNT LIST' ? null : handleToggleAccountList()}\r\n                                                colorScheme={undefined}\r\n                                                bgColor={selectedScreen == 'ACCOUNT LIST' ? '#0642F4' : '#7b9cff'}\r\n                                                leftIcon={\r\n                                                    <MaterialCommunityIcons name=\"account-details\" size={20} color=\"white\" />\r\n\r\n                                                }\r\n                                                justifyContent=\"flex-start\"\r\n                                                alignItems=\"center\"\r\n                                            >ACCOUNT LIST</Button>\r\n                                            {/* VEHICLE INFORMATION INPUT */}\r\n                                            <Button\r\n                                                borderRadius={0}\r\n                                                borderTopWidth={1}\r\n                                                borderBottomWidth={1}\r\n                                                borderColor={'white'}\r\n                                                _hover={{ bgColor: selectedScreen == 'ADD NEW VEHICLE' ? '#0642F4' : '#5a7bc9', }}\r\n                                                marginTop={0} w={'full'}\r\n                                                onPress={() => selectedScreen == 'ADD NEW VEHICLE' ? null : handleToggleAddVehicle()}\r\n                                                colorScheme={undefined}\r\n                                                bgColor={selectedScreen == 'ADD NEW VEHICLE' ? '#0642F4' : '#7b9cff'}\r\n                                                leftIcon={\r\n                                                    <>\r\n                                                        <View>\r\n                                                            <FontAwesome name=\"automobile\" size={15} color=\"white\" />\r\n                                                            <FontAwesome\r\n                                                                name=\"plus\"\r\n                                                                size={10}\r\n                                                                color=\"white\"\r\n                                                                style={{\r\n                                                                    position: 'absolute', // Position it absolutely...\r\n                                                                    top: -3, // ...at the top...\r\n                                                                    left: -5 // ...and left.\r\n                                                                }}\r\n                                                            />\r\n                                                        </View>\r\n\r\n\r\n                                                    </>\r\n                                                }\r\n                                                justifyContent=\"flex-start\"\r\n                                                alignItems=\"center\"\r\n                                            >UPDATE / ADD NEW VEHICLE</Button>\r\n\r\n                                            <Button\r\n                                                borderRadius={0}\r\n                                                borderTopWidth={1}\r\n                                                borderBottomWidth={1}\r\n                                                borderColor={'white'}\r\n                                                _hover={{ bgColor: selectedScreen == 'VEHICLE LIST' ? '#0642F4' : '#5a7bc9', }}\r\n                                                marginTop={0}\r\n                                                onPress={() => selectedScreen == 'VEHICLE LIST' ? null : handleVehicleList()}\r\n                                                colorScheme={undefined}\r\n                                                bgColor={selectedScreen == 'VEHICLE LIST' ? '#0642F4' : '#7b9cff'}\r\n                                                leftIcon={\r\n                                                    <>\r\n                                                        <View>\r\n                                                            <FontAwesome\r\n                                                                name=\"automobile\"\r\n                                                                size={15}\r\n                                                                color=\"white\" />\r\n\r\n                                                            <MaterialCommunityIcons name=\"format-list-bulleted\" size={10} color=\"white\"\r\n                                                                style={{\r\n                                                                    position: 'absolute', // Position it absolutely...\r\n                                                                    top: -3, // ...at the top...\r\n                                                                    left: -5 // ...and left.\r\n                                                                }}\r\n                                                            />\r\n\r\n                                                        </View>\r\n\r\n\r\n                                                    </>\r\n                                                }\r\n                                                justifyContent=\"flex-start\"\r\n                                                alignItems=\"center\"\r\n                                            // rightIcon={<FontAwesome name=\"automobile\" size={15} color=\"white\" />}\r\n                                            >VEHICLE LIST</Button>\r\n\r\n                                            <Button\r\n                                                borderRadius={0}\r\n                                                borderTopWidth={1}\r\n                                                borderBottomWidth={1}\r\n                                                borderColor={'white'}\r\n                                                _hover={{ bgColor: selectedScreen == 'FREIGHT' ? '#0642F4' : '#5a7bc9', }}\r\n                                                marginTop={0}\r\n                                                onPress={() => selectedScreen == 'FREIGHT' ? null : handleFreight()}\r\n                                                colorScheme={undefined}\r\n                                                bgColor={selectedScreen == 'FREIGHT' ? '#0642F4' : '#7b9cff'}\r\n                                                leftIcon={\r\n                                                    <>\r\n                                                        <View>\r\n                                                            <MaterialIcons\r\n                                                                name=\"public\"\r\n                                                                size={20}\r\n                                                                color=\"white\" />\r\n\r\n                                                            <MaterialIcons name=\"sync\" size={12} color=\"white\"\r\n                                                                style={{\r\n                                                                    position: 'absolute', // Position it absolutely...\r\n                                                                    top: -3, // ...at the top...\r\n                                                                    left: -5 // ...and left.\r\n                                                                }}\r\n                                                            />\r\n\r\n                                                        </View>\r\n\r\n\r\n                                                    </>\r\n                                                }\r\n                                                justifyContent=\"flex-start\"\r\n                                                alignItems=\"center\"\r\n                                            // rightIcon={<FontAwesome name=\"automobile\" size={15} color=\"white\" />}\r\n                                            >FREIGHT</Button>\r\n\r\n                                            <Button\r\n                                                borderRadius={0}\r\n                                                borderTopWidth={1}\r\n                                                borderBottomWidth={1}\r\n                                                borderColor={'white'}\r\n                                                _hover={{ bgColor: selectedScreen == 'CHAT MESSAGES' ? '#0642F4' : '#5a7bc9', }}\r\n                                                marginTop={0}\r\n                                                onPress={() => { selectedScreen == 'CHAT MESSAGES' ? null : handleChatMessages() }}\r\n                                                colorScheme={undefined}\r\n                                                bgColor={selectedScreen == 'CHAT MESSAGES' ? '#0642F4' : '#7b9cff'}\r\n                                                leftIcon={\r\n                                                    <>\r\n                                                        <View>\r\n                                                            <Entypo\r\n                                                                name=\"chat\"\r\n                                                                size={20}\r\n                                                                color=\"white\" />\r\n\r\n                                                        </View>\r\n\r\n\r\n                                                    </>\r\n                                                }\r\n                                                justifyContent=\"flex-start\"\r\n                                                alignItems=\"center\"\r\n                                            // rightIcon={<FontAwesome name=\"automobile\" size={15} color=\"white\" />}\r\n                                            >CHAT MESSAGES</Button>\r\n                                        </View>\r\n                                        {/* Footer Content */}\r\n                                        {/* <TouchableOpacity\r\n            style={{ borderTopWidth: 1, borderColor: 'gray', backgroundColor: '#7b9cff', paddingVertical: 10 }}\r\n            onPress={handleSignOut}\r\n          >\r\n            <Text style={{ color: 'white', textAlign: 'center' }}>\r\n              Logout\r\n            </Text>\r\n          </TouchableOpacity> */}\r\n                                    </ScrollView>\r\n                                    <View style={{ borderTopWidth: 0, backgroundColor: '#7b9cff', position: 'absolute', bottom: 0, left: 0, right: 0, borderTopColor: 'gray', paddingTop: 3 }}>\r\n                                        {/* Footer Content */}\r\n                                        {/* <Center marginBottom={1.5}>\r\n            <Button w={100} colorScheme=\"error\" onPress={handleSignOut}>\r\n              <MaterialCommunityIcons name=\"logout\" size={20} color=\"white\" /> Logout\r\n            </Button>\r\n          </Center> */}\r\n                                    </View>\r\n                                </View>\r\n                            </View>\r\n                        </View>\r\n\r\n                    </Animated.View>\r\n                </Modal.Content>\r\n            </Modal>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\n\r\nexport default SideDrawer;","import {\r\n  Box,\r\n  Button,\r\n  Center,\r\n  Flex,\r\n  HStack,\r\n  Icon,\r\n  Image as NativeImage,\r\n  Input,\r\n  Modal,\r\n  NativeBaseProvider,\r\n  Popover,\r\n  Pressable,\r\n  Spinner,\r\n  Stack,\r\n  Text,\r\n  VStack,\r\n  useBreakpointValue,\r\n  TextArea,\r\n  InputRightAddon,\r\n  InputGroup,\r\n  InputLeftAddon,\r\n  Select,\r\n  CheckIcon,\r\n  PresenceTransition,\r\n  CloseIcon,\r\n  ScrollView as ScrollViewNative,\r\n  Divider,\r\n  useDisclosure,\r\n  useDisclose,\r\n  FormControl,\r\n  Checkbox,\r\n  useToast\r\n} from 'native-base';\r\nimport React, { useEffect, useRef, useState, useMemo, useCallback, useReducer } from 'react';\r\nimport {\r\n  Dimensions,\r\n  ImageBackground,\r\n  TouchableOpacity,\r\n  TouchableWithoutFeedback,\r\n  StyleSheet,\r\n  View,\r\n  PanResponder,\r\n  Animated,\r\n  InputAccessoryView,\r\n  FlatList,\r\n  ScrollView,\r\n  TouchableHighlight,\r\n  TextInput,\r\n  Image as RNImage\r\n} from 'react-native';\r\nimport 'react-native-gesture-handler';\r\nimport {\r\n  AntDesign,\r\n  FontAwesome,\r\n  Ionicons,\r\n  MaterialCommunityIcons,\r\n  MaterialIcons,\r\n  Entypo,\r\n  FontAwesome5,\r\n  EvilIcons\r\n} from 'react-native-vector-icons';\r\n// import { createDrawerNavigator } from '@react-navigation/drawer';\r\nimport { useNavigation } from '@react-navigation/core';\r\nimport axios from 'axios';\r\nimport { createUserWithEmailAndPassword, fetchSignInMethodsForEmail, signOut } from 'firebase/auth';\r\nimport { addDoc, collection, doc, getDoc, getFirestore, onSnapshot, setDoc, arrayUnion, updateDoc, query, getDocs, orderBy, startAfter, limit, where, endBefore, endAt, limitToLast, collectionGroup } from 'firebase/firestore';\r\nimport moment from 'moment';\r\nimport { authForCreateUser } from '../../firebasecontrolCreateUser';\r\nimport './../style.css';\r\nimport { projectControlFirestore, projectControlAuth, projectExtensionFirestore, projectExtensionAuth, projectControlFirebase, projectExtensionFirebase } from \"../../crossFirebase\";\r\nimport { launchImageLibrary } from 'react-native-image-picker';\r\nimport { getStorage, ref, uploadBytes, getDownloadURL, listAll, deleteObject } from 'firebase/storage';\r\nimport FastImage from 'react-native-fast-image-web-support';\r\nimport MobileViewDrawer from './SideDrawer/MobileViewDrawer';\r\nimport SideDrawer from './SideDrawer/SideDrawer';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport DraggableFlatList from \"react-native-draggable-flatlist\";\r\nimport { Calendar, LocaleConfig } from 'react-native-calendars';\r\nimport { DragSortableView } from 'react-native-drag-sort';\r\nimport {\r\n  setVehicleListData,\r\n  setSupplyChainsCostsData,\r\n  setSelectedPaidTo,\r\n  setSelectedExpenseName,\r\n  setSupplyChainsCostsModalVisible,\r\n  setVehicleListSupplyChainsCostsData,\r\n  setDeleteImageVisible,\r\n  setSelectedImages,\r\n  setAddAnotherImages,\r\n  setIsAddPhotoVisible,\r\n  setUploadImagesModalVisible,\r\n  setUploadImagesButtonLoading,\r\n  setViewImagesModalVisible,\r\n  setViewImagesData,\r\n  setLoadingModalVisible,\r\n  setAddVehicleListData,\r\n  setEditVehicleModalVisible,\r\n  setFobPriceHistoryModalVisible,\r\n  setFobHistoryData,\r\n  setLoginName\r\n} from './redux/store';\r\n// import { TextInput } from 'react-native-gesture-handler';\r\nimport { nanoid } from 'nanoid';\r\nimport { cloneDeep } from 'lodash';\r\nimport StickyHeader from './Header/StickyHeader';\r\nimport { UsePagination } from './VehicleListComponent/UsePagination';\r\nimport { useNavigate } from 'react-router-dom';\r\n// import { CollectionGroup } from 'firebase-admin/firestore';\r\nconst { width } = Dimensions.get('window');\r\nlet selectedScreen = 'VEHICLE LIST'\r\n\r\nlet globalSupplyChainCostsData = [];\r\nlet globalCurrentSupplyChainCostsData = [];\r\nlet globalFobPriceHistoryData = [];\r\nlet globalCurrentStockID = '';\r\nlet globalSelectedPaidTo = '';\r\nlet globalSPCSelectedDate = '';\r\nlet globalSelectedExpenseName = '';\r\nlet globalSupplyChainCostsAmount = 0;\r\nlet globalSelectedImages = [];\r\nlet globalSelectedVehicle = '';\r\nlet globalSelectedVehicleReferenceNumber = '';\r\nlet globalSelectedCarName = '';\r\nconst nameVariable = {\r\n  text: \"\",\r\n};\r\n\r\nconst firestore = getFirestore();\r\n\r\nconst getEmailOfCurrentUser = () => {\r\n  const user = projectControlAuth.currentUser;\r\n  if (user) {\r\n    const email = user.email;\r\n    return email;\r\n  } else {\r\n    // console.log('No user is currently authenticated');\r\n    return null;\r\n  }\r\n};\r\n\r\n// const Drawer = createDrawerNavigator();\r\n\r\n\r\nconst storage = getStorage(projectExtensionFirebase);\r\n\r\nconst SelectStockStatus = ({ selectedValue, id, item }) => {\r\n\r\n  const dispatch = useDispatch();\r\n  const toast = useToast();\r\n  const stockStatusData = useSelector((state) => state.stockStatusData);\r\n  const [key, setKey] = useState(nanoid());\r\n\r\n  const [selectedStockStatusValue, setSelectedStockStatusValue] = useState(selectedValue);\r\n  const screenWidth = Dimensions.get('window').width;\r\n\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onSnapshot(doc(projectExtensionFirestore, 'VehicleProducts', id), (doc) => {\r\n      if (doc.exists()) {\r\n        const data = doc.data();\r\n        // Handle the data from the document\r\n        setSelectedStockStatusValue(data.stockStatus);\r\n        // console.log(`Read ${doc.size} documents from VehicleProducts`);\r\n\r\n      }\r\n    });\r\n\r\n    // Clean up the listener when the component unmounts\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  const handleSaveStockStatus = async () => {\r\n\r\n    dispatch(setLoadingModalVisible(true));\r\n\r\n    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n    const { datetime } = response.data;\r\n    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n    const year = moment(datetime).format('YYYY');\r\n    const month = moment(datetime).format('MM');\r\n    const monthWithDay = moment(datetime).format('MM/DD');\r\n    const date = moment(datetime).format('YYYY/MM/DD');\r\n    const day = moment(datetime).format('DD');\r\n    const time = moment(datetime).format('HH:mm');\r\n\r\n    const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n    if (item.stockStatus == selectedStockStatusValue || selectedStockStatusValue == '' || selectedStockStatusValue == '__NativeBasePlaceHolder__') {\r\n      dispatch(setLoadingModalVisible(false));\r\n\r\n    }\r\n    else {\r\n\r\n      const stockStatusHistoryData = {\r\n        date: formattedTime,\r\n        stockStatus: selectedStockStatusValue,\r\n        changedBy: nameVariable.text,\r\n      };\r\n      const vehicleProductRef = doc(collection(projectExtensionFirestore, 'VehicleProducts'), item.stockID);\r\n\r\n      try {\r\n        await updateDoc(vehicleProductRef, {\r\n          stockStatus: selectedStockStatusValue,\r\n          stockStatusHistory: arrayUnion(stockStatusHistoryData)\r\n        });\r\n        const logData = {\r\n          message: `Stock Status Updated: \"${nameVariable.text}\" updated \"${item.carName}\" stock status to \"${selectedStockStatusValue}\" with a reference number of \"${item.referenceNumber}\" using Vehicle List.`,\r\n          timestamp: formattedTime,\r\n          colorScheme: true,\r\n          keywords: [\r\n            formattedTime.toLowerCase(),\r\n            globalCurrentStockID.toLowerCase(),\r\n            `Stock Status Updated: \"${nameVariable.text}\" updated \"${item.carName}\" stock status to ${selectedStockStatusValue} with a reference number of \"${item.referenceNumber}\" using Vehicle List`.toLowerCase(),\r\n            'Stock Status'.toLowerCase(),\r\n            'Stock Status Updated'.toLowerCase(),\r\n            'Stock'.toLowerCase(),\r\n            'Status Updated'.toLowerCase(),\r\n            'Updated'.toLowerCase(),\r\n            globalSelectedCarName.toLowerCase(),\r\n            globalSelectedVehicleReferenceNumber.toLowerCase(),\r\n            nameVariable.text.toLowerCase(),\r\n            year.toLowerCase(),\r\n            month.toLowerCase(),\r\n            monthWithDay.toLowerCase(),\r\n            date.toLowerCase(),\r\n            day.toLowerCase(),\r\n            time.toLowerCase(),\r\n            timeWithMinutesSeconds.toLowerCase(),\r\n          ],\r\n        };\r\n        addLogToCollection(logData);\r\n        dispatch(setLoadingModalVisible(false));\r\n\r\n        // console.log('FOB Price updated successfully');\r\n        toast.show({\r\n          render: () => {\r\n            return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n              <Text style={{ color: 'white' }}>Stock Status updated successfully!</Text>\r\n            </View>;\r\n          }\r\n        })\r\n      } catch (error) {\r\n        console.error(error);\r\n        toast.show({\r\n          render: () => {\r\n            return <View style={{ backgroundColor: '#DC2626', padding: 5, borderRadius: 5 }}>\r\n              <Text style={{ color: 'white' }}>Error updating: {error}</Text>\r\n            </View>;\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <View style={{ flex: 1, flexDirection: 'row' }}>\r\n      <View style={{ width: screenWidth >= 1360 ? '70%' : '88%', backgroundColor: 'white', }}>\r\n        <Select\r\n          selectedValue={selectedStockStatusValue}\r\n          onValueChange={(value) => {\r\n            setSelectedStockStatusValue(value);\r\n          }}\r\n          flex={3}\r\n          accessibilityLabel=\"---\"\r\n          placeholder=\"---\"\r\n          _selectedItem={{\r\n            bg: \"teal.600\",\r\n            endIcon: <CheckIcon size=\"5\" />\r\n          }}\r\n        >\r\n          {stockStatusData.map((item) => (\r\n            <Select.Item key={item} label={item} value={item} />\r\n          ))}\r\n        </Select>\r\n      </View>\r\n\r\n      <TouchableHighlight\r\n        underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n        onPress={handleSaveStockStatus}\r\n        style={{\r\n          backgroundColor: '#16A34A',\r\n          borderRadius: 5,\r\n          padding: 3,\r\n          margin: 2,\r\n          alignSelf: 'center',\r\n        }}>\r\n        <MaterialIcons name='update' color='white' size={22} />\r\n      </TouchableHighlight>\r\n    </View>\r\n\r\n\r\n\r\n\r\n  );\r\n};\r\n\r\n\r\nconst addLogToCollection = async (data) => {\r\n  try {\r\n    const logsCollectionRef = collection(projectControlFirestore, 'logs');\r\n\r\n    // Add a new document to the \"logs\" collection\r\n    await addDoc(logsCollectionRef, data);\r\n\r\n    // console.log('Document added successfully!');\r\n  } catch (error) {\r\n    console.error('Error adding document:', error);\r\n  }\r\n};\r\n\r\nconst LoadingModal = () => {\r\n  const loadingModalVisible = useSelector((state) => state.loadingModalVisible);\r\n\r\n\r\n  return (\r\n    <View\r\n      style={{\r\n        position: 'absolute',\r\n        top: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n        flex: 1,\r\n        display: loadingModalVisible ? 'flex' : 'none',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n      }}\r\n    >\r\n      {/* Content within the modal */}\r\n      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n        <Spinner size=\"lg\" color=\"white\" />\r\n        <Text style={{ color: 'white' }}>Loading, please wait!</Text>\r\n      </View>\r\n    </View>\r\n\r\n  );\r\n\r\n}\r\n\r\nconst ClearImagesModal = ({ modalDeleteImagesVisible, setModalDeleteImagesVisible, handleClearImages, selectedImages, isAddPhotoVisible }) => {\r\n  // const [modalDeleteImagesVisible, setModalDeleteImagesVisible] = useState(false);\r\n\r\n  const handleModalDeleteOpen = () => {\r\n    setModalDeleteImagesVisible(true);\r\n  };\r\n\r\n  const handleModalDeleteClose = () => {\r\n    setModalDeleteImagesVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <View\r\n        style={{\r\n          position: 'absolute',\r\n          top: 0,\r\n          right: 0,\r\n          backgroundColor: '#FF4136',\r\n          borderRadius: 3,\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          display: isAddPhotoVisible ? 'none' : 'flex',\r\n        }}\r\n      >\r\n        <TouchableHighlight onPress={handleModalDeleteOpen} style={{ flex: 1 }}>\r\n          <Ionicons name=\"trash-sharp\" size={20} color=\"white\" />\r\n        </TouchableHighlight>\r\n      </View>\r\n\r\n      <Modal isOpen={modalDeleteImagesVisible} onClose={handleModalDeleteClose} useRNModal>\r\n        <Modal.Content bgColor={'error.100'}>\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0} bgColor={'error.100'}>\r\n            <Text color={'#102A43'} bold>\r\n              Clear Images\r\n            </Text>\r\n          </Modal.Header>\r\n          <Modal.Body\r\n            justifyContent={'center'}\r\n            alignItems={'center'}\r\n            bgColor={'error.200'}\r\n            borderLeftWidth={4}\r\n            borderLeftColor={'danger.400'}\r\n            margin={5}\r\n          >\r\n            <View style={{ flex: 1 }}>\r\n              <Text style={{ color: '#FF4136', fontWeight: 'bold' }}>Alert!</Text>\r\n              <Text style={{ color: '#FF4136' }}>\r\n                Are you sure you want to clear{' '}\r\n                <Text style={{ color: '#FF4136', fontWeight: 'bold' }}>\r\n                  {selectedImages.length}\r\n                </Text>{' '}\r\n                selected image(s)?\r\n              </Text>\r\n            </View>\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} bgColor={'error.100'}>\r\n            <View style={{ flexDirection: 'row', flex: 1 }}>\r\n              <TouchableOpacity\r\n                onPress={handleModalDeleteClose}\r\n                style={{\r\n                  flex: 1,\r\n                  backgroundColor: '#57534E', // Replace with your desired color\r\n                  borderRadius: 5,\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  margin: 5,\r\n                  padding: 5,\r\n                }}\r\n              >\r\n                <Text style={{ fontSize: 14, color: 'white' }}>No</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                onPress={handleClearImages}\r\n                style={{\r\n                  flex: 1,\r\n                  backgroundColor: '#DC2626', // Replace with your desired color\r\n                  borderRadius: 5,\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  margin: 5,\r\n                  padding: 5,\r\n                }}\r\n              >\r\n                <Text style={{ fontSize: 14, color: 'white' }}>Clear Images</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ImageUploader = ({ dragSortableViewRef, handleClearImagesExtra }) => {\r\n  const dispatch = useDispatch();\r\n  const { width } = Dimensions.get('window');\r\n\r\n  const deleteImageVisible = useSelector((state) => state.deleteImageVisible);\r\n  const [boolean, setBoolean] = useState(true);\r\n  const selectedImages = useSelector((state) => state.selectedImages);\r\n  // const [selectedImages, setSelectedImages] = useState([]);\r\n  const isAddPhotoVisible = useSelector((state) => state.isAddPhotoVisible);\r\n  const addAnotherImages = useSelector((state) => state.addAnotherImages);\r\n  // const [IsAddPhotoVisible, setIsAddPhotoVisible] = useState(true);\r\n  // const [addAnotherImages, setAddAnotherImages] = useState(false);\r\n  // const modalDeleteImagesVisible = useSelector((state) => state.modalDeleteImagesVisible);\r\n  const [modalDeleteImagesVisible, setModalDeleteImagesVisible] = useState(false);\r\n  const [scrollEnabled, setscrollEnabled] = useState(true);\r\n  const [isEnterEdit, setisEnterEdit] = useState(false);\r\n  const [widthState, setWidthState] = useState(Dimensions.get('window').width);\r\n  const [isCursorLoading, setIsCursorLoading] = useState(false);\r\n  const [modalImageUri, setModalImageUri] = useState('');\r\n  const [imageModalVisible, setImageModalVisible] = useState(false);\r\n  const [isFileSizeLimitModal, setIsFileSizeLimitModal] = useState(false);\r\n\r\n  const handleImagePress = useCallback((uri) => {\r\n    // const base64Image = toString(uri);\r\n    // setIsLoading(true);\r\n    setIsCursorLoading(true);\r\n    setModalImageUri(uri);\r\n    setImageModalVisible(true);\r\n    // console.log(\"URI: \", uri);\r\n\r\n  }, []);\r\n\r\n  const styles = StyleSheet.create({\r\n    dropdown: {\r\n      margin: 16,\r\n      height: 50,\r\n      borderBottomColor: 'gray',\r\n      borderBottomWidth: 0.5,\r\n    },\r\n    icon: {\r\n      marginRight: 5,\r\n    },\r\n    placeholderStyle: {\r\n      fontSize: 16,\r\n    },\r\n    selectedTextStyle: {\r\n      fontSize: 16,\r\n    },\r\n    iconStyle: {\r\n      width: 20,\r\n      height: 20,\r\n    },\r\n    inputSearchStyle: {\r\n      height: 40,\r\n      fontSize: 16,\r\n    },\r\n    container: {\r\n      flex: 1,\r\n      paddingTop: 20,\r\n\r\n    },\r\n    txt: {\r\n      fontSize: 18,\r\n      lineHeight: 24,\r\n      padding: 5\r\n    },\r\n    sort: {\r\n    },\r\n    item_children: {\r\n      width: 90,\r\n      height: 90,\r\n      backgroundColor: 'black',\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n    },\r\n    item_delete_icon: {\r\n      width: 14,\r\n      height: 14,\r\n      position: \"absolute\",\r\n      right: 1,\r\n      top: 1\r\n    },\r\n    item_icon: {\r\n      width: 90,\r\n      height: 90,\r\n      resizeMode: \"contain\",\r\n      position: \"absolute\"\r\n    }\r\n  });\r\n\r\n  const handleImageAddToSelection = async () => {\r\n    dispatch(setDeleteImageVisible(true));\r\n    if (selectedImages.length === 40) {\r\n      return; // Limit reached, do not add a new image\r\n    }\r\n\r\n    const options = {\r\n      mediaType: 'photo',\r\n      // quality: 10,\r\n      maxWidth: 1000,\r\n      maxHeight: 1000,\r\n      selectionLimit: 40 - selectedImages.length, // Adjust the selection limit based on the remaining slots\r\n      storageOptions: {\r\n        skipBackup: true,\r\n        path: 'images',\r\n      },\r\n    };\r\n\r\n    try {\r\n      const response = await launchImageLibrary(options);\r\n      if (response.didCancel) {\r\n        // console.log('User cancelled image picker');\r\n        return;\r\n      } else if (response.error) {\r\n        // console.log('ImagePicker Error: ', response.error);\r\n        return;\r\n      } else if (!response.assets || response.assets.length === 0) {\r\n        // console.log('No images selected.');\r\n        return;\r\n      }\r\n\r\n      // Filter out images larger than 10MB\r\n      const newImages = [...selectedImages];\r\n      const promises = response.assets.map(async (asset) => {\r\n        const file = await fetch(asset.uri).then((res) => res.blob());\r\n        const fileSize = file.size;\r\n        if (fileSize / 1024 / 1024 < 10) {\r\n          const exists = newImages.some((image) => image.uri === asset.uri);\r\n          if (!exists) {\r\n            newImages.push(asset); // Add the asset to the array if it doesn't exist\r\n          }\r\n        } else {\r\n          setIsFileSizeLimitModal(true);\r\n        }\r\n      });\r\n\r\n      await Promise.all(promises);\r\n\r\n      const limitedImages = newImages.slice(0, 40);\r\n      dispatch(setSelectedImages(limitedImages));\r\n      globalSelectedImages = limitedImages;\r\n\r\n      if (limitedImages.length >= 40) {\r\n        dispatch(setAddAnotherImages(false));\r\n      }\r\n\r\n      // limitedImages.forEach((image) => {\r\n      //   console.log(`File size: ${image.fileSize}`);\r\n      // });\r\n\r\n    } catch (error) {\r\n      // console.log('ImagePicker Error: ', error);\r\n    }\r\n  };\r\n\r\n  const reloadData = useCallback(() => {\r\n    if (selectedImages.length > 0) {\r\n      // ... Logic to reload data using selectedImages and width\r\n\r\n      // Assuming your logic has updated selectedImages, you can directly use it here\r\n      const updatedSelectedImages = [...selectedImages];\r\n\r\n      // Dispatch the updatedSelectedImages array to the state\r\n      dispatch(setSelectedImages(updatedSelectedImages));\r\n    }\r\n\r\n  }, [widthState]);\r\n\r\n  useEffect(() => {\r\n    const handleWidthChange = ({ window }) => {\r\n      setWidthState(window.width);\r\n    };\r\n\r\n    Dimensions.addEventListener('change', handleWidthChange);\r\n\r\n    return () => {\r\n      Dimensions.removeEventListener('change', handleWidthChange);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    reloadData();\r\n  }, [reloadData]);\r\n\r\n\r\n\r\n  const handleClearImages = useCallback(() => {\r\n    setModalDeleteImagesVisible(false);\r\n    // dispatch(setSelectedImages([]));\r\n    // globalSelectedImages = [];\r\n    // dispatch(setIsAddPhotoVisible(true));\r\n    // dispatch(setAddAnotherImages(false));\r\n    // dispatch(setDeleteImageVisible(true));\r\n    handleClearImagesExtra();\r\n\r\n  }, []);\r\n\r\n\r\n\r\n  const renderItem = useCallback((item) => {\r\n\r\n    // console.log(item.id);\r\n    // console.log(index)\r\n    if (isEnterEdit) {\r\n\r\n      return (\r\n\r\n        <Box key={item.uri} style={styles.item}>\r\n          <Box style={styles.item_children}>\r\n\r\n            <FastImage\r\n              style={styles.item_icon}\r\n              source={{\r\n                uri: item.uri,\r\n                priority: FastImage.priority.normal,\r\n              }}\r\n              resizeMode={FastImage.resizeMode.contain}\r\n            />\r\n            <Box\r\n              position=\"absolute\"\r\n              top={-3}\r\n              right={-3}\r\n              bg=\"rgba(0, 0, 0, 0.5)\"\r\n              borderRadius={10}\r\n              alignItems=\"center\"\r\n              justifyContent=\"center\"\r\n            >\r\n              <Pressable onPress={() => handleDeleteImagePress(item.uri)} display={boolean ? 'block' : 'none'}>\r\n                <Icon as={<Entypo name=\"circle-with-cross\" />} size={4} color={\"white\"} cursor={'pointer'} />\r\n              </Pressable>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n\r\n      );\r\n    } else {\r\n\r\n      return (\r\n\r\n        <Box key={item.id} style={styles.item}>\r\n          <Box style={styles.item_children}>\r\n\r\n            <FastImage\r\n              style={styles.item_icon}\r\n              source={{\r\n                uri: item.uri,\r\n                priority: FastImage.priority.normal,\r\n              }}\r\n              resizeMode={FastImage.resizeMode.contain}\r\n\r\n            />\r\n\r\n            <Box\r\n              position=\"absolute\"\r\n              top={-3}\r\n              right={-3}\r\n              bg=\"rgba(0, 0, 0, 0.5)\"\r\n              borderRadius={10}\r\n              alignItems=\"center\"\r\n              justifyContent=\"center\"\r\n            >\r\n              <Pressable onPress={() => handleDeleteImagePress(item.uri)} display={boolean ? 'block' : 'none'}>\r\n                <Icon as={<Entypo name=\"circle-with-cross\" />} size={4} color={\"white\"} cursor={'pointer'} />\r\n              </Pressable>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n\r\n  }, []);\r\n\r\n  const getImagesRenderItem = useCallback((item) => {\r\n\r\n    // console.log(item.id);\r\n    // console.log(index)\r\n    if (isEnterEdit) {\r\n\r\n      return (\r\n\r\n        <Box key={item.uri} style={styles.item}>\r\n          <Box style={styles.item_children}>\r\n\r\n            <FastImage\r\n              style={styles.item_icon}\r\n              source={{\r\n                uri: item.uri,\r\n                priority: FastImage.priority.normal,\r\n              }}\r\n              resizeMode={FastImage.resizeMode.contain}\r\n            />\r\n\r\n\r\n          </Box>\r\n        </Box>\r\n\r\n      );\r\n    } else {\r\n\r\n      return (\r\n\r\n        <Box key={item.id} style={styles.item}>\r\n          <Box style={styles.item_children}>\r\n\r\n            <FastImage\r\n              style={styles.item_icon}\r\n              source={{\r\n                uri: item.uri,\r\n                priority: FastImage.priority.normal,\r\n              }}\r\n              resizeMode={FastImage.resizeMode.contain}\r\n\r\n            />\r\n\r\n          </Box>\r\n        </Box>\r\n      );\r\n    }\r\n\r\n\r\n  }, []);\r\n\r\n\r\n  const handleImageSelection = async () => {\r\n    const options = {\r\n      mediaType: 'photo',\r\n      // quality: 10,\r\n      maxWidth: 1000,\r\n      maxHeight: 1000,\r\n      selectionLimit: 40,\r\n      storageOptions: {\r\n        skipBackup: true,\r\n        path: 'images',\r\n      },\r\n    };\r\n\r\n    try {\r\n      const response = await launchImageLibrary(options);\r\n      if (response.didCancel) {\r\n        // console.log('User cancelled image picker');\r\n        return;\r\n      } else if (response.error) {\r\n        // console.log('ImagePicker Error: ', response.error);\r\n        return;\r\n      } else if (!response.assets || response.assets.length === 0) {\r\n        // console.log('No images selected.');\r\n        return;\r\n      }\r\n\r\n      // Remove duplicates from the selected images\r\n      const uniqueImages = response.assets.filter(\r\n        (asset, index, self) => index === self.findIndex((a) => a.uri === asset.uri)\r\n      );\r\n\r\n      // Filter out images larger than 10MB\r\n      const filteredImages = [];\r\n      const imageOrder = [];\r\n      for (let index = 0; index < uniqueImages.length; index++) {\r\n        const image = uniqueImages[index];\r\n        const file = await fetch(image.uri).then((res) => res.blob());\r\n        const fileSize = file.size;\r\n        if (fileSize / 1024 / 1024 < 10) {\r\n          filteredImages.push(image);\r\n          imageOrder.push(index);\r\n        } else {\r\n          setIsFileSizeLimitModal(true);\r\n        }\r\n      }\r\n\r\n\r\n      // Sort the filtered images based on their original order\r\n      const sortedImages = filteredImages.sort((a, b) => {\r\n        const indexA = imageOrder[filteredImages.indexOf(a)];\r\n        const indexB = imageOrder[filteredImages.indexOf(b)];\r\n        return indexA - indexB;\r\n      });\r\n\r\n\r\n\r\n      // Limit the number of selected images to 40\r\n      const limitedImages = sortedImages.slice(0, 40);\r\n\r\n      globalSelectedImages = limitedImages;\r\n      if (limitedImages.length > 0) {\r\n        dispatch(setIsAddPhotoVisible(false));\r\n        dispatch(setAddAnotherImages(true));\r\n      }\r\n\r\n      if (limitedImages.length >= 40) {\r\n        dispatch(setIsAddPhotoVisible(false));\r\n        dispatch(setAddAnotherImages(false));\r\n      }\r\n\r\n      dispatch(setSelectedImages(globalSelectedImages));\r\n\r\n    } catch (error) {\r\n      // console.log('ImagePicker Error: ', error);\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  const handleDeleteImagePress = useCallback((uri) => {\r\n\r\n    globalSelectedImages = globalSelectedImages.filter((item) => {\r\n      // Replace 'uriToDelete' with the URI you want to delete\r\n      return item.uri !== uri;\r\n    });\r\n\r\n    if (globalSelectedImages.length < 40) {\r\n      dispatch(setAddAnotherImages(true));\r\n    }\r\n\r\n    if (globalSelectedImages.length == 0) {\r\n      dispatch(setAddAnotherImages(false));\r\n      dispatch(setIsAddPhotoVisible(true));\r\n    }\r\n    dispatch(setSelectedImages(globalSelectedImages));\r\n    // dispatch(setSelectedImages((prevImages) => {\r\n    //   const updatedImages = prevImages.filter((image) => image.uri !== uri);\r\n\r\n    //   if (updatedImages.length < 40) {\r\n    //     dispatch(setAddAnotherImages(true));\r\n    //   }\r\n    //   if (updatedImages.length == 0) {\r\n    //    dispatch(setAddAnotherImages(false));\r\n    //     dispatch(setIsAddPhotoVisible(true));\r\n    //   }\r\n    //   return updatedImages;\r\n    // }));\r\n\r\n    // console.log(globalSelectedImages.map((item) => item.uri));\r\n  }, []);\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      {/* <Box flex={1} flexDir={['column', 'column', 'column', 'row', 'row', 'row']}> */}\r\n\r\n\r\n      <Box flex={1} borderColor={'white'} borderWidth={1}>\r\n        <ScrollView flex={1} contentContainerStyle={{ flexGrow: 1 }}>\r\n          <Box justifyContent={'center'} alignItems={'center'} h={'full'} w={'full'}>\r\n\r\n            <ClearImagesModal\r\n              modalDeleteImagesVisible={modalDeleteImagesVisible}\r\n              setModalDeleteImagesVisible={setModalDeleteImagesVisible}\r\n              handleClearImages={handleClearImages}\r\n              selectedImages={selectedImages}\r\n              isAddPhotoVisible={isAddPhotoVisible} />\r\n\r\n            <Box justifyContent={'center'} alignSelf={'center'} alignItems={'center'} margin={3}>\r\n\r\n              <Icon display={isAddPhotoVisible ? 'block' : 'none'} onPress={handleImageSelection} as={<MaterialIcons name=\"add-photo-alternate\" />} size={100} ml=\"2\" color=\"#12293F\" />\r\n\r\n\r\n              <ScrollView\r\n                scrollEnabled={scrollEnabled}\r\n                flex={1}\r\n              >\r\n                <Box flex={1} display={deleteImageVisible ? 'flex' : 'none'} width={'full'} alignItems={'center'} justifyContent={'center'}>\r\n\r\n\r\n                  <DragSortableView\r\n                    ref={dragSortableViewRef}\r\n                    dataSource={selectedImages}\r\n                    delayLongPress={100}\r\n                    parentWidth={width * 0.33}\r\n                    childrenWidth={100}\r\n                    childrenHeight={100}\r\n                    marginChildrenTop={3}\r\n                    marginChildrenBottom={0}\r\n                    marginChildrenLeft={0}\r\n                    marginChildrenRight={0}\r\n                    onDragStart={useCallback(() => {\r\n                      if (!isEnterEdit) {\r\n                        setisEnterEdit(true);\r\n                        setscrollEnabled(false);\r\n                      } else {\r\n                        setscrollEnabled(false);\r\n                      }\r\n                    }, [])}\r\n                    onDragEnd={useCallback(() => {\r\n                      setscrollEnabled(true);\r\n                    }, [])}\r\n                    onDataChange={useCallback((data) => {\r\n\r\n                      if (data.length !== data) {\r\n                        dispatch(setSelectedImages(data));\r\n                        globalSelectedImages = data;\r\n                      }\r\n\r\n                    }, [])}\r\n                    onClickItem={(item, index) => {\r\n                      handleImagePress(index.uri);\r\n                    }}\r\n                    keyExtractor={(item) => item.uri} // FlatList\r\n                    renderItem={\r\n                      useCallback((item, index) => renderItem(item, index), [])} />\r\n\r\n                  <Center>\r\n                    <Icon display={addAnotherImages ? 'block' : 'none'} onPress={handleImageAddToSelection} as={<Entypo name=\"plus\" />} ml={'2'} size={50} color=\"#12293F\" />\r\n                  </Center>\r\n\r\n                </Box>\r\n\r\n\r\n\r\n                <Box flex={1} display={deleteImageVisible ? 'none' : 'flex'} width={'full'}>\r\n\r\n\r\n                  <DragSortableView\r\n                    sortable={false}\r\n                    ref={dragSortableViewRef}\r\n                    dataSource={selectedImages}\r\n                    parentWidth={width * 0.33}\r\n                    childrenWidth={100}\r\n                    childrenHeight={100}\r\n                    marginChildrenTop={3}\r\n                    marginChildrenBottom={0}\r\n                    marginChildrenLeft={0}\r\n                    marginChildrenRight={0}\r\n                    onClickItem={(item, index) => {\r\n                      handleImagePress(index.uri);\r\n                    }}\r\n                    keyExtractor={(item) => item.uri} // FlatList\r\n                    renderItem={\r\n                      useCallback((item, index) => getImagesRenderItem(item, index), [])} />\r\n\r\n                </Box>\r\n              </ScrollView>\r\n\r\n\r\n\r\n\r\n            </Box>\r\n\r\n\r\n            <Box\r\n              position=\"absolute\"\r\n              top={0}\r\n              left={0}\r\n              borderRadius={3}\r\n              bgColor={'rgba(0, 0, 0, 0.5)'}\r\n              alignItems=\"center\"\r\n              justifyContent=\"center\"\r\n              display={isAddPhotoVisible ? 'none' : 'block'}>\r\n              <Text marginLeft={1} marginRight={1} color={'white'} bold italic fontSize={12}>Selected {selectedImages.length} image(s) (Maximum of 40)</Text>\r\n            </Box>\r\n          </Box>\r\n\r\n        </ScrollView>\r\n\r\n\r\n\r\n      </Box>\r\n\r\n      {/* </Box> */}\r\n\r\n      <Modal isOpen={imageModalVisible} onClose={() => setImageModalVisible(false)} size={'100%'} useRNModal>\r\n\r\n        <Box w={'80%'} h={'80%'} bgColor={'rgba(0, 0, 0, 0.7)'} borderRadius={10} display=\"flex\" alignItems=\"center\" justifyContent=\"center\" alignContent={'center'}>\r\n          <Modal.CloseButton color={'white'} />\r\n          <NativeImage\r\n            key={modalImageUri}\r\n            source={{ uri: modalImageUri }}\r\n            resizeMode='contain'\r\n            flex={1}\r\n            alt={modalImageUri}\r\n            h={720}\r\n            w={1280}\r\n          />\r\n\r\n        </Box>\r\n\r\n      </Modal>\r\n\r\n      <Modal isOpen={isFileSizeLimitModal} onClose={() => setIsFileSizeLimitModal(false)} useRNModal>\r\n        <Modal.Content bgColor={'danger.100'}>\r\n          <Modal.Header borderBottomWidth={0} bgColor={'danger.100'}>\r\n            <Text color={'#102A43'} bold>\r\n              Failed!\r\n            </Text>\r\n          </Modal.Header>\r\n          <Modal.Body\r\n            bgColor={'danger.200'}\r\n            borderLeftWidth={4}\r\n            borderLeftColor={'danger.600'}\r\n            margin={5}\r\n          >\r\n            <Box flex={1}>\r\n              <Text color={'danger.600'} bold>\r\n                Failed!\r\n              </Text>\r\n              <Text color={'danger.600'}>\r\n                Please select image(s) smaller than 10MB!\r\n              </Text>\r\n            </Box>\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} bgColor={'danger.100'}>\r\n            <HStack space={5} flex={1}>\r\n              <Button colorScheme={'primary'} flex=\"1\" onPress={() => setIsFileSizeLimitModal(false)} _text={{ color: 'white' }}>\r\n                Ok\r\n              </Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ImageUploadModal = ({ handleUploadImagesModalClose, screenWidth, dragSortableViewRef, handleClearImagesExtra, handleUploadImages }) => {\r\n\r\n  const uploadImagesModalVisible = useSelector((state) => state.uploadImagesModalVisible)\r\n  const uploadImagesButtonLoading = useSelector((state) => state.uploadImagesButtonLoading)\r\n  return (\r\n    <Modal isOpen={uploadImagesModalVisible} onClose={handleUploadImagesModalClose} size={'full'} useRNModal>\r\n      <Modal.Content bgColor={'white'} w={'90%'} h={'100%'}>\r\n        <Modal.CloseButton />\r\n        <Modal.Header bgColor={'#7B9CFF'} flexDir={screenWidth <= 960 ? 'column' : 'row'} alignItems={screenWidth <= 960 ? 'center' : ''}>\r\n          <Text color={'white'} fontSize={20} bold>Upload Images for </Text><Text color={'cyan.200'} fontSize={20} bold textAlign={screenWidth <= 960 ? 'center' : ''}>{globalSelectedVehicle}</Text>\r\n        </Modal.Header>\r\n\r\n\r\n        <View style={{ flex: 1, height: '100%', width: '100%', alignItems: 'center', justifyContent: 'center' }}>\r\n\r\n          <View style={{ borderWidth: 1, borderColor: '#12293F', width: '95%', height: '95%' }}>\r\n\r\n            <ImageUploader dragSortableViewRef={dragSortableViewRef} handleClearImagesExtra={handleClearImagesExtra} />\r\n\r\n          </View>\r\n\r\n        </View>\r\n\r\n        <View style={{ flexDirection: 'row' }}>\r\n          <TouchableOpacity\r\n            onPress={handleUploadImagesModalClose}\r\n            style={{\r\n              backgroundColor: '#525252',\r\n              borderRadius: 5,\r\n              margin: 3,\r\n              flex: 1,\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              padding: 8,\r\n            }}>\r\n            <Text style={{ color: 'white' }}>Close</Text>\r\n          </TouchableOpacity>\r\n          <View style={{ flex: 4 }} />\r\n\r\n          <TouchableOpacity\r\n            disabled={uploadImagesButtonLoading}\r\n            onPress={handleUploadImages}\r\n            style={{\r\n              backgroundColor: '#16A34A',\r\n              borderRadius: 5,\r\n              margin: 3,\r\n              flex: 1,\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              padding: 8,\r\n            }}>\r\n            {!uploadImagesButtonLoading ? (\r\n              <Text style={{ color: 'white' }}>Upload</Text>) : (\r\n              <Spinner color=\"white\" />\r\n            )}\r\n          </TouchableOpacity>\r\n\r\n\r\n        </View>\r\n\r\n\r\n\r\n      </Modal.Content>\r\n\r\n    </Modal>\r\n\r\n  );\r\n}\r\n\r\nconst UploadImagesModal = ({ fetchImageCounts }) => {\r\n\r\n\r\n  const screenWidth = Dimensions.get('window').width;\r\n  const dispatch = useDispatch();\r\n  const toast = useToast();\r\n  const dragSortableViewRef = useRef();\r\n\r\n  const handleClearImagesExtra = () => {\r\n    dispatch(setSelectedImages([]));\r\n    globalSelectedImages = [];\r\n    dispatch(setIsAddPhotoVisible(true));\r\n    dispatch(setAddAnotherImages(false));\r\n    dispatch(setDeleteImageVisible(true));\r\n  };\r\n\r\n\r\n  const handleUploadImagesModalClose = () => {\r\n\r\n    dispatch(setUploadImagesModalVisible(false));\r\n    // globalCurrentStockID = '';\r\n    handleClearImagesExtra();\r\n    globalSelectedVehicle = '';\r\n  }\r\n\r\n  const uploadImages = useCallback(async () => {\r\n\r\n    const storageRef = ref(storage, `${globalCurrentStockID}`);\r\n    const ImageFormat = { jpg: 'jpg' };\r\n    const collectionRef = collection(projectExtensionFirestore, 'VehicleProducts');\r\n    const docRef = doc(collectionRef, globalCurrentStockID);\r\n\r\n\r\n\r\n    try {\r\n      // Get the names of the images to keep\r\n      const imageNamesToKeep = globalSelectedImages.map((asset, index) => index.toString());\r\n\r\n      // Delete existing files in the folder that do not match the names of the images to keep\r\n      const listResult = await listAll(storageRef);\r\n      await Promise.all(\r\n        listResult.items\r\n          .filter((itemRef) => !imageNamesToKeep.includes(itemRef.name))\r\n          .map((itemRef) => deleteObject(itemRef))\r\n      );\r\n\r\n      await Promise.all(\r\n        globalSelectedImages.map(async (asset, index) => {\r\n          const { uri } = asset;\r\n          const imagename = index.toString();\r\n\r\n          const response = await fetch(uri);\r\n          const blob = await response.blob();\r\n\r\n          // Create an offscreen canvas\r\n          const canvas = document.createElement('canvas');\r\n          const ctx = canvas.getContext('2d');\r\n\r\n          // Create a new image object\r\n          const img = new Image();\r\n          img.src = URL.createObjectURL(blob);\r\n\r\n          // Draw the image on the canvas\r\n          img.onload = async () => {\r\n            // Create a canvas element\r\n            const canvas = document.createElement('canvas');\r\n            const ctx = canvas.getContext('2d');\r\n\r\n            // Calculate the desired width and height for the resized image\r\n            const maxWidth = 800; // Set your desired maximum width\r\n            const maxHeight = 600; // Set your desired maximum height\r\n            let newWidth = img.width;\r\n            let newHeight = img.height;\r\n\r\n            // Check if the image needs resizing\r\n            if (img.width > maxWidth) {\r\n              newWidth = maxWidth;\r\n              newHeight = (img.height * maxWidth) / img.width;\r\n            }\r\n\r\n            if (newHeight > maxHeight) {\r\n              newWidth = (newWidth * maxHeight) / newHeight;\r\n              newHeight = maxHeight;\r\n            }\r\n\r\n            // Set the canvas dimensions to the new width and height\r\n            canvas.width = newWidth;\r\n            canvas.height = newHeight;\r\n\r\n            // Draw the resized image onto the canvas\r\n            ctx.drawImage(img, 0, 0, newWidth, newHeight);\r\n\r\n            // Calculate the font size as a percentage of the image width\r\n            const fontSizePercentage = 3;\r\n            const imageRes = img.height * img.width;\r\n            const fontSize = (canvas.width * fontSizePercentage) / 100;\r\n\r\n            ctx.font = `bold ${fontSize}px Arial`;\r\n            ctx.fillStyle = '#fff';\r\n            ctx.shadowColor = 'transparent';\r\n            ctx.imageSmoothingEnabled = true;\r\n            ctx.lineWidth = 2;\r\n\r\n            // Calculate the position for the watermark text\r\n            const watermarkText = `Real Motor Japan ${globalSelectedVehicleReferenceNumber}`;\r\n            const textWidth = ctx.measureText(watermarkText).width;\r\n            const textHeight = fontSize; // Font size determines the text height\r\n\r\n            // Set padding around the text (adjust as needed)\r\n            const paddingX = 10;\r\n            const paddingY = 5;\r\n\r\n            // Calculate the position for the text shadow\r\n            const xShadow = (canvas.width - textWidth) / 2 + 2; // Adjust the horizontal position for the shadow\r\n            const yShadow = canvas.height - 20 + 2; // Adjust the vertical position for the shadow\r\n\r\n            // Increase the shadow thickness by adjusting the shadow blur radius\r\n            ctx.shadowBlur = 10; // Adjust this value to make the shadow thicker\r\n\r\n            // Draw the text shadow (black)\r\n            ctx.fillStyle = 'black';\r\n            ctx.fillText(watermarkText, xShadow, yShadow);\r\n\r\n            // Reset the shadow blur radius for the actual text\r\n            ctx.shadowBlur = 2; // Reset the shadow blur radius to the original value\r\n\r\n            // Calculate the position for the actual text\r\n            const x = (canvas.width - textWidth) / 2;\r\n            const y = canvas.height - 20;\r\n\r\n            // Draw the actual text (white)\r\n            ctx.fillStyle = '#fff';\r\n            ctx.fillText(watermarkText, x, y);\r\n\r\n            // Convert the canvas to a blob\r\n            const watermarkedImageBlob = await new Promise(resolve => {\r\n              canvas.toBlob(resolve, 'image/jpeg', 0.8); // You can adjust the quality (0.7 is a good compromise between size and quality)\r\n            });\r\n\r\n            // Upload the resized image to Firebase Storage\r\n            const imageRef = ref(storage, `${globalCurrentStockID}/${imagename}`);\r\n            await uploadBytes(imageRef, watermarkedImageBlob, { contentType: 'image/jpeg' });\r\n          };\r\n        })\r\n      );\r\n      const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n      const { datetime } = response.data;\r\n      const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n      const year = moment(datetime).format('YYYY');\r\n      const month = moment(datetime).format('MM');\r\n      const monthWithDay = moment(datetime).format('MM/DD');\r\n      const date = moment(datetime).format('YYYY/MM/DD');\r\n      const day = moment(datetime).format('DD');\r\n      const time = moment(datetime).format('HH:mm');\r\n      const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n      const imageCount = {\r\n        imageCount: globalSelectedImages.length,\r\n      };\r\n\r\n      await updateDoc(docRef, imageCount);\r\n\r\n      const logData = {\r\n        message: `Vehicle Updated: \"${nameVariable.text}\" updated \"${globalSelectedCarName}\" images with a reference number of \"${globalSelectedVehicleReferenceNumber}\" using Vehicle List`,\r\n        timestamp: formattedTime,\r\n        colorScheme: true,\r\n        keywords: [\r\n          formattedTime.toLowerCase(),\r\n          globalCurrentStockID.toLowerCase(),\r\n          `Vehicle Updated: \"${nameVariable.text}\" updated \"${globalSelectedCarName}\" images with a reference number of \"${globalSelectedVehicleReferenceNumber} using Vehicle List\"`.toLowerCase(),\r\n          'Vehicle List'.toLowerCase(),\r\n          'Vehicle Updated'.toLowerCase(),\r\n          'Vehicle'.toLowerCase(),\r\n          'Updated'.toLowerCase(),\r\n          globalSelectedCarName.toLowerCase(),\r\n          globalSelectedVehicleReferenceNumber.toLowerCase(),\r\n          nameVariable.text.toLowerCase(),\r\n          year.toLowerCase(),\r\n          month.toLowerCase(),\r\n          monthWithDay.toLowerCase(),\r\n          date.toLowerCase(),\r\n          day.toLowerCase(),\r\n          time.toLowerCase(),\r\n          timeWithMinutesSeconds.toLowerCase(),\r\n        ],\r\n      };\r\n      addLogToCollection(logData);\r\n\r\n      // console.log(`Images uploaded to folder ${globalCurrentStockID}`);\r\n    } catch (error) {\r\n      console.error('Error uploading images:', error);\r\n    }\r\n  }, []);\r\n\r\n\r\n  const handleUploadImages = async () => {\r\n\r\n    dispatch(setUploadImagesButtonLoading(true));\r\n\r\n    if (globalSelectedImages.length > 0) {\r\n      toast.closeAll();\r\n      try {\r\n        await uploadImages();\r\n        dispatch(setUploadImagesButtonLoading(false));\r\n        fetchImageCounts();\r\n        handleUploadImagesModalClose();\r\n        toast.show({\r\n          render: () => {\r\n            return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n              <Text style={{ color: 'white' }}>Uploaded Images successfully!</Text>\r\n            </View>;\r\n          }\r\n        })\r\n\r\n      } catch (error) {\r\n        console.error(error);\r\n        dispatch(setUploadImagesButtonLoading(false));\r\n        handleUploadImagesModalClose();\r\n\r\n        toast.show({\r\n          render: () => {\r\n            return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n              <Text style={{ color: 'white' }}>Uploaded Error: {error}</Text>\r\n            </View>;\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n    else {\r\n      dispatch(setUploadImagesButtonLoading(false));\r\n    }\r\n\r\n\r\n\r\n  };\r\n\r\n  return (\r\n\r\n    <>\r\n      <ImageUploadModal\r\n        handleUploadImagesModalClose={handleUploadImagesModalClose}\r\n        screenWidth={screenWidth}\r\n        dragSortableViewRef={dragSortableViewRef}\r\n        handleClearImagesExtra={handleClearImagesExtra}\r\n        handleUploadImages={handleUploadImages} />\r\n    </>\r\n  );\r\n\r\n};\r\n\r\n\r\nconst SupplyChainsCosts = ({ data }) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n\r\n\r\n  const handleModalSupplyChainsCostsOpen = useCallback((data) => {\r\n    dispatch(setSupplyChainsCostsModalVisible(true));\r\n    dispatch(setVehicleListSupplyChainsCostsData(data.supplyChainsCostsData ? data.supplyChainsCostsData : []));\r\n    globalSupplyChainCostsData = data.supplyChainsCostsData;\r\n    globalCurrentSupplyChainCostsData = data.supplyChainsCostsData;\r\n    globalCurrentStockID = data.stockID;\r\n    globalSelectedVehicle = `${data.referenceNumber} / ${data.carName}`;\r\n    globalSelectedVehicleReferenceNumber = data.referenceNumber;\r\n    globalSelectedCarName = data.carName;\r\n\r\n  }, []);\r\n\r\n  return (\r\n    <><TouchableOpacity\r\n      onPress={() => handleModalSupplyChainsCostsOpen(data)}\r\n      style={{\r\n        backgroundColor: '#12293F',\r\n        borderRadius: 5,\r\n        padding: 2,\r\n        // flex: 1,\r\n        width: '90%',\r\n        justifyContent: 'center',\r\n        alignItems: 'center'\r\n      }}\r\n    >\r\n      {/* <Text style={{ textAlign: 'center', }}>Expense</Text> */}\r\n      <MaterialIcons name=\"payments\" size={22} color=\"white\" />\r\n    </TouchableOpacity>\r\n\r\n\r\n    </>\r\n\r\n\r\n  );\r\n}\r\n\r\nconst AllSccModals = ({ supplyChainsCostsModalVisible, supplyChainsCostsData, expenseNameData, paidToData, currentDate, vehicleListSupplyChainsCostsData }) => {\r\n  const screenWidth = Dimensions.get('window').width;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const toast = useToast();\r\n\r\n  const [sccData, setSccData] = useState([]);\r\n\r\n  // const supplyChainsCostsModalVisible = useSelector((state) => state.supplyChainsCostsModalVisible);\r\n  const [modalCalendarVisible, setModalCalendarVisible] = useState(false);\r\n\r\n\r\n  const [clearModalVisible, setClearModalVisible] = useState(false);\r\n  const [data, setData] = useState([]);\r\n\r\n  const [selectedDate, setSelectedDate] = useState(currentDate);\r\n  const [inputAmountIsError, setInputAmountIsError] = useState(false);\r\n  const [expenseNameIsError, setExpenseNameIsError] = useState(false);\r\n  const [paidToIsError, setPaidToIsError] = useState(false);\r\n  const [totalAmount, setTotalAmount] = useState(globalSupplyChainCostsAmount);\r\n  // const selectedExpenseName = useSelector((state) => state.selectedExpenseName);\r\n  // const selectedPaidTo = useSelector((state) => state.selectedPaidTo);\r\n  const [selectResetKey, setSelectResetKey] = useState(nanoid());\r\n  const selectExpenseNameRef = useRef(null);\r\n  const selectPaidToRef = useRef(null);\r\n  const expenseViewRef = useRef(null);\r\n\r\n  const textAreaAddExpenseName = useRef(null);\r\n  const textAreaAddPaidTo = useRef(null);\r\n  const inputExpenseAmount = useRef(null);\r\n  const handleInputExpenseAmountChange = (text) => {\r\n    // Remove any non-numeric characters\r\n    const numericValue = text.replace(/[^0-9]/g, '');\r\n\r\n    // Limit the numeric value to a maximum of 4 characters\r\n    const truncatedValue = numericValue.slice(0, 6);\r\n\r\n    // Format the truncated numeric value with comma separator\r\n    const formattedValue = Number(truncatedValue).toLocaleString();\r\n\r\n    inputExpenseAmount.current.value = formattedValue;\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  const handleModalSupplyChainsCostsClose = () => {\r\n    dispatch(setSupplyChainsCostsModalVisible(false));\r\n    inputExpenseAmount.current?.clear();\r\n    globalSelectedExpenseName = '';\r\n    setSelectResetKey(nanoid());\r\n    globalSelectedPaidTo = '';\r\n    setSelectedDate(currentDate);\r\n    globalSPCSelectedDate = currentDate;\r\n    dispatch(setSelectedExpenseName(''));\r\n    dispatch(setSelectedPaidTo(''));\r\n    setInputAmountIsError(false);\r\n    setExpenseNameIsError(false);\r\n    setPaidToIsError(false);\r\n    globalSelectedVehicle = '';\r\n  };\r\n\r\n\r\n  const handleClearModalOpen = () => {\r\n    setClearModalVisible(true);\r\n  };\r\n\r\n  const handleClearModalClose = () => {\r\n    setClearModalVisible(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const amounts = vehicleListSupplyChainsCostsData.map((item) => {\r\n      const expenseName = Object.keys(item)[0];\r\n      const expenseData = item[expenseName];\r\n      return parseFloat(expenseData.amount.replace(',', '')) || 0;\r\n    });\r\n\r\n    // Use reduce to add up all the amounts\r\n    const totalAmount = amounts.reduce((accumulator, currentValue) => accumulator + currentValue, 0);\r\n    const formattedTotalAmount = totalAmount.toLocaleString();\r\n    setTotalAmount(formattedTotalAmount);\r\n    globalSupplyChainCostsAmount = formattedTotalAmount;\r\n\r\n  }, [vehicleListSupplyChainsCostsData]);\r\n\r\n  const handleSave = useCallback(() => {\r\n\r\n\r\n\r\n    if (inputExpenseAmount.current?.value == ''\r\n      || inputExpenseAmount.current?.value == 0\r\n      || globalSelectedExpenseName == ''\r\n      || globalSelectedPaidTo == ''\r\n    ) {\r\n\r\n      if (inputExpenseAmount.current?.value == '' || inputExpenseAmount.current?.value == 0) {\r\n        setInputAmountIsError(true);\r\n      }\r\n\r\n      if (globalSelectedExpenseName == '') {\r\n        setExpenseNameIsError(true);\r\n      }\r\n\r\n      if (globalSelectedPaidTo == '') {\r\n        setPaidToIsError(true);\r\n      }\r\n    }\r\n\r\n    else {\r\n      const existingIndex = globalSupplyChainCostsData.findIndex(item => item[globalSelectedExpenseName]);\r\n\r\n      if (existingIndex !== -1) {\r\n        // If an entry with the same expense name exists, update it\r\n        const updatedData = cloneDeep(globalSupplyChainCostsData);\r\n        updatedData[existingIndex][globalSelectedExpenseName] = {\r\n          expenseName: globalSelectedExpenseName,\r\n          amount: inputExpenseAmount.current?.value,\r\n          date: globalSPCSelectedDate,\r\n          paidName: globalSelectedPaidTo,\r\n        };\r\n        globalSupplyChainCostsData = updatedData;\r\n        dispatch(setVehicleListSupplyChainsCostsData(globalSupplyChainCostsData));\r\n        dispatch(setSelectedExpenseName(''));\r\n        dispatch(setSelectedPaidTo(''));\r\n        inputExpenseAmount.current.clear();\r\n        globalSelectedExpenseName = '';\r\n        globalSelectedPaidTo = '';\r\n        setSelectedDate(currentDate);\r\n        globalSPCSelectedDate = currentDate;\r\n\r\n      } else {\r\n        setInputAmountIsError(false);\r\n        setExpenseNameIsError(false);\r\n        setPaidToIsError(false);\r\n        // If no entry with the same expense name exists, add a new entry\r\n        const newData = {\r\n          [globalSelectedExpenseName]: {\r\n            expenseName: globalSelectedExpenseName,\r\n            amount: inputExpenseAmount.current?.value,\r\n            date: globalSPCSelectedDate,\r\n            paidName: globalSelectedPaidTo,\r\n          },\r\n        };\r\n        globalSupplyChainCostsData = [...globalSupplyChainCostsData, newData];\r\n        // console.log(globalSupplyChainCostsData);\r\n        // const updatedData = { ...supplyChainsCostsData, ...newData };\r\n        dispatch(setVehicleListSupplyChainsCostsData(globalSupplyChainCostsData));\r\n        // globalSupplyChainCostsData = [...supplyChainsCostsData, newData];\r\n        setSelectResetKey(nanoid());\r\n        inputExpenseAmount.current.clear();\r\n        globalSelectedExpenseName = '';\r\n        globalSelectedPaidTo = '';\r\n        setSelectedDate(currentDate);\r\n        globalSPCSelectedDate = currentDate;\r\n        dispatch(setSelectedExpenseName(''));\r\n        dispatch(setSelectedPaidTo(''));\r\n\r\n\r\n      }\r\n\r\n    }\r\n\r\n\r\n\r\n  }, []);\r\n\r\n\r\n\r\n  const handleEditPress = useCallback((item) => {\r\n    // console.log(item.amount);\r\n    inputExpenseAmount.current.setNativeProps({ text: item.amount });\r\n    dispatch(setSelectedExpenseName(item.expenseName));\r\n    globalSelectedExpenseName = item.expenseName;\r\n    dispatch(setSelectedPaidTo(item.paidName));\r\n    globalSelectedPaidTo = item.paidName;\r\n    globalSPCSelectedDate = item.date;\r\n    setSelectedDate(item.date);\r\n    expenseViewRef.current.scrollIntoView({ behavior: 'smooth' });\r\n\r\n  }, [])\r\n\r\n\r\n  const handleDeleteItem = (expenseName) => {\r\n    // Find the index of the item to be deleted\r\n    const itemIndex = globalSupplyChainCostsData.findIndex((item) => Object.keys(item)[0] === expenseName);\r\n\r\n    if (itemIndex !== -1) {\r\n      // Create a copy of the data array and remove the item at the found index\r\n      const newData = [...globalSupplyChainCostsData];\r\n      newData.splice(itemIndex, 1);\r\n\r\n      // Update the state with the new array\r\n      dispatch(setVehicleListSupplyChainsCostsData(newData));\r\n      globalSupplyChainCostsData = newData;\r\n    }\r\n  };\r\n\r\n  const handleFirstModalClose = () => {\r\n    dispatch(setSupplyChainsCostsModalVisible(false));\r\n\r\n  };\r\n  const handleFirstModalOpen = () => {\r\n    dispatch(setSupplyChainsCostsModalVisible(true));\r\n\r\n  }\r\n\r\n  const handleAddExpenseNameTextChange = () => {\r\n    const textAreaValue = textAreaAddExpenseName.current?.value;\r\n    if (textAreaValue) {\r\n      const newText = textAreaValue\r\n        .split('\\n')\r\n        .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n        .join('\\n');\r\n      textAreaAddExpenseName.current.setNativeProps({ text: newText });\r\n    }\r\n  };\r\n\r\n  const handleAddPaidToTextChange = () => {\r\n    const textAreaValue = textAreaAddPaidTo.current?.value;\r\n    if (textAreaValue) {\r\n      const newText = textAreaValue\r\n        .split('\\n')\r\n        .map((line) => line.charAt(0).toUpperCase() + line.slice(1))\r\n        .join('\\n');\r\n      textAreaAddPaidTo.current.setNativeProps({ text: newText });\r\n    }\r\n  };\r\n\r\n  const handleSaveSupplyChainsCosts = async () => {\r\n\r\n    toast.closeAll();\r\n    if (globalCurrentSupplyChainCostsData == globalSupplyChainCostsData) {\r\n      // console.log('Same price, will not update')\r\n      dispatch(setSupplyChainsCostsModalVisible(false));\r\n      toast.show({\r\n        render: () => {\r\n          return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n            <Text style={{ color: 'white' }}>Supply Chains Costs updated successfully!</Text>\r\n          </View>;\r\n        }\r\n      })\r\n    }\r\n    else {\r\n      const vehicleProductRef = doc(collection(projectExtensionFirestore, 'VehicleProducts'), globalCurrentStockID);\r\n\r\n      try {\r\n        await updateDoc(vehicleProductRef, { supplyChainsCostsData: globalSupplyChainCostsData });\r\n        dispatch(setSupplyChainsCostsModalVisible(false));\r\n        // console.log('Supply Chains Costs updated successfully');\r\n        toast.show({\r\n          render: () => {\r\n            return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n              <Text style={{ color: 'white' }}>Supply Chains Costs updated successfully!</Text>\r\n            </View>;\r\n          }\r\n        })\r\n\r\n        dispatch(setSupplyChainsCostsModalVisible(false));\r\n        dispatch(setVehicleListSupplyChainsCostsData([]));\r\n        globalSupplyChainCostsData = [];\r\n        globalCurrentSupplyChainCostsData = [];\r\n        globalCurrentStockID = '';\r\n\r\n\r\n      } catch (error) {\r\n        console.error(error);\r\n        toast.show({\r\n          render: () => {\r\n            return <View style={{ backgroundColor: '#DC2626', padding: 5, borderRadius: 5 }}>\r\n              <Text style={{ color: 'white' }}>Error updating: {error}</Text>\r\n            </View>;\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n    // Reference the Firestore document and update the 'fobPrice' field\r\n\r\n  };\r\n  return (\r\n\r\n    <><Modal isOpen={supplyChainsCostsModalVisible} onClose={handleModalSupplyChainsCostsClose} size={'full'}>\r\n      <Modal.Content bgColor={'white'} w={screenWidth <= 960 ? '90%' : '50%'} h={'auto'}>\r\n        <Modal.CloseButton />\r\n        <Modal.Header bgColor={'#7B9CFF'} flexDir={screenWidth <= 1380 ? 'column' : 'row'} alignItems={screenWidth <= 1380 ? 'center' : ''}>\r\n          <Text color={'white'} fontSize={20} bold>Supply Chains Costs</Text>\r\n          <Text color={'cyan.200'} fontSize={20} bold textAlign={screenWidth <= 1380 ? 'center' : ''}> {globalSelectedVehicle}</Text>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <View style={{ height: '100%' }}>\r\n            <View paddingBottom={5}>\r\n              <View style={{ flexDirection: screenWidth <= 960 ? 'column' : 'row', paddingBottom: 1, }} ref={expenseViewRef}>\r\n                <View style={{\r\n                  backgroundColor: '#7B9CFF', flex: 1, flexDirection: 'row', alignItems: 'center', justifyContent: 'center', borderRadius: 3,\r\n                  padding: screenWidth <= 960 ? 5 : 0,\r\n                }}\r\n                  bgColor={'#7B9CFF'} flex={1} flexDir={'row'} alignItems={'center'} justifyContent={'center'} borderRadius={3}>\r\n                  <Text color={'white'} alignSelf={'center'} marginLeft={2} flex={1}>Expense</Text>\r\n                  <SupplyChainsCostsSortAndAddModal\r\n                    docName='ExpenseName'\r\n                    handleAddTextChange={handleAddExpenseNameTextChange}\r\n                    textAreaAdd={textAreaAddExpenseName}\r\n                    title='Expense Name'\r\n                    dataName={'expenseName'}\r\n                    databaseInit={projectExtensionFirestore}\r\n                    headerText=\"Rearrange/Add Expense Name\"\r\n                    data={expenseNameData}\r\n                    handleFirstModalClose={handleFirstModalClose}\r\n                    handleFirstModalOpen={handleFirstModalOpen} />\r\n                </View>\r\n                <SelectExpenseName expenseNameIsError={expenseNameIsError} selectExpenseNameRef={selectExpenseNameRef} selectResetKey={selectResetKey} setSelectResetKey={setSelectResetKey} />\r\n              </View>\r\n\r\n\r\n              <View style={{ flexDirection: screenWidth <= 960 ? 'column' : 'row', paddingBottom: screenWidth <= 960 ? 8 : 1, }} flexDir={'row'} paddingBottom={1}>\r\n                <View style={{\r\n                  backgroundColor: '#7B9CFF', flex: 1, flexDirection: 'row', alignItems: 'center', justifyContent: 'center', borderRadius: 3,\r\n                  padding: screenWidth <= 960 ? 5 : 0,\r\n                }}\r\n                  bgColor={'#7B9CFF'} flex={1} flexDir={'row'} alignItems={'center'} justifyContent={'center'} borderRadius={3}>\r\n                  <Text color={'white'} alignSelf={'center'} marginLeft={2} flex={2}>Amount</Text>\r\n                </View>\r\n                <Input\r\n                  borderColor={inputAmountIsError ? 'error.400' : 'muted.300'}\r\n                  flex={3}\r\n                  ref={inputExpenseAmount}\r\n                  onChangeText={handleInputExpenseAmountChange}\r\n                  placeholder=\"Amount\"\r\n                  bgColor={'white'}\r\n                  placeholderTextColor={'muted.400'}\r\n                  InputLeftElement={<Icon as={<FontAwesome name=\"yen\" />} size={5} ml=\"2\" color=\"muted.400\" />} />\r\n              </View>\r\n\r\n              <View style={{ flexDirection: screenWidth <= 960 ? 'column' : 'row', paddingBottom: 1, }} flexDir={'row'} paddingBottom={1}>\r\n                <View style={{\r\n                  backgroundColor: '#7B9CFF', flex: 1, flexDirection: 'row', alignItems: 'center', justifyContent: 'center', borderRadius: 3,\r\n                  padding: screenWidth <= 960 ? 5 : 0,\r\n                }}\r\n                  bgColor={'#7B9CFF'} flex={1} flexDir={'row'} alignItems={'center'} justifyContent={'center'} borderRadius={3}>\r\n                  <Text color={'white'} alignSelf={'center'} marginLeft={2} flex={1}>Date</Text>\r\n                </View>\r\n                <ModalCalendar setSelectedDate={setSelectedDate} selectedDate={selectedDate} />\r\n              </View>\r\n\r\n              <View style={{ flexDirection: screenWidth <= 960 ? 'column' : 'row', paddingBottom: 1, }} flexDir={'row'} paddingBottom={1}>\r\n                <View style={{\r\n                  backgroundColor: '#7B9CFF', flex: 1, flexDirection: 'row', alignItems: 'center', justifyContent: 'center', borderRadius: 3,\r\n                  padding: screenWidth <= 960 ? 5 : 0,\r\n                }}\r\n                  bgColor={'#7B9CFF'} flex={1} flexDir={'row'} alignItems={'center'} justifyContent={'center'} borderRadius={3}>\r\n                  <Text color={'white'} alignSelf={'center'} marginLeft={2} flex={1}>Paid to</Text>\r\n                  <SupplyChainsCostsSortAndAddModal\r\n                    docName='PaidTo'\r\n                    handleAddTextChange={handleAddPaidToTextChange}\r\n                    textAreaAdd={textAreaAddExpenseName}\r\n                    title='Paid To'\r\n                    dataName={'paidTo'}\r\n                    databaseInit={projectExtensionFirestore}\r\n                    headerText=\"Rearrange/Add Paid To\"\r\n                    data={paidToData}\r\n                    handleFirstModalClose={handleFirstModalClose}\r\n                    handleFirstModalOpen={handleFirstModalOpen} />\r\n                </View>\r\n                <SelectPaidTo paidToIsError={paidToIsError} />\r\n              </View>\r\n\r\n              <TouchableHighlight\r\n                onPress={handleSave}\r\n                underlayColor=\"lightgreen\"\r\n                style={{\r\n                  backgroundColor: '#16A34A',\r\n                  borderRadius: 5,\r\n                  margin: 1,\r\n                  flex: 1,\r\n                  width: screenWidth <= 960 ? '80%' : '40%',\r\n                  alignSelf: 'center',\r\n                  flexDirection: 'row',\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                  padding: 10,\r\n                }}>\r\n                <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n                  <MaterialIcons name=\"add\" color=\"white\" size={20} />\r\n                  <Text style={{ color: 'white', marginLeft: 5 }}>ADD/EDIT</Text>\r\n                </View>\r\n              </TouchableHighlight>\r\n            </View>\r\n            {screenWidth >= 1360 ? (\r\n\r\n              <View>\r\n                <View style={{ flexDirection: 'row', borderBottomWidth: 1, borderColor: '#E4E4E7', backgroundColor: '#0642F4', }}\r\n                  flexDirection=\"row\" borderBottomWidth={1} borderColor=\"gray.200\" bgColor=\"#0642F4\">\r\n                  <Text flex={1} color={'white'} marginLeft={1} bold>Expense Name</Text>\r\n                  <Text flex={1} color={'white'} marginLeft={1} bold>Amount</Text>\r\n                  <Text flex={1} color={'white'} marginLeft={1} bold>Date</Text>\r\n                  <Text flex={1} color={'white'} marginLeft={1} bold>Paid To</Text>\r\n                  <Text flex={1} color={'white'} marginLeft={1} bold>Modify</Text>\r\n                </View>\r\n                {vehicleListSupplyChainsCostsData.map((item, index) => {\r\n                  const expenseName = Object.keys(item)[0];\r\n                  const expenseData = item[expenseName];\r\n                  return (\r\n                    <View style={{ flexDirection: 'row', backgroundColor: '#D4D4D4', borderBottomColor: '#E4E4E7', borderBottomWidth: 1, justifyContent: 'center', alignItems: 'center', }} key={index}\r\n                      flexDirection=\"row\" bgColor={'muted.300'} borderBottomColor=\"gray.200\" borderBottomWidth={1}\r\n                      justifyContent={'center'} alignItems={'center'}>\r\n                      <Text flex={1} marginLeft={1}>{expenseData.expenseName}</Text>\r\n                      <Text flex={1} marginLeft={1}>{expenseData.amount}</Text>\r\n                      <Text flex={1} marginLeft={1}>{expenseData.date}</Text>\r\n                      <Text flex={1} marginLeft={1}>{expenseData.paidName}</Text>\r\n                      <View style={{ flex: 1, flexDirection: 'row', marginLeft: 1 }}\r\n                        flex={1} marginLeft={1} flexDir={'row'}>\r\n                        <TouchableHighlight\r\n                          onPress={() => handleEditPress(expenseData)}\r\n                          underlayColor={'#005691'}\r\n                          style={{\r\n                            flex: 1,\r\n                            margin: 1,\r\n                            borderRadius: 3,\r\n                          }}>\r\n                          <View\r\n                            style={{\r\n                              flex: 1,\r\n                              backgroundColor: '#06B6D4',\r\n                              borderRadius: 3,\r\n                              justifyContent: 'center',\r\n                              alignItems: 'center',\r\n                            }}>\r\n                            <Text style={{ color: 'white', textAlign: 'center' }}>Edit</Text>\r\n                          </View>\r\n                        </TouchableHighlight>\r\n                        <TouchableHighlight\r\n                          onPress={() => handleDeleteItem(expenseData.expenseName)}\r\n                          underlayColor={'#005691'}\r\n                          style={{\r\n                            flex: 1,\r\n                            margin: 1,\r\n                            borderRadius: 3,\r\n                          }}>\r\n                          <View\r\n                            style={{\r\n                              flex: 1,\r\n                              backgroundColor: '#EF4444',\r\n                              borderRadius: 3,\r\n                              justifyContent: 'center',\r\n                              alignItems: 'center',\r\n                            }}>\r\n                            <Text style={{ color: 'white', textAlign: 'center' }}>Delete</Text>\r\n                          </View>\r\n                        </TouchableHighlight>\r\n                        {/* <TouchableHighlight\r\n                        onPress={() => handleDeleteItem(expenseData.expenseName)}\r\n                        style={() => ({\r\n                          flex: 1,\r\n                          margin: 1,\r\n                          borderRadius: 3,\r\n                          backgroundColor: '#CD5C5C',\r\n                        })}>\r\n                        <View\r\n                          style={{\r\n                            flex: 1,\r\n                            borderRadius: 3,\r\n                            justifyContent: 'center',\r\n                            alignItems: 'center',\r\n                            backgroundColor: '#CD5C5C',\r\n                          }}>\r\n                          <Text style={{ color: 'white', textAlign: 'center' }}>Delete</Text>\r\n                        </View>\r\n                      </TouchableHighlight> */}\r\n                      </View>\r\n                    </View>\r\n                  )\r\n                })}\r\n\r\n              </View>\r\n\r\n            ) : (\r\n\r\n              <View>\r\n                {vehicleListSupplyChainsCostsData.map((item, index) => {\r\n                  const expenseName = Object.keys(item)[0];\r\n                  const expenseData = item[expenseName];\r\n                  return (\r\n\r\n                    <View style={{ flexDirection: 'column', justifyContent: 'center', flex: 1, margin: 3, marginBottom: 10, }} key={index}>\r\n\r\n                      <View style={{ flexDirection: 'row', borderBottomWidth: 1, borderColor: '#E4E4E7', backgroundColor: '#D4D4D4' }}>\r\n\r\n                        <View style={{ backgroundColor: '#0642F4', flex: 1, borderBottomWidth: 1, borderColor: '#E4E4E7', justifyContent: 'center', width: '30%' }}>\r\n                          <Text color={'white'} bgColor={'#0642F4'} marginLeft={1} bold>Expense Name</Text>\r\n                        </View>\r\n\r\n                        <Text flex={1} marginLeft={1}>{expenseData.expenseName}</Text>\r\n                      </View>\r\n\r\n                      <View style={{ flexDirection: 'row', borderBottomWidth: 1, borderColor: '#E4E4E7', backgroundColor: '#D4D4D4' }}>\r\n\r\n                        <View style={{ backgroundColor: '#0642F4', flex: 1, borderBottomWidth: 1, borderColor: '#E4E4E7', justifyContent: 'center', width: '30%' }}>\r\n                          <Text color={'white'} bgColor={'#0642F4'} marginLeft={1} bold>Amount</Text>\r\n                        </View>\r\n\r\n                        <Text flex={1} marginLeft={1}>{expenseData.amount}</Text>\r\n                      </View>\r\n\r\n                      <View style={{ flexDirection: 'row', borderBottomWidth: 1, borderColor: '#E4E4E7', backgroundColor: '#D4D4D4' }}>\r\n\r\n                        <View style={{ backgroundColor: '#0642F4', flex: 1, borderBottomWidth: 1, borderColor: '#E4E4E7', justifyContent: 'center', width: '30%' }}>\r\n                          <Text color={'white'} bgColor={'#0642F4'} marginLeft={1} bold>Date</Text>\r\n                        </View>\r\n                        <Text flex={1} marginLeft={1}>{expenseData.date}</Text>\r\n                      </View>\r\n\r\n                      <View style={{ flexDirection: 'row', borderBottomWidth: 1, borderColor: '#E4E4E7', backgroundColor: '#D4D4D4' }}>\r\n\r\n                        <View style={{ backgroundColor: '#0642F4', flex: 1, borderBottomWidth: 1, borderColor: '#E4E4E7', justifyContent: 'center', width: '30%' }}>\r\n                          <Text color={'white'} bgColor={'#0642F4'} marginLeft={1} bold>Paid To</Text>\r\n                        </View>\r\n                        <Text flex={1} marginLeft={1}>{expenseData.paidName}</Text>\r\n                      </View>\r\n\r\n                      <View style={{ flexDirection: 'row', borderBottomWidth: 1, borderColor: '#E4E4E7', backgroundColor: '#D4D4D4' }}>\r\n                        <View style={{ backgroundColor: '#0642F4', flex: 1, borderBottomWidth: 1, borderColor: '#E4E4E7', justifyContent: 'center', width: '30%' }}>\r\n                          <Text color={'white'} bgColor={'#0642F4'} marginLeft={1} bold>Modify</Text>\r\n                        </View>\r\n                        <View style={{ flex: 1, flexDirection: 'row', }}\r\n                          flex={1} marginLeft={1} flexDir={'row'}>\r\n\r\n                          <TouchableHighlight\r\n                            onPress={() => handleEditPress(expenseData)}\r\n                            underlayColor={'#005691'}\r\n                            style={{\r\n                              flex: 1,\r\n                              margin: 1,\r\n                              borderRadius: 3,\r\n                            }}>\r\n                            <View\r\n                              style={{\r\n                                flex: 1,\r\n                                backgroundColor: '#06B6D4',\r\n                                borderRadius: 3,\r\n                                justifyContent: 'center',\r\n                                alignItems: 'center',\r\n                              }}>\r\n                              <Text style={{ color: 'white', textAlign: 'center' }}>Edit</Text>\r\n                            </View>\r\n                          </TouchableHighlight>\r\n                          <TouchableHighlight\r\n                            onPress={() => handleDeleteItem(expenseData.expenseName)}\r\n                            underlayColor={'#005691'}\r\n                            style={{\r\n                              flex: 1,\r\n                              margin: 1,\r\n                              borderRadius: 3,\r\n                            }}>\r\n                            <View\r\n                              style={{\r\n                                flex: 1,\r\n                                backgroundColor: '#EF4444',\r\n                                borderRadius: 3,\r\n                                justifyContent: 'center',\r\n                                alignItems: 'center',\r\n                              }}>\r\n                              <Text style={{ color: 'white', textAlign: 'center' }}>Delete</Text>\r\n                            </View>\r\n                          </TouchableHighlight>\r\n                          {/* <TouchableHighlight\r\n                        onPress={() => handleDeleteItem(expenseData.expenseName)}\r\n                        style={() => ({\r\n                          flex: 1,\r\n                          margin: 1,\r\n                          borderRadius: 3,\r\n                          backgroundColor: '#CD5C5C',\r\n                        })}>\r\n                        <View\r\n                          style={{\r\n                            flex: 1,\r\n                            borderRadius: 3,\r\n                            justifyContent: 'center',\r\n                            alignItems: 'center',\r\n                            backgroundColor: '#CD5C5C',\r\n                          }}>\r\n                          <Text style={{ color: 'white', textAlign: 'center' }}>Delete</Text>\r\n                        </View>\r\n                      </TouchableHighlight> */}\r\n                        </View>\r\n                      </View>\r\n\r\n                    </View>\r\n\r\n\r\n                  )\r\n                })}\r\n\r\n              </View>\r\n\r\n\r\n            )}\r\n\r\n          </View>\r\n\r\n\r\n        </Modal.Body>\r\n        <View\r\n          style={{\r\n            flexDirection: 'row',\r\n            justifyContent: 'space-between',\r\n            width: '100%',\r\n          }}>\r\n          <TouchableOpacity\r\n            onPress={handleModalSupplyChainsCostsClose}\r\n            style={{\r\n              backgroundColor: '#525252',\r\n              borderRadius: 5,\r\n              margin: 3,\r\n              flex: 1,\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              padding: 8,\r\n            }}>\r\n            <Text style={{ color: 'white' }}>Close</Text>\r\n          </TouchableOpacity>\r\n          <View style={{ flex: 4 }} />\r\n          <TouchableOpacity\r\n            onPress={handleSaveSupplyChainsCosts}\r\n            style={{\r\n              backgroundColor: '#16A34A',\r\n              borderRadius: 5,\r\n              margin: 3,\r\n              flex: 1,\r\n              justifyContent: 'center',\r\n              alignItems: 'center',\r\n              padding: 8,\r\n            }}>\r\n            <Text style={{ color: 'white' }}>Save</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </Modal.Content>\r\n    </Modal>\r\n      {/* <Modal isOpen={clearModalVisible} onClose={handleClearModalClose} useRNModal>\r\n        <Modal.Content bgColor={'amber.100'}>\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0} bgColor={'amber.100'}>\r\n            <Text color={'#102A43'} bold>\r\n              Clear\r\n            </Text>\r\n          </Modal.Header>\r\n          <Modal.Body\r\n            justifyContent={'center'}\r\n            alignItems={'center'}\r\n            bgColor={'amber.200'}\r\n            borderLeftWidth={4}\r\n            borderLeftColor={'amber.600'}\r\n            margin={5}>\r\n            <View flex={1}>\r\n              <Text color={'amber.600'} bold>Warning!</Text>\r\n              <Text color={'amber.600'}>Are you sure you want to clear?</Text>\r\n            </View>\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} bgColor={'amber.100'}>\r\n            <HStack space={5} flex={1}>\r\n              <Button\r\n                onPress={handleClearModalClose}\r\n                colorScheme={'warmGray'}\r\n                flex={1}\r\n                size={'sm'}\r\n                borderRadius={5}\r\n              >\r\n                No\r\n              </Button>\r\n              <Button\r\n                onPress={() => {\r\n                }}\r\n                flex={1} size={'sm'} colorScheme={'amber'} borderRadius={5}>\r\n                Clear\r\n              </Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal> */}\r\n    </>\r\n\r\n  );\r\n};\r\n\r\nconst SelectPaidTo = ({ paidToIsError, }) => {\r\n\r\n  const dispatch = useDispatch();\r\n  const paidToData = useSelector((state) => state.paidToData);\r\n  const selectedPaidTo = useSelector((state) => state.selectedPaidTo);\r\n\r\n\r\n\r\n  return <Select\r\n    selectedValue={selectedPaidTo}\r\n    borderColor={paidToIsError ? 'error.400' : 'muted.300'}\r\n    flex={3}\r\n    onValueChange={(value) => {\r\n      globalSelectedPaidTo = value\r\n      dispatch(setSelectedPaidTo(value));\r\n    }}\r\n    accessibilityLabel=\"Choose Paid To\"\r\n    placeholder=\"Choose Paid To\"\r\n    _selectedItem={{\r\n      bg: \"teal.600\",\r\n      endIcon: <CheckIcon size=\"5\" />\r\n    }}>\r\n    {paidToData.map((item) => (\r\n\r\n      <Select.Item key={item} label={item} value={item} />\r\n\r\n    ))}\r\n  </Select>\r\n    ;\r\n};\r\n\r\nconst SupplyChainsCostsSortAndAddModal = ({ headerText, data, title, dataName, databaseInit, textAreaAdd, handleAddTextChange, docName, handleFirstModalOpen, handleFirstModalClose }) => {\r\n  const [modalSortOpen, setModalSortOpen] = useState(false);\r\n  const [modalAddOpen, setModalAddOpen] = useState(false);\r\n  const [modalAddSuccess, setModalAddSuccess] = useState(false);\r\n  const [modalSave, setModalSave] = useState(false);\r\n  const [modalSaveLoading, setModalSaveLoading] = useState(false);\r\n  const [modalData, setModalData] = useState(data);\r\n  const [modalIsLoading, setModalIsLoading] = useState(false);\r\n  const loginName = useSelector((state) => state.loginName);\r\n  nameVariable.text = loginName;\r\n\r\n  const handleDeleteItemPress = useCallback(\r\n    (item) => {\r\n      setModalData((prevData) => {\r\n        const updatedData = prevData.filter((value) => value !== item);\r\n        return updatedData;\r\n      });\r\n    },\r\n    []\r\n  );\r\n\r\n  // useEffect(() => {\r\n\r\n  //   fetchData();\r\n\r\n  // }, [modalSortOpen]);\r\n\r\n\r\n\r\n  const fetchData = useCallback(async () => {\r\n    const modalDocRef = doc(collection(databaseInit, docName), docName);\r\n    const modalDocSnap = await getDoc(modalDocRef);\r\n    if (modalDocSnap.exists()) {\r\n      // setModalData(modalDocSnap.data()?.dataName || []);\r\n      setModalData(modalDocSnap.data()?.[dataName] || []);\r\n    }\r\n  }, [databaseInit, modalData]);\r\n\r\n  // useEffect(() => {\r\n  //   const unsubscribe = onSnapshot(doc(collection(databaseInit, docName), docName), (snapshot) => {\r\n  //     setModalData(snapshot.data()?.[dataName] || []);\r\n  //   });\r\n\r\n  //   return () => unsubscribe();\r\n  // }, [dataName, databaseInit, docName]);\r\n\r\n  const handleSave = useCallback(async () => {\r\n    setModalSaveLoading(true);\r\n\r\n    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n    const { datetime } = response.data;\r\n    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n\r\n    try {\r\n      await updateDoc(doc(collection(databaseInit, docName), docName), { [dataName]: modalData });\r\n      setModalSaveLoading(false);\r\n      setModalSortOpen(true);\r\n      setModalSave(false);\r\n\r\n\r\n      const logData = {\r\n        message: `\"${title}\" updated: \"${nameVariable.text}\" updated \"${title}\"`,\r\n        timestamp: formattedTime,\r\n        colorScheme: true,\r\n      };\r\n\r\n      addLogToCollection(logData);\r\n\r\n    } catch (error) {\r\n      setModalSaveLoading(false);\r\n      handleModalSaveClose();\r\n      console.error(error);\r\n    }\r\n\r\n\r\n  }, [databaseInit, modalData, dataName, docName]);\r\n\r\n\r\n  const handleSortModalOpen = useCallback(() => {\r\n    setModalIsLoading(true);\r\n    fetchData();\r\n    setModalSortOpen(true);\r\n    handleFirstModalClose();\r\n  }, [modalSortOpen, modalIsLoading]);\r\n\r\n  const handleSortModalClose = useCallback(async () => {\r\n\r\n    setModalSortOpen(false);\r\n    setModalIsLoading(false);\r\n    handleFirstModalOpen();\r\n  }, [modalSortOpen, modalIsLoading]);\r\n  // const handleAddTextChange = () => {\r\n  //   const newText = textAreaAdd.current?.value?.toUpperCase();\r\n  //   textAreaAdd.current?.setNativeProps({ text: newText });\r\n  // };\r\n\r\n\r\n  const handleModalAddOpen = useCallback(() => {\r\n    setModalAddOpen(true);\r\n    handleSortModalClose();\r\n    setModalIsLoading(true);\r\n    handleFirstModalClose();\r\n\r\n  }, [])\r\n\r\n  const handleModalAddClose = useCallback(() => {\r\n    setModalAddOpen(false);\r\n    handleSortModalOpen();\r\n    textAreaAdd.current?.clear();\r\n  }, [modalAddOpen])\r\n\r\n  const handleModalAddSuccessClose = useCallback(() => {\r\n    setModalAddSuccess(false);\r\n    // setIsLoading(false);\r\n    handleSortModalOpen();\r\n  }, [modalAddSuccess])\r\n\r\n  const handleModalAddSuccessOpen = useCallback(() => {\r\n    setModalAddSuccess(true);\r\n    handleSortModalClose();\r\n    setModalAddOpen(false);\r\n    setModalIsLoading(true);\r\n    handleFirstModalClose();\r\n  }, [modalAddSuccess, modalAddOpen, modalIsLoading])\r\n\r\n  const handleModalSaveOpen = useCallback(() => {\r\n    setModalSave(true);\r\n    setModalSortOpen(false);\r\n    setModalIsLoading(true);\r\n  }, [modalSave, modalSortOpen, modalIsLoading])\r\n\r\n  const handleModalSaveClose = useCallback(() => {\r\n    setModalSave(false);\r\n    setModalSortOpen(true);\r\n  }, [modalSave, modalSortOpen]);\r\n\r\n  const handleAddSubmit = async () => {\r\n\r\n    const data = textAreaAdd.current?.value;\r\n    const dataArray = data.split('\\n').map((item) => item.trim());\r\n\r\n    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n    const { datetime } = response.data;\r\n    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n\r\n    if (data !== '') {\r\n\r\n      setModalSaveLoading(true);\r\n\r\n      try {\r\n        const modalCollectionRef = collection(databaseInit, docName);\r\n        const modalDocRef = doc(modalCollectionRef, docName);\r\n        await setDoc(modalDocRef, { [dataName]: arrayUnion(...dataArray) }, { merge: true });\r\n\r\n        const logData = {\r\n          message: `\"${title}\" added: \"${nameVariable.text}\" added \"${title}\"(s).`,\r\n          timestamp: formattedTime,\r\n          colorScheme: true,\r\n        };\r\n        addLogToCollection(logData);\r\n        setModalSaveLoading(false);\r\n\r\n        handleModalAddSuccessOpen();\r\n\r\n\r\n\r\n        // console.log('Data added to Firestore');\r\n      } catch (error) {\r\n        console.error('Error adding data to Firestore:', error);\r\n        setModalSaveLoading(false);\r\n      }\r\n    }\r\n    else {\r\n\r\n    }\r\n\r\n\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-end', marginRight: 1 }}>\r\n        {!modalIsLoading ? (\r\n          <TouchableOpacity onPress={handleSortModalOpen}>\r\n            <MaterialCommunityIcons name=\"playlist-edit\" size={25} color=\"white\" />\r\n          </TouchableOpacity>\r\n        ) : (\r\n          <Spinner color=\"white\" />\r\n        )}\r\n      </View>\r\n\r\n      <Modal isOpen={modalSortOpen} onClose={handleSortModalClose} useRNModal>\r\n        <Modal.Content>\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>{headerText}</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1}>\r\n            <View style={{\r\n              width: '100%',\r\n              flexDirection: 'column',\r\n            }}>\r\n              <View style={{ alignItems: 'flex-end' }}>\r\n                <TouchableHighlight onPress={handleModalAddOpen}>\r\n                  <FontAwesome name=\"plus-circle\" size={25} color=\"#102A43\" />\r\n                </TouchableHighlight>\r\n              </View>\r\n\r\n              <View style={{\r\n                flex: 1,\r\n                borderWidth: 1,\r\n                borderColor: '#102A43',\r\n                borderRadius: 5,\r\n              }}>\r\n                <DraggableFlatList\r\n                  style={{ alignContent: 'center', flex: 1, }}\r\n                  data={modalData}\r\n                  keyExtractor={(item) => item}\r\n                  renderItem={({ item, drag }) => (\r\n                    <View\r\n                      style={{\r\n                        flex: 1,\r\n                        backgroundColor: 'rgba(16,42,67, 0.5)',\r\n                        borderBottomWidth: 1,\r\n                        borderBottomColor: '#D3D3D3', // You can use a specific color code here\r\n                        flexDirection: 'row',\r\n                        justifyContent: 'center',\r\n                        alignItems: 'center',\r\n                      }}\r\n                    >\r\n                      <TouchableOpacity onPress={() => handleDeleteItemPress(item)}>\r\n                        <AntDesign name=\"minuscircle\" size={16} color=\"#102A43\" />\r\n                      </TouchableOpacity>\r\n                      <Text style={{ flex: 1, textAlign: 'center', color: 'white' }}>{item}</Text>\r\n                      <TouchableOpacity onPressIn={drag}>\r\n                        <Entypo name=\"menu\" size={16} color=\"#102A43\" />\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  )}\r\n                  onDragEnd={useCallback(({ data }) => setModalData(data), [])} />\r\n\r\n              </View>\r\n            </View>\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0}>\r\n            <View style={{ flexDirection: 'row', flex: 1 }}>\r\n              <TouchableOpacity\r\n                onPress={handleSortModalClose}\r\n                style={{\r\n                  flex: 1,\r\n                  borderRadius: 5,\r\n                  backgroundColor: '#525252',\r\n                  margin: 5,\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                  padding: 8,\r\n                }}\r\n              >\r\n                <Text style={{ color: 'white' }}>Close</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity\r\n                onPress={handleModalSaveOpen}\r\n                style={{\r\n                  flex: 1,\r\n                  borderRadius: 5,\r\n                  backgroundColor: '#0891B2',\r\n                  margin: 5,\r\n                  justifyContent: 'center',\r\n                  alignItems: 'center',\r\n                  padding: 8,\r\n                }}\r\n              >\r\n                <Text style={{ color: 'white' }}>Save</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n      <Modal\r\n        isOpen={modalSave}\r\n        onClose={handleModalSaveClose}>\r\n        <Modal.Content >\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>Save Order?</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1} >\r\n\r\n            <Text>Are you sure you want to save changes?</Text>\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} >\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleModalSaveClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>No</Button>\r\n              <Button onPress={handleSave} flex={1} size={'sm'} borderRadius={5} isLoading={modalSaveLoading ? true : false}>Yes</Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n      <Modal\r\n        isOpen={modalAddOpen}\r\n        onClose={handleModalAddClose}\r\n        initialFocusRef={textAreaAdd}>\r\n        <Modal.Content >\r\n          <Modal.CloseButton />\r\n          <Modal.Header borderBottomWidth={0}>\r\n            <Text color={'#102A43'} bold>Add {title}</Text>\r\n          </Modal.Header>\r\n          <Modal.Body justifyContent={'center'} alignItems={'center'} flex={1} >\r\n\r\n            <TextArea\r\n              textAlign={'center'}\r\n              w={'full'}\r\n              ref={textAreaAdd}\r\n              multiline\r\n              onChangeText={handleAddTextChange}\r\n              totalLines={4}\r\n              placeholder=\"Enter your data, separated by new lines\" />\r\n\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} >\r\n            <HStack space={5} flex={1}>\r\n              <Button onPress={handleModalAddClose} colorScheme={'muted'} flex={1} size={'sm'} borderRadius={5}>Close</Button>\r\n              <Button onPress={handleAddSubmit} isLoading={modalSaveLoading ? true : false} flex={1} size={'sm'} borderRadius={5}>Add</Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n      {/* <SuccessModal isOpen={modalAddMakeSuccess} onClose={handleModalAddMakeSuccessClose} headerText={'Added successfully!'} bodyText={'Added successfully!'}/> */}\r\n      <Modal isOpen={modalAddSuccess} onClose={handleModalAddSuccessClose} useRNModal>\r\n        <Modal.Content bgColor={'green.100'}>\r\n          <Modal.Header borderBottomWidth={0} bgColor={'green.100'}>\r\n            <Text textAlign={'center'} color={'#102A43'} bold>\r\n               Success! \r\n            </Text>\r\n          </Modal.Header>\r\n          <Modal.Body\r\n            justifyContent={'center'}\r\n            alignItems={'center'}\r\n            bgColor={'green.200'}\r\n            borderLeftWidth={4}\r\n            borderLeftColor={'green.600'}\r\n            margin={5}\r\n          >\r\n            <Box flex={1}>\r\n              <Text color={'green.600'} bold>\r\n                Added successfully!\r\n              </Text>\r\n              <Text color={'green.600'}>\r\n                Added successfully!\r\n              </Text>\r\n            </Box>\r\n          </Modal.Body>\r\n          <Modal.Footer borderTopWidth={0} bgColor={'green.100'}>\r\n            <HStack space={5} flex={1}>\r\n              <Button colorScheme={'success'} flex=\"1\" onPress={handleModalAddSuccessClose} _text={{ color: 'white' }}>\r\n                Ok\r\n              </Button>\r\n            </HStack>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n\r\n\r\n    </>\r\n\r\n\r\n  );\r\n};\r\n\r\n\r\n\r\nconst SCC_Modals = () => {\r\n\r\n  const supplyChainsCostsModalVisible = useSelector((state) => state.supplyChainsCostsModalVisible)\r\n  const supplyChainsCostsData = useSelector((state) => state.supplyChainsCostsData);\r\n  const expenseNameData = useSelector((state) => state.expenseNameData);\r\n  const paidToData = useSelector((state) => state.paidToData);\r\n  const currentDate = useSelector((state) => state.currentDate);\r\n  const vehicleListSupplyChainsCostsData = useSelector((state) => state.vehicleListSupplyChainsCostsData);\r\n\r\n  return (\r\n    <AllSccModals\r\n      supplyChainsCostsModalVisible={supplyChainsCostsModalVisible}\r\n      supplyChainsCostsData={supplyChainsCostsData}\r\n      expenseNameData={expenseNameData}\r\n      paidToData={paidToData}\r\n      currentDate={currentDate}\r\n      vehicleListSupplyChainsCostsData={vehicleListSupplyChainsCostsData}\r\n    />\r\n  );\r\n}\r\n\r\nconst ModalCalendar = ({ selectedDate, setSelectedDate }) => {\r\n\r\n  const [modalCalendarVisible, setModalCalendarVisible] = useState(false);\r\n\r\n\r\n  const handleModalCalendarOpen = () => {\r\n    setModalCalendarVisible(true);\r\n  };\r\n\r\n  const handleModalCalendarClose = () => {\r\n    setModalCalendarVisible(false);\r\n  };\r\n\r\n\r\n\r\n  return (\r\n\r\n    <>\r\n      <TouchableOpacity onPress={handleModalCalendarOpen} style={{ flex: 3 }}>\r\n        <Input value={selectedDate} onFocus={handleModalCalendarOpen} />\r\n      </TouchableOpacity>\r\n\r\n      <Modal isOpen={modalCalendarVisible} onClose={handleModalCalendarClose} useRNModal>\r\n        <Modal.CloseButton />\r\n        <Modal.Content>\r\n          <Box height={'full'} flex={1}>\r\n\r\n            <Calendar\r\n              onDayPress={useCallback(day => {\r\n                setSelectedDate(day.dateString);\r\n                // console.log(day.dateString);\r\n                globalSPCSelectedDate = day.dateString;\r\n                handleModalCalendarClose();\r\n              }, [])}\r\n              markedDates={{\r\n                [selectedDate]: { selected: true, disableTouchEvent: true, selectedDotColor: '#7b9cff' }\r\n              }}\r\n              renderArrow={(direction) => (\r\n                direction === 'left' ? <MaterialIcons name='arrow-back-ios' color='#7b9cff' /> : <MaterialIcons name='arrow-forward-ios' color='#7b9cff' />\r\n              )}\r\n              enableSwipeMonths={true}\r\n              initialDate={selectedDate}\r\n              showSixWeeks />\r\n\r\n          </Box>\r\n\r\n        </Modal.Content>\r\n\r\n      </Modal></>\r\n\r\n  );\r\n\r\n}\r\n\r\nconst SelectExpenseName = ({ expenseNameIsError, selectExpenseNameRef, selectResetKey }) => {\r\n\r\n  const dispatch = useDispatch();\r\n  const expenseNameData = useSelector((state) => state.expenseNameData);\r\n  const selectedExpenseName = useSelector((state) => state.selectedExpenseName);\r\n  const [key, setKey] = useState(nanoid());\r\n\r\n\r\n\r\n  return <Select\r\n    selectedValue={selectedExpenseName}\r\n    borderColor={expenseNameIsError ? 'error.400' : 'muted.300'}\r\n    flex={3}\r\n    onValueChange={(value) => {\r\n      globalSelectedExpenseName = value\r\n      dispatch(setSelectedExpenseName(value));\r\n    }}\r\n    accessibilityLabel=\"Choose Expense Name\"\r\n    placeholder=\"Choose Expense Name\"\r\n    _selectedItem={{\r\n      bg: \"teal.600\",\r\n      endIcon: <CheckIcon size=\"5\" />\r\n    }}>\r\n    {expenseNameData.map((item) => (\r\n\r\n      <Select.Item key={item} label={item} value={item} />\r\n\r\n    ))}\r\n  </Select>\r\n\r\n\r\n};\r\n\r\nconst VehicleEditModal = ({ handleEditModalClose }) => {\r\n\r\n  const editVehicleModalVisible = useSelector((state) => state.editVehicleModalVisible);\r\n  const screenWidth = Dimensions.get('window').width;\r\n\r\n  return (\r\n    <Modal isOpen={editVehicleModalVisible} onClose={handleEditModalClose} size={'full'}>\r\n      <Modal.Content bgColor={'white'} w={screenWidth <= 1100 ? '90%' : '40%'} h={'100%'}>\r\n        <Modal.CloseButton />\r\n        <Modal.Header bgColor={'#7B9CFF'} flexDir={screenWidth <= 960 ? 'column' : 'row'} alignItems={screenWidth <= 960 ? 'center' : ''}>\r\n          <Text color={'white'} fontSize={20} bold>Edit Vehicle </Text><Text color={'cyan.200'} fontSize={20} bold textAlign={screenWidth <= 960 ? 'center' : ''}>{globalSelectedVehicle}</Text>\r\n        </Modal.Header>\r\n\r\n\r\n        <Modal.Body >\r\n          Sit nulla est ex deserunt exercitation anim occaecat.\r\n        </Modal.Body>\r\n      </Modal.Content>\r\n    </Modal>\r\n\r\n\r\n  );\r\n};\r\n\r\nconst EditVehicleModal = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleEditModalClose = () => {\r\n    dispatch(setEditVehicleModalVisible(false));\r\n    globalCurrentStockID = '';\r\n    globalSelectedVehicle = '';\r\n    globalSelectedVehicleReferenceNumber = '';\r\n    globalSelectedCarName = '';\r\n\r\n  }\r\n\r\n  return (\r\n    <VehicleEditModal handleEditModalClose={handleEditModalClose} />\r\n\r\n\r\n  );\r\n\r\n};\r\n\r\nconst EditVehicle = ({ data }) => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  const handleModalOpen = () => {\r\n\r\n    dispatch(setEditVehicleModalVisible(true));\r\n    globalCurrentStockID = data.stockID;\r\n    globalSelectedVehicle = `${data.referenceNumber} / ${data.carName}`;\r\n    globalSelectedVehicleReferenceNumber = data.referenceNumber;\r\n    globalSelectedCarName = data.carName;\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <TouchableOpacity\r\n        onPress={handleModalOpen}\r\n        style={{\r\n          backgroundColor: '#7B9CFF',\r\n          marginHorizontal: 5,\r\n          borderRadius: 5,\r\n          padding: 2,\r\n          flex: 1,\r\n          justifyContent: 'center',\r\n          alignItems: 'center'\r\n        }}\r\n      >\r\n        {/* <Text style={{ textAlign: 'center',  color: 'white', }}>Edit</Text> */}\r\n        <MaterialIcons name={\"edit\"} color='white' size={22} />\r\n      </TouchableOpacity>\r\n    </>\r\n  );\r\n};\r\n\r\n\r\n\r\n\r\nconst ViewImagesModal = ({ handleViewImagesModalClose }) => {\r\n\r\n  const screenWidth = Dimensions.get('window').width;\r\n  const viewImagesModalVisible = useSelector((state) => state.viewImagesModalVisible);\r\n  const viewImagesData = useSelector((state) => state.viewImagesData);\r\n\r\n  const [modalImageUri, setModalImageUri] = useState('');\r\n  const [imageModalVisible, setImageModalVisible] = useState(false);\r\n\r\n  const handleImagePress = useCallback((uri) => {\r\n    // const base64Image = toString(uri);\r\n    // setIsLoading(true);\r\n    setModalImageUri(uri);\r\n    setImageModalVisible(true);\r\n    // console.log(\"URI: \", uri);\r\n\r\n  }, []);\r\n\r\n\r\n\r\n  const getImagesRenderItem = useCallback((item) => {\r\n\r\n    const styles = StyleSheet.create({\r\n      dropdown: {\r\n        margin: 16,\r\n        height: 50,\r\n        borderBottomColor: 'gray',\r\n        borderBottomWidth: 0.5,\r\n      },\r\n      icon: {\r\n        marginRight: 5,\r\n      },\r\n      placeholderStyle: {\r\n        fontSize: 16,\r\n      },\r\n      selectedTextStyle: {\r\n        fontSize: 16,\r\n      },\r\n      iconStyle: {\r\n        width: 20,\r\n        height: 20,\r\n      },\r\n      inputSearchStyle: {\r\n        height: 40,\r\n        fontSize: 16,\r\n      },\r\n      container: {\r\n        flex: 1,\r\n        paddingTop: 20,\r\n\r\n      },\r\n      txt: {\r\n        fontSize: 18,\r\n        lineHeight: 24,\r\n        padding: 5\r\n      },\r\n      sort: {\r\n      },\r\n      item_children: {\r\n        width: 90,\r\n        height: 90,\r\n        backgroundColor: 'black',\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n      },\r\n      item_delete_icon: {\r\n        width: 14,\r\n        height: 14,\r\n        position: \"absolute\",\r\n        right: 1,\r\n        top: 1\r\n      },\r\n      item_icon: {\r\n        width: 90,\r\n        height: 90,\r\n        resizeMode: \"contain\",\r\n        position: \"absolute\"\r\n      }\r\n    });\r\n\r\n    return (\r\n\r\n      <Box key={item.id} style={styles.item}>\r\n        <Box style={styles.item_children}>\r\n\r\n          <FastImage\r\n            style={styles.item_icon}\r\n            source={{\r\n              uri: item.uri,\r\n              priority: FastImage.priority.normal,\r\n            }}\r\n            resizeMode={FastImage.resizeMode.contain}\r\n\r\n          />\r\n\r\n        </Box>\r\n      </Box>\r\n    );\r\n\r\n\r\n\r\n  }, []);\r\n\r\n  return (\r\n\r\n    <>\r\n      <Modal isOpen={viewImagesModalVisible} onClose={handleViewImagesModalClose} size={'full'} useRNModal>\r\n        <Modal.Content bgColor={'white'} w={screenWidth <= 1100 ? '90%' : '60%'} h={'100%'}>\r\n          <Modal.CloseButton />\r\n          <Modal.Header bgColor={'#7B9CFF'} flexDir={screenWidth <= 960 ? 'column' : 'row'} alignItems={screenWidth <= 960 ? 'center' : ''}>\r\n            <Text color={'white'} fontSize={20} bold>View Images for </Text><Text color={'cyan.200'} fontSize={20} bold textAlign={screenWidth <= 960 ? 'center' : ''}>{globalSelectedVehicle}</Text>\r\n          </Modal.Header>\r\n\r\n\r\n          <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center', margin: '5%', marginLeft: '10%' }}>\r\n\r\n            <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\r\n              <ScrollView style={{ height: '90%' }}>\r\n                <DragSortableView\r\n                  sortable={false}\r\n                  // ref={dragSortableViewRef}\r\n                  dataSource={viewImagesData}\r\n                  parentWidth={width * 0.33}\r\n                  childrenWidth={100}\r\n                  childrenHeight={100}\r\n                  marginChildrenTop={3}\r\n                  marginChildrenBottom={0}\r\n                  marginChildrenLeft={0}\r\n                  marginChildrenRight={0}\r\n                  onClickItem={(item, index) => {\r\n                    handleImagePress(index.uri);\r\n                  }}\r\n                  keyExtractor={(item) => item.uri}\r\n                  renderItem={useCallback((item, index) => getImagesRenderItem(item, index), [])}\r\n                />\r\n              </ScrollView>\r\n            </View>\r\n\r\n\r\n          </View>\r\n\r\n\r\n        </Modal.Content>\r\n\r\n\r\n      </Modal>\r\n\r\n      <Modal isOpen={imageModalVisible} onClose={() => setImageModalVisible(false)} size={'100%'} useRNModal>\r\n\r\n        <Box w={'80%'} h={'80%'} bgColor={'rgba(0, 0, 0, 0.7)'} borderRadius={10} display=\"flex\" alignItems=\"center\" justifyContent=\"center\" alignContent={'center'}>\r\n          <Modal.CloseButton color={'white'} />\r\n          <NativeImage\r\n            key={modalImageUri}\r\n            source={{ uri: modalImageUri }}\r\n            resizeMode='contain'\r\n            flex={1}\r\n            alt={modalImageUri}\r\n            h={720}\r\n            w={1280}\r\n          />\r\n\r\n        </Box>\r\n\r\n      </Modal>\r\n    </>\r\n\r\n  );\r\n};\r\n\r\n\r\nconst FobPriceHistoryModal = ({ handleFobPriceHistoryClose }) => {\r\n\r\n  const screenWidth = Dimensions.get('window').width;\r\n  const fobPriceHistoryModalVisible = useSelector((state) => state.fobPriceHistoryModalVisible);\r\n  const fobHistoryData = useSelector((state) => state.fobHistoryData);\r\n\r\n  return (\r\n    <Modal\r\n      isOpen={fobPriceHistoryModalVisible}\r\n      onClose={handleFobPriceHistoryClose}\r\n      size={'full'}\r\n      useRNModal\r\n    >\r\n      <Modal.Content bgColor={'white'} w={screenWidth <= 1100 ? '90%' : '40%'} h={'auto'}>\r\n        <Modal.CloseButton />\r\n        <Modal.Header bgColor={'#7B9CFF'} alignItems={screenWidth <= 960 ? 'center' : 'flex-start'}>\r\n          <Text color={'white'} fontSize={20} bold>FOB Price History </Text>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <ScrollView style={{ width: '100%' }}>\r\n            {screenWidth >= 960 ? (\r\n              <View style={{ alignItems: 'stretch', marginTop: 10 }}>\r\n                {/* Table Header */}\r\n                <View style={{\r\n                  borderRadius: 3,\r\n                  backgroundColor: '#0642F4',\r\n                  flexDirection: 'row',\r\n                  borderBottomWidth: 1,\r\n                  borderBottomColor: '#0642F4',\r\n                }}>\r\n                  <Text style={{ flex: 1, fontSize: 16, fontWeight: 'bold', padding: 8, color: 'white' }}>Date</Text>\r\n                  <Text style={{ flex: 1, fontSize: 16, fontWeight: 'bold', padding: 8, color: 'white' }}>FOB Price </Text>\r\n                  <Text style={{ width: '20%', fontSize: 16, fontWeight: 'bold', padding: 8, color: 'white' }}>Changer</Text>\r\n\r\n                </View>\r\n\r\n                {/* Table Rows */}\r\n                {[...fobHistoryData]\r\n                  .sort((a, b) => new Date(b.date.replace(' at ', ' ')) - new Date(a.date.replace(' at ', ' ')))\r\n                  .map((data, index) => (\r\n                    <View\r\n                      key={index}\r\n                      style={{\r\n                        backgroundColor: '#BBF7D0',\r\n                        flexDirection: 'row',\r\n                        borderBottomWidth: 1,\r\n                        borderBottomColor: '#CCCCCC',\r\n                      }}\r\n                    >\r\n                      <Text style={{ flex: 1, fontSize: 16, padding: 8 }}>{data.date}</Text>\r\n                      <Text style={{ flex: 1, fontSize: 16, padding: 8 }}>{Number(data.fobPrice).toLocaleString()}</Text>\r\n                      <Text style={{ width: '20%', fontSize: 16, padding: 8 }}>{data.changedBy}</Text>\r\n                    </View>\r\n                  ))\r\n                }\r\n              </View>\r\n            ) : (\r\n              // Mobile View FOB Price History\r\n              <View style={{ alignItems: 'stretch', marginTop: 10 }}>\r\n                {/* Table Header */}\r\n                {/* <View style={{\r\n                  borderRadius: 3,\r\n                  backgroundColor: '#0642F4',\r\n                  flexDirection: 'row',\r\n                  borderBottomWidth: 1,\r\n                  borderBottomColor: '#0642F4',\r\n                }}>\r\n                  <Text style={{ flex: 1, fontSize: 16, fontWeight: 'bold', padding: 8, color: 'white' }}>Date</Text>\r\n                  <Text style={{ flex: 1, fontSize: 16, fontWeight: 'bold', padding: 8, color: 'white' }}>FOB Price</Text>\r\n                  <Text style={{ width: '20%', fontSize: 16, fontWeight: 'bold', padding: 8, color: 'white' }}>Changer</Text>\r\n\r\n                </View> */}\r\n\r\n                {/* Table Rows */}\r\n                {[...fobHistoryData]\r\n                  .sort((a, b) => new Date(b.date.replace(' at ', ' ')) - new Date(a.date.replace(' at ', ' ')))\r\n                  .map((data, index) => (\r\n                    <View\r\n                      key={index}\r\n                      style={{\r\n                        backgroundColor: '#BBF7D0',\r\n                        flexDirection: 'column',\r\n                        borderWidth: 1,\r\n                        borderColor: '#E4E4E7',\r\n                        margin: 3,\r\n                      }}\r\n                    >\r\n\r\n                      <View style={{ flexDirection: 'row', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                        <View style={{\r\n                          backgroundColor: '#0642F4',\r\n                          borderBottomWidth: 1,\r\n                          borderBottomColor: '#0642F4',\r\n                          width: '30%',\r\n                        }}>\r\n                          <Text style={{ flex: 1, fontSize: 16, fontWeight: 'bold', padding: 8, color: 'white' }}>Date</Text>\r\n                        </View>\r\n\r\n                        <Text style={{ flex: 1, fontSize: 16, padding: 8 }}>{data.date}</Text>\r\n                      </View>\r\n\r\n                      <View style={{ flexDirection: 'row', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                        <View style={{\r\n                          backgroundColor: '#0642F4',\r\n                          borderBottomWidth: 1,\r\n                          borderBottomColor: '#0642F4',\r\n                          width: '30%',\r\n                        }}>\r\n                          <Text style={{ flex: 1, fontSize: 16, fontWeight: 'bold', padding: 8, color: 'white' }}>FOB Price </Text>\r\n                        </View><Text style={{ flex: 1, fontSize: 16, padding: 8 }}>{Number(data.fobPrice).toLocaleString()}</Text>\r\n                      </View>\r\n\r\n                      <View style={{ flexDirection: 'row', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                        <View style={{\r\n                          backgroundColor: '#0642F4',\r\n                          borderBottomWidth: 1,\r\n                          borderBottomColor: '#0642F4',\r\n                          width: '30%',\r\n                        }}>\r\n                          <Text style={{ flex: 1, fontSize: 16, fontWeight: 'bold', padding: 8, color: 'white' }}>Changer</Text>\r\n                        </View>\r\n                        <Text style={{ flex: 1, fontSize: 16, padding: 8 }}>{data.changedBy}</Text>\r\n                      </View>\r\n                    </View>\r\n                  ))\r\n                }\r\n              </View>\r\n            )}\r\n\r\n          </ScrollView>\r\n\r\n\r\n\r\n\r\n        </Modal.Body>\r\n      </Modal.Content>\r\n    </Modal>\r\n\r\n\r\n\r\n  );\r\n}\r\n\r\nconst FobPriceHistory = () => {\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  const handleFobPriceHistoryClose = () => {\r\n\r\n    dispatch(setFobPriceHistoryModalVisible(false));\r\n    globalFobPriceHistoryData = [];\r\n    globalCurrentStockID = '';\r\n    globalSelectedVehicle = '';\r\n    globalSelectedVehicleReferenceNumber = '';\r\n\r\n  }\r\n\r\n  return (\r\n\r\n    <FobPriceHistoryModal handleFobPriceHistoryClose={handleFobPriceHistoryClose} />\r\n\r\n  );\r\n}\r\n\r\n\r\nconst ImageCountComponent = ({ item, handleViewImagesModalOpen, handleUploadImagesModalOpen }) => {\r\n  // State for the image count\r\n  const [imageCount, setImageCount] = useState(item.imageCount || 0);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onSnapshot(doc(projectExtensionFirestore, 'VehicleProducts', item.stockID), (doc) => {\r\n      if (doc.exists()) {\r\n        const data = doc.data();\r\n        setImageCount(data.imageCount || 0); // Update the image count with the new value from Firestore\r\n      }\r\n    });\r\n\r\n    // Clean up the listener when the component unmounts\r\n    return () => unsubscribe();\r\n  }, [item.stockID]); // useEffect will re-run if item.stockID changes\r\n\r\n  // Function placeholders\r\n  // const handleViewImagesModalOpen = (item) => {\r\n  //   console.log('View images', item);\r\n  // };\r\n\r\n  // const handleUploadImagesModalOpen = (item) => {\r\n  //   console.log('Upload images', item);\r\n  // };\r\n\r\n  return (\r\n    <View style={{ flex: 1, flexDirection: 'row' }}>\r\n      {imageCount > 0 ? (\r\n        <TouchableOpacity onPress={() => handleViewImagesModalOpen(item)}>\r\n          <Text style={{ textDecorationLine: 'underline' }}>\r\n            {imageCount} image/s\r\n          </Text>\r\n        </TouchableOpacity>\r\n      ) : (\r\n        <Text>{imageCount} image/s</Text>\r\n      )}\r\n\r\n      <TouchableOpacity onPress={() => handleUploadImagesModalOpen(item)}>\r\n        {imageCount > 0 ? null : (\r\n          <MaterialIcons name=\"add-photo-alternate\" size={22} color={'white'} />\r\n        )}\r\n      </TouchableOpacity>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst FobPriceInput = ({ item, index, }) => {\r\n  const dispatch = useDispatch();\r\n  const toast = useToast();\r\n  const [fobPrice, setFobPrice] = useState(item.fobPrice ? parseFloat(item.fobPrice).toLocaleString() : '');\r\n  const inputFobJpy = useRef([]);\r\n\r\n  useEffect(() => {\r\n    // Assume you have a collection named 'stocks' and the document ID is `item.stockID`\r\n    const unsubscribe = onSnapshot(doc(projectExtensionFirestore, 'VehicleProducts', item.stockID), (doc) => {\r\n      // console.log(`Read ${doc.size} documents from VehicleProducts`);\r\n\r\n      if (doc.exists()) {\r\n        const data = doc.data();\r\n        // Update the fobPrice state with the new value from Firestore\r\n        setFobPrice(data.fobPrice ? parseFloat(data.fobPrice).toLocaleString() : '');\r\n      }\r\n    });\r\n\r\n    // Clean up the listener when the component unmounts\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  // ... rest of your component\r\n  const formatValueWithCommas = (value) => {\r\n    const numericValue = value.replace(/[^0-9]/g, '');\r\n    const truncatedValue = numericValue.slice(0, 9);\r\n    const formattedValue = truncatedValue.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n    return formattedValue;\r\n  };\r\n\r\n  const handleTextChange = (text) => {\r\n    const numericValue = text.replace(/[^0-9]/g, '');\r\n    const currentNumericValue = fobPrice.replace(/[^0-9]/g, '');\r\n\r\n    // Update state only if the numeric value has changed\r\n    if (numericValue !== currentNumericValue) {\r\n      setFobPrice(numericValue);\r\n    }\r\n  };\r\n\r\n  // This function will format the displayed text\r\n  const handleInputFobJpyChange = (text, stockID) => {\r\n    const formattedValue = formatValueWithCommas(text);\r\n\r\n    // Apply the formatted value to the input without resetting the state\r\n    if (inputFobJpy.current[stockID]) {\r\n      inputFobJpy.current[stockID].setNativeProps({ text: formattedValue });\r\n    }\r\n  };\r\n\r\n  const handleSaveFob = async (item, index,) => {\r\n    dispatch(setLoadingModalVisible(true));\r\n\r\n    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n    const { datetime } = response.data;\r\n    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n    const year = moment(datetime).format('YYYY');\r\n    const month = moment(datetime).format('MM');\r\n    const monthWithDay = moment(datetime).format('MM/DD');\r\n    const date = moment(datetime).format('YYYY/MM/DD');\r\n    const day = moment(datetime).format('DD');\r\n    const time = moment(datetime).format('HH:mm');\r\n    const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n    const fobValue = inputFobJpy.current[item.stockID].value.replace(/,/g, ''); // Remove commas\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    toast.closeAll();\r\n    // if (item.fobPrice == fobValue || fobValue == '') {\r\n    //   dispatch(setLoadingModalVisible(false));\r\n\r\n    //   console.log('same');\r\n    //   console.log(item.fobPrice);\r\n\r\n    // }\r\n    // else {\r\n\r\n    const fobHistoryData = {\r\n      date: formattedTime,\r\n      fobPrice: fobValue,\r\n      changedBy: nameVariable.text,\r\n    };\r\n    const vehicleProductRef = doc(collection(projectExtensionFirestore, 'VehicleProducts'), item.stockID);\r\n\r\n    try {\r\n      await updateDoc(vehicleProductRef, {\r\n        fobPrice: fobValue,\r\n        fobHistory: arrayUnion(fobHistoryData)\r\n      });\r\n      const logData = {\r\n        message: `Vehicle FOB Price Updated: \"${nameVariable.text}\" updated \"${item.carName}\" FOB price with a reference number of \"${item.referenceNumber}\" using Vehicle List.`,\r\n        timestamp: formattedTime,\r\n        colorScheme: true,\r\n        keywords: [\r\n          formattedTime.toLowerCase(),\r\n          globalCurrentStockID.toLowerCase(),\r\n          `Vehicle FOB Price Updated: \"${nameVariable.text}\" updated \"${item.carName}\" FOB price with a reference number of \"${item.referenceNumber}\" using Vehicle List`.toLowerCase(),\r\n          'Vehicle List'.toLowerCase(),\r\n          'Vehicle FOB Price Updated'.toLowerCase(),\r\n          'Vehicle FOB Price'.toLowerCase(),\r\n          'Vehicle FOB'.toLowerCase(),\r\n          'Vehicle'.toLowerCase(),\r\n          'FOB Price Updated'.toLowerCase(),\r\n          'FOB Price'.toLowerCase(),\r\n          'FOB'.toLowerCase(),\r\n          'Updated'.toLowerCase(),\r\n          globalSelectedCarName.toLowerCase(),\r\n          globalSelectedVehicleReferenceNumber.toLowerCase(),\r\n          nameVariable.text.toLowerCase(),\r\n          year.toLowerCase(),\r\n          month.toLowerCase(),\r\n          monthWithDay.toLowerCase(),\r\n          date.toLowerCase(),\r\n          day.toLowerCase(),\r\n          time.toLowerCase(),\r\n          timeWithMinutesSeconds.toLowerCase(),\r\n        ],\r\n      };\r\n      addLogToCollection(logData);\r\n      dispatch(setLoadingModalVisible(false));\r\n\r\n      // console.log('FOB Price updated successfully');\r\n      toast.show({\r\n        render: () => {\r\n          return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n            <Text style={{ color: 'white' }}>FOB Price updated successfully!</Text>\r\n          </View>;\r\n        }\r\n      })\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.show({\r\n        render: () => {\r\n          return <View style={{ backgroundColor: '#DC2626', padding: 5, borderRadius: 5 }}>\r\n            <Text style={{ color: 'white' }}>Error updating: {error}</Text>\r\n          </View>;\r\n        }\r\n      })\r\n    }\r\n    // }\r\n\r\n    // Reference the Firestore document and update the 'fobPrice' field\r\n\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TextInput\r\n        ref={(ref) => (inputFobJpy.current[item.stockID] = ref)}\r\n        value={formatValueWithCommas(fobPrice)} // Display the formatted value\r\n        style={{ outlineStyle: 'none', flex: 1, padding: 5, borderRadius: 5, width: '90%' }}\r\n        key={item.id}\r\n        onChangeText={(text) => {\r\n          handleTextChange(text); // This sets the numeric value state\r\n          handleInputFobJpyChange(text, item.stockID); // This formats the display\r\n        }}\r\n        onSubmitEditing={() => handleSaveFob(item, index)} />\r\n      <TouchableHighlight\r\n        underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n        onPress={() => handleSaveFob(item, index)}\r\n        style={{\r\n          backgroundColor: '#16A34A',\r\n          borderRadius: 5,\r\n          padding: 5,\r\n          margin: 2,\r\n          alignSelf: 'center',\r\n        }}>\r\n        {/* <Text style={{ textAlign: 'center', }}>Save</Text> */}\r\n        <MaterialIcons name='update' color='white' size={22} />\r\n      </TouchableHighlight>\r\n    </>\r\n  );\r\n};\r\n\r\n\r\nconst VehicleListTable = () => {\r\n  const toast = useToast();\r\n  const screenWidth = Dimensions.get('window').width;\r\n  const dispatch = useDispatch();\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  // const [data, setData] = useState([]);\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const vehicleListData = useSelector((state) => state.vehicleListData);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const searchInputRef = useRef(null);\r\n\r\n\r\n  const [stockIDs, setStockIDs] = useState([]);\r\n  const [imageCounts, setImageCounts] = useState([]);\r\n\r\n  const inputExpenseAmount = useRef(null);\r\n  const [pageIndex, setPageIndex] = useState(0);\r\n\r\n  const [itemsPerPage, setItemsPerPage] = useState(10);\r\n  const inputFobJpy = useRef([]);\r\n  const [pageClicked, setPageClicked] = useState('');\r\n  const [lastVisible, setLastVisible] = useState(null);\r\n  const [firstVisible, setFirstVisible] = useState(null);\r\n  const [searchText, setSearchText] = useState('');\r\n  const [fobPrices, setFobPrices] = useState({});\r\n  // Memoize the filtered data using useMemo\r\n  const [sortField, setSortField] = useState('dateAdded'); // null when sorting is off\r\n  const [isSortActive, setIsSortActive] = useState(false);\r\n  const loginName = useSelector((state) => state.loginName);\r\n  nameVariable.text = loginName;\r\n\r\n  const handleSortChange = (field) => {\r\n    setCurrentPage(1);\r\n    // If the field is the same as the current sortField, toggle sorting\r\n    setSearchText('');\r\n    searchInputRef.current.clear();\r\n    if (field === sortField) {\r\n      setIsSortActive(!isSortActive); // Toggle sorting for the same field\r\n      if (!isSortActive) {\r\n        // If it was off, we turn it on and keep the same field\r\n        setSortField(field);\r\n      } else {\r\n        // If it was on, we turn it off and reset to default 'dateAdded'\r\n        setSortField('dateAdded');\r\n      }\r\n    } else {\r\n      // If the field is different, turn sorting on and change the field\r\n      setSortField(field);\r\n      setIsSortActive(true); // Always turn on sorting when a new field is clicked\r\n    }\r\n    // You might want to dispatch setLoadingModalVisible(true) when you start a new query\r\n    dispatch(setLoadingModalVisible(true));\r\n  };\r\n\r\n\r\n  const fetchWithSort = async () => {\r\n    const fieldToSortBy = isSortActive && sortField ? sortField : 'dateAdded';\r\n    const sortDirection = isSortActive ? 'asc' : 'desc';\r\n    let q;\r\n\r\n    if (searchText === '') {\r\n      q = query(\r\n        collection(projectExtensionFirestore, 'VehicleProducts'),\r\n        orderBy(fieldToSortBy, sortDirection),\r\n        limit(pageSize)\r\n      );\r\n    } else {\r\n      q = query(\r\n        collection(projectExtensionFirestore, 'VehicleProducts'),\r\n        orderBy(fieldToSortBy, sortDirection),\r\n        where('keywords', 'array-contains', searchText.toUpperCase()),\r\n        limit(pageSize)\r\n      );\r\n    }\r\n\r\n    try {\r\n      const documents = await getDocs(q);\r\n      const vehicleProductData = [];\r\n      documents.forEach((document) => {\r\n        vehicleProductData.push({\r\n          id: document.id,\r\n          ...document.data(),\r\n        });\r\n      });\r\n      dispatch(setVehicleListData(vehicleProductData));\r\n      setLastVisible(documents.docs[documents.docs.length - 1]);\r\n      setFirstVisible(documents.docs[0]);\r\n    } catch (error) {\r\n      console.error(\"Error fetching vehicle products:\", error);\r\n    } finally {\r\n      dispatch(setLoadingModalVisible(false));\r\n    }\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    fetchWithSort();\r\n  }, [sortField])\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    // Determine the field and direction to sort by\r\n    const fieldToSortBy = isSortActive && sortField ? sortField : 'dateAdded';\r\n    const sortDirection = isSortActive ? 'asc' : 'desc';\r\n\r\n    // Define the query\r\n    const q = query(\r\n      collection(projectExtensionFirestore, 'VehicleProducts'),\r\n      orderBy(fieldToSortBy, sortDirection),\r\n      limit(pageSize)\r\n    );\r\n\r\n    // Fetch the data once\r\n    getDocs(q)\r\n      .then((documents) => {\r\n        const vehicleProductData = [];\r\n        documents.forEach((document) => {\r\n          vehicleProductData.push({\r\n            id: document.id,\r\n            ...document.data(),\r\n          });\r\n        });\r\n        dispatch(setVehicleListData(vehicleProductData));\r\n        setLastVisible(documents.docs[documents.docs.length - 1]);\r\n        setFirstVisible(documents.docs[0]);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching vehicle products: \", error);\r\n        // Handle the error appropriately\r\n      });\r\n\r\n    // Since this effect does not subscribe to real-time updates, there's no need to return a cleanup function\r\n  }, [projectExtensionFirestore, pageSize, sortField, isSortActive]); // Add dependencies as necessary\r\n\r\n\r\n\r\n  const fetchNextData = async () => {\r\n    const fieldToSortBy = isSortActive && sortField ? sortField : 'dateAdded';\r\n    const sortDirection = isSortActive ? 'asc' : 'desc';\r\n\r\n\r\n    if (searchText === '') {\r\n\r\n\r\n      const q = query(\r\n        collection(projectExtensionFirestore, 'VehicleProducts'),\r\n        orderBy(fieldToSortBy, sortDirection),\r\n        startAfter(lastVisible),\r\n        limit(pageSize)\r\n      );\r\n\r\n      const documents = await getDocs(q);\r\n      updateState(documents, 'next');\r\n\r\n\r\n\r\n      dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n    }\r\n\r\n    else {\r\n      const q = query(\r\n        collection(projectExtensionFirestore, 'VehicleProducts'),\r\n        orderBy(fieldToSortBy, sortDirection),\r\n        where('keywords', 'array-contains', searchText.toUpperCase()),\r\n        startAfter(lastVisible),\r\n        limit(pageSize)\r\n      );\r\n\r\n      const documents = await getDocs(q);\r\n      updateState(documents, 'next');\r\n\r\n\r\n\r\n      dispatch(setLoadingModalVisible(false));\r\n    }\r\n\r\n  };\r\n\r\n\r\n  const fetchPreviousData = async () => {\r\n    const fieldToSortBy = isSortActive && sortField ? sortField : 'dateAdded';\r\n    const sortDirection = isSortActive ? 'asc' : 'desc';\r\n\r\n    if (searchText === '') {\r\n\r\n      const q = query(\r\n        collection(projectExtensionFirestore, 'VehicleProducts'),\r\n        orderBy(fieldToSortBy, sortDirection),\r\n        endBefore(firstVisible),\r\n        limitToLast(pageSize)\r\n      );\r\n\r\n\r\n      const documents = await getDocs(q);\r\n      updateState(documents, 'prev')\r\n      dispatch(setLoadingModalVisible(false));\r\n\r\n    }\r\n\r\n    else {\r\n\r\n      const q = query(\r\n        collection(projectExtensionFirestore, 'VehicleProducts'),\r\n        orderBy(fieldToSortBy, sortDirection),\r\n        where('keywords', 'array-contains', searchText.toUpperCase()),\r\n        endBefore(firstVisible),\r\n        limitToLast(pageSize)\r\n      );\r\n\r\n      const documents = await getDocs(q);\r\n      updateState(documents, 'prev');\r\n      dispatch(setLoadingModalVisible(false));\r\n\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  const fetchFirstPage = (documents) => {\r\n\r\n\r\n    const vehicleProductData = [];\r\n\r\n    documents.forEach((document) => {\r\n      vehicleProductData.push({\r\n        id: document.id,\r\n        ...document.data(),\r\n      });\r\n    });\r\n\r\n    dispatch(setVehicleListData(vehicleProductData));\r\n\r\n    if (documents?.docs[0]) {\r\n      setFirstVisible(documents.docs[0]);\r\n    }\r\n    if (documents?.docs[documents.docs.length - 1]) {\r\n      setLastVisible(documents.docs[documents.docs.length - 1]);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  const updateState = async (documents, pageClicked) => {\r\n\r\n\r\n    if (!documents.empty) {\r\n      const vehicleProductData = [];\r\n      documents.forEach((document) => {\r\n        vehicleProductData.push({\r\n          id: document.id,\r\n          ...document.data(),\r\n        });\r\n      });\r\n\r\n\r\n\r\n      if (documents?.docs[0]) {\r\n        setFirstVisible(documents.docs[0]);\r\n      }\r\n      if (documents?.docs[documents.docs.length - 1]) {\r\n        setLastVisible(documents.docs[documents.docs.length - 1]);\r\n      }\r\n\r\n      if (pageClicked == 'next') {\r\n        setCurrentPage(currentPage + 1);\r\n      }\r\n      if (pageClicked == 'prev') {\r\n        setCurrentPage(currentPage - 1);\r\n      }\r\n      if (vehicleProductData.length < 1) {\r\n        dispatch(setLoadingModalVisible(false));\r\n\r\n      }\r\n\r\n      dispatch(setVehicleListData(vehicleProductData));\r\n    }\r\n\r\n    else {\r\n      const fieldToSortBy = isSortActive && sortField ? sortField : 'dateAdded';\r\n      const sortDirection = isSortActive ? 'asc' : 'desc';\r\n\r\n      if (searchText == '') {\r\n        setCurrentPage(1);\r\n\r\n        const q = query(\r\n          collection(projectExtensionFirestore, 'VehicleProducts'),\r\n          orderBy(fieldToSortBy, sortDirection),\r\n          limit(pageSize)\r\n        );\r\n        const firstPageDocuments = await getDocs(q);\r\n        fetchFirstPage(firstPageDocuments);\r\n\r\n      }\r\n      else {\r\n\r\n        setCurrentPage(1);\r\n\r\n        const q = query(\r\n          collection(projectExtensionFirestore, 'VehicleProducts'),\r\n          where('keywords', 'array-contains', searchText.toUpperCase()),\r\n          orderBy(fieldToSortBy, sortDirection),\r\n          limit(pageSize)\r\n        );\r\n        const firstPageDocuments = await getDocs(q);\r\n        fetchFirstPage(firstPageDocuments);\r\n\r\n      }\r\n\r\n\r\n    }\r\n  };\r\n\r\n  const handleNextPage = async () => {\r\n    // setPageClicked('next');\r\n    dispatch(setLoadingModalVisible(true));\r\n    // setCurrentPage(currentPage + 1);\r\n    await fetchNextData();\r\n\r\n\r\n\r\n\r\n  };\r\n\r\n  const handlePreviousPage = async () => {\r\n    // setPageClicked('previous');\r\n    dispatch(setLoadingModalVisible(true));\r\n    // setCurrentPage(currentPage - 1);\r\n    await fetchPreviousData();\r\n\r\n\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    searchData();\r\n\r\n  }, [searchText])\r\n\r\n  const searchData = async () => {\r\n\r\n    dispatch(setLoadingModalVisible(true));\r\n\r\n    if (searchText === '') {\r\n      setCurrentPage(1);\r\n      const q = query(\r\n        collection(projectExtensionFirestore, 'VehicleProducts'),\r\n        orderBy('dateAdded', 'desc'),\r\n        limit(pageSize)\r\n      );\r\n\r\n      const firstPageDocuments = await getDocs(q);\r\n      fetchFirstPage(firstPageDocuments);\r\n      dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n\r\n    }\r\n\r\n    else {\r\n      setCurrentPage(1);\r\n      const q = query(\r\n        collection(projectExtensionFirestore, 'VehicleProducts'),\r\n        where('keywords', 'array-contains', searchText.toUpperCase()),\r\n        orderBy('dateAdded', 'desc'),\r\n        limit(pageSize)\r\n      );\r\n\r\n      const firstPageDocuments = await getDocs(q);\r\n      fetchFirstPage(firstPageDocuments);\r\n      dispatch(setLoadingModalVisible(false));\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const filteredData = useMemo(() => {\r\n    const sanitizedSearchQuery = searchQuery.trim().toLowerCase();\r\n\r\n    // Filter the data based on the sanitized searchQuery (removing whitespace from the beginning and end)\r\n    const filteredResults = vehicleListData.filter((item) => {\r\n      const carName = item.carName ? item.carName.trim().toLowerCase() : '';\r\n      const referenceNumber = item.referenceNumber ? item.referenceNumber.trim().toLowerCase() : '';\r\n      const chassisNumber = item.chassisNumber ? item.chassisNumber.trim().toLowerCase() : '';\r\n      const stockStatus = item.stockStatus ? item.stockStatus.trim().toLowerCase() : '';\r\n      const fobPrice = item.fobPrice ? item.fobPrice.toString().trim().toLowerCase() : '';\r\n\r\n      return (\r\n        carName.includes(sanitizedSearchQuery) ||\r\n        referenceNumber.includes(sanitizedSearchQuery) ||\r\n        chassisNumber.includes(sanitizedSearchQuery) ||\r\n        stockStatus.includes(sanitizedSearchQuery) ||\r\n        fobPrice.includes(sanitizedSearchQuery)\r\n      );\r\n    });\r\n\r\n    return filteredResults;\r\n  }, [searchQuery, vehicleListData]);\r\n\r\n\r\n\r\n  const formatValueWithCommas = (value) => {\r\n    const numericValue = value.replace(/[^0-9]/g, '');\r\n    const truncatedValue = numericValue.slice(0, 9);\r\n    const formattedValue = truncatedValue.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n    return formattedValue;\r\n  };\r\n\r\n  // Function to handle input changes for each item\r\n  const handleInputFobJpyChange = (text, index) => {\r\n    const formattedValue = formatValueWithCommas(text);\r\n\r\n    if (inputFobJpy.current[index]) {\r\n      inputFobJpy.current[index].value = formattedValue;\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n  const fetchImageCounts = async () => {\r\n\r\n    // Extract and store the stockIDs in the state\r\n    const ids = filteredData.map(item => item.stockID);\r\n    setStockIDs(ids);\r\n\r\n    // Fetch image counts\r\n    const counts = await Promise.all(\r\n      ids.map(async stockID => {\r\n        const count = await getImageCountInFolder(stockID);\r\n        return { stockID, count };\r\n      })\r\n    );\r\n\r\n    // Create an object where stockID is the index value\r\n    const imageCountsObject = counts.reduce((acc, { stockID, count }) => {\r\n      acc[stockID] = count;\r\n      return acc;\r\n    }, {});\r\n\r\n    setImageCounts(imageCountsObject);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchImageCounts();\r\n  }, []);\r\n\r\n  const getImageCountInFolder = async (folderPath) => {\r\n    try {\r\n      const folderRef = ref(storage, folderPath);\r\n      const listResult = await listAll(folderRef);\r\n\r\n      return listResult.items.length;\r\n    } catch (error) {\r\n      console.error('Error getting image count:', error);\r\n      return -1; // Handle the error accordingly\r\n    }\r\n  };\r\n\r\n\r\n  const handleTextChange = (text) => {\r\n    setSearchQuery(text);\r\n  };\r\n\r\n  const handleFobPriceHistoryOpen = async (item) => {\r\n    dispatch(setLoadingModalVisible(true));\r\n    dispatch(setFobPriceHistoryModalVisible(true));\r\n    if (item.stockID) {\r\n      const docRef = doc(projectExtensionFirestore, 'VehicleProducts', item.stockID);\r\n      try {\r\n        const docSnap = await getDoc(docRef);\r\n\r\n        if (docSnap.exists()) {\r\n          // Assuming you have an action to set the FOB history like setFobHistory\r\n          dispatch(setFobHistoryData(docSnap.data().fobHistory || []));\r\n          dispatch(setLoadingModalVisible(false));\r\n\r\n        } else {\r\n          console.log(\"No such document!\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching document: \", error);\r\n      }\r\n    }\r\n    // globalFobPriceHistoryData = item.fobHistory ? item.fobHistory : [];\r\n    globalCurrentStockID = item.stockID ? item.stockID : '';\r\n    globalSelectedVehicle = `${item.referenceNumber} / ${item.carName} `;\r\n    globalSelectedVehicleReferenceNumber = item.referenceNumber;\r\n\r\n  }\r\n\r\n  const handleSaveFob = async (item, index,) => {\r\n    dispatch(setLoadingModalVisible(true));\r\n\r\n    const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n    const { datetime } = response.data;\r\n    const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss');\r\n    const year = moment(datetime).format('YYYY');\r\n    const month = moment(datetime).format('MM');\r\n    const monthWithDay = moment(datetime).format('MM/DD');\r\n    const date = moment(datetime).format('YYYY/MM/DD');\r\n    const day = moment(datetime).format('DD');\r\n    const time = moment(datetime).format('HH:mm');\r\n    const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n    const fobValue = inputFobJpy.current[item.stockID].value.replace(/,/g, ''); // Remove commas\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    toast.closeAll();\r\n    // if (item.fobPrice == fobValue || fobValue == '') {\r\n    //   dispatch(setLoadingModalVisible(false));\r\n\r\n    // }\r\n    // else {\r\n\r\n    const fobHistoryData = {\r\n      date: formattedTime,\r\n      fobPrice: fobValue,\r\n      changedBy: nameVariable.text,\r\n    };\r\n    const vehicleProductRef = doc(collection(projectExtensionFirestore, 'VehicleProducts'), item.stockID);\r\n\r\n    try {\r\n      await updateDoc(vehicleProductRef, {\r\n        fobPrice: fobValue,\r\n        fobHistory: arrayUnion(fobHistoryData)\r\n      });\r\n      const logData = {\r\n        message: `Vehicle FOB Price Updated: \"${nameVariable.text}\" updated \"${item.carName}\" FOB price with a reference number of \"${item.referenceNumber}\" using Vehicle List.`,\r\n        timestamp: formattedTime,\r\n        colorScheme: true,\r\n        keywords: [\r\n          formattedTime.toLowerCase(),\r\n          globalCurrentStockID.toLowerCase(),\r\n          `Vehicle FOB Price Updated: \"${nameVariable.text}\" updated \"${item.carName}\" FOB price with a reference number of \"${item.referenceNumber}\" using Vehicle List`.toLowerCase(),\r\n          'Vehicle List'.toLowerCase(),\r\n          'Vehicle FOB Price Updated'.toLowerCase(),\r\n          'Vehicle FOB Price'.toLowerCase(),\r\n          'Vehicle FOB'.toLowerCase(),\r\n          'Vehicle'.toLowerCase(),\r\n          'FOB Price Updated'.toLowerCase(),\r\n          'FOB Price'.toLowerCase(),\r\n          'FOB'.toLowerCase(),\r\n          'Updated'.toLowerCase(),\r\n          globalSelectedCarName.toLowerCase(),\r\n          globalSelectedVehicleReferenceNumber.toLowerCase(),\r\n          nameVariable.text.toLowerCase(),\r\n          year.toLowerCase(),\r\n          month.toLowerCase(),\r\n          monthWithDay.toLowerCase(),\r\n          date.toLowerCase(),\r\n          day.toLowerCase(),\r\n          time.toLowerCase(),\r\n          timeWithMinutesSeconds.toLowerCase(),\r\n        ],\r\n      };\r\n      addLogToCollection(logData);\r\n      dispatch(setLoadingModalVisible(false));\r\n\r\n      // console.log('FOB Price updated successfully');\r\n      toast.show({\r\n        render: () => {\r\n          return <View style={{ backgroundColor: '#16A34A', padding: 5, borderRadius: 5 }}>\r\n            <Text style={{ color: 'white' }}>FOB Price updated successfully!</Text>\r\n          </View>;\r\n        }\r\n      })\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.show({\r\n        render: () => {\r\n          return <View style={{ backgroundColor: '#DC2626', padding: 5, borderRadius: 5 }}>\r\n            <Text style={{ color: 'white' }}>Error updating: {error}</Text>\r\n          </View>;\r\n        }\r\n      })\r\n    }\r\n    // }\r\n\r\n    // Reference the Firestore document and update the 'fobPrice' field\r\n\r\n  };\r\n\r\n  const handleUploadImagesModalOpen = (item) => {\r\n    dispatch(setUploadImagesModalVisible(true));\r\n    globalCurrentStockID = item.stockID;\r\n    globalSelectedVehicle = `${item.referenceNumber} / ${item.carName} `;\r\n    globalSelectedVehicleReferenceNumber = item.referenceNumber;\r\n    globalSelectedCarName = item.carName;\r\n\r\n  }\r\n\r\n  const handleViewImagesModalOpen = async (item) => {\r\n    dispatch(setLoadingModalVisible(true));\r\n    try {\r\n      await getImages(item.stockID);\r\n      globalCurrentStockID = item.stockID;\r\n      globalSelectedVehicle = `${item.referenceNumber} / ${item.carName} `;\r\n      globalSelectedVehicleReferenceNumber = item.referenceNumber;\r\n      dispatch(setLoadingModalVisible(false));\r\n      dispatch(setViewImagesModalVisible(true));\r\n    } catch (error) {\r\n      console.error(error);\r\n      dispatch(setLoadingModalVisible(false));\r\n\r\n    }\r\n  }\r\n\r\n  const handleViewImagesModalClose = () => {\r\n    dispatch(setViewImagesModalVisible(false));\r\n    globalCurrentStockID = '';\r\n    globalSelectedVehicle = ``;\r\n    globalSelectedVehicleReferenceNumber = '';\r\n    globalSelectedCarName = '';\r\n    dispatch(setViewImagesData([]));\r\n  };\r\n\r\n  const getImages = useCallback(async (folderName) => {\r\n    try {\r\n\r\n      const imageRefs = await listAll(ref(storage, `${folderName}/`)); // Use the provided folderName\r\n      // selectModelRef.current.selectIndex(globalModelDataVariable.indexOf(modelVariable.text));\r\n\r\n      const urls = await Promise.all(\r\n        imageRefs.items.map(async (itemRef) => {\r\n          const uri = await getDownloadURL(itemRef);\r\n          return { uri, fileName: itemRef.name };\r\n        })\r\n      );\r\n      // Sort the URLs array in ascending order based on the fileName (which is a number)\r\n      urls.sort((a, b) => {\r\n        const fileNameA = parseInt(a.fileName);\r\n        const fileNameB = parseInt(b.fileName);\r\n        return fileNameA - fileNameB;\r\n      });\r\n\r\n      if (urls.length > 0) {\r\n        dispatch(setViewImagesData(urls));\r\n\r\n      }\r\n\r\n      else {\r\n        dispatch(setViewImagesData([]));\r\n      }\r\n\r\n      // console.log(urls);\r\n\r\n    } catch (error) {\r\n      // Handle any errors that may occur during the Firebase operations\r\n      console.error('Error getting image URLs:', error);\r\n    }\r\n  }, []);\r\n\r\n\r\n  const addStockStatusToVehicleProducts = async () => {\r\n    const vehicleProductsRef = collection(projectExtensionFirestore, \"VehicleProducts\");\r\n\r\n    try {\r\n      const querySnapshot = await getDocs(vehicleProductsRef);\r\n      querySnapshot.forEach(async (doc) => {\r\n        const data = doc.data();\r\n\r\n        // Check if the imageCount field does not exist\r\n        if (data.stockStatus === undefined) {\r\n          try {\r\n            // If the imageCount field doesn't exist, initialize it to 0\r\n            await updateDoc(doc.ref, {\r\n              stockStatus: ''\r\n            });\r\n            console.log(`stockStatus initialized to 0 for document ID: ${doc.id}`);\r\n          } catch (error) {\r\n            console.error('Error initializing stockStatus field:', error);\r\n          }\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error reading VehicleProducts collection:\", error);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  const handleSearchEnter = () => {\r\n    // setSortField('dateAdded');\r\n    // setIsSortActive(false)\r\n    if (searchInputRef.current?.value !== '') {\r\n      setSearchText(searchInputRef.current.value.trim());\r\n      setSortField('dateAdded');\r\n      setIsSortActive(false);\r\n    }\r\n    else {\r\n      setSearchText('');\r\n      setSortField('dateAdded');\r\n      setIsSortActive(false)\r\n      if (searchText == '') {\r\n\r\n        searchData();\r\n\r\n      }\r\n\r\n\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n\r\n      {screenWidth >= 1360 ?\r\n        (\r\n          <View style={{ flex: 1, }}>\r\n            <View>\r\n              <TextInput ref={searchInputRef} style={{ outlineStyle: 'none', width: '100%', padding: 10, backgroundColor: 'white', borderRadius: 5, placeholderTextColor: '#ACADA3', }}\r\n                onSubmitEditing={handleSearchEnter}\r\n                placeholder='Search'\r\n                returnKeyType='search'\r\n                autoCapitalize='none'\r\n\r\n              />\r\n            </View>\r\n            <View\r\n              style={{\r\n                flexDirection: 'row',\r\n                justifyContent: 'space-between',\r\n                borderBottomWidth: 1,\r\n                borderBottomColor: '#E4E4E7',\r\n                backgroundColor: '#0642F4',\r\n                padding: 2,\r\n                borderRadius: 5,\r\n              }}>\r\n              <View style={{ flex: 1, padding: 2 }}>\r\n                <Text style={{ color: 'white', }} bold>Ref #</Text>\r\n              </View>\r\n              <View style={{ flex: 1, padding: 2 }}>\r\n                <Text style={{ color: 'white', }} bold>Car Name</Text>\r\n              </View>\r\n              <View style={{ flex: 1, padding: 2 }}>\r\n                <Text style={{ color: 'white', }} bold>Chassis #</Text>\r\n              </View>\r\n\r\n              <View style={{ flex: 1, padding: 2, flexDirection: 'row', alignItems: 'center' }}>\r\n                <TouchableOpacity onPress={() => handleSortChange('imageCount')}>\r\n                  <Text style={{ color: isSortActive && sortField === 'imageCount' ? '#FBBC04' : 'white', }} bold underline>Images</Text>\r\n                </TouchableOpacity></View>\r\n\r\n\r\n\r\n              <View style={{ flex: 1, padding: 2, flexDirection: 'row', alignItems: 'center' }}>\r\n                <TouchableOpacity onPress={() => handleSortChange('stockStatus')}>\r\n                  <Text style={{ color: isSortActive && sortField === 'stockStatus' ? '#FBBC04' : 'white', }} bold underline>Stock Status</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n\r\n              <View style={{ flex: 1, padding: 2, flexDirection: 'row', alignItems: 'center' }}>\r\n                <TouchableOpacity onPress={() => handleSortChange('fobPrice')}>\r\n                  <Text style={{ color: isSortActive && sortField === 'fobPrice' ? '#FBBC04' : 'white', }} bold underline>FOB Price</Text>\r\n                </TouchableOpacity></View>\r\n\r\n              <View style={{ flex: 1, padding: 2 }}>\r\n                <Text style={{ color: 'white', alignSelf: 'center', }} bold>Operate</Text>\r\n              </View>\r\n            </View>\r\n            {vehicleListData.map((item, index) => (\r\n              <View\r\n                key={item.id}\r\n                style={{\r\n                  flex: 1,\r\n                  flexDirection: 'row',\r\n                  justifyContent: 'space-between',\r\n                  alignItems: 'center',\r\n                  borderBottomWidth: 1,\r\n                  borderBottomColor: '#E4E4E7',\r\n                  backgroundColor: '#BFDBFE',\r\n                  paddingVertical: 10,\r\n                }}>\r\n                <View style={{ flex: 1 }}>\r\n                  <Text selectable style={{ width: '90%', marginLeft: 3, }}>{item.referenceNumber}</Text>\r\n                </View>\r\n                <View style={{ flex: 1 }}>\r\n                  <Text selectable style={{ width: '90%', }}>{item.carName} </Text>\r\n                </View>\r\n                <View style={{ flex: 1 }}>\r\n                  <Text selectable style={{ width: '90%', }}>{item.chassisNumber}</Text>\r\n                </View>\r\n                <ImageCountComponent item={item} handleViewImagesModalOpen={handleViewImagesModalOpen} handleUploadImagesModalOpen={handleUploadImagesModalOpen} />\r\n                {/* <View style={{ flex: 1, flexDirection: 'row' }}>\r\n\r\n                  {item.imageCount > 0 ?\r\n                    (<TouchableOpacity onPress={() => handleViewImagesModalOpen(item)}>\r\n                      <Text underline>\r\n                        {item.imageCount ? item.imageCount : 0} image/s\r\n                      </Text>\r\n                    </TouchableOpacity>) :\r\n                    (<Text>\r\n                      {item.imageCount ? item.imageCount : 0} image/s\r\n                    </Text>)\r\n                  }\r\n\r\n\r\n                  <TouchableOpacity onPress={() => handleUploadImagesModalOpen(item)}>\r\n                    {item.imageCount > 0 ? null : (\r\n                      <MaterialIcons name=\"add-photo-alternate\" size={22} color={'white'} />\r\n                    )}\r\n                  </TouchableOpacity>\r\n                </View> */}\r\n                <View style={{ flex: 1, }}>\r\n                  <SelectStockStatus key={item.stockID} selectedValue={item.stockStatus} id={item.stockID} item={item} />\r\n                  {/* <Text style={{ width: '90%', }}>{item.stockStatus}</Text> */}\r\n                </View>\r\n\r\n                <View style={{ width: '90%', flex: 1, flexDirection: 'row', backgroundColor: 'white', borderRadius: 5, }}>\r\n                  <TouchableOpacity\r\n                    onPress={() => handleFobPriceHistoryOpen(item)}\r\n                    style={{\r\n                      margin: 5,\r\n                      alignSelf: 'center',\r\n                    }}>\r\n                    {/* <Text style={{ textAlign: 'center', }}>Save</Text> */}\r\n                    <FontAwesome name='clock-o' color='black' size={22} />\r\n                  </TouchableOpacity>\r\n                  <FobPriceInput item={item} index={index} handleInputFobJpyChange={handleInputFobJpyChange} handleSaveFob={handleSaveFob} />\r\n                  {/* <TextInput\r\n                    ref={(ref) => (inputFobJpy.current[item.stockID] = ref)}\r\n                    defaultValue={item.fobPrice ? parseFloat(item.fobPrice).toLocaleString() : ''}\r\n                    style={{ flex: 1, padding: 5, borderRadius: 5, width: '90%', }}\r\n                    key={item.id}\r\n                    onChangeText={(text) => handleInputFobJpyChange(text, item.stockID)}\r\n                    onSubmitEditing={() => handleSaveFob(item, index)} /> */}\r\n\r\n                </View>\r\n                <View style={{ flexDirection: 'row', flex: 1, alignItems: 'center', justifyContent: 'center', }}>\r\n                  <SupplyChainsCosts data={item} />\r\n                  {/* <EditVehicle data={item} /> */}\r\n                </View>\r\n              </View>\r\n            ))}\r\n\r\n            <View style={{\r\n              flexDirection: 'row', width: screenWidth < 460 ? '90%' : screenWidth < 1175 ? '40%' : '20%',\r\n              alignSelf: 'center',\r\n            }}>\r\n\r\n              <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n                <TouchableOpacity\r\n                  style={{ display: currentPage <= 1 ? 'none' : 'flex' }}\r\n                  onPress={handlePreviousPage}>\r\n                  <View style={{ backgroundColor: 'rgba(6, 66, 244, 0.6)', borderRadius: 5, padding: 4, margin: 10 }}>\r\n                    <MaterialIcons name='navigate-before' size={40} color={'white'} />\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n\r\n\r\n              <View style={{ flex: 1, backgroundColor: 'rgba(6, 66, 244, 0.6)', borderRadius: 5, margin: 10, padding: 4, justifyContent: 'center', alignItems: 'center' }}>\r\n                <Text style={{ textAlign: 'center', color: 'white' }} bold>Page {currentPage}</Text>\r\n              </View>\r\n\r\n              <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', }} >\r\n                <TouchableOpacity\r\n                  onPress={handleNextPage}>\r\n                  <View style={{ backgroundColor: 'rgba(6,66,244, 0.6)', borderRadius: 5, padding: 4, margin: 10 }}>\r\n                    <MaterialIcons name='navigate-next' size={40} color={'white'} />\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n\r\n\r\n\r\n\r\n            <UploadImagesModal fetchImageCounts={fetchImageCounts} />\r\n            <ViewImagesModal handleViewImagesModalClose={handleViewImagesModalClose} />\r\n\r\n            {/* <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', }} >\r\n              <TouchableOpacity\r\n                onPress={addStockStatusToVehicleProducts}>\r\n                <View style={{ backgroundColor: 'rgba(6,66,244, 0.6)', borderRadius: 5, padding: 4, margin: 10 }}>\r\n                  <FontAwesome name='save' size={40} color={'white'} />\r\n                </View>\r\n              </TouchableOpacity>\r\n            </View> */}\r\n\r\n          </View>\r\n        ) :\r\n\r\n\r\n\r\n        (\r\n          <View style={{ flex: 1, }}>\r\n            <View >\r\n              <TextInput ref={searchInputRef} style={{ outlineStyle: 'none', width: '98%', padding: 10, backgroundColor: 'white', borderRadius: 5, placeholderTextColor: '#ACADA3', alignSelf: 'center', marginTop: 5, }}\r\n                onSubmitEditing={handleSearchEnter}\r\n                placeholder='Search'\r\n                returnKeyType='search'\r\n                autoCapitalize='none'\r\n              />\r\n            </View>\r\n\r\n            {vehicleListData.map((item, index) => (\r\n              <View\r\n                key={item.id}\r\n                style={{\r\n                  flex: 1,\r\n                  flexDirection: 'column',\r\n                  borderWidth: 1,\r\n                  borderColor: '#E4E4E7',\r\n                  backgroundColor: '#BFDBFE',\r\n                  margin: 10,\r\n                }}>\r\n\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                    <Text style={{ color: 'white', }} bold>Ref #</Text>\r\n                  </View>\r\n                  <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                    <Text selectable style={{ marginLeft: 3 }}>{item.referenceNumber}</Text>\r\n                  </View>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                    <Text style={{ color: 'white', }} bold>Car Name</Text>\r\n                  </View>\r\n                  <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                    <Text selectable style={{ marginLeft: 3 }}>{item.carName} </Text>\r\n                  </View>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                    <Text style={{ color: 'white', }} bold>Chassis #</Text>\r\n                  </View>\r\n                  <View style={{ flex: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                    <Text selectable style={{ marginLeft: 3 }}>{item.chassisNumber}</Text>\r\n                  </View>\r\n                </View>\r\n\r\n\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                    <Text style={{ color: 'white', }} bold>Images</Text>\r\n                  </View>\r\n                  <View style={{ flex: 1, flexDirection: 'row', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                    {item.imageCount > 0 ?\r\n                      (<TouchableOpacity onPress={() => handleViewImagesModalOpen(item)}>\r\n                        <Text underline style={{ marginLeft: 3 }}>\r\n                          {item.imageCount ? item.imageCount : 0} image/s\r\n                        </Text>\r\n                      </TouchableOpacity>) :\r\n                      (<Text style={{ marginLeft: 3 }}>\r\n                        {item.imageCount ? item.imageCount : 0} image/s\r\n                      </Text>)\r\n                    }\r\n\r\n\r\n                    <TouchableOpacity onPress={() => handleUploadImagesModalOpen(item)}>\r\n                      {item.imageCount > 0 ? null : (\r\n                        <MaterialIcons name=\"add-photo-alternate\" size={22} color={'white'} />\r\n                      )}\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                    <Text style={{ color: 'white', }} bold>Stock Status</Text>\r\n                  </View>\r\n                  <View style={{ flex: 1, paddingVertical: 1, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', }}>\r\n                    <SelectStockStatus key={item.stockID} selectedValue={item.stockStatus} id={item.stockID} item={item} />\r\n                  </View>\r\n                </View>\r\n\r\n\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                    <Text style={{ color: 'white', }} bold>FOB Price </Text>\r\n                  </View>\r\n                  <View style={{ flex: 1, flexDirection: 'row', backgroundColor: 'white', borderRadius: 5, borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                    <TouchableOpacity\r\n                      onPress={() => handleFobPriceHistoryOpen(item)}\r\n                      style={{\r\n                        margin: 5,\r\n                        alignSelf: 'center',\r\n                      }}>\r\n                      {/* <Text style={{ textAlign: 'center', }}>Save</Text> */}\r\n                      <FontAwesome name='clock-o' color='black' size={22} />\r\n                    </TouchableOpacity>\r\n                    <FobPriceInput item={item} index={index} handleInputFobJpyChange={handleInputFobJpyChange} handleSaveFob={handleSaveFob} />\r\n\r\n                    {/* <TextInput\r\n                      ref={(ref) => (inputFobJpy.current[item.stockID] = ref)}\r\n                      defaultValue={item.fobPrice ? parseFloat(item.fobPrice).toLocaleString() : ''}\r\n                      style={{ width: '90%', borderRadius: 5, }}\r\n                      key={item.id}\r\n                      onChangeText={(text) => handleInputFobJpyChange(text, item.stockID)}\r\n                      onSubmitEditing={() => handleSaveFob(item, index)} /> */}\r\n                    {/* <TouchableHighlight\r\n                      underlayColor={'rgba(22, 163, 74, 0.3)'}\r\n                      onPress={() => handleSaveFob(item, index)}\r\n                      style={{\r\n                        backgroundColor: '#16A34A',\r\n                        margin: 2,\r\n                        marginLeft: 2,\r\n                        alignSelf: 'center',\r\n                        borderRadius: 5,\r\n                      }}>\r\n                      <MaterialIcons name='update' color='white' size={22} />\r\n                    </TouchableHighlight> */}\r\n                  </View>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row' }}>\r\n                  <View style={{ width: '30%', padding: 2, backgroundColor: '#0642F4', borderBottomWidth: 1, borderBottomColor: '#E4E4E7', justifyContent: 'center', }}>\r\n                    <Text style={{ color: 'white', }} bold>Operate</Text>\r\n                  </View>\r\n                  <View style={{ flexDirection: 'row', flex: 1, margin: 5, }}>\r\n                    <SupplyChainsCosts data={item} />\r\n                    {/* <EditVehicle data={item} /> */}\r\n                  </View>\r\n                </View>\r\n              </View>\r\n            ))}\r\n\r\n            <View style={{\r\n              flexDirection: 'row', width: screenWidth < 460 ? '90%' : screenWidth < 1175 ? '40%' : '20%',\r\n              alignSelf: 'center',\r\n            }}>\r\n\r\n              <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n                <TouchableOpacity\r\n                  style={{ display: currentPage <= 1 ? 'none' : 'flex' }}\r\n                  onPress={handlePreviousPage}>\r\n                  <View style={{ backgroundColor: 'rgba(6, 66, 244, 0.6)', borderRadius: 5, padding: 4, margin: 10 }}>\r\n                    <MaterialIcons name='navigate-before' size={40} color={'white'} />\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n\r\n\r\n              <View style={{ flex: 1, backgroundColor: 'rgba(6, 66, 244, 0.6)', borderRadius: 5, margin: 10, padding: 4, justifyContent: 'center', alignItems: 'center' }}>\r\n                <Text style={{ textAlign: 'center', color: 'white' }} bold>Page {currentPage}</Text>\r\n              </View>\r\n\r\n              <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', }} >\r\n                <TouchableOpacity\r\n                  onPress={handleNextPage}>\r\n                  <View style={{ backgroundColor: 'rgba(6,66,244, 0.6)', borderRadius: 5, padding: 4, margin: 10 }}>\r\n                    <MaterialIcons name='navigate-next' size={40} color={'white'} />\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n\r\n              {/* <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', }} >\r\n            <TouchableOpacity\r\n              onPress={addKeywordsToVehicleProducts}>\r\n              <View style={{ backgroundColor: 'rgba(6,66,244, 0.6)', borderRadius: 5, padding: 4, margin: 10 }}>\r\n                <MaterialIcons name='save' size={40} color={'white'} />\r\n              </View>\r\n            </TouchableOpacity>\r\n          </View> */}\r\n              {/* <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', }} >\r\n                <TouchableOpacity\r\n                  onPress={addImageCountToVehicleProducts}>\r\n                  <View style={{ backgroundColor: 'rgba(6,66,244, 0.6)', borderRadius: 5, padding: 4, margin: 10 }}>\r\n                    <FontAwesome name='dollar' size={40} color={'white'} />\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View> */}\r\n            </View>\r\n\r\n\r\n\r\n\r\n            <UploadImagesModal fetchImageCounts={fetchImageCounts} />\r\n            <ViewImagesModal handleViewImagesModalClose={handleViewImagesModalClose} />\r\n\r\n          </View>\r\n\r\n        )}\r\n\r\n\r\n\r\n\r\n    </>\r\n\r\n\r\n  );\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default function VehicleList() {\r\n  const [email, setEmail] = useState('');\r\n  const logo = require('../../assets/C-Hub.png');\r\n  const logo2 = require('../../assets/C-Hub Logo Only.png');\r\n  const [isMobileView, setIsMobileView] = useState(false);\r\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\r\n  // const navigation = useNavigation();\r\n  const navigate = useNavigate();\r\n\r\n\r\n  const [typeOfAccount, setTypeOfAccount] = useState('');\r\n\r\n\r\n  const loginName = useSelector((state) => state.loginName);\r\n  const [name, setName] = useState(loginName);\r\n  const [time, setTime] = useState('');\r\n\r\n  const [selectedImages, setSelectedImages] = useState([]);\r\n\r\n  const [widthState, setWidthState] = useState(Dimensions.get('window').width);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  const screenWidth = Dimensions.get('window').width;\r\n\r\n\r\n\r\n  // useEffect(() => {\r\n  //   const handleWidthChange = ({ window }) => {\r\n  //     setWidthState(window.width);\r\n  //   };\r\n\r\n  //   Dimensions.addEventListener('change', handleWidthChange);\r\n\r\n  //   return () => {\r\n  //     Dimensions.removeEventListener('change', handleWidthChange);\r\n  //   };\r\n  // }, []);\r\n\r\n  // useEffect(() => {\r\n  //   reloadData();\r\n  // }, [reloadData]);\r\n\r\n\r\n  // useEffect(() => {\r\n  // }, [typeOfAccount]);\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = projectControlAuth.onAuthStateChanged(user => {\r\n      if (!user) {\r\n        // navigation.navigate(\"Login\")\r\n        navigate(\"/Login\");\r\n\r\n      }\r\n\r\n    })\r\n\r\n    return unsubscribe\r\n  }, [])\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const handleDocumentChange = (snapshot) => {\r\n    if (snapshot.exists()) {\r\n      const data = snapshot.data();\r\n      const isActive = data.active;\r\n\r\n      if (!isActive) {\r\n        signOut(projectControlAuth)\r\n          .then(() => {\r\n            // navigation.navigate('Login');\r\n            navigate(\"/Login\");\r\n\r\n          })\r\n          .catch((error) => {\r\n            console.error('Error signing out:', error);\r\n          });\r\n      }\r\n    } else {\r\n      signOut(projectControlAuth)\r\n        .then(() => {\r\n          // navigation.navigate('Login');\r\n          navigate(\"/Login\");\r\n\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error signing out:', error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const subscribeToFieldChange = () => {\r\n    const userId = projectControlAuth.currentUser?.email;\r\n    if (userId) {\r\n      const userRef = doc(firestore, 'accounts', userId);\r\n      const unsubscribe = onSnapshot(userRef, handleDocumentChange);\r\n      return unsubscribe;\r\n    } else {\r\n      // Return a no-op function if there's no user\r\n      return () => {\r\n        navigate(\"/login\")\r\n      };\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = subscribeToFieldChange();\r\n\r\n    return () => {\r\n      // This will now always be a function\r\n      unsubscribe();\r\n    };\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    const currentUserEmail = getEmailOfCurrentUser();\r\n    if (currentUserEmail) {\r\n      getFieldValueByEmail(currentUserEmail);\r\n      setEmail(currentUserEmail)\r\n      const documentId = currentUserEmail;\r\n      listenForNameChange(documentId);\r\n    }\r\n  }, []);\r\n\r\n\r\n  const listenForNameChange = (documentId) => {\r\n\r\n\r\n    // To stop listening for updates, you can call unsubscribe()\r\n    // unsubscribe();\r\n  };\r\n\r\n\r\n\r\n  const getFieldValueByEmail = async (email) => {\r\n    try {\r\n      const accountDocRef = doc(firestore, 'accounts', email);\r\n      const accountDocSnapshot = await getDoc(accountDocRef);\r\n\r\n      if (accountDocSnapshot.exists()) {\r\n        const data = accountDocSnapshot.data();\r\n        const fieldType = data.type;\r\n        const fieldName = data.name;\r\n        dispatch(setLoginName(data.name));\r\n\r\n      } else {\r\n        console.log('Document does not exist');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching field value:', error);\r\n    }\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const handleSignOut = () => {\r\n\r\n    signOut(projectControlAuth).then(() => {\r\n      // navigation.navigate('Login');\r\n      navigate(\"/Login\");\r\n\r\n      setEmail('');\r\n      setName('');\r\n    }).catch(() => {\r\n      // An error happened.\r\n    });\r\n\r\n\r\n  }\r\n\r\n  // useEffect(() => {\r\n  //   const handleScreenResize = () => {\r\n  //     const screenWidth = Dimensions.get('window').width;\r\n  //     setIsMobileView(screenWidth < 1200);\r\n  //   };\r\n\r\n  //   // Initial check on component mount\r\n  //   handleScreenResize();\r\n\r\n  //   // Listen for screen dimension changes\r\n  //   Dimensions.addEventListener('change', handleScreenResize);\r\n\r\n  //   // Cleanup event listener on component unmount\r\n  //   return () => {\r\n  //     Dimensions.removeEventListener('change', handleScreenResize);\r\n  //   };\r\n  // }, []);\r\n\r\n\r\n  // const showDrawerIcon = useBreakpointValue([true, true, true, false]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  const NamePopover = ({ name, handleSignOut }) => {\r\n    const [showNamePopover, setShowNamePopover] = useState(false);\r\n\r\n    const showPopover = () => {\r\n      setShowNamePopover(!showNamePopover);\r\n    };\r\n\r\n    return (\r\n      <Box w={[100, 200, 1020]} h={[10, 10, 10]} flex={1}>\r\n        <Flex direction=\"row-reverse\">\r\n          <Popover\r\n            isOpen={showNamePopover}\r\n            trigger={(triggerProps) => (\r\n              <Text color=\"white\" marginTop={[2, 2, 2]} fontSize={[17, 18, 20]} marginRight={[1, 3, 5]} {...triggerProps} onPress={showPopover}>\r\n                <MaterialCommunityIcons name=\"account\" size={[20, 25, 30]} color=\"white\" /> {name} <Ionicons name=\"caret-down\" size={16} color=\"white\" />\r\n              </Text>\r\n            )}\r\n            onClose={() => setShowNamePopover(!showNamePopover)}\r\n            placement='bottom right'\r\n            trapFocus={false}\r\n          >\r\n            <Popover.Content backgroundColor={'#7B9CFF'}>\r\n              {/* <Popover.Arrow bgColor={'#7B9CFF'} /> */}\r\n              <Popover.Body backgroundColor={'#7B9CFF'}>\r\n                <Button _hover={{ bgColor: 'blueGray.500' }} onPress={handleSignOut} leftIcon={<MaterialCommunityIcons name=\"logout\" size={20} color=\"white\" />} bgColor={'transparent'}>\r\n                  Logout\r\n                </Button>\r\n              </Popover.Body>\r\n            </Popover.Content>\r\n          </Popover>\r\n        </Flex>\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  const styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n    },\r\n    image: {\r\n      flex: 1,\r\n    },\r\n  });\r\n\r\n  const SuccessModal = ({ isOpen, onClose, bodyText, headerText }) => {\r\n\r\n\r\n\r\n\r\n    return (\r\n      <>\r\n        <Modal isOpen={isOpen} onClose={onClose} useRNModal>\r\n          <Modal.Content bgColor={'green.100'}>\r\n            <Modal.Header borderBottomWidth={0} bgColor={'green.100'}>\r\n              <Text textAlign={'center'} color={'#102A43'} bold>\r\n                 Success! \r\n              </Text>\r\n            </Modal.Header>\r\n            <Modal.Body\r\n              justifyContent={'center'}\r\n              alignItems={'center'}\r\n              bgColor={'green.200'}\r\n              borderLeftWidth={4}\r\n              borderLeftColor={'green.600'}\r\n              margin={5}\r\n            >\r\n              <Box flex={1}>\r\n                <Text color={'green.600'} bold>\r\n                  {headerText}\r\n                  {/* Vehicle Added! */}\r\n                </Text>\r\n                <Text color={'green.600'}>\r\n                  {bodyText}\r\n                  {/* Vehicle was successfully added! You can view it in the vehicle list. */}\r\n                </Text>\r\n              </Box>\r\n            </Modal.Body>\r\n            <Modal.Footer borderTopWidth={0} bgColor={'green.100'}>\r\n              <HStack space={5} flex={1}>\r\n                <Button colorScheme={'success'} flex=\"1\" onPress={onClose} _text={{ color: 'white' }}>\r\n                  Ok\r\n                </Button>\r\n              </HStack>\r\n            </Modal.Footer>\r\n          </Modal.Content>\r\n        </Modal>\r\n      </>\r\n\r\n    );\r\n  };\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n\r\n    <NativeBaseProvider>\r\n      <>\r\n\r\n        <View style={{ backgroundColor: \"#A6BCFE\", height: '100%', width: '100%', flexDirection: 'column', }} bgColor=\"#A6BCFE\" h=\"100vh\" w=\"full\" flexDirection=\"column\">\r\n          {/* Header */}\r\n          <Box\r\n            px=\"3\"\r\n            bgColor='#7b9cff'\r\n            height={54}\r\n            position=\"sticky\"\r\n            top={0}\r\n            zIndex={999}\r\n            flexDirection=\"row\"\r\n            alignItems=\"center\"\r\n            borderBottomWidth={2}\r\n            borderBottomColor={'cyan.500'}\r\n          >\r\n\r\n\r\n            <SideDrawer\r\n              selectedScreen={selectedScreen} />\r\n\r\n            <Box w={screenWidth <= 960 ? 0 : 850} h={[10, 10, 10, 10]} marginBottom={1.5} marginTop={1.5} paddingLeft={5}>\r\n\r\n              <FastImage\r\n                source={{\r\n                  uri: 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20FULL.png?alt=media&token=79ed34a5-f960-4154-b4e8-897b0f3248d4',\r\n                  priority: FastImage.priority.high,\r\n                }}\r\n                resizeMode={FastImage.resizeMode.stretch}\r\n                style={styles.image} />\r\n            </Box>\r\n\r\n            {screenWidth <= 960 && <MobileViewDrawer\r\n              selectedScreen={selectedScreen} />}\r\n\r\n            <Box w={screenWidth <= 960 ? 120 : 0} h={screenWidth <= 960 ? 6 : 10} marginBottom={1.5} marginTop={1.5} marginLeft={[3, 3, 3, 10]}>\r\n\r\n              <FastImage\r\n                source={{\r\n                  uri: 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20HALF.png?alt=media&token=7ce6aef2-0527-40c7-b1ce-e47079e144df',\r\n                  priority: FastImage.priority.high,\r\n                }}\r\n                resizeMode={FastImage.resizeMode.stretch}\r\n                style={styles.image} />\r\n            </Box>\r\n            <NamePopover name={name} handleSignOut={handleSignOut} />\r\n\r\n\r\n          </Box>\r\n\r\n          {/* Content */}\r\n          <View style={{ flex: 1, flexDirection: 'row' }} flex={[1]} flexDirection=\"row\">\r\n\r\n\r\n            {/* Main Content */}\r\n            {/* <Box flex={1} flexGrow={1} minHeight={0}> */}\r\n            {/* Main Content Content */}\r\n\r\n\r\n            {/* <Box px=\"3\" bgColor=\"#A6BCFE\" height=\"full\" > */}\r\n            <View style={{ flex: 1, backgroundColor: \"#A6BCFE\", height: '100%' }}>\r\n              <ScrollView style={{ flex: 1, }} keyboardShouldPersistTaps='always'>\r\n                <View style={{ flex: 1, }}>\r\n                  <VehicleListTable />\r\n\r\n\r\n                </View>\r\n              </ScrollView>\r\n              <SCC_Modals />\r\n              <EditVehicleModal />\r\n              <FobPriceHistory />\r\n              {/* <SuccessModal /> */}\r\n\r\n            </View>\r\n\r\n\r\n            {/* </Box> */}\r\n\r\n            {/* </Box> */}\r\n          </View>\r\n\r\n        </View>\r\n        <LoadingModal />\r\n\r\n      </>\r\n\r\n\r\n\r\n\r\n\r\n    </NativeBaseProvider>\r\n\r\n\r\n\r\n\r\n  );\r\n\r\n};","import { useState, useEffect } from 'react';\r\nimport { collection, query, orderBy, startAfter, limit, onSnapshot } from 'firebase/firestore';\r\nimport { useSelector } from 'react-redux';\r\nimport { setVehicleListData } from '../redux/store';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport const UsePagination = (projectExtensionFirestore) => {\r\n    const dispatch = useDispatch();\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const [lastVisible, setLastVisible] = useState(null);\r\n    // const [data, setData] = useState([]);\r\n    const [pageSize, setPageSize] = useState(10);\r\n    const handleNextPage = () => {\r\n        setCurrentPage(currentPage + 1);\r\n    };\r\n\r\n    const handlePreviousPage = () => {\r\n        if (currentPage > 1) {\r\n            setCurrentPage(currentPage - 1);\r\n        }\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                let q;\r\n                if (lastVisible) {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'VehicleProducts'),\r\n                        orderBy('dateAdded', 'desc'),\r\n                        startAfter(lastVisible),\r\n                        limit(pageSize)\r\n                    );\r\n                } else {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'VehicleProducts'),\r\n                        orderBy('dateAdded', 'desc'),\r\n                        limit(pageSize)\r\n                    );\r\n                }\r\n\r\n                const unsubscribe = onSnapshot(q, (snapshot) => {\r\n                    const vehicleProductData = [];\r\n                    snapshot.forEach((doc) => {\r\n                        vehicleProductData.push({\r\n                            id: doc.id,\r\n                            ...doc.data(),\r\n                        });\r\n                    });\r\n\r\n                    if (!snapshot.empty) {\r\n                        setLastVisible(snapshot.docs[snapshot.docs.length - 1]);\r\n                    }\r\n\r\n                    // setData(vehicleProductData);\r\n                    dispatch(setVehicleListData(vehicleProductData));\r\n                });\r\n\r\n                return unsubscribe;\r\n            } catch (error) {\r\n                console.error('Error fetching data: ', error);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [projectExtensionFirestore, currentPage, pageSize]);\r\n\r\n    return { handleNextPage, handlePreviousPage };\r\n};","import { configureStore, createSlice, } from '@reduxjs/toolkit'\r\nimport { useEffect, useMemo } from 'react';\r\nimport { addDoc, collection, doc, getDoc, getDocs, getFirestore, onSnapshot, setDoc, arrayUnion, updateDoc, query, where, orderBy, limit } from 'firebase/firestore';\r\nimport { projectControlFirestore, projectControlAuth, projectExtensionFirestore, projectExtensionFirebase, projectControlFirebase } from \"../../../crossFirebase\";\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\nimport { useSelector } from 'react-redux';\r\n\r\nlet makeDataVariable = [];\r\nlet email = '';\r\n\r\n\r\n// =============================== Chat Messages ========================================\r\n\r\nconst carImageUrlSlice = createSlice({\r\n  name: 'carImageUrl',\r\n  initialState: '',\r\n  reducers: {\r\n    setCarImageUrl: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst selectedFileUrlSlice = createSlice({\r\n  name: 'selectedFileUrl',\r\n  initialState: '',\r\n  reducers: {\r\n    setSelectedFileUrl: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst pdfViewerModalVisibleSlice = createSlice({\r\n  name: 'pdfViewerModalVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setPdfViewerModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst selectedCustomerDataSlice = createSlice({\r\n  name: 'selectedCustomerData',\r\n  initialState: [],\r\n  reducers: {\r\n    setSelectedCustomerData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst previewInvoiceVisibleSlice = createSlice({\r\n  name: 'previewInvoiceVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setPreviewInvoiceVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst transactionModalVisibleSlice = createSlice({\r\n  name: 'transactionModalVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setTransactionModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst invoiceDataSlice = createSlice({\r\n  name: 'invoiceData',\r\n  initialState: {},\r\n  reducers: {\r\n    setInvoiceData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst deleteMessageTemplateVisibleSlice = createSlice({\r\n  name: 'deleteMessageTemplateVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setDeleteMessageTemplateVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst loadMoreMessagesLoadingSlice = createSlice({\r\n  name: 'loadMoreMessagesLoading',\r\n  initialState: false,\r\n  reducers: {\r\n    setLoadMoreMessagesLoading: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst noMoreMessagesDataSlice = createSlice({\r\n  name: 'noMoreMessagesData',\r\n  initialState: false,\r\n  reducers: {\r\n    setNoMoreMessagesData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst readByListModalVisibleSlice = createSlice({\r\n  name: 'readByListModalVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setReadByListModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst selectedChatDataSlice = createSlice({\r\n  name: 'selectedChatData',\r\n  initialState: [],\r\n  reducers: {\r\n    setSelectedChatData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst chatMessageBoxLoadingSlice = createSlice({\r\n  name: 'chatMessageBoxLoading',\r\n  initialState: false,\r\n  reducers: {\r\n    setChatMessageBoxLoading: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst chatMessagesDataSlice = createSlice({\r\n  name: 'chatMessagesData',\r\n  initialState: [],\r\n  reducers: {\r\n    setChatMessagesData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst chatListSearchTextSlice = createSlice({\r\n  name: 'chatListSearchText',\r\n  initialState: '',\r\n  reducers: {\r\n    setChatListSearchText: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst activeChatIdSlice = createSlice({\r\n  name: 'activeChatId',\r\n  initialState: '',\r\n  reducers: {\r\n    setActiveChatId: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst loadMoreLoadingSlice = createSlice({\r\n  name: 'loadMoreLoading',\r\n  initialState: false,\r\n  reducers: {\r\n    setLoadMoreLoading: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst noMoreDataSlice = createSlice({\r\n  name: 'noMoreData',\r\n  initialState: false,\r\n  reducers: {\r\n    setNoMoreData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst chatListLastVisibleSlice = createSlice({\r\n  name: 'chatListLastVisible',\r\n  initialState: null,\r\n  reducers: {\r\n    setChatListLastVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst chatListDataSlice = createSlice({\r\n  name: 'chatListData',\r\n  initialState: [],\r\n  reducers: {\r\n    setChatListData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst chatListImageUrlSlice = createSlice({\r\n  name: 'chatListImageUrl',\r\n  initialState: null,\r\n  reducers: {\r\n    setChatListImageUrl: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\n// =============================== Chat Messages ========================================\r\n\r\n\r\n\r\n// =============================== Freight ========================================\r\n\r\n\r\nconst countryPortsDataSlice = createSlice({\r\n  name: 'countryPortsData',\r\n  initialState: [],\r\n  reducers: {\r\n    setCountryPortsData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst addPortsForCountriesModalVisibleSlice = createSlice({\r\n  name: 'addPortsForCountriesModalVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setAddPortsForCountriesModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst methodDataSlice = createSlice({\r\n  name: 'methodData',\r\n  initialState: [],\r\n  reducers: {\r\n    setMethodData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst inspectionIsRequiredDataSlice = createSlice({\r\n  name: 'inspectionIsRequiredData',\r\n  initialState: [],\r\n  reducers: {\r\n    setInspectionIsRequiredData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst inspectionNameDataSlice = createSlice({\r\n  name: 'inspectionNameData',\r\n  initialState: [],\r\n  reducers: {\r\n    setInspectionNameData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst deletePortModalVisibleSlice = createSlice({\r\n  name: 'deletePortModalVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setDeletePortModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst deleteCountryModalVisibleSlice = createSlice({\r\n  name: 'deleteCountryModalVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setDeleteCountryModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst addPortModalVisibleSlice = createSlice({\r\n  name: 'addPortModalVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setAddPortModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst addCountryModalVisibleSlice = createSlice({\r\n  name: 'addCountryModalVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setAddCountryModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst selectedButtonSlice = createSlice({\r\n  name: 'selectedButton',\r\n  initialState: '',\r\n  reducers: {\r\n    setSelectedButton: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst freightCountriesDataSlice = createSlice({\r\n  name: 'freightCountriesData',\r\n  initialState: [],\r\n  reducers: {\r\n    setFreightCountriesData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst freightPortsDataSlice = createSlice({\r\n  name: 'freightPortsData',\r\n  initialState: [],\r\n  reducers: {\r\n    setFreightPortsData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n// =============================== Freight ========================================\r\n\r\n\r\n// =============================== Vehicle List ========================================\r\n\r\nconst fobHistoryDataSlice = createSlice({\r\n  name: 'fobHistoryData',\r\n  initialState: [],\r\n  reducers: {\r\n    setFobHistoryData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst inputFobSlice = createSlice({\r\n  name: 'inputFob',\r\n  initialState: '',\r\n  reducers: {\r\n    setInputFob: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst fobPriceHistoryModalVisibleSlice = createSlice({\r\n  name: 'fobPriceHistoryModalVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setFobPriceHistoryModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst editVehicleModalVisibleSlice = createSlice({\r\n  name: 'editVehicleModalVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setEditVehicleModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst vehicleListDataSlice = createSlice({\r\n  name: 'vehicleListData',\r\n  initialState: [],\r\n  reducers: {\r\n    setVehicleListData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst addVehicleListDataSlice = createSlice({\r\n  name: 'addVehicleListData',\r\n  initialState: [],\r\n  reducers: {\r\n    setAddVehicleListData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst supplyChainsCostsModalVisibleSlice = createSlice({\r\n  name: 'supplyChainsCostsModalVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setSupplyChainsCostsModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst uploadImagesModalVisibleSlice = createSlice({\r\n  name: 'uploadImagesModalVisibleVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setUploadImagesModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst vehicleListSupplyChainsCostsDataSlice = createSlice({\r\n  name: 'vehicleListSupplyChainsCostsData',\r\n  initialState: [],\r\n  reducers: {\r\n    setVehicleListSupplyChainsCostsData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst uploadImagesButtonLoadingSlice = createSlice({\r\n  name: 'uploadImagesButtonLoading',\r\n  initialState: false,\r\n  reducers: {\r\n    setUploadImagesButtonLoading: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\nconst viewImagesModalVisibleSlice = createSlice({\r\n  name: 'viewImagesModalVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setViewImagesModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst viewImagesDataSlice = createSlice({\r\n  name: 'viewImagesData',\r\n  initialState: [],\r\n  reducers: {\r\n    setViewImagesData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst lastVisibleSlice = createSlice({\r\n  name: 'lastVisible',\r\n  initialState: '',\r\n  reducers: {\r\n    setLastVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n// =============================== Vehicle List ========================================\r\n\r\n// =============================== Account List ========================================\r\nconst accountListDataSlice = createSlice({\r\n  name: 'accountListData',\r\n  initialState: [],\r\n  reducers: {\r\n    setAccountListData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n\r\n// =============================== Account List ========================================\r\n\r\n// =============================== Logs ======================================== \r\n\r\n\r\nconst logsDataSlice = createSlice({\r\n  name: 'logsData',\r\n  initialState: [],\r\n  reducers: {\r\n    setLogsData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\n\r\n// =============================== Logs ======================================== \r\n\r\n\r\nconst stockStatusDataSlice = createSlice({\r\n  name: 'stockStatusData',\r\n  initialState: [\r\n    'On-Sale',\r\n    'Reserved',\r\n    'Sold',\r\n    'Hidden',],\r\n  reducers: {\r\n    setStockStatusData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst isSuccessModalOpenSlice = createSlice({\r\n  name: 'isSuccessModalOpen',\r\n  initialState: false,\r\n  reducers: {\r\n    setIsSuccessModalOpen: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst isUpdateSuccessModalOpenSlice = createSlice({\r\n  name: 'isUpdateSuccessModalOpen',\r\n  initialState: false,\r\n  reducers: {\r\n    setIsUpdateSuccessModalOpen: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst loadingModalVisibleSlice = createSlice({\r\n  name: 'loadingModalVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setLoadingModalVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst selectedExpenseNameSlice = createSlice({\r\n  name: 'selectedExpenseName',\r\n  initialState: '',\r\n  reducers: {\r\n    setSelectedExpenseName: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst selectedPaidToSlice = createSlice({\r\n  name: 'selectedPaidTo',\r\n  initialState: '',\r\n  reducers: {\r\n    setSelectedPaidTo: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst supplyChainsCostsDataSlice = createSlice({\r\n  name: 'supplyChainsCostsData',\r\n  initialState: [],\r\n  reducers: {\r\n    setSupplyChainsCostsData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst currentDateSlice = createSlice({\r\n  name: 'currentDate',\r\n  initialState: '',\r\n  reducers: {\r\n    setCurrentDate: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst loginEmailSlice = createSlice({\r\n  name: 'loginEmail',\r\n  initialState: false,\r\n  reducers: {\r\n    setLoginEmail: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst loginNameSlice = createSlice({\r\n  name: 'loginName',\r\n  initialState: false,\r\n  reducers: {\r\n    setLoginName: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst modalDeleteImagesVisibleSlice = createSlice({\r\n  name: 'modalDeleteImages',\r\n  initialState: false,\r\n  reducers: {\r\n    setModalDeleteImagesVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst addAnotherImagesSlice = createSlice({\r\n  name: 'addAnotherImagesVisible',\r\n  initialState: false,\r\n  reducers: {\r\n    setAddAnotherImages: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst isAddPhotoVisibleSlice = createSlice({\r\n  name: 'isAddPhotoVisible',\r\n  initialState: true,\r\n  reducers: {\r\n    setIsAddPhotoVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst jpyToUsdSlice = createSlice({\r\n  name: 'jpyToUsd',\r\n  initialState: '',\r\n  reducers: {\r\n    setJpyToUsd: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst usdToJpySlice = createSlice({\r\n  name: 'usdToJpy',\r\n  initialState: '',\r\n  reducers: {\r\n    setUsdToJpy: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst modelDataSlice = createSlice({\r\n  name: 'modelData',\r\n  initialState: [],\r\n  reducers: {\r\n    setModelData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst makeDataSlice = createSlice({\r\n  name: 'makeData',\r\n  initialState: makeDataVariable,\r\n  reducers: {\r\n    setMakeData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst expenseNameDataSlice = createSlice({\r\n  name: 'expenseName',\r\n  initialState: [],\r\n  reducers: {\r\n    setExpenseNameData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst paidToDataSlice = createSlice({\r\n  name: 'paidTo',\r\n  initialState: [],\r\n  reducers: {\r\n    setPaidToData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst selectedMakeSlice = createSlice({\r\n  name: 'selectedMake',\r\n  initialState: '',\r\n  reducers: {\r\n    setSelectedMake: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst isLoadingSlice = createSlice({\r\n  name: 'isLoading',\r\n  initialState: false,\r\n  reducers: {\r\n    setIsLoading: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst selectedImagesSlice = createSlice({\r\n  name: 'selectedImages',\r\n  initialState: [],\r\n  reducers: {\r\n    setSelectedImages: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst portDataSlice = createSlice({\r\n  name: 'portData',\r\n  initialState: [],\r\n  reducers: {\r\n    setPortData: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n})\r\nconst transmissionDataSlice = createSlice({\r\n  name: 'transmissionData',\r\n  initialState: [],\r\n  reducers: {\r\n    setTransmissionData: (state, action) => {\r\n      return action.payload;\r\n    },\r\n  },\r\n});\r\nconst fuelDataSlice = createSlice({\r\n  name: 'fuelData',\r\n  initialState: [],\r\n  reducers: {\r\n    setFuelData: (state, action) => {\r\n      return action.payload;\r\n    },\r\n  },\r\n});\r\nconst buyerDataSlice = createSlice({\r\n  name: 'buyerData',\r\n  initialState: [],\r\n  reducers: {\r\n    setBuyerData: (state, action) => {\r\n      return action.payload;\r\n    },\r\n  },\r\n});\r\nconst salesDataSlice = createSlice({\r\n  name: 'salesData',\r\n  initialState: [],\r\n  reducers: {\r\n    setSalesData: (state, action) => {\r\n      return action.payload;\r\n    },\r\n  },\r\n});\r\nconst driveTypeDataSlice = createSlice({\r\n  name: 'driveTypeData',\r\n  initialState: [],\r\n  reducers: {\r\n    setDriveTypeData: (state, action) => {\r\n      return action.payload;\r\n    },\r\n  },\r\n});\r\nconst bodyTypeDataSlice = createSlice({\r\n  name: 'bodyTypeData',\r\n  initialState: [],\r\n  reducers: {\r\n    setBodyTypeData: (state, action) => {\r\n      return action.payload;\r\n    },\r\n  },\r\n});\r\nconst exteriorColorDataSlice = createSlice({\r\n  name: 'exteriorColorData',\r\n  initialState: [],\r\n  reducers: {\r\n    setExteriorColorData: (state, action) => {\r\n      return action.payload;\r\n    },\r\n  },\r\n});\r\nconst currentYearSlice = createSlice({\r\n  name: 'currentYear',\r\n  initialState: '',\r\n  reducers: {\r\n    setCurrentYear: (state, action) => {\r\n      return action.payload;\r\n    },\r\n  },\r\n});\r\n\r\n\r\nconst deleteImageVisibleSlice = createSlice({\r\n  name: 'deleteImageVisible',\r\n  initialState: true,\r\n  reducers: {\r\n    setDeleteImageVisible: (state, action) => {\r\n      return action.payload\r\n    },\r\n  },\r\n});\r\n\r\n// =============================== Chat Messages ========================================\r\nexport const { setCarImageUrl } = carImageUrlSlice.actions\r\nexport const { setSelectedFileUrl } = selectedFileUrlSlice.actions\r\nexport const { setPdfViewerModalVisible } = pdfViewerModalVisibleSlice.actions\r\nexport const { setSelectedCustomerData } = selectedCustomerDataSlice.actions\r\nexport const { setPreviewInvoiceVisible } = previewInvoiceVisibleSlice.actions\r\nexport const { setInvoiceData } = invoiceDataSlice.actions\r\nexport const { setTransactionModalVisible } = transactionModalVisibleSlice.actions\r\nexport const { setDeleteMessageTemplateVisible } = deleteMessageTemplateVisibleSlice.actions\r\nexport const { setLoadMoreMessagesLoading } = loadMoreMessagesLoadingSlice.actions\r\nexport const { setNoMoreMessagesData } = noMoreMessagesDataSlice.actions\r\nexport const { setReadByListModalVisible } = readByListModalVisibleSlice.actions\r\nexport const { setSelectedChatData } = selectedChatDataSlice.actions\r\nexport const { setChatMessageBoxLoading } = chatMessageBoxLoadingSlice.actions\r\nexport const { setChatMessagesData } = chatMessagesDataSlice.actions\r\nexport const { setActiveChatId } = activeChatIdSlice.actions\r\nexport const { setChatListSearchText } = chatListSearchTextSlice.actions\r\nexport const { setLoadMoreLoading } = loadMoreLoadingSlice.actions\r\nexport const { setNoMoreData } = noMoreDataSlice.actions\r\nexport const { setChatListLastVisible } = chatListLastVisibleSlice.actions\r\nexport const { setChatListData } = chatListDataSlice.actions\r\nexport const { setChatListImageUrl } = chatListImageUrlSlice.actions\r\n// =============================== Chat Messages ========================================\r\n\r\n// =============================== Freight ========================================\r\nexport const { setDeletePortModalVisible } = deletePortModalVisibleSlice.actions\r\nexport const { setDeleteCountryModalVisible } = deleteCountryModalVisibleSlice.actions\r\nexport const { setCountryPortsData } = countryPortsDataSlice.actions\r\nexport const { setAddPortsForCountriesModalVisible } = addPortsForCountriesModalVisibleSlice.actions\r\nexport const { setInspectionIsRequiredData } = inspectionIsRequiredDataSlice.actions\r\nexport const { setMethodData } = methodDataSlice.actions\r\nexport const { setInspectionNameData } = inspectionNameDataSlice.actions\r\nexport const { setSelectedButton } = selectedButtonSlice.actions\r\nexport const { setAddCountryModalVisible } = addCountryModalVisibleSlice.actions\r\nexport const { setAddPortModalVisible } = addPortModalVisibleSlice.actions\r\nexport const { setFreightPortsData } = freightPortsDataSlice.actions\r\nexport const { setFreightCountriesData } = freightCountriesDataSlice.actions\r\n// =============================== Freight ========================================\r\n\r\n\r\n// =============================== Vehicle List ========================================\r\nexport const { setInputFob } = inputFobSlice.actions\r\nexport const { setFobHistoryData } = fobHistoryDataSlice.actions\r\nexport const { setFobPriceHistoryModalVisible } = fobPriceHistoryModalVisibleSlice.actions\r\nexport const { setEditVehicleModalVisible } = editVehicleModalVisibleSlice.actions\r\nexport const { setVehicleListData } = vehicleListDataSlice.actions\r\nexport const { setAddVehicleListData } = addVehicleListDataSlice.actions\r\nexport const { setSupplyChainsCostsModalVisible } = supplyChainsCostsModalVisibleSlice.actions\r\nexport const { setVehicleListSupplyChainsCostsData } = vehicleListSupplyChainsCostsDataSlice.actions\r\nexport const { setUploadImagesModalVisible } = uploadImagesModalVisibleSlice.actions\r\nexport const { setUploadImagesButtonLoading } = uploadImagesButtonLoadingSlice.actions\r\nexport const { setViewImagesModalVisible } = viewImagesModalVisibleSlice.actions\r\nexport const { setViewImagesData } = viewImagesDataSlice.actions\r\nexport const { setLastVisible } = lastVisibleSlice.actions\r\n// =============================== Vehicle List ========================================\r\n\r\n// =============================== Account List ========================================\r\nexport const { setAccountListData } = accountListDataSlice.actions\r\n\r\n// =============================== Account List ========================================\r\n\r\n// =============================== Logs ======================================== \r\nexport const { setLogsData } = logsDataSlice.actions\r\n// =============================== Logs ======================================== \r\n\r\nexport const { setStockStatusData } = stockStatusDataSlice.actions\r\nexport const { setIsSuccessModalOpen } = isSuccessModalOpenSlice.actions\r\nexport const { setIsUpdateSuccessModalOpen } = isUpdateSuccessModalOpenSlice.actions\r\nexport const { setLoadingModalVisible } = loadingModalVisibleSlice.actions\r\nexport const { setSelectedPaidTo } = selectedPaidToSlice.actions\r\nexport const { setSelectedExpenseName } = selectedExpenseNameSlice.actions\r\nexport const { setSupplyChainsCostsData } = supplyChainsCostsDataSlice.actions\r\nexport const { setCurrentDate } = currentDateSlice.actions\r\nexport const { setPaidToData } = paidToDataSlice.actions\r\nexport const { setDeleteImageVisible } = deleteImageVisibleSlice.actions\r\nexport const { setExpenseNameData } = expenseNameDataSlice.actions\r\nexport const { setLoginEmail } = loginEmailSlice.actions\r\nexport const { setLoginName } = loginNameSlice.actions\r\nexport const { setIsAddPhotoVisible } = isAddPhotoVisibleSlice.actions\r\nexport const { setAddAnotherImages } = addAnotherImagesSlice.actions\r\nexport const { setModalDeleteImagesVisible } = modalDeleteImagesVisibleSlice.actions\r\nexport const { setMakeData } = makeDataSlice.actions\r\nexport const { setSelectedMake } = selectedMakeSlice.actions\r\nexport const { setIsLoading } = isLoadingSlice.actions\r\nexport const { setSelectedImages } = selectedImagesSlice.actions\r\nexport const { setPortData } = portDataSlice.actions\r\nexport const { setTransmissionData } = transmissionDataSlice.actions;\r\nexport const { setFuelData } = fuelDataSlice.actions;\r\nexport const { setBuyerData } = buyerDataSlice.actions;\r\nexport const { setSalesData } = salesDataSlice.actions;\r\nexport const { setDriveTypeData } = driveTypeDataSlice.actions;\r\nexport const { setBodyTypeData } = bodyTypeDataSlice.actions;\r\nexport const { setExteriorColorData } = exteriorColorDataSlice.actions;\r\nexport const { setJpyToUsd } = jpyToUsdSlice.actions;\r\nexport const { setUsdToJpy } = usdToJpySlice.actions;\r\nexport const { setCurrentYear } = currentYearSlice.actions;\r\nexport const { setModelData } = modelDataSlice.actions\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n\r\n    // =============================== Chat Messages ========================================     \r\n    carImageUrl: carImageUrlSlice.reducer,\r\n    selectedFileUrl: selectedFileUrlSlice.reducer,\r\n    pdfViewerModalVisible: pdfViewerModalVisibleSlice.reducer,\r\n    selectedCustomerData: selectedCustomerDataSlice.reducer,\r\n    previewInvoiceVisible: previewInvoiceVisibleSlice.reducer,\r\n    invoiceData: invoiceDataSlice.reducer,\r\n    transactionModalVisible: transactionModalVisibleSlice.reducer,\r\n    deleteMessageTemplateVisible: deleteMessageTemplateVisibleSlice.reducer,\r\n    loadMoreMessagesLoading: loadMoreMessagesLoadingSlice.reducer,\r\n    noMoreMessagesData: noMoreMessagesDataSlice.reducer,\r\n    readByListModalVisible: readByListModalVisibleSlice.reducer,\r\n    selectedChatData: selectedChatDataSlice.reducer,\r\n    chatMessageBoxLoading: chatMessageBoxLoadingSlice.reducer,\r\n    chatMessagesData: chatMessagesDataSlice.reducer,\r\n    chatListSearchText: chatListSearchTextSlice.reducer,\r\n    activeChatId: activeChatIdSlice.reducer,\r\n    loadMoreLoading: loadMoreLoadingSlice.reducer,\r\n    noMoreData: noMoreDataSlice.reducer,\r\n    chatListLastVisible: chatListLastVisibleSlice.reducer,\r\n    chatListData: chatListDataSlice.reducer,\r\n    chatListImageUrl: chatListImageUrlSlice.reducer,\r\n    // =============================== Chat Messages ======================================== \r\n\r\n    // =============================== Freight ======================================== \r\n    deletePortModalVisible: deletePortModalVisibleSlice.reducer,\r\n    deleteCountryModalVisible: deleteCountryModalVisibleSlice.reducer,\r\n    countryPortsData: countryPortsDataSlice.reducer,\r\n    addPortsForCountriesModalVisible: addPortsForCountriesModalVisibleSlice.reducer,\r\n    inspectionIsRequiredData: inspectionIsRequiredDataSlice.reducer,\r\n    methodData: methodDataSlice.reducer,\r\n    freightPortsData: freightPortsDataSlice.reducer,\r\n    inspectionNameData: inspectionNameDataSlice.reducer,\r\n    addCountryModalVisible: addCountryModalVisibleSlice.reducer,\r\n    addPortModalVisible: addPortModalVisibleSlice.reducer,\r\n    freightCountriesData: freightCountriesDataSlice.reducer,\r\n    selectedButton: selectedButtonSlice.reducer,\r\n    // =============================== Freight ========================================\r\n\r\n    // =============================== Vehicle List ========================================\r\n    inputFob: inputFobSlice.reducer,\r\n    fobHistoryData: fobHistoryDataSlice.reducer,\r\n    fobPriceHistoryModalVisible: fobPriceHistoryModalVisibleSlice.reducer,\r\n    editVehicleModalVisible: editVehicleModalVisibleSlice.reducer,\r\n    vehicleListData: vehicleListDataSlice.reducer,\r\n    addVehicleListData: addVehicleListDataSlice.reducer,\r\n    supplyChainsCostsModalVisible: supplyChainsCostsModalVisibleSlice.reducer,\r\n    uploadImagesModalVisible: uploadImagesModalVisibleSlice.reducer,\r\n    uploadImagesButtonLoading: uploadImagesButtonLoadingSlice.reducer,\r\n    viewImagesModalVisible: viewImagesModalVisibleSlice.reducer,\r\n    viewImagesData: viewImagesDataSlice.reducer,\r\n    lastVisible: lastVisibleSlice.reducer,\r\n    // =============================== Vehicle List ========================================\r\n\r\n\r\n    // =============================== Account List ========================================\r\n    accountListData: accountListDataSlice.reducer,\r\n    // =============================== Account List ========================================\r\n\r\n\r\n    // =============================== Logs ======================================== \r\n    logsData: logsDataSlice.reducer,\r\n    // =============================== Logs ======================================== \r\n    stockStatusData: stockStatusDataSlice.reducer,\r\n    isUpdateSuccessModalOpen: isUpdateSuccessModalOpenSlice.reducer,\r\n    loadingModalVisible: loadingModalVisibleSlice.reducer,\r\n    selectedPaidTo: selectedPaidToSlice.reducer,\r\n    selectedExpenseName: selectedExpenseNameSlice.reducer,\r\n    supplyChainsCostsData: supplyChainsCostsDataSlice.reducer,\r\n    vehicleListSupplyChainsCostsData: vehicleListSupplyChainsCostsDataSlice.reducer,\r\n    currentDate: currentDateSlice.reducer,\r\n    paidToData: paidToDataSlice.reducer,\r\n    expenseNameData: expenseNameDataSlice.reducer,\r\n    modelData: modelDataSlice.reducer,\r\n    makeData: makeDataSlice.reducer,\r\n    selectedMake: selectedMakeSlice.reducer,\r\n    isLoading: isLoadingSlice.reducer,\r\n    selectedImages: selectedImagesSlice.reducer,\r\n    portData: portDataSlice.reducer,\r\n    transmissionData: transmissionDataSlice.reducer,\r\n    fuelData: fuelDataSlice.reducer,\r\n    buyerData: buyerDataSlice.reducer,\r\n    salesData: salesDataSlice.reducer,\r\n    driveTypeData: driveTypeDataSlice.reducer,\r\n    bodyTypeData: bodyTypeDataSlice.reducer,\r\n    exteriorColorData: exteriorColorDataSlice.reducer,\r\n    jpyToUsd: jpyToUsdSlice.reducer,\r\n    usdToJpy: usdToJpySlice.reducer,\r\n    currentYear: currentYearSlice.reducer,\r\n    isAddPhotoVisible: isAddPhotoVisibleSlice.reducer,\r\n    addAnotherImages: addAnotherImagesSlice.reducer,\r\n    modalDeleteImagesVisible: modalDeleteImagesVisibleSlice.reducer,\r\n    loginName: loginNameSlice.reducer,\r\n    loginEmail: loginEmailSlice.reducer,\r\n    deleteImageVisible: deleteImageVisibleSlice.reducer,\r\n  },\r\n\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware({\r\n      serializableCheck: {\r\n        ignoredActions: ['chatMessagesData/setChatMessagesData'],\r\n        ignoredPaths: ['chatMessagesData.somePathToTimestamp'],\r\n      },\r\n    }),\r\n});\r\n\r\n\r\nexport const fetchCurrency = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(projectControlFirestore, 'currency', 'currency');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const jpyToUsd = snapshot.data()?.jpyToUsd || [];\r\n        const usdToJpy = snapshot.data()?.usdToJpy || [];\r\n        dispatch(setJpyToUsd(jpyToUsd));\r\n        dispatch(setUsdToJpy(usdToJpy));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchExpenseNameData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'ExpenseName'), 'ExpenseName');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const expenseNameData = snapshot.data()?.expenseName || [];\r\n        dispatch(setExpenseNameData(expenseNameData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\n\r\n\r\nexport const fetchPaidToData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'PaidTo'), 'PaidTo');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const paidToData = snapshot.data()?.paidTo || [];\r\n        dispatch(setPaidToData(paidToData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const fetchMakeData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'Make'), 'Make');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const makeData = snapshot.data()?.make || [];\r\n        dispatch(setMakeData(makeData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchPortData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'Port'), 'Port');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const portData = snapshot.data()?.port || [];\r\n        dispatch(setPortData(portData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n// Dispatch the fetchMakeData action when your app starts or as needed\r\n\r\nexport const fetchTransmissionData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'Transmission'), 'Transmission');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const transmissionData = snapshot.data()?.transmission || [];\r\n        dispatch(setTransmissionData(transmissionData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const fetchFuelData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'Fuel'), 'Fuel');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const fuelData = snapshot.data()?.fuel || [];\r\n        dispatch(setFuelData(fuelData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchBuyerData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'Buyer'), 'Buyer');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const buyerData = snapshot.data()?.buyer || [];\r\n        dispatch(setBuyerData(buyerData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchSalesData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'Sales'), 'Sales');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const salesData = snapshot.data()?.sales || [];\r\n        dispatch(setSalesData(salesData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchDriveTypeData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'DriveType'), 'DriveType');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const driveTypeData = snapshot.data()?.driveType || [];\r\n        dispatch(setDriveTypeData(driveTypeData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchBodyTypeData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'BodyType'), 'BodyType');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const bodyTypeData = snapshot.data()?.bodyType || [];\r\n        dispatch(setBodyTypeData(bodyTypeData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchExteriorColorData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'ExteriorColor'), 'ExteriorColor');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const exteriorColorData = snapshot.data()?.exteriorColor || [];\r\n        dispatch(setExteriorColorData(exteriorColorData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchYear = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n      const { datetime } = response.data;\r\n      const formattedTime = moment(datetime).format('YYYY');\r\n      dispatch(setCurrentYear(formattedTime));\r\n    } catch (error) {\r\n      console.error('Error fetching time:', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchCurrentDate = () => {\r\n\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n      const { datetime } = response.data;\r\n      const formattedTime = moment(datetime).format('YYYY-MM-DD');\r\n      dispatch(setCurrentDate(formattedTime));\r\n    } catch (error) {\r\n      console.error('Error fetching time:', error);\r\n    }\r\n  };\r\n};\r\n\r\n// =============================== Vehicle List ========================================\r\n\r\n\r\nexport const fetchVehicleListData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const queryRef = query(\r\n        collection(projectExtensionFirestore, 'VehicleProducts'),\r\n        orderBy('dateAdded', 'desc'),\r\n        limit(10)\r\n      );\r\n\r\n      const unsubscribe = onSnapshot(queryRef, (snapshot) => {\r\n        const vehicleProductData = [];\r\n        snapshot.forEach((doc) => {\r\n          vehicleProductData.push({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n          });\r\n        });\r\n        dispatch(setVehicleListData(vehicleProductData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\n// =============================== Vehicle List ========================================\r\n\r\n// =============================== Logs ========================================\r\n// export const fetchLogsData = () => {\r\n//   return async (dispatch) => {\r\n//     try {\r\n\r\n//       const queryRef = query(\r\n//         collection(projectControlFirestore, 'logs'),\r\n//         orderBy('timestamp', 'desc'),\r\n//         limit(10)\r\n//       );\r\n\r\n//       const unsubscribe = onSnapshot(queryRef, (snapshot) => {\r\n//         const logsDatabaseData = [];\r\n//         snapshot.forEach((doc) => {\r\n//           logsDatabaseData.push({\r\n//             id: doc.id,\r\n//             ...doc.data(),\r\n//           });\r\n//         });\r\n//         dispatch(setLogsData(logsDatabaseData));\r\n//       });\r\n\r\n//       // Return the unsubscribe function to stop listening when necessary\r\n//       return unsubscribe;\r\n//     } catch (error) {\r\n//       // Handle errors here\r\n//       console.error('Error fetching data from Firebase:', error);\r\n//     }\r\n//   };\r\n// };\r\n\r\n// =============================== Logs ========================================\r\n\r\n// =============================== Freight ========================================\r\n\r\nexport const fetchMethodData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'CustomerCountryPort'), 'MethodDoc');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const methodData = snapshot.data()?.methodData || [];\r\n        dispatch(setMethodData(methodData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchInspectionIsRequiredData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'CustomerCountryPort'), 'InspectionIsRequiredDoc');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const inspectionIsRequiredData = snapshot.data()?.inspectionIsRequiredData || [];\r\n        dispatch(setInspectionIsRequiredData(inspectionIsRequiredData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n\r\nexport const fetchInspectionNameData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const docRef = doc(collection(projectExtensionFirestore, 'CustomerCountryPort'), 'InspectionNameDoc');\r\n      const unsubscribe = onSnapshot(docRef, (snapshot) => {\r\n        const inspectionNameData = snapshot.data()?.inspectionNameData || [];\r\n        dispatch(setInspectionNameData(inspectionNameData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n// =============================== Freight ========================================\r\n\r\n\r\n// =============================== Chat Messages ========================================\r\nexport const fetchChatListData = () => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const queryRef = query(\r\n        collection(projectExtensionFirestore, 'chats'),\r\n        orderBy('lastMessageDate', 'desc'),\r\n        limit(10)\r\n      );\r\n\r\n      const unsubscribe = onSnapshot(queryRef, (snapshot) => {\r\n        const chatsData = [];\r\n        snapshot.forEach((doc) => {\r\n          chatsData.push({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n          });\r\n        });\r\n        dispatch(setChatListData(chatsData));\r\n      });\r\n\r\n      // Return the unsubscribe function to stop listening when necessary\r\n      return unsubscribe;\r\n    } catch (error) {\r\n      // Handle errors here\r\n      console.error('Error fetching data from Firebase:', error);\r\n    }\r\n  };\r\n};\r\n// =============================== Chat Messages ========================================\r\n// To stop listening for updates, you can call unsubscribe()\r\n// unsubscribe();\r\n\r\nstore.dispatch(fetchCurrentDate());\r\nstore.dispatch(fetchPaidToData());\r\nstore.dispatch(fetchExpenseNameData());\r\nstore.dispatch(fetchMakeData());\r\nstore.dispatch(fetchPortData());\r\nstore.dispatch(fetchTransmissionData());\r\nstore.dispatch(fetchFuelData());\r\nstore.dispatch(fetchBuyerData());\r\nstore.dispatch(fetchSalesData());\r\nstore.dispatch(fetchDriveTypeData());\r\nstore.dispatch(fetchBodyTypeData());\r\nstore.dispatch(fetchExteriorColorData());\r\nstore.dispatch(fetchCurrency());\r\nstore.dispatch(fetchYear());\r\n\r\n\r\n\r\n// store.dispatch(fetchVehicleListData());\r\n\r\nstore.dispatch(fetchMethodData());\r\nstore.dispatch(fetchInspectionIsRequiredData());\r\nstore.dispatch(fetchInspectionNameData());\r\n\r\n// store.dispatch(fetchChatListData());\r\n\r\n\r\nexport default store","import { initializeApp } from 'firebase/app';\r\nimport { getAuth } from 'firebase/auth';\r\nimport { getFirestore } from 'firebase/firestore';\r\nimport {\r\n  REACT_NATIVE_FIREBASE_CONTROL_API_KEY,\r\n  REACT_NATIVE_FIREBASE_CONTROL_AUTH_DOMAIN,\r\n  REACT_NATIVE_FIREBASE_CONTROL_AUTH_URL,\r\n  REACT_NATIVE_FIREBASE_CONTROL_PROJECT_ID,\r\n  REACT_NATIVE_FIREBASE_CONTROL_STORAGE_BUCKET,\r\n  REACT_NATIVE_FIREBASE_CONTROL_MESSAGING_SENDER_ID,\r\n  REACT_NATIVE_FIREBASE_CONTROL_APP_ID,\r\n  REACT_NATIVE_FIREBASE_CONTROL_MEASUREMENT_ID\r\n} from '@env';\r\n\r\nimport {\r\n  REACT_NATIVE_FIREBASE_EXTENSION_API_KEY,\r\n  REACT_NATIVE_FIREBASE_EXTENSION_AUTH_DOMAIN,\r\n  REACT_NATIVE_FIREBASE_EXTENSION_PROJECT_ID,\r\n  REACT_NATIVE_FIREBASE_EXTENSION_STORAGE_BUCKET,\r\n  REACT_NATIVE_FIREBASE_EXTENSION_MESSAGING_SENDER_ID,\r\n  REACT_NATIVE_FIREBASE_EXTENSION_APP_ID,\r\n  REACT_NATIVE_FIREBASE_EXTENSION_MEASUREMENT_ID\r\n} from '@env';\r\n\r\n// Configuration for Firebase project 1\r\nconst firebaseConfigControl = {\r\n  apiKey: REACT_NATIVE_FIREBASE_CONTROL_API_KEY,\r\n  authDomain: REACT_NATIVE_FIREBASE_CONTROL_AUTH_DOMAIN,\r\n  databaseURL: REACT_NATIVE_FIREBASE_CONTROL_AUTH_URL,\r\n  projectId: REACT_NATIVE_FIREBASE_CONTROL_PROJECT_ID,\r\n  storageBucket: REACT_NATIVE_FIREBASE_CONTROL_STORAGE_BUCKET,\r\n  messagingSenderId: REACT_NATIVE_FIREBASE_CONTROL_MESSAGING_SENDER_ID,\r\n  appId: REACT_NATIVE_FIREBASE_CONTROL_APP_ID,\r\n  measurementId: REACT_NATIVE_FIREBASE_CONTROL_MEASUREMENT_ID,\r\n};\r\n\r\n\r\n\r\n\r\n\r\n// Configuration for Firebase project 2\r\nconst firebaseConfigExtension = {\r\n  // Replace with your project 2 configuration\r\n  apiKey: REACT_NATIVE_FIREBASE_EXTENSION_API_KEY,\r\n  authDomain: REACT_NATIVE_FIREBASE_EXTENSION_AUTH_DOMAIN,\r\n  projectId: REACT_NATIVE_FIREBASE_EXTENSION_PROJECT_ID,\r\n  storageBucket: REACT_NATIVE_FIREBASE_EXTENSION_STORAGE_BUCKET,\r\n  messagingSenderId: REACT_NATIVE_FIREBASE_EXTENSION_MESSAGING_SENDER_ID,\r\n  appId: REACT_NATIVE_FIREBASE_EXTENSION_APP_ID,\r\n  measurementId: REACT_NATIVE_FIREBASE_EXTENSION_MEASUREMENT_ID,\r\n\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Initialize Firebase for project 1\r\nexport const projectControlFirebase = initializeApp(firebaseConfigControl);\r\nexport const projectControlAuth = getAuth(projectControlFirebase);\r\nexport const projectControlFirestore = getFirestore(projectControlFirebase);\r\n\r\n// Initialize Firebase for project 2\r\nexport const projectExtensionFirebase = initializeApp(firebaseConfigExtension, 'projectExtension');\r\nexport const projectExtensionAuth = getAuth(projectExtensionFirebase);\r\nexport const projectExtensionFirestore = getFirestore(projectExtensionFirebase);\r\n","\r\n\r\nimport { getFirestore, collection, addDoc, doc, setDoc, getDoc, query, where, onSnapshot, updateDoc, getDocs, orderBy, deleteDoc, startAfter, limit } from 'firebase/firestore';\r\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\r\n// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { \r\n  REACT_NATIVE_FIREBASE_CONTROL_API_KEY, \r\n  REACT_NATIVE_FIREBASE_CONTROL_AUTH_DOMAIN,\r\n  REACT_NATIVE_FIREBASE_CONTROL_AUTH_URL, \r\n  REACT_NATIVE_FIREBASE_CONTROL_PROJECT_ID, \r\n  REACT_NATIVE_FIREBASE_CONTROL_STORAGE_BUCKET, \r\n  REACT_NATIVE_FIREBASE_CONTROL_MESSAGING_SENDER_ID, \r\n  REACT_NATIVE_FIREBASE_CONTROL_APP_ID,\r\n  REACT_NATIVE_FIREBASE_CONTROL_MEASUREMENT_ID } from '@env';\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\n\r\nconst firebaseControlConfig = {\r\n  apiKey:REACT_NATIVE_FIREBASE_CONTROL_API_KEY,\r\n  authDomain:REACT_NATIVE_FIREBASE_CONTROL_AUTH_DOMAIN,\r\n  databaseURL:REACT_NATIVE_FIREBASE_CONTROL_AUTH_URL,\r\n  projectId:REACT_NATIVE_FIREBASE_CONTROL_PROJECT_ID,\r\n  storageBucket:REACT_NATIVE_FIREBASE_CONTROL_STORAGE_BUCKET,\r\n  messagingSenderId:REACT_NATIVE_FIREBASE_CONTROL_MESSAGING_SENDER_ID,\r\n  appId:REACT_NATIVE_FIREBASE_CONTROL_APP_ID,\r\n  measurementId:REACT_NATIVE_FIREBASE_CONTROL_MEASUREMENT_ID,\r\n  };\r\n\r\n// Initialize Firebase\r\n\r\nconst app = initializeApp(firebaseControlConfig);\r\nconst analytics = getAnalytics(app);\r\nconst auth = getAuth(app);\r\nrequire('firebase/auth');\r\n// export const auth = app.auth()\r\nconst db = getFirestore (app);\r\n// export default app\r\nexport {app, db, auth, getFirestore, collection, addDoc, doc, setDoc, getDoc, query, where, onSnapshot, getAuth, signInWithEmailAndPassword, updateDoc, getDocs, orderBy, deleteDoc, limit, startAfter };","\r\n\r\nimport { getFirestore, collection, addDoc, doc, setDoc, getDoc, query, where, onSnapshot, updateDoc } from 'firebase/firestore';\r\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\r\n// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport { \r\n  REACT_NATIVE_FIREBASE_CONTROL_API_KEY, \r\n  REACT_NATIVE_FIREBASE_CONTROL_AUTH_DOMAIN,\r\n  REACT_NATIVE_FIREBASE_CONTROL_AUTH_URL, \r\n  REACT_NATIVE_FIREBASE_CONTROL_PROJECT_ID, \r\n  REACT_NATIVE_FIREBASE_CONTROL_STORAGE_BUCKET, \r\n  REACT_NATIVE_FIREBASE_CONTROL_MESSAGING_SENDER_ID, \r\n  REACT_NATIVE_FIREBASE_CONTROL_APP_ID,\r\n  REACT_NATIVE_FIREBASE_CONTROL_MEASUREMENT_ID } from '@env';\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\n\r\nconst firebaseControlCreateUserConfig = {\r\n  apiKey:REACT_NATIVE_FIREBASE_CONTROL_API_KEY,\r\n  authDomain:REACT_NATIVE_FIREBASE_CONTROL_AUTH_DOMAIN,\r\n  databaseURL:REACT_NATIVE_FIREBASE_CONTROL_AUTH_URL,\r\n  projectId:REACT_NATIVE_FIREBASE_CONTROL_PROJECT_ID,\r\n  storageBucket:REACT_NATIVE_FIREBASE_CONTROL_STORAGE_BUCKET,\r\n  messagingSenderId:REACT_NATIVE_FIREBASE_CONTROL_MESSAGING_SENDER_ID,\r\n  appId:REACT_NATIVE_FIREBASE_CONTROL_APP_ID,\r\n  measurementId:REACT_NATIVE_FIREBASE_CONTROL_MEASUREMENT_ID,\r\n  };\r\n\r\n// Initialize Firebase\r\n\r\n\r\nrequire('firebase/auth');\r\n// export const auth = app.auth()\r\nconst firebaseAppForCreateUser = initializeApp(firebaseControlCreateUserConfig, 'Secondary' );\r\nconst authForCreateUser = getAuth(firebaseAppForCreateUser);\r\n// export default app\r\nexport {authForCreateUser};","// extracted by mini-css-extract-plugin\nexport default {};","var map = {\n\t\"./af\": 94506,\n\t\"./af.js\": 94506,\n\t\"./ar\": 59687,\n\t\"./ar-dz\": 62887,\n\t\"./ar-dz.js\": 62887,\n\t\"./ar-kw\": 66307,\n\t\"./ar-kw.js\": 66307,\n\t\"./ar-ly\": 51664,\n\t\"./ar-ly.js\": 51664,\n\t\"./ar-ma\": 89926,\n\t\"./ar-ma.js\": 89926,\n\t\"./ar-sa\": 85207,\n\t\"./ar-sa.js\": 85207,\n\t\"./ar-tn\": 52912,\n\t\"./ar-tn.js\": 52912,\n\t\"./ar.js\": 59687,\n\t\"./az\": 5011,\n\t\"./az.js\": 5011,\n\t\"./be\": 25997,\n\t\"./be.js\": 25997,\n\t\"./bg\": 4427,\n\t\"./bg.js\": 4427,\n\t\"./bm\": 85385,\n\t\"./bm.js\": 85385,\n\t\"./bn\": 67703,\n\t\"./bn-bd\": 57002,\n\t\"./bn-bd.js\": 57002,\n\t\"./bn.js\": 67703,\n\t\"./bo\": 39841,\n\t\"./bo.js\": 39841,\n\t\"./br\": 45642,\n\t\"./br.js\": 45642,\n\t\"./bs\": 44707,\n\t\"./bs.js\": 44707,\n\t\"./ca\": 53512,\n\t\"./ca.js\": 53512,\n\t\"./cs\": 39497,\n\t\"./cs.js\": 39497,\n\t\"./cv\": 6479,\n\t\"./cv.js\": 6479,\n\t\"./cy\": 89318,\n\t\"./cy.js\": 89318,\n\t\"./da\": 97229,\n\t\"./da.js\": 97229,\n\t\"./de\": 63460,\n\t\"./de-at\": 51044,\n\t\"./de-at.js\": 51044,\n\t\"./de-ch\": 26445,\n\t\"./de-ch.js\": 26445,\n\t\"./de.js\": 63460,\n\t\"./dv\": 32096,\n\t\"./dv.js\": 32096,\n\t\"./el\": 16048,\n\t\"./el.js\": 16048,\n\t\"./en-au\": 74301,\n\t\"./en-au.js\": 74301,\n\t\"./en-ca\": 66855,\n\t\"./en-ca.js\": 66855,\n\t\"./en-gb\": 761,\n\t\"./en-gb.js\": 761,\n\t\"./en-ie\": 46127,\n\t\"./en-ie.js\": 46127,\n\t\"./en-il\": 49157,\n\t\"./en-il.js\": 49157,\n\t\"./en-in\": 37199,\n\t\"./en-in.js\": 37199,\n\t\"./en-nz\": 31511,\n\t\"./en-nz.js\": 31511,\n\t\"./en-sg\": 47309,\n\t\"./en-sg.js\": 47309,\n\t\"./eo\": 92160,\n\t\"./eo.js\": 92160,\n\t\"./es\": 68582,\n\t\"./es-do\": 71885,\n\t\"./es-do.js\": 71885,\n\t\"./es-mx\": 2553,\n\t\"./es-mx.js\": 2553,\n\t\"./es-us\": 16962,\n\t\"./es-us.js\": 16962,\n\t\"./es.js\": 68582,\n\t\"./et\": 98890,\n\t\"./et.js\": 98890,\n\t\"./eu\": 37704,\n\t\"./eu.js\": 37704,\n\t\"./fa\": 22562,\n\t\"./fa.js\": 22562,\n\t\"./fi\": 70877,\n\t\"./fi.js\": 70877,\n\t\"./fil\": 34246,\n\t\"./fil.js\": 34246,\n\t\"./fo\": 78341,\n\t\"./fo.js\": 78341,\n\t\"./fr\": 19867,\n\t\"./fr-ca\": 82347,\n\t\"./fr-ca.js\": 82347,\n\t\"./fr-ch\": 17683,\n\t\"./fr-ch.js\": 17683,\n\t\"./fr.js\": 19867,\n\t\"./fy\": 21982,\n\t\"./fy.js\": 21982,\n\t\"./ga\": 13905,\n\t\"./ga.js\": 13905,\n\t\"./gd\": 13443,\n\t\"./gd.js\": 13443,\n\t\"./gl\": 66905,\n\t\"./gl.js\": 66905,\n\t\"./gom-deva\": 91324,\n\t\"./gom-deva.js\": 91324,\n\t\"./gom-latn\": 41890,\n\t\"./gom-latn.js\": 41890,\n\t\"./gu\": 37134,\n\t\"./gu.js\": 37134,\n\t\"./he\": 96835,\n\t\"./he.js\": 96835,\n\t\"./hi\": 81394,\n\t\"./hi.js\": 81394,\n\t\"./hr\": 13564,\n\t\"./hr.js\": 13564,\n\t\"./hu\": 46269,\n\t\"./hu.js\": 46269,\n\t\"./hy-am\": 57269,\n\t\"./hy-am.js\": 57269,\n\t\"./id\": 44254,\n\t\"./id.js\": 44254,\n\t\"./is\": 8699,\n\t\"./is.js\": 8699,\n\t\"./it\": 28301,\n\t\"./it-ch\": 92887,\n\t\"./it-ch.js\": 92887,\n\t\"./it.js\": 28301,\n\t\"./ja\": 64642,\n\t\"./ja.js\": 64642,\n\t\"./jv\": 62168,\n\t\"./jv.js\": 62168,\n\t\"./ka\": 94501,\n\t\"./ka.js\": 94501,\n\t\"./kk\": 49537,\n\t\"./kk.js\": 49537,\n\t\"./km\": 45808,\n\t\"./km.js\": 45808,\n\t\"./kn\": 34881,\n\t\"./kn.js\": 34881,\n\t\"./ko\": 62951,\n\t\"./ko.js\": 62951,\n\t\"./ku\": 92452,\n\t\"./ku.js\": 92452,\n\t\"./ky\": 1853,\n\t\"./ky.js\": 1853,\n\t\"./lb\": 77639,\n\t\"./lb.js\": 77639,\n\t\"./lo\": 34502,\n\t\"./lo.js\": 34502,\n\t\"./lt\": 60874,\n\t\"./lt.js\": 60874,\n\t\"./lv\": 18237,\n\t\"./lv.js\": 18237,\n\t\"./me\": 87878,\n\t\"./me.js\": 87878,\n\t\"./mi\": 64234,\n\t\"./mi.js\": 64234,\n\t\"./mk\": 17535,\n\t\"./mk.js\": 17535,\n\t\"./ml\": 43896,\n\t\"./ml.js\": 43896,\n\t\"./mn\": 63046,\n\t\"./mn.js\": 63046,\n\t\"./mr\": 80927,\n\t\"./mr.js\": 80927,\n\t\"./ms\": 37224,\n\t\"./ms-my\": 66332,\n\t\"./ms-my.js\": 66332,\n\t\"./ms.js\": 37224,\n\t\"./mt\": 24866,\n\t\"./mt.js\": 24866,\n\t\"./my\": 24206,\n\t\"./my.js\": 24206,\n\t\"./nb\": 66723,\n\t\"./nb.js\": 66723,\n\t\"./ne\": 45097,\n\t\"./ne.js\": 45097,\n\t\"./nl\": 37529,\n\t\"./nl-be\": 1355,\n\t\"./nl-be.js\": 1355,\n\t\"./nl.js\": 37529,\n\t\"./nn\": 30296,\n\t\"./nn.js\": 30296,\n\t\"./oc-lnc\": 4802,\n\t\"./oc-lnc.js\": 4802,\n\t\"./pa-in\": 77057,\n\t\"./pa-in.js\": 77057,\n\t\"./pl\": 69850,\n\t\"./pl.js\": 69850,\n\t\"./pt\": 15552,\n\t\"./pt-br\": 83726,\n\t\"./pt-br.js\": 83726,\n\t\"./pt.js\": 15552,\n\t\"./ro\": 1717,\n\t\"./ro.js\": 1717,\n\t\"./ru\": 79117,\n\t\"./ru.js\": 79117,\n\t\"./sd\": 61742,\n\t\"./sd.js\": 61742,\n\t\"./se\": 92049,\n\t\"./se.js\": 92049,\n\t\"./si\": 83329,\n\t\"./si.js\": 83329,\n\t\"./sk\": 27619,\n\t\"./sk.js\": 27619,\n\t\"./sl\": 76707,\n\t\"./sl.js\": 76707,\n\t\"./sq\": 84281,\n\t\"./sq.js\": 84281,\n\t\"./sr\": 60436,\n\t\"./sr-cyrl\": 13408,\n\t\"./sr-cyrl.js\": 13408,\n\t\"./sr.js\": 60436,\n\t\"./ss\": 27500,\n\t\"./ss.js\": 27500,\n\t\"./sv\": 6950,\n\t\"./sv.js\": 6950,\n\t\"./sw\": 54222,\n\t\"./sw.js\": 54222,\n\t\"./ta\": 73746,\n\t\"./ta.js\": 73746,\n\t\"./te\": 1130,\n\t\"./te.js\": 1130,\n\t\"./tet\": 34740,\n\t\"./tet.js\": 34740,\n\t\"./tg\": 13378,\n\t\"./tg.js\": 13378,\n\t\"./th\": 20628,\n\t\"./th.js\": 20628,\n\t\"./tk\": 92622,\n\t\"./tk.js\": 92622,\n\t\"./tl-ph\": 30100,\n\t\"./tl-ph.js\": 30100,\n\t\"./tlh\": 22871,\n\t\"./tlh.js\": 22871,\n\t\"./tr\": 33600,\n\t\"./tr.js\": 33600,\n\t\"./tzl\": 18985,\n\t\"./tzl.js\": 18985,\n\t\"./tzm\": 3627,\n\t\"./tzm-latn\": 51145,\n\t\"./tzm-latn.js\": 51145,\n\t\"./tzm.js\": 3627,\n\t\"./ug-cn\": 4790,\n\t\"./ug-cn.js\": 4790,\n\t\"./uk\": 97712,\n\t\"./uk.js\": 97712,\n\t\"./ur\": 99529,\n\t\"./ur.js\": 99529,\n\t\"./uz\": 99141,\n\t\"./uz-latn\": 61737,\n\t\"./uz-latn.js\": 61737,\n\t\"./uz.js\": 99141,\n\t\"./vi\": 98205,\n\t\"./vi.js\": 98205,\n\t\"./x-pseudo\": 20697,\n\t\"./x-pseudo.js\": 20697,\n\t\"./yo\": 37826,\n\t\"./yo.js\": 37826,\n\t\"./zh-cn\": 83994,\n\t\"./zh-cn.js\": 83994,\n\t\"./zh-hk\": 36892,\n\t\"./zh-hk.js\": 36892,\n\t\"./zh-mo\": 43884,\n\t\"./zh-mo.js\": 43884,\n\t\"./zh-tw\": 85136,\n\t\"./zh-tw.js\": 85136\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + {\"162\":\"da88e0a0\",\"245\":\"704124dc\"}[chunkId] + \".chunk.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"web:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/samplecontrolhub/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t179: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkweb\"] = self[\"webpackChunkweb\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [104], () => (__webpack_require__(19386)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","_Dimensions$get","Dimensions","get","width","height","LoginPage","_useState","useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","_useState5","_useState6","password","setPassword","_React$useState","React","_React$useState2","show","setShow","_React$useState3","_React$useState4","errorShow","setErrorShow","_React$useState5","_React$useState6","_React$useState7","_React$useState8","errorTitle","setErrorTitle","_React$useState9","_React$useState10","errorMessage","setErrorMessage","logo","require","_useState7","_useState8","isLoading","setIsLoading","_useState9","_useState10","isDisabled","setIsDisabled","navigate","useNavigate","useEffect","auth","onAuthStateChanged","user","ErrorLoginShow","_jsx","Box","w","alignItems","children","PresenceTransition","visible","initial","opacity","scale","animate","transition","duration","Alert","maxW","status","_jsxs","VStack","space","flexShrink","HStack","justifyContent","Icon","Text","fontSize","fontWeight","_dark","color","pl","_text","updateFieldData","_ref","_asyncToGenerator","documentId","fieldName","newValue","userRef","doc","db","updateDoc","_defineProperty","error","console","_x","_x2","_x3","apply","arguments","handleSignIn","setTimeout","signInWithEmailAndPassword","trim","then","re","catch","errorCode","message","log","length","NativeBaseProvider","bgColor","h","Center","flex","px","Image","source","uri","resizeMode","alt","style","Stack","Input","base","md","sm","value","onSubmitEditing","onChangeText","text","InputLeftElement","as","MaterialIcons","name","size","ml","placeholder","placeholderTextColor","type","InputRightElement","Pressable","onPress","mr","Button","_hover","_pressed","_focus","borderWidth","borderColor","disabled","Spinner","StyleSheet","create","container","paddingHorizontal","input","borderRadius","marginBottom","loginButton","backgroundColor","paddingVertical","loginButtonText","textAlign","Loading","loadingContainer","props","LazyComponent","lazy","importFunc","Suspense","fallback","_objectSpread","createNativeStackNavigator","getFirestore","DevAdmin","navigation","setDrawerVisible","createDrawerNavigator","Routes","Route","path","element","Navigate","to","replace","ChatMessages","LazyScreen","SuperAdmin","useNavigation","signOut","firestore","getEmailOfCurrentUser","currentUser","Checkpoint","dispatch","useDispatch","useSelector","state","loginEmail","loginName","setType","handleDocumentChange","snapshot","exists","data","active","unsubscribe","_auth$currentUser","userId","onSnapshot","subscribeToFieldChange","currentUserEmail","getFieldValueByEmail","accountDocRef","docSnapshot","fieldType","setLoginName","Math","floor","random","App","initializing","setInitializing","setUser","Provider","store","Router","Admin","selectedScreen","AccountList","_searchInput$current","setEmailError","logo2","_useState11","_useState12","_useState13","_useState14","setName","_useState15","_useState16","_useState17","_useState18","_useState19","_useState20","isSelectedLogs","_useState21","_useState22","isSelectedAddAccount","_useState23","_useState24","isSelectedAccountList","_useState25","_useState26","_useState27","_useState28","_useState29","_useState30","setAccountTypeSpAd","_useState31","_useState32","setAccountTypeDevAd","_useState33","_useState34","setAccountTypeAd","_useState35","_useState36","setAccountType3","_useState37","_useState38","setAccountType4","_useState39","_useState40","inputName","setInputName","_useState41","_useState42","_useState43","_useState44","inputEmail","setInputEmail","_useState45","_useState46","inputPassword","setInputPassword","_useState47","_useState48","setInputConfirmPassword","_useState49","_useState50","typeOfAccount","setTypeOfAccount","_useState51","_useState52","setTypeOfAccountDisplay","showSuccessModal","setShowSuccessModal","showDisableModal","setShowDisableModal","showEnableModal","setShowEnableModal","_React$useState11","_React$useState12","showDeleteModal","setShowDeleteModal","_React$useState13","_React$useState14","_useState53","useRef","_useState54","selectedItem","setSelectedItem","_useState55","_useState56","modalVisible","setModalVisible","_useState57","_useState58","_useState59","_useState60","setTime","_useState61","_useState62","selectedType","setSelectedType","_useState63","_useState64","selectedTypeDisplay","setSelectedTypeDisplay","_useState65","_useState66","selectedItemType","setSelectedItemType","_useState67","_useState68","isEmailDuplicate","setIsEmailDuplicate","_useState69","_useState70","authEmail","setAuthEmail","_useState71","_useState72","authPassword","setAuthPassword","_useState73","_useState74","isYesLoading","setIsYesLoading","_useState75","_useState76","isSaveLoading","setIsSaveLoading","inputEmailRef","inputNameRef","inputPassRef","_useState77","_useState78","page","setPage","optionsPerPage","_useState79","_useState80","itemsPerPage","setItemsPerPage","_useState81","_useState82","setData","_useState83","_useState84","searchQuery","setSearchQuery","_useState85","_useState86","filteredData","setFilteredData","_useState87","_useState88","_useState89","_useState90","ref0","ref1","ref2","ref3","searchInput","searchInputValue","current","_useState91","_useState92","pageSize","_useState93","_useState94","lastVisible","setLastVisible","_useState95","_useState96","firstVisible","setFirstVisible","_useState97","_useState98","searchText","_useState99","_useState100","currentPage","setCurrentPage","q","query","collection","orderBy","limit","documents","logsDatabaseData","forEach","document","push","setAccountListData","docs","fetchNextData","collectionGroup","projectControlFirestore","startAfter","getDocs","updateState","setLoadingModalVisible","where","toLowerCase","fetchPreviousData","_ref2","endBefore","limitToLast","fetchFirstPage","accountListDatabaseData","_ref3","pageClicked","empty","firstPageDocuments","_ref4","_ref5","searchData","_ref6","handleToggleAccountTypeAd","useCallback","handleToggleAccountTypeDevAd","handleToggleAccountType3","handleToggleAccountType4","handleToggleAccountTypeSpAd","fetchData","_ref7","updatedData","listenForNameChange","_auth$currentUser2","getEmailFromDocument","_ref8","collectionPath","documentRef","documentSnapshot","getDoc","pass","_x4","_ref9","accountDocSnapshot","_x5","validateEmail","test","handleEdit","find","item","typeDisplay","setNativeProps","handleInputEmailChange","debounce","handleInputNameChange","handleInputPassChange","handleCloseModal","handleCloseDisableModal","handleCloseDeleteModal","handleCloseEnableModal","addLogToCollection","_ref10","logsCollectionRef","addDoc","_x6","handleEnable","_ref11","itemDocRef","datetime","axios","formattedTime","moment","format","year","month","monthWithDay","date","day","time","timeWithMinutesSeconds","applySearchFilter","logData","keywords","timestamp","colorScheme","_x7","deleteDocument","_ref12","customId","deleteDoc","_x8","_x9","handleDelete","_ref13","deleteUser","_x10","handleDisable","_ref14","_searchInput$current2","_x11","filter","includes","handleSave","_ref15","isPasswordLengthLabel","updatedFields","lastUpdatedDate","_searchInput$current3","updatePassword","userDocRef","dateOfCreation","setDoc","oldDocumentRef","newDocumentRef","createUserWithEmailAndPassword","updatedItem","fetchSignInMethodsForEmail","_x12","_ref16","filtered","useMemo","paginatedData","startIndex","endIndex","slice","handleSearch","min","styles","image","flexDirection","position","top","zIndex","borderBottomWidth","borderBottomColor","SideDrawer","marginTop","paddingLeft","FastImage","priority","high","stretch","marginLeft","_ref17","handleSignOut","_useState101","_useState102","showNamePopover","setShowNamePopover","showPopover","Flex","direction","Popover","isOpen","trigger","triggerProps","marginRight","MaterialCommunityIcons","Ionicons","onClose","placement","trapFocus","Content","Body","leftIcon","flexGrow","minHeight","ref","ScrollView","contentContainerStyle","DataTable","margin","overflow","display","padding","paddingBottom","handleOpenDisableModal","handleOpenEnableModal","handleOpenDeleteModal","Pagination","numberOfPages","ceil","onPageChange","label","showFastPagination","optionsLabel","Modal","CloseButton","Header","defaultValue","bold","FontAwesome","Footer","borderTopWidth","maxWidth","variant","AddAccount","show2","setShow2","accountTypeSpAd","accountTypeDevAd","accountTypeAd","accountType3","accountType4","typeOfAccountDisplay","showModal","setShowModal","inputConfirmPassword","passwordMatch","setPasswordMatch","passwordMatchLabel","setPasswordMatchLabel","passwordLengthLabel","setPasswordLengthLabel","isNameEmpty","setIsNameEmpty","setIsIntervalActive","closeModal","handleAddAccount","isAccountType","_inputEmail$current","authForCreateUser","userCredential","_inputName$current","_inputName$current2","_inputEmail$current2","_inputName$current3","_inputPassword$curren","customID","docRef","handleClear","handlePasswordStatus","_inputPassword$curren3","_inputConfirmPassword2","inputPasswordValue","inputConfirmPasswordValue","inputPasswordValueLength","_inputEmail$current3","emailValue","handleEmailSubmit","_inputName$current4","AntDesign","_inputPassword$curren2","_inputConfirmPassword","globalSupplyChainCostsData","globalSelectedExpenseName","globalSupplyChainCostsAmount","globalSelectedPaidTo","globalModelDataVariable","globalRegYearDataVariable","globalSelectedImages","globalVehicleFolderName","globalReferenceNumber","globalSPCSelectedDate","globalFobPrice","UpdateSuccessModal","bodyText","headerText","isUpdateSuccessModalOpen","borderLeftWidth","borderLeftColor","UploadSuccessModal","isSuccessModalOpen","LoadingModal","loadingModalVisible","bottom","left","right","SelectExpenseName","expenseNameIsError","selectExpenseNameRef","selectResetKey","expenseNameData","selectedExpenseName","nanoid","Select","selectedValue","onValueChange","setSelectedExpenseName","accessibilityLabel","_selectedItem","bg","endIcon","CheckIcon","Item","SelectPaidTo","paidToIsError","paidToData","selectedPaidTo","setSelectedPaidTo","ModalCalendar","selectedDate","setSelectedDate","modalCalendarVisible","setModalCalendarVisible","handleModalCalendarOpen","handleModalCalendarClose","_Fragment","onFocus","useRNModal","Calendar","onDayPress","dateString","markedDates","selected","disableTouchEvent","selectedDotColor","renderArrow","enableSwipeMonths","initialDate","showSixWeeks","SupplyChainsCosts","handleAddExpenseNameTextChange","textAreaAddExpenseName","inputExpenseAmount","handleInputExpenseAmountChange","handleAddPaidToTextChange","inputCarNotes","supplyChainsCostsData","currentDate","supplyChainsCostsModalVisible","setSupplyChainsCostsModalVisible","clearModalVisible","setClearModalVisible","inputAmountIsError","setInputAmountIsError","setExpenseNameIsError","setPaidToIsError","totalAmount","setTotalAmount","setSelectResetKey","handleModalSupplyChainsCostsClose","_inputExpenseAmount$c","clear","handleClearModalClose","formattedTotalAmount","expenseData","parseFloat","amount","reduce","accumulator","currentValue","toLocaleString","_inputExpenseAmount$c2","_inputExpenseAmount$c3","_inputExpenseAmount$c4","_inputExpenseAmount$c5","existingIndex","findIndex","_inputExpenseAmount$c6","cloneDeep","expenseName","paidName","setSupplyChainsCostsData","_inputExpenseAmount$c7","newData","concat","_toConsumableArray","handleEditPress","handleFirstModalClose","handleFirstModalOpen","flexDir","alignSelf","SupplyChainsCostsSortAndAddModal","docName","handleAddTextChange","textAreaAdd","title","dataName","databaseInit","projectExtensionFirestore","index","isHovered","isFocused","isPressed","itemIndex","splice","handleDeleteItem","projectControlAuth","storage","getStorage","projectExtensionFirebase","ClearImagesModal","modalDeleteImagesVisible","setModalDeleteImagesVisible","handleClearImages","selectedImages","isAddPhotoVisible","handleModalDeleteClose","cursor","ImageUploader","dragSortableViewRef","handleClearImagesExtra","deleteImageVisible","boolean","addAnotherImages","scrollEnabled","setscrollEnabled","isEnterEdit","setisEnterEdit","widthState","setWidthState","setIsCursorLoading","modalImageUri","setModalImageUri","imageModalVisible","setImageModalVisible","isFileSizeLimitModal","setIsFileSizeLimitModal","handleImagePress","dropdown","icon","placeholderStyle","selectedTextStyle","iconStyle","inputSearchStyle","paddingTop","txt","lineHeight","sort","item_children","item_delete_icon","item_icon","handleImageAddToSelection","setDeleteImageVisible","options","mediaType","maxHeight","selectionLimit","storageOptions","skipBackup","response","launchImageLibrary","didCancel","assets","newImages","promises","asset","fetch","res","blob","some","Promise","all","limitedImages","setSelectedImages","setAddAnotherImages","reloadData","updatedSelectedImages","handleWidthChange","window","addEventListener","removeEventListener","renderItem","normal","contain","handleDeleteImagePress","Entypo","getImagesRenderItem","handleImageSelection","uniqueImages","self","a","filteredImages","imageOrder","b","indexOf","setIsAddPhotoVisible","DragSortableView","dataSource","delayLongPress","parentWidth","childrenWidth","childrenHeight","marginChildrenTop","marginChildrenBottom","marginChildrenLeft","marginChildrenRight","onDragStart","onDragEnd","onDataChange","onClickItem","keyExtractor","sortable","italic","alignContent","NativeImage","SuccessFailModal","isSuccessOpen","isFailedOpen","handleFailModalClose","inputStockIDNumber","handleSuccessModalClose","okSuccessButtonRef","okFailButtonRef","initialFocusRef","finalFocusRef","StockIDAndMakeAndModel","selectStockStatus","handleSetBordersWhite","inputFobUsd","handleClearIfError","monthNumbers","steeringData","selectPort","selectSales","selectBuyer","inputRefNum","inputChassis","inputModelCode","inputEngineCode","inputEngineDis","selectSteering","inputMileage","selectTransmission","selectExteriorColor","inputNumOfSeats","inputDoors","inputPurchasedPrice","selectFuel","inputDimensionLength","inputDimensionWidth","inputDimensionHeight","inputDimensionCubicMeters","selectDriveType","inputWeight","selectBodyType","inputCarName","inputCarDesc","inputFobJpy","selectRegYear","selectRegMonth","setRefNumFromSelects","stockIDNumError","selectMakeForModelRef","textAreaAddModel","selectMakeForAddModelRef","handleAddMakeTextChange","textAreaAddMake","makeError","modelError","selectMakeBoxRef","selectMakeRef","selectModelRef","selectModelBoxRef","setCarNameFromSelects","setCarNameFromSelectsModel","inputCarMemo","purchasedPriceError","handleInputPurchasedPriceChange","makeData","stockStatusData","portData","transmissionData","fuelData","buyerData","salesData","driveTypeData","bodyTypeData","exteriorColorData","jpyToUsd","modelData","setModelData","isSearchLoading","setIsSearchLoading","setIsSuccessOpen","setIsFailedOpen","getImages","_ref18","folderName","imageRefs","listAll","urls","items","_ref19","itemRef","getDownloadURL","fileName","parseInt","handleSearchPress","_inputStockIDNumber$c","_inputStockIDNumber$c2","querySnapshot","_ref21","_fetchDataAndSelectIndex","collectionRef","make","selectIndex","modelVariable","reset","modelsDataFromFirebase","model","fetchDataAndSelectIndex","stockStatus","regYear","regMonth","portID","salesID","buyerID","referenceNumber","chassisNumber","modelCode","engineCode","engineDisplacement","steering","mileage","transmission","exteriorColor","numberOfSeats","doors","purchasedPrice","toString","fuel","dimensionLength","dimensionWidth","dimensionHeight","dimensionCubicMeters","driveType","weight","bodyType","carName","carDescription","fobPrice","numericValue","startsWith","truncatedValue","formattedValue","multipliedValue","isNaN","formattedMultipliedValue","toFixed","handleInputFobJpyChange","undefined","notes","memo","featuresState","SafetySystemAnBrSy","SafetySystemDrAi","SafetySystemPaAi","SafetySystemSiAi","ComfortAiCoFr","ComfortAiCoRe","ComfortAMFMRa","ComfortAMFMSt","ComfortCDPl","ComfortCDCh","ComfortCrSpCo","ComfortDiSp","ComfortDVDPl","ComfortHDD","ComfortNaSyGPS","ComfortPoSt","ComfortPrAuSy","ComfortReKeSy","ComfortTiStWh","InteriorLeSe","InteriorPoDoLo","InteriorPoMi","InteriorPoSe","InteriorPoWi","InteriorReWiDe","InteriorReWiWi","InteriorThRoSe","InteriorTiGl","ExteriorAlWh","ExteriorPoSlDo","ExteriorSuRo","SellingPointsCuWh","SellingPointsFuLo","SellingPointsMaHiAv","SellingPointsBrNeTi","SellingPointsNoAcHi","SellingPointsNoSmPrOw","SellingPointsOnOwHi","SellingPointsPeRaTi","SellingPointsReBo","SellingPointsTuEn","SellingPointsUpAuSy","resetKey","stockStatusVariable","makeVariable","regYearVariable","regMonthVariable","portVariable","port","salesVariable","sales","buyerVariable","buyer","referenceNumberVariable","stockID","steeringVariable","transmissionVariable","exteriorColorVariable","fuelVariable","driveTypeVariable","bodyTypeVariable","handleModelChange","handleMakeChange","_ref22","handleInputStockIDNumberChange","handleModelOnFocus","isLoadingText","keyboardType","SortAndAddModal","SelectDropdown","buttonStyle","buttonTextStyle","dropdownStyle","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","rowStyle","rowTextStyle","onSelect","defaultButtonText","buttonTextAfterSelection","renderDropdownIcon","isOpened","rowTextForSelection","searchPlaceHolder","searchInputStyle","disableAutoScroll","search","ModelSortAndAddModal","_ref23","modalSortOpen","setModalSortOpen","modalAddOpen","setModalAddOpen","modalAddSuccess","setModalAddSuccess","modalSave","setModalSave","modalSaveLoading","setModalSaveLoading","modalData","setModalData","modalIsLoading","setModalIsLoading","handleDeleteItemPress","prevData","_ref24","_modalDocSnap$data","modalDocRef","modalDocSnap","nameVariable","handleModalSaveClose","handleSortModalOpen","handleSortModalClose","handleModalAddOpen","handleModalAddClose","_textAreaAdd$current","handleModalAddSuccessClose","handleModalAddSuccessOpen","handleModalSaveOpen","handleAddSubmit","_ref28","_textAreaAdd$current2","dataArray","split","modalCollectionRef","arrayUnion","merge","TouchableOpacity","focusable","DraggableFlatList","_ref29","drag","onPressIn","_ref30","TextArea","multiline","totalLines","_ref31","_ref32","_modalDocSnap$data2","_textAreaAdd$current3","_ref36","_textAreaAdd$current4","_ref37","_ref38","PSBSortAndAddModal","_ref39","textAreaAddCode","handleAddCodeTextChange","_ref40","_modalDocSnap$data3","_ref44","_textAreaAdd$current5","_textAreaAddCode$curr","dataCode","dataCodeArray","dataToUpdate","updateObject","_ref45","_ref46","_ref47","modalAddModel","setModalAddModel","_useState103","_useState104","modalSaveModel","setModalSaveModel","_useState105","_useState106","modalModel","setModalModel","_useState107","_useState108","modalAddModelSuccess","setModalAddModelSuccess","_useState109","_useState110","keySelectMakeForModel","setKeySelectMakeForModel","_useState111","_useState112","keySelectMakeForAddModel","setKeySelectMakeForAddModel","_useState113","_useState114","modelSortData","setModelSortData","_useState115","_useState116","isAddModelDisabled","setIsAddModelDisabled","_useState117","_useState118","modalSaveModelLoading","setModalSaveModelLoading","_useState119","_useState120","_useState121","_useState122","_useState123","_useState124","_useState125","_useState126","_useState127","_useState128","fetchModelSortData","_ref48","_selectMakeForModelRe","_selectMakeForModelRe2","_modelSortDocSnap$dat","modelSortDocRef","modelSortDocSnap","handleDeleteModelPress","prevModelData","_ref49","handleSaveModel","_selectMakeForModelRe3","_selectMakeForModelRe4","_selectMakeForModelRe5","_selectMakeForModelRe6","_selectMakeForModelRe7","handleModalSaveModelClose","handleMakeForModelChange","_selectMakeForAddMode","makeForAddModelVariable","handleMakeForAddModelChange","handleModalModelOpen","handleModalModelClose","prevKey","handleModalAddModelOpen","handleModalAddModelClose","handleModalAddModelSuccessOpen","handleModalAddModelSuccessClose","handleModalSaveModelOpen","_selectMakeForModelRe8","handleAddModelSubmit","_ref51","_textAreaAddModel$cur4","_selectMakeForAddMode2","_selectMakeForAddMode3","_selectMakeForAddMode4","makeCollectionRef","makeDocRef","_ref52","_ref53","_textAreaAddModel$cur","_textAreaAddModel$cur2","_textAreaAddModel$cur3","newText","toUpperCase","CheckBoxButton","_ref54","onChange","variable","_useState129","_useState130","checked","setChecked","noOfLines","AddVehicle","screenWidth","_useState131","_useState132","_useState133","_useState134","_useState135","_useState136","_useState137","_useState138","_useState139","_useState140","inputRegYear","inputRegMonth","inputFuel","inputDriveType","textAreaAddTransmission","textAreaAddExteriorColor","textAreaAddFuel","textAreaAddPort","textAreaAddPortCode","textAreaAddSales","textAreaAddBuyer","textAreaAddSalesCode","textAreaAddBuyerCode","textAreaAddDriveType","textAreaAddBodyType","textAreaAddPaidTo","currentYear","years","Array","from","_","_useState141","_useState142","isNoFeaturesSelected","setIsNoFeaturesSelected","_useState143","_useState144","carNameError","setCarNameError","_useState145","_useState146","setMakeError","_useState147","_useState148","setModelError","_useState149","_useState150","regYearError","setRegYearError","_useState151","_useState152","regMonthError","setRegMonthError","_useState153","_useState154","refNumError","setRefNumError","_useState155","_useState156","setStockIDNumError","_useState157","_useState158","chassisError","setChassisError","_useState159","_useState160","modelCodeError","setModelCodeError","_useState161","_useState162","engineDisError","setEngineDisError","_useState163","_useState164","steeringError","setSteeringError","_useState165","_useState166","mileageError","setMileageError","_useState167","_useState168","transmissionError","setTransmissionError","_useState169","_useState170","exteriorColoError","setExteriorColoError","_useState171","_useState172","numOfSeatsError","setNumOfSeatsError","_useState173","_useState174","doorsError","setDoorsError","_useState175","_useState176","setPurchasedPriceError","_useState177","_useState178","fuelError","setFuelError","_useState179","_useState180","portError","setPortError","_useState181","_useState182","buyerError","setBuyerError","_useState183","_useState184","salesError","setSalesError","_useState185","_useState186","dimensionLengthError","setDimensionLengthError","_useState187","_useState188","dimensionWidthError","setDimensionWidthError","_useState189","_useState190","dimensionHeightError","setDimensionHeightError","_useState191","_useState192","driveTypeError","setDriveTypeError","_useState193","_useState194","weightError","setWeightError","_useState195","_useState196","bodyTypeError","setBodyTypeError","_useState197","_useState198","stockStatusError","setStockStatusError","inputVehicleBoxRef","selectRegYearBoxRef","selectRegMonthBoxRef","selectSteeringBoxRef","selectTransmissionBoxRef","selectExteriorColorBoxRef","selectFuelBoxRef","selectPortBoxRef","selectBuyerBoxRef","selectSalesBoxRef","selectDriveTypeBoxRef","selectBodyTypeBoxRef","selectStockStatusBoxRef","property","_ref55","_inputCarName$current","_inputCarDesc$current","_inputFobJpy$current","_inputFobUsd$current","_inputRegYear$current","_inputRegMonth$curren","_inputRefNum$current","_inputChassis$current","_inputModelCode$curre","_inputEngineCode$curr","_inputEngineDis$curre","_inputMileage$current","_inputNumOfSeats$curr","_inputDoors$current","_inputPurchasedPrice$","_inputFuel$current","_inputDimensionLength","_inputDimensionWidth$","_inputDimensionHeight","_inputDriveType$curre","_inputWeight$current","handleClearToggleButton","clearSelect","uploadImages","storageRef","imageNamesToKeep","listResult","deleteObject","_ref57","imagename","img","createElement","getContext","src","URL","createObjectURL","onload","canvas","ctx","newWidth","newHeight","drawImage","font","fillStyle","imageSmoothingEnabled","lineWidth","watermarkText","textWidth","measureText","xShadow","yShadow","shadowBlur","fillText","x","y","watermarkedImageBlob","toBlob","imageRef","uploadBytes","contentType","handleUpload","_inputStockIDNumber$c3","_inputRefNum$current2","_inputChassis$current2","_inputModelCode$curre2","_inputEngineDis$curre2","_inputEngineDis$curre3","_inputMileage$current2","_inputMileage$current3","_inputNumOfSeats$curr2","_inputDoors$current2","_inputNumOfSeats$curr3","_inputDoors$current3","_inputPurchasedPrice$2","_inputPurchasedPrice$3","_inputDimensionLength2","_inputDimensionWidth$2","_inputDimensionHeight2","_inputDimensionCubicM","_inputDimensionLength3","_inputDimensionWidth$3","_inputDimensionHeight3","_inputDimensionCubicM2","_inputWeight$current2","_inputWeight$current3","_inputCarName$current2","selectIsEmpty","inputIsEmpty","allValuesAreFalse","values","every","_inputCarName$current3","_inputWeight$current4","_inputWeight$current5","_inputDimensionHeight4","_inputDimensionHeight5","_inputDimensionWidth$4","_inputDimensionWidth$5","_inputDimensionLength4","_inputDimensionLength5","_inputDoors$current4","_inputDoors$current5","_inputPurchasedPrice$4","_inputPurchasedPrice$5","_inputNumOfSeats$curr4","_inputMileage$current4","_inputMileage$current5","_inputEngineDis$curre4","_inputEngineDis$curre5","_inputModelCode$curre3","_inputChassis$current3","_inputRefNum$current3","_inputStockIDNumber$c4","scrollIntoView","behavior","_inputStockIDNumber$c5","_inputRefNum$current4","_inputStockIDNumber$c6","_inputRefNum$current5","_inputCarName$current4","_inputStockIDNumber$c7","_inputChassis$current4","_inputFobJpy$current2","_inputStockIDNumber$c8","_inputRefNum$current6","_inputChassis$current5","_inputModelCode$curre4","_inputEngineCode$curr2","_inputNumOfSeats$curr5","_inputDoors$current6","_inputCarName$current5","_inputCarDesc$current2","_inputCarNotes$curren","_inputCarMemo$current","stockCollectionRef","docQuery","docSnap","fobHistoryValue","keywordsData","fobHistoryData","changedBy","inputFobValue","imageCount","fobHistory","photos","comfort","safetySystem","interior","exterior","sellingPoints","_inputCarName$current6","_inputRefNum$current7","_inputCarName$current7","_inputRefNum$current8","setIsUpdateSuccessModalOpen","dataDoc","updates","updatedDate","dateAdded","dataWithDateAdded","_inputCarName$current8","_inputRefNum$current9","_inputCarName$current9","_inputRefNum$current10","setIsSuccessModalOpen","_ref62","_x13","_inputStockIDNumber$c9","_inputCarName$current10","_inputCarDesc$current3","_inputFobJpy$current3","_inputFobUsd$current2","_inputRegYear$current2","_inputRegMonth$curren2","_inputRefNum$current11","_inputChassis$current6","_inputModelCode$curre5","_inputEngineCode$curr3","_inputEngineDis$curre6","_inputMileage$current6","_inputNumOfSeats$curr6","_inputDoors$current7","_inputPurchasedPrice$6","_inputFuel$current2","_inputDimensionLength6","_inputDimensionWidth$6","_inputDimensionHeight6","_inputDriveType$curre2","_inputWeight$current6","_inputCarNotes$curren2","_inputCarMemo$current2","_inputFobJpy$current4","calculateCubicMeters","_inputDimensionLength7","_inputDimensionLength8","_inputDimensionWidth$7","_inputDimensionWidth$8","_inputDimensionHeight7","_inputDimensionHeight8","resultFormatted","_inputStockIDNumber$c10","_useState199","_useState200","handleUpdateSuccessModalClose","_ref66","_useState211","_useState212","_textAreaAddMake$curr","_textAreaAddMake$curr2","_textAreaAddMake$curr3","Number","outlineStyle","_textAreaAddPort$curr","textAreaValue","line","charAt","join","_textAreaAddPortCode$","_textAreaAddPortCode$2","_textAreaAddPortCode$3","_textAreaAddSales$cur","_textAreaAddSalesCode","_textAreaAddSalesCode2","_textAreaAddSalesCode3","_textAreaAddBuyer$cur","_inputRefNum$current12","_inputRefNum$current13","_inputRefNum$current14","_inputChassis$current7","_inputChassis$current8","_inputChassis$current9","_inputModelCode$curre6","_inputModelCode$curre7","_inputModelCode$curre8","_inputEngineCode$curr4","_inputEngineCode$curr5","_inputEngineCode$curr6","InputGroup","InputRightAddon","_textAreaAddTransmiss","_textAreaAddExteriorC","_textAreaAddFuel$curr","dotIndex","editable","_textAreaAddDriveType","_textAreaAddBodyType$","borderTopColor","_textAreaAddExpenseNa","_textAreaAddPaidTo$cu","_useState203","_useState204","featuresModalVisible","setFeaturesModalVisible","_useState205","_useState206","featuresClearModalVisible","_useState207","_useState208","setKey","handleModalSelectFeaturesClose","pressDuration","InputLeftAddon","_ref63","_useState201","_useState202","modalClearVisible","setModalClearVisible","handleModalClearOpen","handleModalClearClose","_ref64","_useState209","_useState210","modalUploadVisible","setModalUploadVisible","handleModalUploadClose","globalLastVisible","globalMessagesLastVisible","globalSearchText","globalCustomerId","globalImageUrl","globalCustomerFirstName","globalCustomerLastName","globalAdditionalPriceArray","globalMessageTemplateSelectedTitle","formattedIssuingDate","formattedDueDate","transactionModalTitle","transactionModalContentValue","ip","ipCountry","globalInvoiceVariable","carData","cfs","placeOfDelivery","departureCountry","departurePort","salesPerson","discharge","country","consignee","sameAsBuyer","address","contactNumber","fax","notifyParty","sameAsConsignee","paymentDetails","incoterms","inspectionIsChecked","inspectionName","warrantyIsCheck","warrantyAmount","freightPrice","insurancePrice","inspectionPrice","additionalName","additionalPrice","bankInformations","dueDate","issuingDate","bankAccount","paymentTerms","salesAgreement","globalSelectedPDFUrl","globalSelectedFileType","decryptData","ciphertext","secretKey","AES","decrypt","enc","Utf8","TimelineStatus","selectedChatData","stepIndicator","View","Tooltip","tintColor","statusData","HeaderButton","isActive","headerCount","activeStyle","setIsHovered","onHoverIn","onHoverOut","marginVertical","FilterButton","iconActive","iconNotActive","SkeletonChatListLayout","subIndex","DeleteMessageTemplateYesNo","handleDeleteMessageTemplateClose","deleteMessageTemplateVisible","selectedTitle","isDeleteLoading","setIsDeleteLoading","handleClose","deleteMessageTemplate","titleToDelete","updatedTemplates","messageTemplate","template","Group","MessageTemplateItem","setOriginalTitle","titleInputRef","addVisible","valueInputRef","setAddVisible","textInputRef","setPopoverOpen","isTemplateItemHovered","setIsTemplateItemHovered","isTemplateMenuHovered","setIsTemplateMenuHovered","isTemplateEditHovered","setIsTemplateEditHovered","isTemplateDeleteHovered","setIsTemplateDeleteHovered","templateMenuOpen","setTemplateMenuOpen","setIsAddVisible","numberOfLines","ellipsizeMode","onEditPress","setDeleteMessageTemplateVisible","MessageTemplate","isTemplateHovered","setIsTemplateHovered","isAddHovered","setIsAddHovered","popoverOpen","setSearchText","isCancelHovered","setIsCancelHovered","isSaveHovered","setIsSaveHovered","originalTitle","saveLoading","setSaveLoading","templateData","setTemplateData","searchInputRef","saveMessageTemplate","_titleInputRef$curren","_valueInputRef$curren","messageTemplates","newTitle","handleCancelPressed","arrayFieldData","titleA","titleB","pressed","Arrow","TextInput","underlineColorAndroid","marginHorizontal","animating","textDecorationLine","FlatList","borderBottomLeftRadius","FileDisplay","file","onRemove","cover","ChatInputText","activeChatId","isSendHovered","setIsSendHovered","selectedFile","setSelectedFile","selectedFilePreview","setSelectedFilePreview","selectedImage","setSelectedImage","imageUri","setImageUri","fileUri","setFileUri","setFileName","isSendImageHovered","setIsSendImageHovered","isSendAttachmentHovered","setIsSendAttachmentHovered","sendIsLoading","setSendIsLoading","removeImage","removeFile","selectFile","maxFileSize","Platform","OS","reject","accept","onchange","files","alert","reader","FileReader","target","result","focus","onerror","readAsDataURL","click","fileSize","selectedImageUri","selectImage","dataUrl","addFileMessage","_textInputRef$current","formattedTimeForFile","inputValue","fileUrl","fileRef","uploadResult","sender","url","lastMessageSender","lastMessage","lastMessageDate","customerRead","read","readBy","addImageMessage","_textInputRef$current2","imageUrl","resizedImage","event","File","lastModified","Date","now","addMessage","_textInputRef$current3","handleSendMessage","onKeyPress","nativeEvent","key","shiftKey","preventDefault","ChatListItem","_ref20","messageUnread","formattedDate","chatListData","setImageUrl","textFirst","setTextFirst","textLast","setTextLast","isUnreadHovered","setIsUnreadHovered","setCustomerData","vehicle","updateChatToUnread","setActiveChatId","setChatMessagesData","setSelectedChatData","carId","docId","participants","customer","loadingCondition","chatStepIconOn","chatStepIconOff","borderRightColor","borderRightWidth","setCarImageUrl","invoiceNumber","openDelay","ChatList","unreadButtonValue","activeButtonValue","selectedCustomerData","chatListLastVisible","loadMoreLoading","noMoreData","chatId","useParams","updateChatToRead","parts","stockIdPart","emailPart","_selectedChatData$par","setSelectedCustomerData","setChatMessageBoxLoading","messagesRef","messagesQuery","unsubscribeDoc","dataWithId","invoiceDocRef","unsubscribeInvoice","invoiceDocSnapshot","invoiceDataWithId","setInvoiceData","unsubscribeMessages","messages","fetchChatMessages","decryptedChatId","handleChatPress","customerId","encryptedChatId","encrypt","encryptData","encodedChatId","encodeURIComponent","_ref25","formattedTimestamp","givenDate","currentFormattedDate","getFullYear","getMonth","getDate","getTime","startOfWeek","setDate","getDay","setHours","toLocaleDateString","weekday","formatDate","initialNumToRender","maxToRenderPerBatch","windowSize","onEndReachedThreshold","removeClippedSubviews","ListFooterComponent","onEndReached","nextQuery","setLoadMoreLoading","setNoMoreData","chatsData","setChatListData","SearchChat","_ref26","clearVisible","setClearVisible","_ref27","_searchInputRef$curre","_objectDestructuringEmpty","searchValue","setChatListSearchText","_searchInputRef$curre2","hovered","ModalAddBank","modalAddBankVisible","setModalAddBankVisible","setCancelHovered","setAddHovered","handleModalAddBankClose","bankNameRef","branchNameRef","swiftcodeRef","addressRef","accountHolderRef","accountNumberRef","addBankAccount","_bankNameRef$current","_branchNameRef$curren","_swiftcodeRef$current","_addressRef$current","_accountHolderRef$cur","_accountNumberRef$cur","bankNameValue","elementToAdd","bankName","branchName","swiftCode","accountHolder","accountNumberValue","BankInformation","invoiceData","selectedDueDate","setSelectedDueDate","bankAccountsData","setBankAccountsData","selectedBank","setSelectedBank","paymentTermsRef","_paymentTermsRef$curr","dayOfWeek","adjustedDate","toISOString","bankAccounts","entries","subscribeToBankAccounts","_ref33","selectedBankName","selectedBankObj","PaymentDetails","fobPriceInput","freightInput","inspectionInput","insuranceInput","totalAmountCalculated","setTotalAmountCalculated","insurance","selectedIncoterms","setSelectedIncoterms","inspection","setInspectionIsChecked","warranty","warrantyIsChecked","additionalNameRef","warrantyPrice","additionalPriceRef","safelyParseNumber","number","calculateTotalAmount","_fobPriceInput$curren","_freightInput$current","_inspectionInput$curr","_insuranceInput$curre","freight","additionalPricesTotal","sum","total","round","_fobPriceInput$curren2","_freightInput$current2","_insuranceInput$curre2","freightCalculation","m3","fobPriceDollars","currency","usdToJpy","Checkbox","isChecked","filteredText","lines","filteredLines","filteredLine","SelectPortOfDischarge","countriesDischarge","portsData","setPortsData","nearestPorts","setNearestPorts","selectedPortCountry","setSelectedPortCountry","selectedCountry","selectedPort","setSelectedPort","fetchPorts","_ref35","sortedPorts","portName","sortOrder","fetchPortsData","selectedCountryData","SelectSalesPerson","selectedSales","setSelectedSales","SelectPortOfDeparture","NotifyPartyInput","accountData","setAccountData","setIsChecked","notifyPartyName","notifyPartyAddress","notifyPartyCity","notifyPartyCountry","notifyPartyContactNumber","notifyPartyFax","notifyPartyEmail","_notifyPartyName$curr","_notifyPartyAddress$c","_notifyPartyCity$curr","_notifyPartyCountry$c","_notifyPartyContactNu","_notifyPartyFax$curre","_notifyPartyEmail$cur","city","ConsigneeInput","consigneeName","consigneeAddress","consigneeCity","consigneeCountry","consigneeContactNumber","consigneeFax","consigneeEmail","fetchAccountData","textStreet","textZip","textPhoneNumber","textEmail","ConfirmPaymentModalContent","historyModalVisible","setHistoryModalVisible","isConfirmLoading","setIsConfirmLoading","totalAmountString","totalAmountNumber","inputAmountRef","fullPaymentMessage","messageType","overBalanceMessage","_ref41","paymentMessage","_ref42","transactionDate","confirmPayment","_ref43","amountNeeded","totalValue","docRefCustomer","newPayments","newPaymentsAccount","vehicleRef","vehicleName","inputAmount","numericInputAmount","formattedInputAmount","delay","ms","overBalance","increment","payments","paymentsHistory","setTransactionModalVisible","cleanedDateString","padStart","hours","getHours","ampm","getMinutes","payment","displayedAmount","fontWefight","Progress","shadow","max","_filledTrack","underline","selectable","handleHistoryModalClose","sortedPayments","dateA","IssueProformaInvoiceModalContent","isConfirmHovered","cfsInputRef","placeOfDeliveryInputRef","invoiceMessage","confirmInvoice","yearSuffix","maxNumber","substring","docRefChatId","hashedData","hash","HmacSHA256","Hex","stringify","createHmacSha256Hash","updateDocRef","cryptoNumber","_cfsInputRef$current","_placeOfDeliveryInput","ProfitCalculator","totalSCCAmount","setTotalSCCAmount","formattedTotalSCCAmount","setFormattedTotalSCCAmount","totalProfitAmountDollars","setTotalProfitAmountDollars","inputPriceRef","lastFetchedPort","setLastFetchedPort","currentPort","freightOrigPrice","_data$currentPort","kobePrice","nagoyaPrice","yokohamaPrice","kyushuPrice","fee","formattedPurchasedPrice","minimumFractionDigits","maximumFractionDigits","auctionFee","formattedAuctionFee","transportFee","formattedTransportFee","shippingAgentFee","formattedShippingAgentFee","cubicMeter","costPerCubicMeter","formattedCostPerCubicMeter","totalCubicMeterCostDollars","formattedTotalCubicMeterCostDollars","totalCubicMeterCostYen","formattedTotalCubicMeterCostYen","realTotalPriceYen","formattedRealTotalPriceYen","realTotalPriceDollars","formattedRealTotalPriceDollars","totalPriceCalculation","defaultInputPrice","_inputPriceRef$curren","inputPrice","totalAmountDollars","PreviewInvoice","previewInvoiceVisible","isPreviewHovered","setIsPreviewHovered","invoiceRef","capturedImageUri","setCapturedImageUri","vehicleImageUri","setVehicleImageUri","setFeaturesTrueCount","rerenderState","setRerenderState","countTrueValuesInCarData","count","field","captureImageAsync","captureRef","quality","trueCount","convertImageToBase64","ok","onloadend","base64String","_ref50","captureImage","createPDF","imageData","html2canvas","toDataURL","pdf","jsPDF","orientation","unit","imgProps","getImageProperties","pdfHeightFit","addImage","imageCompression","imageQuality","save","handleCaptureAndCreatePDF","issuingDateString","dueDateString","issuingDateObject","dueDateObject","setPreviewInvoiceVisible","open","write","QRCode","useGrouping","price","ExtendDueDateButton","setIsConfirmHovered","handleModalClose","handleConfirm","confirmExtendDueDate","extendDueDateMessage","_ref56","_ref58","TransactionModal","transactionModalVisible","TransactionButton","_ref60","buttonValue","transactionValue","colorHoverIn","colorHoverOut","PaymentHistoryModal","paymentHistoryVisible","setPaymentHistoryVisible","displayedPayments","setDisplayedPayments","loadingMore","setLoadingMore","onScroll","_ref61","layoutMeasurement","contentOffset","contentSize","isCloseToBottom","nextItems","loadMorePayments","scrollEventThrottle","isArray","CustomerProfileModal","customerModalVisible","setCustomerModalVisible","totalPaymentValue","background","Hyperlink","linkDefault","linkStyle","ChatMessageHeader","carImageUrl","reRenderKey","setReRenderKey","freightPriceYen","paddingRight","FontAwesome5","ReadByListModal","userEmail","handleReadByListModalClose","readByListModalVisible","ImagePreviewModal","isVisible","HoverablePressable","_ref65","printComponent","isHoveredDownload","setIsHoveredDownload","Linking","openURL","onMouseEnter","onMouseLeave","DocumentPreviewModal","selectedFileUrl","pdfViewerModalVisible","iframeKey","setIframeKey","setLoading","handleIframeLoad","timeout","setSelectedFileUrl","clearTimeout","setPdfViewerModalVisible","printWindow","print","onLoad","ChatMessageBox","_ref67","chatMessagesData","loadMoreMessagesLoading","noMoreMessagesData","isEyeHovered","setIsEyeHovered","flatListRef","hoveredImageIndex","setHoveredImageIndex","selectedImageIndex","setSelectedImageIndex","isPreviewVisible","setIsPreviewVisible","handleImageMessageMouseLeave","handleReadByListModalOpen","setReadByListModalVisible","animatedValue","Animated","Value","loop","sequence","timing","toValue","useNativeDriver","start","interpolate","inputRange","outputRange","handleLoadMoreMessages","_ref68","setLoadMoreMessagesLoading","setNoMoreMessagesData","_ref69","handlePreviewInvoiceModalOpen","match","formattedHours","amPm","substr","extractUsernameFromEmail","_email$split","renderItemText","isGlobalCustomerSender","urlPattern","RegExp","segments","segment","segmentWithBreaks","str","n","insertBreaks","isUrlForText","canOpenURL","supported","flexWrap","getFileIcon","iconSize","lowerFileName","endsWith","_ref70","isLastMessage","handleImageMessageMouseEnter","openPreview","absoluteFillObject","inverted","chatMessageBoxLoading","chatListSearchText","_useState213","_useState214","_useState215","_useState216","activeButton","setActiveButton","_useState217","_useState218","setActiveButtonValue","_useState219","_useState220","activeFilterButton","setActiveFilterButton","_useState221","_useState222","setUnreadButtonValue","_useState223","_useState224","readButtonValue","setReadButtonValue","_useState225","_useState226","_useState227","_useState228","unreadCount","setUnreadCount","fetchIpAndCountry","_ref71","fetchedIp","fetchedIpCountry","country_name","unrepliedQuery","handlePress","buttonTitle","buttonTitleValue","queryRef","buildQuery","_projectControlAuth$c","_ref72","_ref73","_useState229","_useState230","borderTopLeftRadius","borderTopRightRadius","horizontal","minWidth","prevState","borderBottomRightRadius","defaultSelectedButton","selectedPortForCountry","SearchablePortDropdown","setQuery","isDropdownVisible","setIsDropdownVisible","searchRef","formattedData","ports","collectionName","FreightNavigation","selectedButtonState","setSelectedButtonState","button","setSelectedButton","SelectMethod","portCode","selectedMethod","setSelectedMethod","methodData","toast","useToast","updatePortMethod","methodField","render","formattedPortCode","method","TouchableHighlight","underlayColor","SelectInspectionIsRequired","countryCode","selectedInspectionIsRequired","setSelectedInspectionIsRequired","inspectionIsRequiredData","updateCountryInspection","inspectionIsRequiredField","formattedCountryCode","countryData","inspectionIsRequired","SelectInspectionName","selectedInspectionName","setSelectedInspectionName","inspectionNameData","updateCountryInspectionName","inspectionNameField","addPort","newCountryData","addCountry","countryName","_x14","AddCountryModal","handleAddCountryModalClose","addCountryModalVisible","inputCountryText","addButtonLoading","setAddButtonLoading","handleAddButton","_inputCountryText$cur","_inputCountryText$cur2","setAddCountryModalVisible","inputRef","filteredValue","filterInput","NavigatePage","selectedButton","CountriesTable","PortsTable","AddPortsForCountriesModal","handleAddPortsForCountriesModalClose","addPortsForCountriesModalVisible","handleAddPortsForCountriesModalOpen","countryPortsData","setAddPortsForCountriesModalVisible","addPortForCountryField","nearestPortsField","_docSnap$data$formatt","_x15","updateCountryPortsField","_x16","DeleteCountryModal","handleDeleteCountryModalClose","deleteCountryModalVisible","buttonLoading","setButtonLoading","handleDeleteCountry","formattedFieldCode","deleteField","inputSearchRef","inputSortOrder","textAreaAddInspectionIsRequired","textAreaAddInspectionName","_inputSearchRef$curre","handleAddCountryModalOpen","setCountryPortsData","updateCountrySortOrder","sortOrderField","_x17","_x18","_x19","handleSortOrderTextChange","handleDeleteCountryModalOpen","setDeleteCountryModalVisible","handleUpdateInsurance","insuranceField","_x20","_x21","_x22","returnKeyType","autoCapitalize","_textAreaAddInspectio4","_textAreaAddInspectio3","BouncyCheckbox","fillColor","unfillColor","innerIconStyle","textStyle","fontFamily","AddPortModal","handleAddPortModalClose","addPortModalVisible","inputPortText","_inputPortText$curren","_inputCountryText$cur3","_inputCountryText$cur4","_inputPortText$curren2","_inputCountryText$cur5","setAddPortModalVisible","DeletePortModal","_ref34","handleDeletePortModalClose","deletePortModalVisible","handleDeletePort","textAreaAddMethod","inputProfitPrice","inputNagoyaPrice","inputYokohamaPrice","inputKyushuPrice","inputKobePrice","inputMemo","handleProfitPriceTextChange","updatePortsField","_x23","_x24","_x25","_x26","_x27","_inputSearchRef$curre2","profitPrice","handleAddPortModalOpen","handleDeletePortModalOpen","setDeletePortModalVisible","_textAreaAddMethod$cu","Freight","_x28","MobileViewDrawer","keyboardShouldPersistTaps","NamePopover","LogsTable","logsData","setLogsData","handleNextPage","handlePreviousPage","CurrencyConverterComponent","successModalVisible","setSuccessModalVisible","todayCurrency","setTodayCurrency","timestampCurrency","setTimestampCurrency","setExchangeRate","setLastUpdate","CurrencyConverter","rates","JPY","JpyToUsd","yenToDollar","dollarToYen","usdToEur","EUR","eurToUsd","usdToGbp","GBP","gbpToUsd","usdToAud","AUD","audToUsd","usdToCad","CAD","cadToUsd","yenToEuro","euroToYen","yenToGbp","gbpToYen","yenToAud","audToYen","yenToCad","cadToYen","lastUpdateDate","formattedLastUpdate","hour","minute","second","timeZoneName","newTodayCurrency","currencyRef","jpyToEur","eurToJpy","jpyToGbp","gbpToJpy","jpyToAud","audToJpy","jpyToCad","cadToJpy","logDataCurrency","handleCloseCurrencyModal","handleCloseSuccessModal","MyBarChart","VictoryChart","theme","VictoryTheme","material","domainPadding","parent","VictoryAxis","axis","stroke","ticks","tickLabels","fill","dependentAxis","VictoryBar","datum","barRatio","Logs","setIsOpen","handleOpen","handleToggleLogs","handleToggleAddAccount","handleToggleAccountList","handleToggleAddVehicle","handleVehicleList","handleFreight","handleChatMessages","slideAnimation","easing","Easing","inOut","ease","onPressOut","transform","translateX","onHover","setOnHover","globalCurrentSupplyChainCostsData","globalCurrentStockID","globalSelectedVehicle","globalSelectedVehicleReferenceNumber","globalSelectedCarName","SelectStockStatus","selectedStockStatusValue","setSelectedStockStatusValue","handleSaveStockStatus","stockStatusHistoryData","vehicleProductRef","stockStatusHistory","ImageUploadModal","handleUploadImagesModalClose","handleUploadImages","uploadImagesModalVisible","uploadImagesButtonLoading","UploadImagesModal","fetchImageCounts","setUploadImagesModalVisible","setUploadImagesButtonLoading","closeAll","handleModalSupplyChainsCostsOpen","setVehicleListSupplyChainsCostsData","AllSccModals","vehicleListSupplyChainsCostsData","expenseViewRef","handleSaveSupplyChainsCosts","SCC_Modals","VehicleEditModal","handleEditModalClose","editVehicleModalVisible","EditVehicleModal","setEditVehicleModalVisible","ViewImagesModal","handleViewImagesModalClose","viewImagesModalVisible","viewImagesData","FobPriceHistoryModal","handleFobPriceHistoryClose","fobPriceHistoryModalVisible","FobPriceHistory","setFobPriceHistoryModalVisible","ImageCountComponent","handleViewImagesModalOpen","handleUploadImagesModalOpen","setImageCount","FobPriceInput","setFobPrice","formatValueWithCommas","handleSaveFob","fobValue","handleTextChange","VehicleListTable","vehicleListData","setStockIDs","setImageCounts","sortField","setSortField","isSortActive","setIsSortActive","handleSortChange","fetchWithSort","fieldToSortBy","sortDirection","vehicleProductData","setVehicleListData","sanitizedSearchQuery","ids","counts","getImageCountInFolder","imageCountsObject","acc","folderPath","folderRef","handleFobPriceHistoryOpen","setFobHistoryData","setViewImagesModalVisible","setViewImagesData","handleSearchEnter","vehicleProductsRef","VehicleList","UsePagination","carImageUrlSlice","createSlice","initialState","reducers","action","payload","selectedFileUrlSlice","pdfViewerModalVisibleSlice","selectedCustomerDataSlice","previewInvoiceVisibleSlice","transactionModalVisibleSlice","invoiceDataSlice","deleteMessageTemplateVisibleSlice","loadMoreMessagesLoadingSlice","noMoreMessagesDataSlice","readByListModalVisibleSlice","selectedChatDataSlice","chatMessageBoxLoadingSlice","chatMessagesDataSlice","chatListSearchTextSlice","activeChatIdSlice","loadMoreLoadingSlice","noMoreDataSlice","chatListLastVisibleSlice","setChatListLastVisible","chatListDataSlice","chatListImageUrlSlice","setChatListImageUrl","countryPortsDataSlice","addPortsForCountriesModalVisibleSlice","methodDataSlice","setMethodData","inspectionIsRequiredDataSlice","setInspectionIsRequiredData","inspectionNameDataSlice","setInspectionNameData","deletePortModalVisibleSlice","deleteCountryModalVisibleSlice","addPortModalVisibleSlice","addCountryModalVisibleSlice","selectedButtonSlice","freightCountriesDataSlice","setFreightCountriesData","freightPortsDataSlice","setFreightPortsData","fobHistoryDataSlice","inputFobSlice","setInputFob","fobPriceHistoryModalVisibleSlice","editVehicleModalVisibleSlice","vehicleListDataSlice","addVehicleListDataSlice","setAddVehicleListData","supplyChainsCostsModalVisibleSlice","uploadImagesModalVisibleSlice","vehicleListSupplyChainsCostsDataSlice","uploadImagesButtonLoadingSlice","viewImagesModalVisibleSlice","viewImagesDataSlice","lastVisibleSlice","accountListDataSlice","logsDataSlice","stockStatusDataSlice","setStockStatusData","isSuccessModalOpenSlice","isUpdateSuccessModalOpenSlice","loadingModalVisibleSlice","selectedExpenseNameSlice","selectedPaidToSlice","supplyChainsCostsDataSlice","currentDateSlice","setCurrentDate","loginEmailSlice","setLoginEmail","loginNameSlice","modalDeleteImagesVisibleSlice","addAnotherImagesSlice","isAddPhotoVisibleSlice","jpyToUsdSlice","setJpyToUsd","usdToJpySlice","setUsdToJpy","modelDataSlice","makeDataSlice","setMakeData","expenseNameDataSlice","setExpenseNameData","paidToDataSlice","setPaidToData","selectedMakeSlice","setSelectedMake","isLoadingSlice","selectedImagesSlice","portDataSlice","setPortData","transmissionDataSlice","setTransmissionData","fuelDataSlice","setFuelData","buyerDataSlice","setBuyerData","salesDataSlice","setSalesData","driveTypeDataSlice","setDriveTypeData","bodyTypeDataSlice","setBodyTypeData","exteriorColorDataSlice","setExteriorColorData","currentYearSlice","setCurrentYear","deleteImageVisibleSlice","actions","configureStore","reducer","chatListImageUrl","freightPortsData","freightCountriesData","inputFob","addVehicleListData","accountListData","selectedMake","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","ignoredPaths","fetchCurrency","_snapshot$data","_snapshot$data2","fetchExpenseNameData","_snapshot$data3","fetchPaidToData","_snapshot$data4","paidTo","fetchMakeData","_snapshot$data5","fetchPortData","_snapshot$data6","fetchTransmissionData","_snapshot$data7","fetchFuelData","_snapshot$data8","fetchBuyerData","_snapshot$data9","fetchSalesData","_snapshot$data10","fetchDriveTypeData","_snapshot$data11","fetchBodyTypeData","_snapshot$data12","fetchExteriorColorData","_snapshot$data13","fetchYear","fetchCurrentDate","fetchVehicleListData","fetchMethodData","_snapshot$data14","fetchInspectionIsRequiredData","_snapshot$data15","fetchInspectionNameData","_snapshot$data16","fetchChatListData","projectControlFirebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","getAuth","projectExtensionAuth","app","getAnalytics","firebaseAppForCreateUser","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","notFulfilled","Infinity","i","fulfilled","j","r","getter","__esModule","d","leafPrototypes","getProto","getPrototypeOf","obj","t","mode","this","ns","def","getOwnPropertyNames","definition","defineProperty","enumerable","f","chunkId","u","miniCssF","g","globalThis","Function","prop","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","script","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","nc","setAttribute","onScriptComplete","prev","doneFns","parentNode","removeChild","bind","head","appendChild","Symbol","toStringTag","nmd","paths","p","installedChunks","installedChunkData","promise","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}