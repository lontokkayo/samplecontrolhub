{"version":3,"file":"static/js/73.7d7e0465.chunk.js","mappings":"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","sources":["assets/chat_step|sync|/^/chat_step_.*_off/.png$","assets/chat_step|sync|/^/chat_step_.*_on/.png$","components/DevAdminComponents/ChatMessages.js"],"sourcesContent":["var map = {\n\t\"./chat_step_1_off.png\": 29413,\n\t\"./chat_step_2_off.png\": 35290,\n\t\"./chat_step_3_off.png\": 38715,\n\t\"./chat_step_4_off.png\": 65256,\n\t\"./chat_step_5_off.png\": 58038,\n\t\"./chat_step_6_off.png\": 49232,\n\t\"./chat_step_7_off.png\": 88618\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 66516;","var map = {\n\t\"./chat_step_1_on.png\": 40027,\n\t\"./chat_step_2_on.png\": 22558,\n\t\"./chat_step_3_on.png\": 80851,\n\t\"./chat_step_4_on.png\": 14740,\n\t\"./chat_step_5_on.png\": 80904,\n\t\"./chat_step_6_on.png\": 81151,\n\t\"./chat_step_7_on.png\": 30443\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 82049;","import {\r\n    Box,\r\n    Button,\r\n    Center,\r\n    Flex,\r\n    HStack,\r\n    Icon,\r\n    Image as NativeImage,\r\n    Input,\r\n    Modal,\r\n    NativeBaseProvider,\r\n    Popover,\r\n    Spinner,\r\n    Stack,\r\n    Text,\r\n    VStack,\r\n    useBreakpointValue,\r\n    TextArea,\r\n    InputRightAddon,\r\n    InputGroup,\r\n    InputLeftAddon,\r\n    Select,\r\n    CheckIcon,\r\n    PresenceTransition,\r\n    CloseIcon,\r\n    ScrollView as ScrollViewNative,\r\n    Divider,\r\n    useDisclosure,\r\n    useDisclose,\r\n    FormControl,\r\n    Checkbox,\r\n    useToast,\r\n    Tooltip,\r\n    Progress\r\n} from 'native-base';\r\nimport React, { useEffect, useRef, useState, useMemo, useCallback, useReducer } from 'react';\r\nimport {\r\n    Dimensions,\r\n    ImageBackground,\r\n    TouchableOpacity,\r\n    TouchableWithoutFeedback,\r\n    StyleSheet,\r\n    View,\r\n    PanResponder,\r\n    Animated,\r\n    InputAccessoryView,\r\n    FlatList,\r\n    ScrollView,\r\n    TouchableHighlight,\r\n    TextInput,\r\n    Image as RNImage,\r\n    Pressable,\r\n    Linking,\r\n    Modal as RNModal,\r\n    Platform,\r\n} from 'react-native';\r\nimport 'react-native-gesture-handler';\r\nimport {\r\n    AntDesign,\r\n    FontAwesome,\r\n    Ionicons,\r\n    MaterialCommunityIcons,\r\n    MaterialIcons,\r\n    Entypo,\r\n    FontAwesome5,\r\n    EvilIcons\r\n} from 'react-native-vector-icons';\r\n// import { createDrawerNavigator } from '@react-navigation/drawer';\r\nimport { useNavigation } from '@react-navigation/core';\r\nimport axios from 'axios';\r\nimport { createUserWithEmailAndPassword, fetchSignInMethodsForEmail, signOut } from 'firebase/auth';\r\nimport { addDoc, collection, doc, getDoc, getFirestore, onSnapshot, setDoc, arrayUnion, updateDoc, query, getDocs, orderBy, startAfter, limit, where, endBefore, endAt, limitToLast, collectionGroup, increment } from 'firebase/firestore';\r\nimport moment from 'moment';\r\nimport { authForCreateUser } from '../../firebasecontrolCreateUser';\r\nimport './../style.css';\r\nimport { projectControlFirestore, projectControlAuth, projectExtensionFirestore, projectExtensionAuth, projectControlFirebase, projectExtensionFirebase } from \"../../crossFirebase\";\r\nimport { launchImageLibrary } from 'react-native-image-picker';\r\nimport { getStorage, ref, uploadBytes, getDownloadURL, listAll, deleteObject } from 'firebase/storage';\r\nimport FastImage from 'react-native-fast-image-web-support';\r\nimport MobileViewDrawer from './SideDrawer/MobileViewDrawer';\r\nimport SideDrawer from './SideDrawer/SideDrawer';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport DraggableFlatList from \"react-native-draggable-flatlist\";\r\nimport { Calendar, LocaleConfig } from 'react-native-calendars';\r\nimport { DragSortableView } from 'react-native-drag-sort';\r\nimport {\r\n    setVehicleListData,\r\n    setSupplyChainsCostsData,\r\n    setSelectedPaidTo,\r\n    setSelectedExpenseName,\r\n    setSupplyChainsCostsModalVisible,\r\n    setVehicleListSupplyChainsCostsData,\r\n    setDeleteImageVisible,\r\n    setSelectedImages,\r\n    setAddAnotherImages,\r\n    setIsAddPhotoVisible,\r\n    setUploadImagesModalVisible,\r\n    setUploadImagesButtonLoading,\r\n    setViewImagesModalVisible,\r\n    setViewImagesData,\r\n    setLoadingModalVisible,\r\n    setAddVehicleListData,\r\n    setEditVehicleModalVisible,\r\n    setFobPriceHistoryModalVisible,\r\n    setChatListData,\r\n    setChatListImageUrl,\r\n    setChatListLastVisible,\r\n    setLoadMoreLoading,\r\n    setNoMoreData,\r\n    setActiveChatId,\r\n    setChatListSearchText,\r\n    setChatMessagesData,\r\n    setChatMessageBoxLoading,\r\n    setSelectedChatData,\r\n    setReadByListModalVisible,\r\n    setLoadMoreMessagesLoading,\r\n    setNoMoreMessagesData,\r\n    setDeleteMessageTemplateVisible,\r\n    setInvoiceData,\r\n    setTransactionModalVisible,\r\n    setPreviewInvoiceVisible,\r\n    setSelectedCustomerData,\r\n} from './redux/store';\r\n// import { TextInput } from 'react-native-gesture-handler';\r\nimport { nanoid } from 'nanoid';\r\nimport { cloneDeep } from 'lodash';\r\nimport StickyHeader from './Header/StickyHeader';\r\nimport { UsePagination } from './VehicleListComponent/UsePagination';\r\nimport Hyperlink from 'react-native-hyperlink';\r\nimport { HmacSHA256, enc } from 'crypto-js';\r\nimport { CRYPTO_KEY } from '@env';\r\nimport { captureRef } from 'react-native-view-shot';\r\nimport jsPDF from 'jspdf';\r\nimport html2canvas from 'html2canvas';\r\nimport QRCode from 'react-native-qrcode-svg';\r\n\r\n// import { CollectionGroup } from 'firebase-admin/firestore';\r\nconst { width } = Dimensions.get('window');\r\nlet selectedScreen = 'CHAT MESSAGES'\r\nlet globalLastVisible;\r\nlet globalMessagesLastVisible;\r\nlet globalSearchText = '';\r\nlet globalCustomerId = '';\r\nlet globalChatId = '';\r\nlet globalImageUrl = '';\r\nlet globalCustomerCarName = '';\r\nlet globalCustomerFirstName = '';\r\nlet globalCustomerLastName = '';\r\n\r\nlet globalAdditionalNameArray = [];\r\n\r\nlet globalAdditionalPriceArray = [];\r\n\r\nlet globalMessageTemplateSelectedTitle = '';\r\n\r\nlet userEmail = projectControlAuth.currentUser.email;\r\n\r\nlet formattedIssuingDate = ''; // Initialize the variable outside the conditional rendering block\r\nlet formattedDueDate = '';\r\n\r\nlet transactionModalTitle = '';\r\n\r\nlet transactionModalContentValue = 0;\r\n\r\nlet ip = '';\r\nlet ipCountry = '';\r\n\r\nlet globalInvoiceVariable = {\r\n    carData: {\r\n\r\n    },\r\n    cfs: '',\r\n    placeOfDelivery: '',\r\n    departureCountry: '',\r\n    departurePort: '',\r\n    salesPerson: '',\r\n\r\n    discharge: {\r\n        port: '',\r\n        country: '',\r\n    },\r\n\r\n    consignee: {\r\n        sameAsBuyer: null,\r\n        name: '',\r\n        address: '',\r\n        contactNumber: '',\r\n        fax: '',\r\n        email: '',\r\n    },\r\n\r\n    notifyParty: {\r\n        sameAsConsignee: null,\r\n        name: '',\r\n        address: '',\r\n        contactNumber: '',\r\n        fax: '',\r\n        email: '',\r\n    },\r\n\r\n    paymentDetails: {\r\n        incoterms: '',\r\n        inspectionIsChecked: null,\r\n        inspectionName: '',\r\n        warrantyIsCheck: null,\r\n        warrantyAmount: 0,\r\n        fobPrice: 0,\r\n        freightPrice: 0,\r\n        insurancePrice: 0,\r\n        inspectionPrice: 0,\r\n        totalAmount: 0,\r\n        additionalName: [],\r\n        additionalPrice: [],\r\n    },\r\n\r\n    bankInformations: {\r\n        dueDate: '',\r\n        issuingDate: '',\r\n        bankAccount: {\r\n\r\n        },\r\n        paymentTerms: '',\r\n        salesAgreement: '',\r\n    },\r\n\r\n}\r\n\r\nconst firestore = getFirestore();\r\n\r\nconst getEmailOfCurrentUser = () => {\r\n\r\n    const user = projectControlAuth.currentUser;\r\n    if (user) {\r\n        const email = user.email;\r\n        return email;\r\n    } else {\r\n        // console.log('No user is currently authenticated');\r\n        return null;\r\n    }\r\n};\r\n\r\n\r\n\r\nconst TimelineStatus = ({ data }) => {\r\n\r\n    const selectedChatData = useSelector(state => state.selectedChatData);\r\n\r\n    const changeIndex = data.findIndex(item => selectedChatData.stepIndicator.value < item.value);\r\n\r\n\r\n    return (\r\n        <View style={{ flexDirection: 'row', alignItems: 'center', paddingTop: 3, }}>\r\n            {/* Dots and individual line segments */}\r\n            {data.map((item, index) => (\r\n                <View key={index} style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n                    {/* Dot */}\r\n                    <Tooltip label={item.title} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33' }}>\r\n                        <View style={{\r\n                            width: 20,\r\n                            height: 20,\r\n                            borderRadius: 10,\r\n                            backgroundColor: selectedChatData.stepIndicator.value < item.value ? '#C1C1C1' : '#abf7c7',\r\n                            justifyContent: 'center',\r\n                        }}>\r\n\r\n                            {selectedChatData.stepIndicator.value < item.value ? (\r\n                                <FastImage\r\n                                    source={{\r\n                                        uri: require(`../../assets/chat_step/chat_step_${item.value}_off.png`),\r\n                                        priority: FastImage.priority.normal,\r\n                                    }}\r\n                                    style={{\r\n                                        tintColor: 'rgba(128, 128, 128, 1)',\r\n                                        width: 15,\r\n                                        height: 15,\r\n                                        alignSelf: 'center',\r\n                                    }}\r\n                                    resizeMode={FastImage.resizeMode.stretch}\r\n                                />\r\n                            ) : (\r\n                                <FastImage\r\n                                    source={{\r\n                                        uri: require(`../../assets/chat_step/chat_step_${item.value}_on.png`),\r\n                                        priority: FastImage.priority.normal\r\n                                    }}\r\n                                    style={{\r\n                                        tintColor: 'rgba(128, 128, 128, 1)',\r\n                                        width: 15,\r\n                                        height: 15,\r\n                                        alignSelf: 'center',\r\n                                    }}\r\n                                    resizeMode={FastImage.resizeMode.stretch}\r\n                                />\r\n                            )}\r\n\r\n                        </View>\r\n                    </Tooltip>\r\n                    {/* Line Segment (except for the last dot) */}\r\n                    {index < data.length - 1 && (\r\n                        <View style={{\r\n                            height: 3,\r\n                            width: 20, // Adjust the width to match the space between the dots\r\n                            backgroundColor: selectedChatData.stepIndicator.value <= item.value ? '#C1C1C1' : '#abf7c7',\r\n                        }} />\r\n                    )}\r\n                </View>\r\n            ))}\r\n        </View>\r\n    );\r\n};\r\n\r\n\r\nconst statusData = [\r\n    { title: 'Negotiation', value: 1 },\r\n    { title: 'Issued Proforma Invoice', value: 2 },\r\n    { title: 'Order Item', value: 3 },\r\n    { title: 'Payment Confirmed', value: 4 },\r\n    { title: 'Shipping Schedule', value: 5 },\r\n    { title: 'Documents', value: 6 },\r\n    { title: 'Vehicle Received', value: 7 },\r\n    // Add more events as needed\r\n];\r\n\r\nconst LoadingModal = () => {\r\n    const loadingModalVisible = useSelector((state) => state.loadingModalVisible);\r\n\r\n\r\n    return (\r\n        <View\r\n            style={{\r\n                position: 'absolute',\r\n                top: 0,\r\n                bottom: 0,\r\n                left: 0,\r\n                right: 0,\r\n                backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n                flex: 1,\r\n                display: loadingModalVisible ? 'flex' : 'none',\r\n                justifyContent: 'center',\r\n                alignItems: 'center',\r\n            }}\r\n        >\r\n            {/* Content within the modal */}\r\n            <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>\r\n                <Spinner size=\"lg\" color=\"white\" />\r\n                <Text style={{ color: 'white' }}>Loading, please wait!</Text>\r\n            </View>\r\n        </View>\r\n\r\n    );\r\n\r\n}\r\n\r\n// const SkeletonChatListLayout = () => {\r\n//     return (\r\n//         <SkeletonPlaceholder>\r\n//             <SkeletonPlaceholder.Item flexDirection=\"row\" alignItems=\"center\" padding={12}>\r\n//                 {/* Placeholder for Image */}\r\n//                 <SkeletonPlaceholder.Item width={60} height={60} borderRadius={30} />\r\n\r\n//                 {/* Placeholder for Texts */}\r\n//                 <SkeletonPlaceholder.Item flex={1} marginLeft={20}>\r\n//                     {/* Date */}\r\n//                     <SkeletonPlaceholder.Item width={80} height={12} marginBottom={6} />\r\n//                     {/* Car Name */}\r\n//                     <SkeletonPlaceholder.Item width={120} height={14} marginBottom={6} />\r\n//                     {/* Text First and Last */}\r\n//                     <SkeletonPlaceholder.Item width={140} height={14} marginBottom={6} />\r\n//                     {/* Last Message */}\r\n//                     <SkeletonPlaceholder.Item width={160} height={12} marginBottom={6} />\r\n//                 </SkeletonPlaceholder.Item>\r\n//             </SkeletonPlaceholder.Item>\r\n//         </SkeletonPlaceholder>\r\n//     );\r\n// };\r\n\r\nconst HeaderButton = ({ title, onPress, isActive, headerCount }) => {\r\n    const activeStyle = isActive ? { backgroundColor: '#E1EDF7' } : {};\r\n    const screenWidth = Dimensions.get('window').width;\r\n    const [isHovered, setIsHovered] = useState(false);\r\n    const hoverIn = () => setIsHovered(true);\r\n    const hoverOut = () => setIsHovered(false);\r\n    return (\r\n        <Pressable\r\n            onHoverIn={hoverIn}\r\n            onHoverOut={hoverOut}\r\n            focusable={false}\r\n            onPress={onPress}\r\n            style={{ backgroundColor: isHovered ? '#f2f2f2' : 'transparent', padding: 12, marginVertical: screenWidth > 1818 ? 10 : 2, borderWidth: 5, borderColor: 'transparent', marginLeft: 8, width: 195, flexDirection: 'row', alignItems: 'center', justifyContent: 'center', borderRadius: 5, ...activeStyle }}\r\n        >\r\n            <Text color={isActive ? '#0A78BE' : '#1C2B33'} fontSize={14} style={{ fontWeight: isActive ? 700 : 400, alignSelf: 'center', textAlign: 'center', }}>{title}</Text>\r\n            {headerCount}\r\n\r\n        </Pressable>\r\n    );\r\n};\r\n\r\nconst FilterButton = ({ title, onPress, isActive, iconActive, iconNotActive }) => {\r\n    const [isHovered, setIsHovered] = useState(false);\r\n    const hoverIn = () => setIsHovered(true);\r\n    const hoverOut = () => setIsHovered(false);\r\n    return (\r\n        <Pressable\r\n            focusable={false}\r\n            variant='ghost'\r\n            onPress={onPress}\r\n            onHoverIn={hoverIn}\r\n            onHoverOut={hoverOut}\r\n            style={{\r\n                padding: 5,\r\n                width: 100,\r\n                margin: 5,\r\n                flexDirection: 'row', // Align items in a row\r\n                alignItems: 'center', // Center items vertically\r\n                justifyContent: 'center',\r\n                borderRadius: 5,\r\n                backgroundColor: isActive ? '#E1EDF7' : (isHovered ? '#d7d7d9' : '#ECEDF0'),\r\n            }}\r\n        >\r\n            {isActive ? iconActive : iconNotActive}\r\n            <Text color={isActive ? '#0A78BE' : '#1C2B33'} fontSize={14} style={{ fontWeight: isActive ? 700 : 400, marginLeft: 5, }}>{title}</Text>\r\n\r\n\r\n        </Pressable>\r\n    );\r\n};\r\n\r\nconst formatDate = (timestamp) => {\r\n    const currentDate = new Date();\r\n    const formattedTimestamp = timestamp.replace(' at ', 'T').replace(/\\//g, '-');\r\n    const givenDate = new Date(formattedTimestamp);\r\n\r\n    // Resetting the time part to compare dates only\r\n    const currentFormattedDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate());\r\n    const givenFormattedDate = new Date(givenDate.getFullYear(), givenDate.getMonth(), givenDate.getDate());\r\n\r\n    // Check if the dates are the same\r\n    if (givenFormattedDate.getTime() === currentFormattedDate.getTime()) {\r\n        return \"This day\";\r\n    }\r\n\r\n    const oneDay = 24 * 60 * 60 * 1000;\r\n    const startOfWeek = new Date();\r\n    startOfWeek.setDate(startOfWeek.getDate() - startOfWeek.getDay() + (startOfWeek.getDay() === 0 ? -6 : 1));\r\n    startOfWeek.setHours(0, 0, 0, 0);\r\n\r\n    // Check if the date is within this week\r\n    if (givenDate >= startOfWeek && givenDate < currentFormattedDate) {\r\n        return givenDate.toLocaleDateString('en-US', { weekday: 'short' });\r\n    }\r\n\r\n    // Check if the date is within this year\r\n    const startOfYear = new Date(new Date().getFullYear(), 0, 1);\r\n    if (givenDate >= startOfYear) {\r\n        return givenDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });\r\n    }\r\n\r\n    // If the date is not within this year\r\n    return givenDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });\r\n};\r\n\r\nconst SkeletonChatListLayout = () => {\r\n\r\n    return (\r\n        <>\r\n            <View // Add a unique key here\r\n                style={{\r\n                    padding: 12,\r\n                    alignItems: 'flex-start',\r\n                    flexDirection: 'row',\r\n                    backgroundColor: 'white',\r\n                }}\r\n            >\r\n                {/* Skeleton for the image */}\r\n                <View\r\n                    style={{\r\n                        width: 60,\r\n                        height: 60,\r\n                        borderRadius: 30,\r\n                        backgroundColor: '#e0e0e0',\r\n                        marginRight: 12,\r\n                    }}\r\n                />\r\n                {/* Skeleton for the text */}\r\n                <View style={{ flex: 1 }}>\r\n                    {Array.from({ length: 3 }).map((_, subIndex) => (\r\n                        <View\r\n                            key={`text-${subIndex}`}  // Add a unique key here for each text line\r\n                            style={{\r\n                                height: 10,\r\n                                backgroundColor: '#e0e0e0',\r\n                                marginBottom: 6,\r\n                                width: '80%',\r\n                                borderRadius: 4,\r\n                            }}\r\n                        />\r\n                    ))}\r\n                    <View style={{\r\n                        position: 'absolute',\r\n                        right: 10, height: 10,\r\n                        backgroundColor: '#e0e0e0',\r\n                        marginBottom: 6,\r\n                        width: '5%',\r\n                        borderRadius: 4,\r\n                    }} />\r\n                </View>\r\n            </View>\r\n        </>\r\n\r\n    );\r\n}\r\n\r\n\r\n\r\nconst DeleteMessageTemplateYesNo = ({ handleDeleteMessageTemplateClose }) => {\r\n\r\n    const deleteMessageTemplateVisible = useSelector((state) => state.deleteMessageTemplateVisible);\r\n    const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n    const selectedTitle = globalMessageTemplateSelectedTitle;\r\n    const [isDeleteLoading, setIsDeleteLoading] = useState(false);\r\n    const handleClose = () => {\r\n        handleDeleteMessageTemplateClose();\r\n\r\n    }\r\n\r\n\r\n    const deleteMessageTemplate = async (titleToDelete) => {\r\n        const documentRef = doc(projectControlFirestore, 'MessageTemplate', email);\r\n        setIsDeleteLoading(true);\r\n        try {\r\n            // Fetch current data\r\n            const docSnap = await getDoc(documentRef);\r\n\r\n            if (docSnap.exists()) {\r\n                let messageTemplates = docSnap.data().messageTemplate || [];\r\n\r\n                // Filter out the item with the specified title\r\n                const updatedTemplates = messageTemplates.filter(template => template.title !== titleToDelete);\r\n\r\n                // Update the document with the new array\r\n                await updateDoc(documentRef, { messageTemplate: updatedTemplates });\r\n\r\n                console.log('Item successfully deleted');\r\n                setIsDeleteLoading(false);\r\n                handleClose();\r\n            } else {\r\n                console.log('Document does not exist');\r\n                setIsDeleteLoading(false);\r\n\r\n            }\r\n        } catch (error) {\r\n            console.error('Error deleting item: ', error);\r\n            setIsDeleteLoading(false);\r\n\r\n        }\r\n    };\r\n\r\n    return (\r\n\r\n        <Modal\r\n            isOpen={deleteMessageTemplateVisible}\r\n            onClose={handleClose}\r\n        >\r\n            <Modal.Content>\r\n                <Modal.CloseButton />\r\n                <Modal.Header >Delete Message Template?</Modal.Header>\r\n                <Modal.Body>\r\n                    <View style={{ flex: 1, }}>\r\n                        <Text style={{ fontWeight: 400, }}>Are you sure you want to delete the selected message template?</Text>\r\n                    </View>\r\n                </Modal.Body>\r\n\r\n                <Modal.Footer >\r\n                    <Button.Group variant=\"ghost\" space=\"2\">\r\n                        <Button style={{ width: 80, height: 36, }} onPress={handleClose} variant={'solid'} colorScheme={'warmGray'}>Cancel</Button>\r\n                        <Button isLoading={isDeleteLoading ? true : false} onPress={() => deleteMessageTemplate(selectedTitle)} style={{ padding: 16, height: 36, }} variant={'solid'} colorScheme={'error'}>Delete</Button>\r\n                    </Button.Group>\r\n                </Modal.Footer>\r\n            </Modal.Content>\r\n        </Modal>\r\n\r\n\r\n    );\r\n};\r\n\r\nconst MessageTemplateItem = ({ setOriginalTitle, addVisible, titleInputRef, valueInputRef, setAddVisible, item, textInputRef, setPopoverOpen }) => {\r\n    const [isTemplateItemHovered, setIsTemplateItemHovered] = useState(false);\r\n    const [isTemplateMenuHovered, setIsTemplateMenuHovered] = useState(false);\r\n    const [isTemplateEditHovered, setIsTemplateEditHovered] = useState(false);\r\n    const [isTemplateDeleteHovered, setIsTemplateDeleteHovered] = useState(false);\r\n    const [templateMenuOpen, setTemplateMenuOpen] = useState(false);\r\n    const [currentItem, setCurrentItem] = useState(null);\r\n    const [addIsVisible, setIsAddVisible] = useState(null);\r\n    const dispatch = useDispatch();\r\n\r\n    const onPress = (item) => {\r\n        textInputRef.current.value = item.value;\r\n        setPopoverOpen(false);\r\n    };\r\n\r\n    const onEditPress = (item) => {\r\n\r\n        setAddVisible(true);\r\n        // setCurrentItem(item);\r\n        setIsAddVisible(true);\r\n        setTemplateMenuOpen(false);\r\n        titleInputRef.current.value = item.title;\r\n        valueInputRef.current.value = item.value;\r\n        setOriginalTitle(item.title);\r\n\r\n    };\r\n\r\n    // useEffect(() => {\r\n\r\n\r\n    //     if (addIsVisible == true) {\r\n    //         console.log(addIsVisible);\r\n    //         titleInputRef.current.value = currentItem.title;\r\n    //         valueInputRef.current.value = currentItem.value;\r\n    //     }\r\n    //     if (titleInputRef.current && valueInputRef.current) {\r\n    //         titleInputRef.current.value = currentItem.title;\r\n    //         valueInputRef.current.value = currentItem.value;\r\n    //     }\r\n    // }, [currentItem]);\r\n\r\n    const handleDeletePress = (title) => {\r\n\r\n        dispatch(setDeleteMessageTemplateVisible(true));\r\n        globalMessageTemplateSelectedTitle = title;\r\n    }\r\n\r\n\r\n    return (\r\n        <Pressable\r\n            onPress={() => onPress(item)}\r\n            onHoverIn={() => setIsTemplateItemHovered(true)}\r\n            onHoverOut={() => setIsTemplateItemHovered(false)}\r\n            style={{\r\n                padding: 10,\r\n                backgroundColor: isTemplateItemHovered ? '#f2f2f2' : 'transparent',\r\n                flex: 1,\r\n                borderRadius: 5,\r\n            }}>\r\n            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                <Text style={{ fontWeight: '700', flex: 1, }} numberOfLines={1} ellipsizeMode='tail'>{item.title}</Text>\r\n                <Popover\r\n                    isOpen={templateMenuOpen}\r\n                    onClose={() => setTemplateMenuOpen(false)}\r\n                    trigger={(triggerProps) => {\r\n                        return <Pressable\r\n                            {...triggerProps}\r\n                            onPress={() => setTemplateMenuOpen(true)}\r\n                            onHoverIn={() => setIsTemplateMenuHovered(true)}\r\n                            onHoverOut={() => setIsTemplateMenuHovered(false)}\r\n                            style={{ backgroundColor: isTemplateMenuHovered ? '#dedede' : 'transparent', padding: 5, justifyContent: 'center', borderRadius: 5, }}>\r\n                            <Entypo size={16} name='dots-three-horizontal' color='#171717' />\r\n                        </Pressable>\r\n                    }}\r\n\r\n                >\r\n                    <Popover.Content>\r\n\r\n                        <Pressable\r\n                            onPress={() => onEditPress(item)}\r\n                            onHoverIn={() => setIsTemplateEditHovered(true)}\r\n                            onHoverOut={() => setIsTemplateEditHovered(false)} style={{ flex: 1, width: 50, backgroundColor: isTemplateEditHovered ? '#dedede' : 'white', padding: 5, }} focusable={false}>\r\n                            <Text>Edit</Text>\r\n                        </Pressable>\r\n\r\n                        <Pressable\r\n                            onPress={() => handleDeletePress(item.title)}\r\n                            onHoverIn={() => setIsTemplateDeleteHovered(true)}\r\n                            onHoverOut={() => setIsTemplateDeleteHovered(false)} style={{ flex: 1, width: 50, backgroundColor: isTemplateDeleteHovered ? '#dedede' : 'white', padding: 5, }} focusable={false}>\r\n                            <Text>Delete</Text>\r\n                        </Pressable>\r\n\r\n                    </Popover.Content>\r\n                </Popover>\r\n            </View>\r\n            <Text style={{ fontWeight: '400', fontSize: 12, }} numberOfLines={1} ellipsizeMode='tail'>{item.value}</Text>\r\n        </Pressable>\r\n\r\n\r\n    );\r\n}\r\n\r\nconst MessageTemplate = ({ textInputRef }) => {\r\n    const dispatch = useDispatch();\r\n    const [isTemplateHovered, setIsTemplateHovered] = useState(false);\r\n    const [isAddHovered, setIsAddHovered] = useState(false);\r\n    const [popoverOpen, setPopoverOpen] = useState(false);\r\n    const [searchText, setSearchText] = useState('');\r\n    const [filteredData, setFilteredData] = useState([]);\r\n    const [addVisible, setAddVisible] = useState(false);\r\n\r\n    const [isCancelHovered, setIsCancelHovered] = useState(false);\r\n    const [isSaveHovered, setIsSaveHovered] = useState(false);\r\n    const [originalTitle, setOriginalTitle] = useState('');\r\n\r\n\r\n    const [saveLoading, setSaveLoading] = useState(false);\r\n\r\n    const [templateData, setTemplateData] = useState([]);\r\n\r\n    const searchInputRef = useRef(null);\r\n    const titleInputRef = useRef(null);\r\n    const valueInputRef = useRef(null);\r\n\r\n    const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n    const data = [\r\n        { title: 'Message 1', value: 'Sample Message 1' },\r\n        { title: 'Message 2', value: 'Sample Message 2' },\r\n        { title: 'Message 3', value: 'Sample Message 3' },\r\n    ];\r\n\r\n\r\n\r\n    const saveMessageTemplate = async () => {\r\n        setSaveLoading(true);\r\n        const documentRef = doc(projectControlFirestore, 'MessageTemplate', email);\r\n\r\n        try {\r\n            // Fetch current data\r\n            const docSnap = await getDoc(documentRef);\r\n\r\n            let messageTemplates = [];\r\n            const newTitle = titleInputRef.current?.value;\r\n            const newValue = valueInputRef.current?.value;\r\n\r\n            if (newTitle && newValue) {\r\n                if (docSnap.exists()) {\r\n                    // Document exists, get the current templates\r\n                    messageTemplates = docSnap.data().messageTemplate || [];\r\n\r\n                    // Find index based on the original title\r\n                    const index = messageTemplates.findIndex(template => template.title === originalTitle);\r\n\r\n                    if (index !== -1) {\r\n                        // Update existing template\r\n                        messageTemplates[index] = { title: newTitle, value: newValue };\r\n                    } else {\r\n                        // Add new template if original title does not exist\r\n                        messageTemplates.push({ title: newTitle, value: newValue });\r\n                    }\r\n                } else {\r\n                    // Document does not exist, create a new array with the new template\r\n                    console.log('Creating a new document');\r\n                    messageTemplates = [{ title: newTitle, value: newValue }];\r\n                }\r\n\r\n                // Update or set the document\r\n                await setDoc(documentRef, { messageTemplate: messageTemplates }, { merge: true });\r\n\r\n                console.log('Document successfully updated or created');\r\n            } else {\r\n                console.log('Title or value is empty');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error updating or creating document: ', error);\r\n        } finally {\r\n            setSaveLoading(false);\r\n            handleCancelPressed();\r\n        }\r\n    };\r\n\r\n\r\n    const handleSearch = (text) => {\r\n        setSearchText(text);\r\n        const filtered = templateData.filter(item =>\r\n            item.title.toLowerCase().includes(text.toLowerCase()) ||\r\n            item.value.toLowerCase().includes(text.toLowerCase())\r\n        );\r\n        setFilteredData(filtered);\r\n    };\r\n\r\n    const handlePopoverClose = () => {\r\n        setPopoverOpen(false);\r\n        setAddVisible(false);\r\n        setIsAddHovered(false);\r\n    };\r\n\r\n    const handleCancelPressed = () => {\r\n        setIsAddHovered(false);\r\n        setAddVisible(false);\r\n        setIsCancelHovered(false)\r\n        setIsSaveHovered(false)\r\n        titleInputRef.current.clear();\r\n        valueInputRef.current.clear();\r\n\r\n    };\r\n\r\n    const renderItem = ({ item }) => {\r\n        return <MessageTemplateItem setOriginalTitle={setOriginalTitle} addVisible={addVisible} titleInputRef={titleInputRef} valueInputRef={valueInputRef} setAddVisible={setAddVisible} item={item} textInputRef={textInputRef} setPopoverOpen={setPopoverOpen} />;\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        const docRef = doc(projectControlFirestore, \"MessageTemplate\", email);\r\n\r\n        const unsubscribe = onSnapshot(docRef, (docSnap) => {\r\n            if (docSnap.exists()) {\r\n                let arrayFieldData = docSnap.data().messageTemplate;\r\n\r\n                // Sort the array by title\r\n                arrayFieldData.sort((a, b) => {\r\n                    let titleA = a.title.toUpperCase(); // ignore upper and lowercase\r\n                    let titleB = b.title.toUpperCase(); // ignore upper and lowercase\r\n                    if (titleA < titleB) {\r\n                        return -1;\r\n                    }\r\n                    if (titleA > titleB) {\r\n                        return 1;\r\n                    }\r\n                    // titles must be equal\r\n                    return 0;\r\n                });\r\n\r\n                setTemplateData(arrayFieldData);\r\n            } else {\r\n                console.log(\"No such document!\");\r\n            }\r\n        }, (error) => {\r\n            console.error(\"Error fetching document:\", error);\r\n        });\r\n\r\n        // Cleanup subscription on unmount\r\n        return () => unsubscribe();\r\n    }, [popoverOpen]);\r\n\r\n    const handleDeleteMessageTemplateClose = () => {\r\n\r\n        dispatch(setDeleteMessageTemplateVisible(false));\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <DeleteMessageTemplateYesNo handleDeleteMessageTemplateClose={handleDeleteMessageTemplateClose} />\r\n            <Popover\r\n                isOpen={popoverOpen}\r\n                onClose={handlePopoverClose}\r\n                initialFocusRef={searchInputRef}\r\n                finalFocusRef={textInputRef}\r\n                placement={'top'}\r\n                trigger={(triggerProps) => {\r\n                    return <Pressable\r\n                        focusable={false}\r\n                        {...triggerProps}\r\n                        onPress={() => setPopoverOpen(true)}\r\n                        onHoverIn={() => setIsTemplateHovered(true)}\r\n                        onHoverOut={() => setIsTemplateHovered(false)}\r\n                        style={({ pressed }) => [\r\n                            {\r\n                                bottom: 0,\r\n                                right: 100,\r\n                                position: 'absolute',\r\n                                borderRadius: 20,\r\n                                opacity: pressed ? 0.5 : 1\r\n                            }\r\n                        ]}\r\n\r\n                    >\r\n                        <Ionicons name=\"chatbox-ellipses-outline\" size={24} color={isTemplateHovered ? \"#0A78BE\" : \"#C1C1C1\"} />\r\n                    </Pressable>\r\n                }} >\r\n                <Popover.Content w={400} marginRight={10} >\r\n                    <Popover.Arrow />\r\n                    <View style={{ display: addVisible ? 'flex' : 'none', }}><Popover.Header backgroundColor={'white'}>\r\n                        <View style={{ flexDirection: 'row', flex: 1 }}>\r\n                            <Text style={{ fontWeight: 700, fontSize: 16, flex: 1 }}>Create a message template</Text>\r\n                        </View>\r\n                    </Popover.Header>\r\n                        <Popover.Body backgroundColor={'white'} height={250}>\r\n                            <Text style={{ fontWeight: 700, }}>Title</Text>\r\n                            <TextInput\r\n                                ref={titleInputRef}\r\n                                placeholder='Input Title'\r\n                                placeholderTextColor='#9B9E9F'\r\n                                underlineColorAndroid=\"transparent\"\r\n                                style={{ height: 40, padding: 10, outlineStyle: 'none', borderWidth: 1, borderColor: '#D9D9D9', borderRadius: 5 }} />\r\n                            <br />\r\n                            <Text style={{ fontWeight: 700, }}>Message</Text>\r\n                            <TextInput\r\n                                multiline\r\n                                ref={valueInputRef}\r\n                                placeholder='Input Message'\r\n                                placeholderTextColor='#9B9E9F'\r\n                                underlineColorAndroid=\"transparent\"\r\n                                style={{ height: 100, padding: 10, outlineStyle: 'none', borderWidth: 1, borderColor: '#D9D9D9', borderRadius: 5 }} />\r\n\r\n                        </Popover.Body>\r\n                        <Popover.Footer backgroundColor={'white'}>\r\n                            <View style={{ height: 30, flexDirection: 'row', justifyContent: 'center', }}>\r\n                                <Pressable\r\n                                    onHoverIn={() => setIsCancelHovered(true)}\r\n                                    onHoverOut={() => setIsCancelHovered(false)}\r\n                                    onPress={handleCancelPressed}\r\n                                    style={{ backgroundColor: isCancelHovered ? '#DADADA' : 'white', width: 60, borderRadius: 5, padding: 5, borderWidth: 1, borderColor: '#DADDE1', marginHorizontal: 5, }}>\r\n                                    <Text style={{ textAlign: 'center', fontWeight: 500, }}>Cancel</Text>\r\n                                </Pressable>\r\n\r\n                                <Pressable\r\n                                    onPress={saveMessageTemplate}\r\n                                    onHoverIn={() => setIsSaveHovered(true)}\r\n                                    onHoverOut={() => setIsSaveHovered(false)}\r\n                                    style={{ backgroundColor: isSaveHovered ? '#107a37' : '#16A34A', width: 60, borderRadius: 5, padding: 5, borderWidth: 1, borderColor: '#DADDE1', marginHorizontal: 5, }}>\r\n                                    {saveLoading ?\r\n                                        (<Spinner\r\n                                            animating\r\n                                            size=\"sm\"\r\n                                            color={'white'}\r\n                                        />) :\r\n                                        (\r\n                                            <Text style={{ textAlign: 'center', color: 'white', fontWeight: 500, }}>Save</Text>\r\n                                        )}\r\n                                </Pressable>\r\n                            </View>\r\n                        </Popover.Footer>\r\n                    </View><View style={{ display: !addVisible ? 'flex' : 'none', }}><Popover.Header backgroundColor={'white'}>\r\n                        <View style={{ flexDirection: 'row', flex: 1 }}>\r\n                            <Text style={{ fontWeight: 700, fontSize: 16, flex: 1 }}>Message Template</Text>\r\n                            <Pressable focusable={false} onPress={() => setAddVisible(true)} onHoverIn={() => setIsAddHovered(true)} onHoverOut={() => setIsAddHovered(false)}>\r\n                                <Text style={{ fontWeight: 400, fontSize: 16, color: '#1B81C2', textDecorationLine: isAddHovered ? 'underline' : 'none' }}>+ ADD</Text>\r\n                            </Pressable>\r\n                        </View>\r\n                    </Popover.Header>\r\n                        <Popover.Body backgroundColor={'white'} height={300}>\r\n                            <TextInput\r\n                                ref={searchInputRef}\r\n                                placeholder='Search'\r\n                                placeholderTextColor='#9B9E9F'\r\n                                underlineColorAndroid=\"transparent\"\r\n                                style={{ height: 40, padding: 10, outlineStyle: 'none', borderWidth: 1, borderColor: '#D9D9D9', borderRadius: 5, marginBottom: 5, }}\r\n                                keyboardType='search'\r\n                                onChangeText={handleSearch}\r\n                                value={searchText} />\r\n                            {templateData.length > 0 || filteredData.length > 0 ? (\r\n                                <FlatList\r\n                                    style={{ height: 100, borderBottomLeftRadius: 5 }}\r\n                                    renderItem={renderItem}\r\n                                    keyExtractor={item => item.title.toString()}\r\n                                    data={searchText ? filteredData : templateData} />\r\n                            ) : (\r\n                                <Text style={{ fontWeight: 700, alignSelf: 'center', }}>No message template found</Text>\r\n                            )}\r\n\r\n                        </Popover.Body>\r\n                    </View>\r\n                </Popover.Content>\r\n            </Popover>\r\n        </>\r\n    );\r\n};\r\n\r\nconst ChatInputText = () => {\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n\r\n    const [isSendHovered, setIsSendHovered] = useState(false);\r\n\r\n\r\n    const textInputRef = useRef(null);\r\n\r\n\r\n\r\n    const addMessage = async () => {\r\n\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        const inputValue = textInputRef.current?.value;\r\n\r\n        textInputRef.current.clear();\r\n        textInputRef.current.focus();\r\n\r\n        if (inputValue !== '') {\r\n            const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n            try {\r\n\r\n                // Adding the message to the 'messages' subcollection\r\n                await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                    text: inputValue.trim(),\r\n                    sender: email,\r\n                    timestamp: formattedTime, // Using the fetched timestamp\r\n                    ip: ip, // IP Address\r\n                    ipCountry: ipCountry // Country of the IP Address\r\n                });\r\n\r\n\r\n                // Updating the main chat document with the latest message details\r\n                await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                    lastMessageSender: email,\r\n                    lastMessage: inputValue,\r\n                    lastMessageDate: formattedTime,\r\n                    customerRead: false,\r\n                    read: true,\r\n                    readBy: [email],\r\n                });\r\n\r\n            } catch (e) {\r\n                console.error('Error adding document: ', e);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    const screenWidth = Dimensions.get('window').width;\r\n\r\n    const handleKeyPress = (e) => {\r\n        // Define a breakpoint for mobile resolution, e.g., 768 pixels\r\n        const mobileBreakpoint = 768;\r\n\r\n        // Check if the screen width is less than or equal to the mobile breakpoint\r\n        if (screenWidth >= mobileBreakpoint) {\r\n            // Check if 'Enter' key is pressed\r\n            if (e.nativeEvent.key === 'Enter' && !e.nativeEvent.shiftKey) {\r\n                e.preventDefault(); // Prevent the default behavior of adding a new line\r\n                addMessage();\r\n            }\r\n        }\r\n    };\r\n\r\n    return (\r\n\r\n        <View style={{ width: '98%', flexDirection: 'row', borderWidth: 1, borderColor: '#D9D9D9', borderRadius: 10, }}>\r\n            <View style={{ marginHorizontal: 5, marginTop: 5, }}>\r\n                <FastImage\r\n                    source={{ uri: 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FRMJ%20Round.jpg?alt=media&token=90d7f2fe-d9cd-4a6f-9a6b-bc39fe2b33b2', priority: FastImage.priority.high }}\r\n                    style={{\r\n                        width: 30,\r\n                        height: 30,\r\n                        borderRadius: 15,\r\n                    }}\r\n                    resizeMode={FastImage.resizeMode.cover}\r\n                />\r\n            </View>\r\n\r\n            <TextInput\r\n                ref={textInputRef}\r\n                multiline\r\n                placeholder='Send a message...'\r\n                placeholderTextColor={'#9B9E9F'}\r\n                onKeyPress={handleKeyPress}\r\n                style={{ outlineStyle: 'none', width: '100%', height: 80, alignSelf: 'center', padding: 10 }}\r\n            />\r\n\r\n            <Pressable\r\n                focusable={false}\r\n                onPress={addMessage}\r\n                onHoverIn={() => setIsSendHovered(true)}\r\n                onHoverOut={() => setIsSendHovered(false)}\r\n                style={({ pressed }) => [\r\n                    {\r\n                        padding: 10,\r\n                        top: 20,\r\n                        right: 10,\r\n                        position: 'absolute',\r\n                        borderRadius: 20,\r\n                        backgroundColor: isSendHovered ? '#e8f4ff' : 'transparent', // Change color on hover\r\n                        opacity: pressed ? 0.5 : 1 // Change opacity when pressed\r\n                    }\r\n                ]}\r\n            >\r\n                <MaterialIcons name=\"send\" size={24} color=\"#95BCF9\" />\r\n            </Pressable>\r\n\r\n            <MessageTemplate textInputRef={textInputRef} />\r\n        </View>\r\n\r\n    );\r\n}\r\n\r\nconst ChatListItem = ({ item, onPress, isActive, messageUnread, formattedDate, chatListData }) => {\r\n    const [imageUrl, setImageUrl] = useState(null);\r\n    const [chatListStepImageUrl, setChatListStepImageUrl] = useState(null);\r\n    const [textFirst, setTextFirst] = useState('');\r\n    const [textLast, setTextLast] = useState('');\r\n    const dispatch = useDispatch();\r\n    const [isUnreadHovered, setIsUnreadHovered] = useState(false);\r\n    const [isUnreadVisible, setIsUnreadVisible] = useState(false);\r\n    const [isHovered, setIsHovered] = useState(false);\r\n\r\n    const carName = item.carData && item.carData.carName ? item.carData.carName : (item.vehicle && item.vehicle.carName ? item.vehicle.carName : '');\r\n    const updateChatToUnread = async () => {\r\n        dispatch(setActiveChatId(''));\r\n        dispatch(setChatMessagesData([]));\r\n        dispatch(setSelectedChatData([]));\r\n        const docRef = doc(projectExtensionFirestore, \"chats\", item.id);\r\n        try {\r\n            await updateDoc(docRef, {\r\n                read: false,\r\n            });\r\n\r\n        } catch (error) {\r\n            console.error(\"Error updating document: \", error);\r\n        }\r\n    };\r\n\r\n    const hoverIn = () => {\r\n        setIsHovered(true)\r\n    };\r\n\r\n    const hoverOut = () => {\r\n        setIsHovered(false);\r\n    };\r\n\r\n    const hoverUnreadIn = () => {\r\n        setIsHovered(true)\r\n        setIsUnreadHovered(true)\r\n    };\r\n\r\n    const hoverUnreadOut = () => {\r\n        setIsUnreadHovered(false)\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        // getChatListStepImageUrl();\r\n        const folderName = item.carData && item.carData.stockID ? item.carData.stockID : (item.vehicle && item.vehicle.carId ? item.vehicle.carId : '');\r\n        const storage = getStorage(projectExtensionFirebase);\r\n        const imageRef = ref(storage, `${folderName}/0`); // Ensure this path is correct\r\n\r\n        getDownloadURL(imageRef)\r\n            .then((url) => {\r\n                setImageUrl(url);\r\n            })\r\n            .catch((error) => {\r\n                if (error.code === 'storage/object-not-found') {\r\n                    // Handle the 'object not found' error.\r\n                    setImageUrl('https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FNo%20Car%20Image%20Found.png?alt=media&token=de86488c-73a6-4c04-811c-bc508a11123a');\r\n                } else {\r\n                    // Handle other errors differently\r\n\r\n                    setImageUrl('https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FNo%20Car%20Image%20Found.png?alt=media&token=de86488c-73a6-4c04-811c-bc508a11123a');\r\n\r\n                }\r\n            });\r\n\r\n        const collectionPath = 'accounts';\r\n        const docId = item.participants.customer; // Ensure this is a valid document ID\r\n\r\n        const docRef = doc(projectExtensionFirestore, collectionPath, docId);\r\n\r\n        const unsubscribe = onSnapshot(docRef, (doc) => {\r\n            if (doc.exists()) {\r\n                const data = doc.data();\r\n                dispatch(setSelectedCustomerData(data));\r\n                setTextFirst(data.textFirst ? data.textFirst : '');\r\n                setTextLast(data.textLast ? data.textLast : '');\r\n\r\n            } else {\r\n                console.log(\"Document not found\");\r\n            }\r\n        }, (error) => {\r\n            console.error(\"Error fetching document: \", error);\r\n        });\r\n\r\n        // Clean up function to unsubscribe from the listener when the component unmounts\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const loadingCondition = !imageUrl || imageUrl == null || imageUrl == '' || imageUrl == undefined || !item;\r\n\r\n    const chatStepIconOn = require(`../../assets/chat_step/chat_step_${item.stepIndicator.value}_on.png`);\r\n    const chatStepIconOff = require(`../../assets/chat_step/chat_step_${item.stepIndicator.value}_off.png`);\r\n\r\n\r\n    const handlePress = () => {\r\n        onPress()\r\n\r\n        globalCustomerFirstName = textFirst ? textFirst : '';\r\n        globalCustomerLastName = textLast ? textLast : '';\r\n        globalImageUrl = imageUrl ? imageUrl : '';\r\n        globalCustomerCarName = carName;\r\n        setIsHovered(false);\r\n        setIsUnreadHovered(false)\r\n\r\n\r\n    }\r\n\r\n    if (loadingCondition) {\r\n        return <SkeletonChatListLayout />\r\n    }\r\n    else {\r\n        return (\r\n            <Pressable\r\n                onHoverIn={hoverIn}\r\n                onHoverOut={hoverOut}\r\n                focusable={false}\r\n                style={{\r\n                    padding: 12,\r\n                    alignItems: 'flex-start', // Align items to the start of the button\r\n                    flexDirection: 'row',\r\n                    backgroundColor: isActive ? '#f2f2f2' : (isHovered ? '#f2f2f2' : 'white'),\r\n                    borderLeftColor: isActive ? '#0A9FDC' : 'transparent',\r\n                    borderRightColor: isActive ? '#0A9FDC' : 'transparent',\r\n                    borderLeftWidth: 2,\r\n                    borderRightWidth: 2,\r\n\r\n                }}\r\n                onPress={handlePress}\r\n            >\r\n                <View style={{ width: '20%', justifyContent: 'center', }}>\r\n                    {imageUrl ? (\r\n                        <FastImage\r\n                            source={{ uri: imageUrl, priority: FastImage.priority.normal }}\r\n                            style={{\r\n                                width: 60,\r\n                                height: 60,\r\n                                borderRadius: 30,\r\n                            }}\r\n                            resizeMode={FastImage.resizeMode.stretch}\r\n                        />\r\n                    ) : (\r\n                        <View\r\n                            style={{\r\n                                width: 60,\r\n                                height: 60,\r\n                                borderRadius: 30,\r\n                                backgroundColor: '#e0e0e0',\r\n                                marginRight: 12,\r\n                            }}\r\n                        />\r\n                    )}\r\n                </View>\r\n                <View style={{ flex: 1 }}>\r\n                    {!isHovered ? (<Text style={{ fontSize: 12, position: 'absolute', right: 10, color: messageUnread ? '#0A78BE' : '#90949C', fontWeight: messageUnread ? 700 : 400, }}>{formattedDate}</Text>) : (!item.read ? (<Text style={{ fontSize: 12, position: 'absolute', right: 10, color: messageUnread ? '#0A78BE' : '#90949C', fontWeight: messageUnread ? 700 : 400, }}>{formattedDate}</Text>) : null)}\r\n                    <Text numberOfLines={1} ellipsizeMode='tail' style={{ fontSize: 14, width: '70%', overflow: 'hidden', fontWeight: messageUnread ? 700 : 400, color: messageUnread ? '#1C2B33' : '#586369', }}>{carName}</Text>\r\n                    <Text numberOfLines={1} ellipsizeMode='tail' style={{ fontSize: 14, width: '80%', overflow: 'hidden', flex: 1, fontWeight: messageUnread ? 700 : 400, color: messageUnread ? '#1C2B33' : '#586369', }}>{`${textFirst} ${textLast}`}</Text>\r\n                    <Text numberOfLines={1} ellipsizeMode='tail' style={{ fontSize: 12, width: '80%', overflow: 'hidden', flex: 1, fontWeight: messageUnread ? 700 : 400, color: messageUnread ? '#0A78BE' : '#90949c', }}>{item.lastMessageSender == item.participants.customer ? (item.lastMessage ? item.lastMessage : 'No message found') : (item.lastMessage ? `Sales: ${item.lastMessage}` : `Sales: No message found`)}</Text>\r\n                    {!item.read ? (\r\n                        <FastImage\r\n                            source={{ uri: chatStepIconOn, priority: FastImage.priority.normal }}\r\n                            style={{\r\n                                tintColor: 'rgba(128, 128, 128, 1)',\r\n                                width: 22,\r\n                                height: 20,\r\n                                position: 'absolute',\r\n                                right: 10,\r\n                                bottom: 0,\r\n                            }}\r\n                            resizeMode={FastImage.resizeMode.stretch}\r\n                        />\r\n                    ) : (\r\n                        <FastImage\r\n                            source={{ uri: chatStepIconOff, priority: FastImage.priority.normal }}\r\n                            style={{\r\n                                tintColor: 'rgba(128, 128, 128, 1)',\r\n                                width: 22,\r\n                                height: 20,\r\n                                position: 'absolute',\r\n                                right: 10,\r\n                                bottom: 0,\r\n                            }}\r\n                            resizeMode={FastImage.resizeMode.stretch}\r\n                        />\r\n                    )}\r\n\r\n                    {isHovered && item.read && (\r\n                        <Tooltip label=\"Mark as unread\" placement='right' openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                            <Pressable\r\n                                focusable={false}\r\n                                onHoverIn={hoverUnreadIn}\r\n                                onHoverOut={hoverUnreadOut}\r\n                                onPress={updateChatToUnread}\r\n                                style={{\r\n                                    position: 'absolute',\r\n                                    right: 0,\r\n                                    top: -10,\r\n                                    padding: 10,\r\n                                    alignSelf: 'center',\r\n                                }}\r\n\r\n                            >\r\n                                <MaterialIcons name=\"mark-as-unread\" size={22} color={isUnreadHovered ? \"#1B81C2\" : \"#BABABA\"} />\r\n                            </Pressable>\r\n                        </Tooltip>\r\n                    )}\r\n                </View>\r\n\r\n\r\n\r\n            </Pressable>\r\n        );\r\n    }\r\n\r\n\r\n};\r\n\r\nconst ChatsList = ({ unreadButtonValue, activeButtonValue, }) => {\r\n\r\n    const chatListData = useSelector((state) => state.chatListData);\r\n    const chatListLastVisible = useSelector((state) => state.chatListLastVisible);\r\n    const activeChatId = useSelector((state) => state.activeChatId);\r\n    const loadMoreLoading = useSelector((state) => state.loadMoreLoading);\r\n    const noMoreData = useSelector((state) => state.noMoreData);\r\n    const renderFooterRef = useRef(null);\r\n    const dispatch = useDispatch();\r\n\r\n    const updateChatToRead = async () => {\r\n        const docRef = doc(projectExtensionFirestore, \"chats\", activeChatId);\r\n        const user = projectControlAuth.currentUser\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n        if (email !== '') {\r\n\r\n            try {\r\n                await updateDoc(docRef, {\r\n                    read: true,\r\n                    readBy: arrayUnion(email),\r\n                });\r\n            } catch (error) {\r\n                console.error(\"Error updating document: \", error);\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    const fetchChatMessages = () => {\r\n        if (!activeChatId) {\r\n            // Handle the case where there's no active chat ID\r\n        }\r\n        else {\r\n            dispatch(setChatMessagesData([]));\r\n            dispatch(setChatMessageBoxLoading(true));\r\n            updateChatToRead();\r\n\r\n            try {\r\n                // References to the document and its 'messages' subcollection\r\n                let activeInvoiceNumer;\r\n                const docRef = doc(projectExtensionFirestore, 'chats', activeChatId);\r\n\r\n                const messagesRef = collection(docRef, 'messages');\r\n\r\n                // Query for the 'messages' subcollection\r\n                const messagesQuery = query(messagesRef, orderBy('timestamp', 'desc'), limit(10));\r\n\r\n                // Listen to the document\r\n                const unsubscribeDoc = onSnapshot(docRef, (docSnapshot) => {\r\n                    if (docSnapshot.exists()) {\r\n                        const data = docSnapshot.data();\r\n                        // Add the document ID to the data\r\n                        const dataWithId = {\r\n                            ...data,\r\n                            id: docSnapshot.id\r\n                        };\r\n                        // Dispatch any action you need with the document data\r\n                        dispatch(setSelectedChatData(dataWithId));\r\n\r\n                        // Define and listen to the invoice document only after the chat document is confirmed to exist\r\n                        if (dataWithId.invoiceNumber || dataWithId.invoiceNumber == '') {\r\n                            const invoiceDocRef = doc(projectExtensionFirestore, 'IssuedInvoice', dataWithId.invoiceNumber);\r\n                            const unsubscribeInvoice = onSnapshot(invoiceDocRef, (invoiceDocSnapshot) => {\r\n                                if (invoiceDocSnapshot.exists()) {\r\n                                    const invoiceData = invoiceDocSnapshot.data();\r\n                                    // Add the document ID to the data\r\n                                    const invoiceDataWithId = {\r\n                                        ...invoiceData,\r\n                                        id: invoiceDocSnapshot.id\r\n                                    };\r\n                                    // Dispatch any action you need with the invoice document data\r\n                                    dispatch(setInvoiceData(invoiceDataWithId ? invoiceDataWithId : {}));\r\n\r\n                                } else {\r\n                                    // Handle the case where the invoice document does not exist\r\n                                    console.log('No Invoice Yet');\r\n                                    dispatch(setInvoiceData({}));\r\n                                }\r\n                            });\r\n\r\n                            // Cleanup function for the invoice listener\r\n                            return () => {\r\n                                unsubscribeInvoice();\r\n\r\n                            };\r\n                        } else {\r\n                            dispatch(setInvoiceData({}));\r\n                            console.log('No Invoice Yet');\r\n                        }\r\n\r\n                    }\r\n\r\n                });\r\n                const unsubscribeMessages = onSnapshot(messagesQuery, (querySnapshot) => {\r\n                    let messages = [];\r\n                    querySnapshot.forEach((doc) => {\r\n                        const data = doc.data();\r\n                        const timestamp = data.timestamp ? data.timestamp.toString() : null;\r\n                        messages.push({ id: doc.id, ...data, timestamp });\r\n                    });\r\n\r\n                    dispatch(setChatMessagesData(messages));\r\n                    dispatch(setChatMessageBoxLoading(false));\r\n                    globalMessagesLastVisible = querySnapshot.docs[querySnapshot.docs.length - 1];\r\n                });\r\n\r\n                // Return a cleanup function\r\n                return () => {\r\n                    unsubscribeDoc();\r\n                    unsubscribeMessages();\r\n                    // if (activeInvoiceNumer && activeInvoiceNumer !== '') {\r\n                    //     unsubscribeInvoice();\r\n                    // }\r\n                };\r\n            } catch (error) {\r\n                console.error(\"Error setting up real-time messages: \", error);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleLoadMore = () => {\r\n        dispatch(setLoadMoreLoading(true));\r\n\r\n        let nextQuery;\r\n        if (!globalLastVisible) {\r\n            // No more data to load or globalLastVisible is undefined\r\n            console.log(\"No more data to load or globalLastVisible is undefined\");\r\n            setTimeout(() => {\r\n                dispatch(setLoadMoreLoading(false));\r\n                dispatch(setNoMoreData(true));\r\n            }, 0);\r\n            return;\r\n        }\r\n        else {\r\n\r\n            if (chatListData.length >= 10) {\r\n                if (unreadButtonValue == true) {\r\n\r\n                    if (activeButtonValue == 0) {\r\n                        if (globalSearchText === '') {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('read', '==', false),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n                        }\r\n\r\n                        else {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('read', '==', false),\r\n                                where('keywords', 'array-contains', globalSearchText.toUpperCase()),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n                        }\r\n                    }\r\n\r\n                    else {\r\n                        if (globalSearchText === '') {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('read', '==', false),\r\n                                where('stepIndicator.value', '==', activeButtonValue),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n\r\n\r\n                        }\r\n\r\n                        else {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('stepIndicator.value', '==', activeButtonValue),\r\n                                where('read', '==', false),\r\n                                where('keywords', 'array-contains', globalSearchText.toUpperCase()),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n                else {\r\n\r\n                    if (activeButtonValue == 0) {\r\n                        if (globalSearchText === '') {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n\r\n\r\n\r\n\r\n                        }\r\n\r\n                        else {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('keywords', 'array-contains', globalSearchText.toUpperCase()),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n                        }\r\n                    }\r\n\r\n                    else {\r\n                        if (globalSearchText === '') {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('stepIndicator.value', '==', activeButtonValue),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n\r\n\r\n\r\n                        }\r\n\r\n                        else {\r\n                            dispatch(setLoadMoreLoading(true));\r\n                            dispatch(setNoMoreData(false));\r\n                            nextQuery = query(\r\n                                collection(projectExtensionFirestore, 'chats'),\r\n                                where('stepIndicator.value', '==', activeButtonValue),\r\n                                where('keywords', 'array-contains', globalSearchText.toUpperCase()),\r\n                                orderBy('lastMessageDate', 'desc'),\r\n                                startAfter(globalLastVisible),\r\n                                limit(10)\r\n                            );\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            else {\r\n                dispatch(setNoMoreData(true));\r\n                dispatch(setLoadMoreLoading(false));\r\n            }\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n        if (chatListData.length < 10) {\r\n            setTimeout(() => {\r\n                dispatch(setLoadMoreLoading(false));\r\n                dispatch(setNoMoreData(true));\r\n            }, 0);\r\n        }\r\n\r\n        else {\r\n            try {\r\n                const unsubscribe = onSnapshot(nextQuery, (snapshot) => {\r\n                    if (snapshot.empty) {\r\n                        // Handle the case when there's no more data\r\n                        console.log(\"No more data to load\");\r\n                        setTimeout(() => {\r\n                            dispatch(setLoadMoreLoading(false));\r\n                            dispatch(setNoMoreData(true));\r\n                            globalLastVisible = null;\r\n                        }, 0);  // Delay setting loading and no more data flags\r\n                        return;\r\n                    }\r\n\r\n                    const chatsData = [];\r\n                    snapshot.forEach((doc) => {\r\n                        chatsData.push({\r\n                            id: doc.id,\r\n                            ...doc.data(),\r\n                        });\r\n                    });\r\n\r\n\r\n                    // Append new data to the existing list\r\n\r\n                    setTimeout(() => {\r\n                        dispatch(setChatListData([...chatListData, ...chatsData]));\r\n                        dispatch(setLoadMoreLoading(false));\r\n                        globalLastVisible = snapshot.docs[snapshot.docs.length - 1];\r\n                    }, 0);\r\n\r\n                });\r\n\r\n                return unsubscribe;\r\n            } catch (error) {\r\n                console.error('Error fetching data from Firebase:', error);\r\n                setTimeout(() => dispatch(setLoadMoreLoading(false)), 0);  // Ensure loading is set to false even if there's an error\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const unsubscribe = fetchChatMessages();\r\n\r\n        return () => {\r\n            if (unsubscribe) {\r\n                unsubscribe(); // Unsubscribe when the component unmounts\r\n            }\r\n        };\r\n\r\n    }, [activeChatId]);\r\n\r\n    const handleChatPress = async (customerId, chatId) => {\r\n        dispatch(setActiveChatId(chatId));\r\n        globalCustomerId = customerId;\r\n        globalChatId = chatId;\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(setActiveChatId(''));\r\n    }, [unreadButtonValue])\r\n\r\n    const renderFooter = () => {\r\n        return (\r\n            <>\r\n                {!noMoreData && (\r\n                    <View style={{ paddingVertical: 20, borderTopWidth: 1, borderColor: \"#DADDE1\", height: 60, }}>\r\n                        {loadMoreLoading && (\r\n                            <Spinner\r\n                                animating\r\n                                size=\"sm\"\r\n                                color={'#7B9CFF'}\r\n                            />\r\n                        )}\r\n                    </View>\r\n                )}\r\n            </>\r\n\r\n\r\n        );\r\n    };\r\n\r\n    const renderItem = ({ item }) => {\r\n\r\n        const isActive = item.id === activeChatId;\r\n        const messageUnread = !item.read;\r\n        const formattedDate = formatDate(item.lastMessageDate);\r\n\r\n        return (\r\n            <ChatListItem\r\n                chatListData={chatListData}\r\n                item={item}\r\n                onPress={() => handleChatPress(item.participants.customer, item.id)}\r\n                isActive={isActive}\r\n                messageUnread={messageUnread}\r\n                formattedDate={formattedDate}\r\n            />\r\n        );\r\n\r\n    };\r\n\r\n    if (chatListData.length < 1) {\r\n        return (\r\n            <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center', }}>\r\n                <Text style={{ fontWeight: 700, alignSelf: 'center', }}>{unreadButtonValue ? 'No unread messages to show' : 'No messages to show'}</Text>\r\n            </View>\r\n        );\r\n    }\r\n\r\n    else {\r\n        return (\r\n            <>\r\n                <FlatList\r\n                    style={{ height: 100, borderBottomLeftRadius: 5, }}\r\n                    renderItem={renderItem}\r\n                    keyExtractor={item => item.id.toString()}\r\n                    data={chatListData}\r\n                    initialNumToRender={1}\r\n                    maxToRenderPerBatch={10}\r\n                    windowSize={21}\r\n                    onEndReachedThreshold={0.05}\r\n                    removeClippedSubviews={true}\r\n                    ListFooterComponent={renderFooter}\r\n                    onEndReached={handleLoadMore}  // Implement this function\r\n                />\r\n\r\n            </>\r\n\r\n        );\r\n    }\r\n\r\n};\r\n\r\n\r\nconst SearchChat = ({ lastVisible, setLastVisible, unreadButtonValue, activeButtonValue }) => {\r\n\r\n    const searchInputRef = useRef(null);\r\n    const [searchText, setSearchText] = useState('');\r\n    const [clearVisible, setClearVisible] = useState('');\r\n    const dispatch = useDispatch();\r\n\r\n    const searchData = async ({ }) => {\r\n        let q;\r\n\r\n        const searchValue = searchInputRef.current?.value;\r\n        if (unreadButtonValue == true) {\r\n\r\n            if (activeButtonValue == 0) {\r\n                if (searchValue === '') {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('read', '==', false),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n\r\n                }\r\n\r\n                else {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('read', '==', false),\r\n                        where('keywords', 'array-contains', searchValue.toUpperCase()),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n                }\r\n            }\r\n\r\n            else {\r\n                if (searchValue === '') {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('read', '==', false),\r\n                        where('stepIndicator.value', '==', activeButtonValue),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n                }\r\n\r\n                else {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('stepIndicator.value', '==', activeButtonValue),\r\n                        where('read', '==', false),\r\n                        where('keywords', 'array-contains', searchValue.toUpperCase()),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        else {\r\n\r\n            if (activeButtonValue == 0) {\r\n                if (searchValue === '') {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n\r\n                }\r\n\r\n                else {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('keywords', 'array-contains', searchValue.toUpperCase()),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n                }\r\n            }\r\n\r\n            else {\r\n                if (searchValue === '') {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('stepIndicator.value', '==', activeButtonValue),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n\r\n                    dispatch(setLoadingModalVisible(false));\r\n\r\n\r\n                }\r\n\r\n                else {\r\n                    q = query(\r\n                        collection(projectExtensionFirestore, 'chats'),\r\n                        where('stepIndicator.value', '==', activeButtonValue),\r\n                        where('keywords', 'array-contains', searchValue.toUpperCase()),\r\n                        orderBy('lastMessageDate', 'desc'),\r\n                        limit(10)\r\n                    );\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n        try {\r\n            const unsubscribe = onSnapshot(q, (snapshot) => {\r\n                const chatsData = [];\r\n                snapshot.forEach((doc) => {\r\n                    chatsData.push({\r\n                        id: doc.id,\r\n                        ...doc.data(),\r\n                    });\r\n                });\r\n                dispatch(setChatListData(chatsData));\r\n                globalLastVisible = snapshot.docs[snapshot.docs.length - 1]\r\n\r\n\r\n            });\r\n\r\n            // Return the unsubscribe function to stop listening when necessary\r\n            return () => {\r\n                if (unsubscribe) {\r\n                    unsubscribe();\r\n                }\r\n            };\r\n        } catch (error) {\r\n            // Handle errors here\r\n            console.error('Error fetching data from Firebase:', error);\r\n        }\r\n\r\n    };\r\n\r\n    // useEffect(() => {\r\n\r\n    //     searchData();\r\n\r\n    // }, [searchText])\r\n\r\n    useEffect(() => {\r\n        setSearchText('');\r\n        dispatch(setChatListSearchText(''));\r\n        globalSearchText = '';\r\n        searchInputRef.current.value = '';\r\n        setClearVisible(false);\r\n\r\n    }, [activeButtonValue, unreadButtonValue])\r\n\r\n    const handleSearchEnter = () => {\r\n        // setSortField('dateAdded');\r\n        // setIsSortActive(false)\r\n        if (searchInputRef.current?.value !== '') {\r\n            dispatch(setChatListSearchText(searchInputRef.current.value.trim()));\r\n            setSearchText(searchInputRef.current.value.trim());\r\n            globalSearchText = searchInputRef.current.value.trim();\r\n        }\r\n        else {\r\n            setSearchText('');\r\n            globalSearchText = '';\r\n            if (searchText == '') {\r\n                dispatch(setChatListSearchText(''));\r\n                searchData();\r\n\r\n            }\r\n\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const handleClearText = () => {\r\n        searchInputRef.current.clear();\r\n        setClearVisible(false);\r\n        if (searchText !== '') {\r\n            setSearchText(''); // Clear the text\r\n            dispatch(setChatListSearchText(''));\r\n            dispatch(setActiveChatId(''));\r\n            globalSearchText = '';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <View style={{ flexDirection: 'row', alignItems: 'center', width: '100%', alignSelf: 'center', borderWidth: 1, borderColor: '#D9D9D9', borderRadius: 5, margin: 10 }}>\r\n            <TextInput\r\n                ref={searchInputRef}\r\n                onSubmitEditing={handleSearchEnter}\r\n                placeholder='Search'\r\n                placeholderTextColor='#9B9E9F'\r\n                underlineColorAndroid=\"transparent\"\r\n                style={{ flex: 1, height: 40, padding: 10, outlineStyle: 'none' }}\r\n                onChangeText={() => setClearVisible(true)}\r\n                keyboardType='search'\r\n            />\r\n            {clearVisible ? (\r\n                <Pressable\r\n                    focusable={false}\r\n                    onPress={handleClearText}\r\n                    style={({ pressed, hovered }) => [\r\n                        {\r\n                            borderRadius: 10,\r\n                            marginRight: 10,\r\n                            opacity: pressed ? 0.5 : 1, // Change opacity when pressed\r\n                            // Add hover effect\r\n                            backgroundColor: hovered ? '#ddd' : 'transparent',\r\n                        },\r\n                    ]}\r\n                >\r\n                    <MaterialIcons name=\"close\" size={20} color=\"#000\" />\r\n                </Pressable>\r\n            ) : null}\r\n        </View>);\r\n}\r\n\r\nconst timelineData = [\r\n    { key: '1', title: 'Event 1', description: 'Description 1' },\r\n    { key: '2', title: 'Event 2', description: 'Description 2' },\r\n    // ... more events\r\n];\r\n\r\n// const TimelineItem = ({ title, description }) => (\r\n//     <View style={{ alignItems: 'center', marginRight: 20 }}>\r\n//         <View style={{ width: 10, height: 10, borderRadius: 5, backgroundColor: 'blue', marginBottom: 5 }} />\r\n//         <Text style={{ fontWeight: 'bold' }}>{title}</Text>\r\n//         <Text style={{ textAlign: 'center' }}>{description}</Text>\r\n//     </View>\r\n// );\r\n\r\n// const HorizontalTimeline = () => (\r\n//     <FlatList\r\n//         data={timelineData}\r\n//         renderItem={({ item }) => <TimelineItem title={item.title} description={item.description} />}\r\n//         horizontal\r\n//         showsHorizontalScrollIndicator={false}\r\n//         style={{ flexDirection: 'row', padding: 10 }}\r\n//     />\r\n// );\r\n\r\nconst ModalAddBank = () => {\r\n    const [modalAddBankVisible, setModalAddBankVisible] = useState(false);\r\n    const [isCancelHovered, setCancelHovered] = useState(false);\r\n    const [isAddHovered, setAddHovered] = useState(false);\r\n\r\n\r\n\r\n\r\n    const handleModalAddBankOpen = () => {\r\n        setModalAddBankVisible(true);\r\n    };\r\n\r\n    const handleModalAddBankClose = () => {\r\n        setModalAddBankVisible(false);\r\n    };\r\n\r\n    const bankNameRef = useRef(null);\r\n    const branchNameRef = useRef(null);\r\n    const swiftcodeRef = useRef(null);\r\n    const addressRef = useRef(null);\r\n    const accountHolderRef = useRef(null);\r\n    const accountNumberRef = useRef(null);\r\n\r\n\r\n\r\n    const addBankAccount = async () => {\r\n        const docRef = doc(projectExtensionFirestore, 'DataForInvoice', 'BankAccounts');\r\n\r\n        const bankNameValue = bankNameRef.current?.value;\r\n        const branchNameValue = branchNameRef.current?.value;\r\n        const swiftcodeValue = swiftcodeRef.current?.value;\r\n        const addressValue = addressRef.current?.value;\r\n        const accountHolderValue = accountHolderRef.current?.value;\r\n        const accountNumberValue = accountNumberRef.current?.value;\r\n\r\n        const elementToAdd = {\r\n            bankName: bankNameValue,\r\n            branchName: branchNameValue,\r\n            swiftCode: swiftcodeValue,\r\n            address: addressValue,\r\n            accountHolder: accountHolderValue,\r\n            accountNumberValue: accountNumberValue,\r\n        }\r\n\r\n        try {\r\n            await updateDoc(docRef, {\r\n                [bankNameValue]: elementToAdd,\r\n            });\r\n            console.log(\"Element added to the array field\");\r\n            handleModalAddBankClose();\r\n        } catch (error) {\r\n            console.error(\"Error adding element to the array\", error);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Pressable onPress={handleModalAddBankOpen} style={{ alignSelf: 'center', marginHorizontal: 5, marginTop: 3, }}>\r\n                <FontAwesome name={'plus-circle'} size={25} color='#16A34A' />\r\n            </Pressable>\r\n\r\n            <Modal isOpen={modalAddBankVisible} onClose={handleModalAddBankClose} useRNModal>\r\n                <Modal.Content>\r\n                    <Modal.Header>Add Bank Account</Modal.Header>\r\n                    <Modal.Body>\r\n                        <View style={{ height: '100%', flex: 1, }}>\r\n                            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                <Text style={{ width: '35%', fontWeight: 700, margin: 3, }}>Bank Name:</Text>\r\n                                <TextInput\r\n                                    ref={bankNameRef}\r\n                                    placeholderTextColor='#9B9E9F'\r\n                                    placeholder='Bank Name'\r\n                                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                                />\r\n                            </View>\r\n                            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                <Text style={{ width: '35%', fontWeight: 700, margin: 3, }}>Branch Name:</Text>\r\n                                <TextInput\r\n                                    ref={branchNameRef}\r\n                                    placeholderTextColor='#9B9E9F'\r\n                                    placeholder='Branch Name'\r\n                                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                                />\r\n                            </View>\r\n                            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                <Text style={{ width: '35%', fontWeight: 700, margin: 3, }}>SWIFTCODE:</Text>\r\n                                <TextInput\r\n                                    ref={swiftcodeRef}\r\n                                    placeholderTextColor='#9B9E9F'\r\n                                    placeholder='SWIFTCODE'\r\n                                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                                />\r\n                            </View>\r\n                            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                <Text style={{ width: '35%', fontWeight: 700, margin: 3, }}>Address:</Text>\r\n                                <TextInput\r\n                                    ref={addressRef}\r\n                                    placeholderTextColor='#9B9E9F'\r\n                                    placeholder='Address'\r\n                                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                                />\r\n                            </View>\r\n                            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                <Text style={{ width: '35%', fontWeight: 700, margin: 3, }}>Account Holder:</Text>\r\n                                <TextInput\r\n                                    ref={accountHolderRef}\r\n                                    placeholderTextColor='#9B9E9F'\r\n                                    placeholder='Account Holder'\r\n                                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                                />\r\n                            </View>\r\n                            <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                <Text style={{ width: '35%', fontWeight: 700, margin: 3, }}>Account Number:</Text>\r\n                                <TextInput\r\n                                    ref={accountNumberRef}\r\n                                    placeholderTextColor='#9B9E9F'\r\n                                    placeholder='Account Number'\r\n                                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                                />\r\n                            </View>\r\n                        </View>\r\n                    </Modal.Body>\r\n\r\n                    <Modal.Footer>\r\n                        <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', }}>\r\n                            <Pressable\r\n                                style={{ width: 100, padding: 5, borderRadius: 3, backgroundColor: isCancelHovered ? '#686868' : '#525252' }}\r\n                                onHoverIn={() => setCancelHovered(true)}\r\n                                onHoverOut={() => setCancelHovered(false)}\r\n                                onPress={handleModalAddBankClose}\r\n                            >\r\n                                <Text style={{ fontWeight: 500, textAlign: 'center', color: 'white', }}>Cancel</Text>\r\n                            </Pressable>\r\n\r\n                            <Pressable\r\n                                onPress={addBankAccount}\r\n                                style={{ width: 100, padding: 5, borderRadius: 3, backgroundColor: isAddHovered ? '#1B8B5A' : '#16A34A' }}\r\n                                onHoverIn={() => setAddHovered(true)}\r\n                                onHoverOut={() => setAddHovered(false)}\r\n                            >\r\n                                <Text style={{ fontWeight: 500, textAlign: 'center', color: 'white', }}>Add</Text>\r\n                            </Pressable>\r\n                        </View>\r\n                    </Modal.Footer>\r\n                </Modal.Content>\r\n            </Modal>\r\n        </>\r\n    );\r\n\r\n\r\n}\r\n\r\nconst BankInformation = () => {\r\n\r\n    let invoiceSelectedDueDate = '';\r\n    const currentDate = useSelector((state) => state.currentDate);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const [selectedDueDate, setSelectedDueDate] = useState('');\r\n    const [bankAccountsData, setBankAccountsData] = useState({});\r\n    const [selectedBank, setSelectedBank] = useState(invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.bankAccount.bankName ? invoiceData.bankInformations.bankAccount.bankName : \"SUMITOMO MITSUI BANKING CORPORATION\");\r\n    let selectedBankData = {};\r\n\r\n    const paymentTermsRef = useRef(null);\r\n    const salesAgreementRef = useRef(null);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const subscribeToBankAccounts = () => {\r\n            const docRef = doc(projectExtensionFirestore, 'DataForInvoice', 'BankAccounts');\r\n\r\n            const unsubscribe = onSnapshot(docRef, (docSnap) => {\r\n                if (docSnap.exists()) {\r\n                    const data = docSnap.data();\r\n                    const bankAccounts = {};\r\n\r\n                    // Assuming each entry in your document is a bank account\r\n                    Object.entries(data).forEach(([key, value]) => {\r\n                        if (value.bankName) {\r\n                            bankAccounts[value.bankName] = value;\r\n                        }\r\n                    });\r\n\r\n                    console.log(bankAccounts);\r\n                    setBankAccountsData(bankAccounts);\r\n                    globalInvoiceVariable.bankInformations.bankAccount = bankAccounts[\"SUMITOMO MITSUI BANKING CORPORATION\"];\r\n                    // Use state or context to store selected bank data if needed\r\n                    // setSelectedBank(bankAccounts[\"SUMITOMO MITSUI BANKING CORPORATION\"]);\r\n                    console.log(bankAccounts[\"SUMITOMO MITSUI BANKING CORPORATION\"]);\r\n                } else {\r\n                    console.log(\"No such document!\");\r\n                }\r\n            }, (error) => {\r\n                console.error(\"Error fetching document\", error);\r\n            });\r\n\r\n            return unsubscribe; // Return the unsubscribe function to call it later to stop listening\r\n        };\r\n\r\n\r\n        if (currentDate) {\r\n            const date = new Date(currentDate);\r\n\r\n            // Check the day of the week\r\n            const dayOfWeek = date.getDay();\r\n\r\n            if (dayOfWeek === 5) { // Friday\r\n                date.setDate(date.getDate() + 3); // Add 3 days to reach Monday\r\n            } else if (dayOfWeek === 6) { // Saturday\r\n                date.setDate(date.getDate() + 2); // Add 2 days to reach Monday\r\n            } else {\r\n                date.setDate(date.getDate() + 1); // Sunday to Thursday, add 1 day\r\n            }\r\n\r\n            // Format the date back to string\r\n            const adjustedDate = date.toISOString().split('T')[0];\r\n            setSelectedDueDate(invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.dueDate ? invoiceData.bankInformations.dueDate : adjustedDate);\r\n            globalInvoiceVariable.bankInformations.dueDate = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.dueDate ? invoiceData.bankInformations.dueDate : adjustedDate;\r\n            globalInvoiceVariable.bankInformations.paymentTerms = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.paymentTerms ? invoiceData.bankInformations.paymentTerms : paymentTermsRef.current?.value;\r\n            // globalInvoiceVariable.bankInformations.salesAgreement = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.salesAgreement ? invoiceData.bankInformations.salesAgreement : salesAgreementRef.current?.value;\r\n            globalInvoiceVariable.bankInformations.issuingDate = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.issuingDate ? invoiceData.bankInformations.issuingDate : currentDate;\r\n\r\n\r\n        }\r\n\r\n        const unsubscribe = subscribeToBankAccounts();\r\n    }, [currentDate]);\r\n\r\n\r\n\r\n    const ModalCalendar = ({ selectedDate, setSelectedDate, currentDate }) => {\r\n\r\n        const [modalCalendarVisible, setModalCalendarVisible] = useState(false);\r\n\r\n\r\n        const handleModalCalendarOpen = () => {\r\n            setModalCalendarVisible(true);\r\n        };\r\n\r\n        const handleModalCalendarClose = () => {\r\n            setModalCalendarVisible(false);\r\n        };\r\n\r\n\r\n\r\n        return (\r\n\r\n            <>\r\n                <Pressable style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                    onPress={handleModalCalendarOpen}>\r\n                    <TextInput value={selectedDate} onFocus={handleModalCalendarOpen} />\r\n                </Pressable>\r\n\r\n                <Modal isOpen={modalCalendarVisible} onClose={handleModalCalendarClose} useRNModal>\r\n                    <Modal.CloseButton />\r\n                    <Modal.Content>\r\n                        <View style={{ height: '100%', flex: 1 }}>\r\n                            <Calendar\r\n                                onDayPress={useCallback(day => {\r\n                                    setSelectedDate(day.dateString);\r\n                                    invoiceSelectedDueDate = day.dateString;\r\n                                    globalInvoiceVariable.bankInformations.dueDate = day.dateString;\r\n                                    handleModalCalendarClose();\r\n                                }, [])}\r\n                                markedDates={{\r\n                                    [selectedDate]: { selected: true, disableTouchEvent: true, selectedDotColor: '#7b9cff' }\r\n                                }}\r\n                                renderArrow={(direction) => (\r\n                                    direction === 'left' ? <MaterialIcons name='arrow-back-ios' color='#7b9cff' /> : <MaterialIcons name='arrow-forward-ios' color='#7b9cff' />\r\n                                )}\r\n                                enableSwipeMonths={true}\r\n                                initialDate={selectedDate}\r\n                                // minDate={currentDate}\r\n                                showSixWeeks />\r\n\r\n                        </View>\r\n\r\n                    </Modal.Content>\r\n\r\n                </Modal>\r\n            </>\r\n\r\n        );\r\n\r\n    }\r\n\r\n\r\n    const handleValueChange = (selectedBankName) => {\r\n        const selectedBankObj = bankAccountsData[selectedBankName];\r\n        setSelectedBank(selectedBankName);\r\n        globalInvoiceVariable.bankInformations.bankAccount = selectedBankObj;\r\n        // console.log(selectedBankObj);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '20%', fontWeight: 700, margin: 3, }}>Due Date:</Text>\r\n                <ModalCalendar currentDate={currentDate} selectedDate={selectedDueDate} setSelectedDate={setSelectedDueDate} />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, marginVertical: 10, }}>\r\n                <Text style={{ width: '20%', fontWeight: 700, margin: 3, }}>Bank Account: </Text>\r\n                <Select\r\n                    selectedValue={selectedBank}\r\n                    onValueChange={handleValueChange}\r\n                    bgColor={'#FAFAFA'}\r\n                    accessibilityLabel=\"Choose Country\"\r\n                    placeholder=\"---\"\r\n                    _selectedItem={{\r\n                        bg: \"teal.600\",\r\n                        endIcon: <CheckIcon />,\r\n                    }}\r\n                    height={9}\r\n                    width={300}\r\n                    style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1, }}\r\n                >\r\n                    {Object.keys(bankAccountsData).map((bankName) => (\r\n                        <Select.Item key={bankName} label={bankName} value={bankName} />\r\n                    ))}\r\n                </Select>\r\n\r\n                <ModalAddBank />\r\n\r\n            </View>\r\n\r\n            <View style={{ flex: 3, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '20%', fontWeight: 700, margin: 3, }}>Payment Terms:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.bankInformations.paymentTerms = value;\r\n                }} ref={paymentTermsRef} multiline defaultValue={invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.paymentTerms ? invoiceData.bankInformations.paymentTerms : \"Full payment via Telegraphic Transfer (T/T) required before the due date.\"} placeholderTextColor='#9B9E9F' placeholder='Email'\r\n                    style={{ width: '60%', height: 75, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n\r\n            {/* <View style={{ flex: 4, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '20%', fontWeight: 700, margin: 3, }}>Sales Agreement:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.bankInformations.salesAgreement = value;\r\n                }} ref={salesAgreementRef} multiline defaultValue={invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.bankInformations.salesAgreement ? invoiceData.bankInformations.salesAgreement : `Payment Information:\r\nThe customer is responsible for the bank charges incurred when the T/T (Telegraphic Transfer) is paid.\r\nNo warranty service is provided on used vehicles.\r\n\r\nConditions for order cancellation:\r\n(1) Order Cancellation Penalty: If the order is canceled after payment, a penalty of USD 220 will apply.\r\n(2) Non-refund: Payment for vehicles purchased through pre-delivery inspection is non-refundable.\r\n\r\nIntermediary Banking Information:\r\nBank Name: SUMITOMO MITSUI BANKING CORPORATION (THE NEW YORK AUTHORITY).\r\nSwift code: SMBCUS33\r\nAddress: 277 Park Avenue\r\nCity: New York, NY\r\nPostal Code: 10172\r\nCountry: United States\r\n`}\r\n                    placeholderTextColor='#9B9E9F' placeholder='Email'\r\n                    style={{ width: '60%', height: 100, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View> */}\r\n        </>\r\n    );\r\n}\r\n\r\nconst PaymentDetails = () => {\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n\r\n    const fobPriceInput = useRef(null);\r\n    const freightInput = useRef(null);\r\n    const inspectionInput = useRef(null);\r\n    const insuranceInput = useRef(null);\r\n\r\n\r\n    const [totalAmountCalculated, setTotalAmountCalculated] = useState('0');\r\n    const [selectedIncoterms, setSelectedIncoterms] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.paymentDetails.incoterms :\r\n        selectedChatData.insurance ? 'CIF' : 'C&F');\r\n\r\n    const [inspectionIsChecked, setInspectionIsChecked] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.paymentDetails.inspectionIsChecked : selectedChatData.inspection);\r\n    const [inspectionName, setInspectionName] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.paymentDetails.inspectionName : selectedChatData.inspectionName);\r\n\r\n    const [warrantyIsChecked, setWarrantyIsChecked] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.paymentDetails.warrantyIsCheck : selectedChatData.warranty);\r\n\r\n    const warrantyPrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.warrantyPrice ? invoiceData.paymentDetails.warrantyPrice : 150;\r\n    const insurancePrice = 50;\r\n\r\n\r\n    const additionalNameRef = useRef(null);\r\n    const additionalPriceRef = useRef(null);\r\n\r\n    const safelyParseNumber = (value) => {\r\n        const number = Number(value.replace(/,/g, ''));\r\n        return isNaN(number) ? 0 : number;\r\n    };\r\n\r\n    const calculateTotalAmount = () => {\r\n        const fobPrice = safelyParseNumber(fobPriceInput.current?.value);\r\n        const freight = safelyParseNumber(freightInput.current?.value);\r\n        const inspection = safelyParseNumber(inspectionInput.current?.value);\r\n        const insurance = safelyParseNumber(insuranceInput.current?.value);\r\n\r\n        const additionalPricesTotal = globalAdditionalPriceArray.reduce((sum, value) => sum + safelyParseNumber(value), 0);\r\n\r\n        // const total = Math.round(fobPrice + freight + inspection + (warrantyIsChecked ? warrantyPrice : 0) + insurance + additionalPricesTotal).toLocaleString();\r\n        const total = Math.round(fobPrice + freight + inspection + insurance + additionalPricesTotal).toLocaleString();\r\n        setTotalAmountCalculated(total);\r\n        globalInvoiceVariable.paymentDetails.totalAmount = total;\r\n    };\r\n\r\n    useEffect(() => {\r\n\r\n        additionalNameRef.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.additionalName ? invoiceData.paymentDetails.additionalName.join('\\n') : '';\r\n        additionalPriceRef.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.additionalPrice ? invoiceData.paymentDetails.additionalPrice.join('\\n') : '';\r\n\r\n        globalInvoiceVariable.paymentDetails.incoterms = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.incoterms ? invoiceData.paymentDetails.incoterms : selectedIncoterms;\r\n        globalInvoiceVariable.paymentDetails.inspectionIsChecked = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.inspectionIsChecked ? invoiceData.paymentDetails.inspectionIsChecked : inspectionIsChecked;\r\n        globalInvoiceVariable.paymentDetails.inspectionName = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.inspectionName ? invoiceData.paymentDetails.inspectionName : inspectionName;\r\n        globalInvoiceVariable.paymentDetails.inspectionPrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.inspectionPrice ? invoiceData.paymentDetails.inspectionPrice : inspectionIsChecked ? 300 : 0;\r\n        globalInvoiceVariable.paymentDetails.warrantyIsCheck = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.warrantyIsCheck ? invoiceData.paymentDetails.warrantyIsCheck : warrantyIsChecked;\r\n        // globalInvoiceVariable.paymentDetails.warrantyPrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.warrantyPrice ? invoiceData.paymentDetails.warrantyPrice : warrantyIsChecked ? warrantyPrice : 0;\r\n        globalInvoiceVariable.paymentDetails.fobPrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.fobPrice ? invoiceData.paymentDetails.fobPrice : fobPriceInput.current?.value;\r\n        globalInvoiceVariable.paymentDetails.freightPrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.freightPrice ? invoiceData.paymentDetails.freightPrice : freightInput.current?.value;\r\n        globalInvoiceVariable.paymentDetails.insurancePrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.insurancePrice ? invoiceData.paymentDetails.insurancePrice : selectedIncoterms == 'CIF' ? insuranceInput.current?.value : 0;\r\n        globalInvoiceVariable.paymentDetails.additionalPrice = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.additionalPrice ? invoiceData.paymentDetails.additionalPrice : [];\r\n        globalInvoiceVariable.paymentDetails.additionalName = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.additionalName ? invoiceData.paymentDetails.additionalName : [];\r\n        globalAdditionalPriceArray = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.additionalPrice ? invoiceData.paymentDetails.additionalPrice : [];\r\n\r\n        calculateTotalAmount();\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        inspectionInput.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.inspectionPrice && invoiceData.paymentDetails.inspectionPrice == true ? invoiceData.paymentDetails.inspectionPrice : inspectionIsChecked ? 300 : 0;\r\n        calculateTotalAmount();\r\n\r\n    }, [inspectionIsChecked]);\r\n\r\n    useEffect(() => {\r\n\r\n        insuranceInput.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.insurancePrice && invoiceData.paymentDetails.incoterms == 'CIF' ? invoiceData.paymentDetails.insurancePrice : selectedIncoterms == 'CIF' ? 50 : 0;\r\n        freightInput.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.paymentDetails.freightPrice ? invoiceData.paymentDetails.freightPrice : selectedIncoterms == 'FOB' ? 0 : freightCalculation;\r\n\r\n        calculateTotalAmount();\r\n\r\n    }, [selectedIncoterms]);\r\n\r\n    useEffect(() => {\r\n        calculateTotalAmount();\r\n\r\n    }, [warrantyIsChecked]);\r\n\r\n    const freightCalculation = (\r\n        (selectedChatData.m3 ? selectedChatData.m3 :\r\n            (selectedChatData.carData && selectedChatData.carData.dimensionCubicMeters ?\r\n                selectedChatData.carData.dimensionCubicMeters : 0)) *\r\n        Number(selectedChatData.freightPrice)\r\n    ).toFixed(2);\r\n\r\n    const totalPriceCalculation = (\r\n        (selectedChatData.fobPrice ? selectedChatData.fobPrice :\r\n            (selectedChatData.carData && selectedChatData.carData.fobPrice ?\r\n                selectedChatData.carData.fobPrice : 0) *\r\n            (selectedChatData.jpyToUsd ? selectedChatData.jpyToUsd :\r\n                (selectedChatData.currency && selectedChatData.currency.jpyToUsd ?\r\n                    selectedChatData.currency.jpyToUsd : 0))) +\r\n        parseFloat(freightCalculation)\r\n    ).toFixed(2);\r\n\r\n    const fobPriceDollars = (\r\n        (selectedChatData.fobPrice ? selectedChatData.fobPrice :\r\n            (selectedChatData.carData && selectedChatData.carData.fobPrice ?\r\n                selectedChatData.carData.fobPrice : 0) *\r\n            (selectedChatData.jpyToUsd ? selectedChatData.jpyToUsd :\r\n                (selectedChatData.currency && selectedChatData.currency.jpyToUsd ?\r\n                    selectedChatData.currency.jpyToUsd : 0))\r\n        ).toFixed(2));\r\n\r\n\r\n    const handleAdditionalPriceTextChange = (text) => {\r\n        // Process and filter each line\r\n        const filteredLines = text.split('\\n').map(line => {\r\n            let filteredLine = line.replace(/[^0-9.]/g, '');\r\n            const parts = filteredLine.split('.');\r\n            if (parts.length > 2) {\r\n                filteredLine = parts[0] + '.' + parts[1];\r\n            }\r\n            return filteredLine;\r\n        });\r\n\r\n        // Update the ref and the state\r\n        additionalPriceRef.current.value = filteredLines.join('\\n');\r\n        // setAdditionalPriceArray(filteredLines);\r\n        globalAdditionalPriceArray = filteredLines;\r\n        globalInvoiceVariable.paymentDetails.additionalPrice = filteredLines;\r\n        calculateTotalAmount();\r\n\r\n    };\r\n\r\n    const handleAdditionalNameTextChange = (text) => {\r\n        // Update the ref\r\n        additionalNameRef.current.value = text;\r\n\r\n        // Split the text into lines and update the state\r\n        const lines = text.split('\\n');\r\n        // setAdditionalNameArray(lines);\r\n        globalInvoiceVariable.paymentDetails.additionalName = lines;\r\n    };\r\n\r\n\r\n    const handleFobPriceInputChangeText = (text) => {\r\n        const filteredText = text.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');\r\n        fobPriceInput.current.value = filteredText;\r\n        globalInvoiceVariable.paymentDetails.fobPrice = filteredText;\r\n        calculateTotalAmount();\r\n    };\r\n\r\n    const handleFreightInputChangeText = (text) => {\r\n        const filteredText = text.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');\r\n        freightInput.current.value = filteredText;\r\n        globalInvoiceVariable.paymentDetails.freightPrice = filteredText;\r\n        calculateTotalAmount();\r\n    };\r\n\r\n    const handleInspectionInputChangeText = (text) => {\r\n        const filteredText = text.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');\r\n        inspectionInput.current.value = filteredText;\r\n        globalInvoiceVariable.paymentDetails.inspectionPrice = filteredText;\r\n\r\n        calculateTotalAmount();\r\n    };\r\n\r\n    const handleInsuranceInputChangeText = (text) => {\r\n        const filteredText = text.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');\r\n        insuranceInput.current.value = filteredText;\r\n        globalInvoiceVariable.paymentDetails.insurancePrice = filteredText;\r\n        calculateTotalAmount();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, alignSelf: 'center', }}>\r\n                <Text style={{ fontWeight: 700, fontSize: 16, margin: 3, color: '#16A34A', }}>Payment Details</Text>\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Incoterms:</Text>\r\n                <Select\r\n                    selectedValue={selectedIncoterms}\r\n                    onValueChange={(value) => setSelectedIncoterms(value)}\r\n                    bgColor={'#FAFAFA'}\r\n                    accessibilityLabel=\"Choose Country\"\r\n                    placeholder=\"---\"\r\n                    _selectedItem={{\r\n                        bg: \"teal.600\",\r\n                        endIcon: <CheckIcon />,\r\n                    }}\r\n                    height={9}\r\n                    style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1, }}\r\n                >\r\n                    <Select.Item key={'C&F'} label={'C&F'} value={'C&F'} />\r\n                    <Select.Item key={'CIF'} label={'CIF'} value={'CIF'} />\r\n                    <Select.Item key={'FOB'} label={'FOB'} value={'FOB'} />\r\n                </Select>\r\n                <Text style={{ fontWeight: 700, margin: 3, }}>Rate: </Text>\r\n                <Text style={{ fontWeight: 700, margin: 3, color: '#16A34A', }}>\r\n                    {selectedChatData.currency && selectedChatData.currency.usdToJpy\r\n                        ? Number(selectedChatData.currency.usdToJpy).toFixed(2) : '0.00'}\r\n                </Text>\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, marginTop: 10, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Inspection:</Text>\r\n                <Checkbox\r\n                    isChecked={inspectionIsChecked}\r\n                    onChange={value => setInspectionIsChecked(value)}\r\n                    style={{ margin: 2, borderColor: '#0A9FDC' }}\r\n                    size=\"sm\"\r\n                    _text={{ fontWeight: 700 }}\r\n                />\r\n            </View>\r\n\r\n            {/* <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Warranty:</Text>\r\n                <Checkbox\r\n                    isChecked={warrantyIsChecked}\r\n                    onChange={value => setWarrantyIsChecked(value)}\r\n                    style={{ margin: 2, borderColor: '#0A9FDC' }}\r\n                    size=\"sm\"\r\n                    _text={{ fontWeight: 700 }}\r\n                />\r\n                <Text style={{ fontWeight: 700, margin: 3, color: '#16A34A', }}>${warrantyPrice}</Text>\r\n            </View> */}\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2 }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3 }}>FOB Price:</Text>\r\n                <Text style={{ fontWeight: 700, margin: 1, paddingTop: 1 }}>$</Text>\r\n                <TextInput\r\n                    onChangeText={handleFobPriceInputChangeText}\r\n                    ref={fobPriceInput}\r\n                    defaultValue={invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.paymentDetails.fobPrice : selectedIncoterms == 'FOB' ? 0 : fobPriceDollars}\r\n                    placeholderTextColor='#9B9E9F'\r\n                    placeholder='FOB Price'\r\n                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2 }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3 }}>Freight:</Text>\r\n                <Text style={{ fontWeight: 700, margin: 1, paddingTop: 1 }}>$</Text>\r\n                <TextInput\r\n                    onChangeText={handleFreightInputChangeText}\r\n                    ref={freightInput}\r\n                    defaultValue={freightCalculation}\r\n                    placeholderTextColor='#9B9E9F'\r\n                    placeholder='Freight'\r\n                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, display: selectedIncoterms == 'CIF' ? 'flex' : 'none' }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Insurance:</Text>\r\n                <Text style={{ fontWeight: 700, margin: 1, paddingTop: 1, }}>$</Text>\r\n                <TextInput\r\n                    onChangeText={handleInsuranceInputChangeText}\r\n                    ref={insuranceInput}\r\n                    defaultValue={50}\r\n                    placeholderTextColor='#9B9E9F'\r\n                    placeholder={`Insurance`}\r\n                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, display: inspectionIsChecked ? 'flex' : 'none' }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Inspection:</Text>\r\n                <Text style={{ fontWeight: 700, margin: 1, paddingTop: 1, }}>$</Text>\r\n                <TextInput\r\n                    onChangeText={handleInspectionInputChangeText}\r\n                    ref={inspectionInput}\r\n                    placeholderTextColor='#9B9E9F'\r\n                    placeholder={`Inspection [${selectedChatData.inspectionName}]`}\r\n                    style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                />\r\n                <Text style={{ fontWeight: 700, margin: 3, color: '#16A34A', }}>{`[${selectedChatData.inspectionName}]`}</Text>\r\n            </View>\r\n\r\n\r\n            <View style={{ flex: 3, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Additional:</Text>\r\n                <TextInput ref={additionalNameRef} onChangeText={handleAdditionalNameTextChange} multiline placeholderTextColor='#9B9E9F' placeholder='Name'\r\n                    style={{ width: '60%', height: 75, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                <TextInput ref={additionalPriceRef} onChangeText={handleAdditionalPriceTextChange} multiline placeholderTextColor='#9B9E9F' placeholder='Price'\r\n                    style={{ width: '60%', height: 75, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', }} />\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, alignItems: 'center', }}>\r\n                <Text style={{ fontWeight: 700, margin: 3, }}>Total Amount:</Text>\r\n                <Text style={{ fontWeight: 700, fontSize: 18, margin: 3, color: '#FF0000', }}>{`$${totalAmountCalculated}`}</Text>\r\n            </View>\r\n        </>\r\n    );\r\n\r\n\r\n}\r\n\r\nconst SelectPortOfDischarge = () => {\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const [countriesDischarge, setCountriesDischarge] = useState([]);\r\n    const [portsData, setPortsData] = useState({});\r\n    const [nearestPorts, setNearestPorts] = useState([]);\r\n    const [selectedPortCountry, setSelectedPortCountry] = useState('');\r\n    const [selectedCountry, setSelectedCountry] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.discharge.country : selectedChatData.country);\r\n    const [selectedPort, setSelectedPort] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.discharge.port : selectedChatData.port);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        console.log(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.discharge.port : selectedChatData.port);\r\n\r\n        const fetchPorts = async () => {\r\n            const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'PortsDoc');\r\n\r\n            try {\r\n                const docSnap = await getDoc(docRef);\r\n\r\n                if (docSnap.exists()) {\r\n                    const data = docSnap.data();\r\n                    const sortedPorts = Object.keys(data)\r\n                        .map(portName => ({\r\n                            name: portName.replace(/_/g, '.'), // Replace '_' with '.'\r\n                            ...data[portName]\r\n                        }))\r\n                        .sort((a, b) => a.sortOrder - b.sortOrder);\r\n                    setNearestPorts(sortedPorts);\r\n                } else {\r\n                    console.log('No such document!');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching document:', error);\r\n            }\r\n        };\r\n\r\n        const fetchPortsData = async () => {\r\n            const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'PortsDoc');\r\n\r\n            try {\r\n                const docSnap = await getDoc(docRef);\r\n\r\n                if (docSnap.exists()) {\r\n                    const data = docSnap.data();\r\n                    setPortsData(data);\r\n                } else {\r\n                    console.log('No such document!');\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching document:', error);\r\n            }\r\n        };\r\n\r\n\r\n        // const fetchCountries = async () => {\r\n        //     const docRef = doc(projectExtensionFirestore, 'CustomerCountryPort', 'CountriesDoc');\r\n\r\n        //     try {\r\n        //         const docSnap = await getDoc(docRef);\r\n\r\n        //         if (docSnap.exists()) {\r\n        //             const data = docSnap.data();\r\n        //             const sortedCountries = Object.keys(data)\r\n        //                 .map(countryName => ({\r\n        //                     name: countryName.replace(/_/g, '.'), // Replace '_' with '.'\r\n        //                     ...data[countryName]\r\n        //                 }))\r\n        //                 .sort((a, b) => a.sortOrder - b.sortOrder);\r\n        //             setCountriesDischarge(sortedCountries);\r\n        //         } else {\r\n        //             console.log('No such document!');\r\n        //         }\r\n        //     } catch (error) {\r\n        //         console.error('Error fetching document:', error);\r\n        //     }\r\n        // };\r\n\r\n        fetchPorts();\r\n        fetchPortsData();\r\n        // fetchCountries();\r\n\r\n        globalInvoiceVariable.discharge.port = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.discharge.port ? invoiceData.discharge.port : selectedPort;\r\n        globalInvoiceVariable.discharge.country = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.discharge.country ? invoiceData.discharge.country : selectedPortCountry;\r\n\r\n    }, []);\r\n\r\n\r\n    useEffect(() => {\r\n        // When selectedCountry changes, update nearestPorts\r\n        const selectedCountryData = countriesDischarge.find(country => country.name === selectedCountry);\r\n        if (selectedCountryData && selectedCountryData.nearestPorts) {\r\n            setNearestPorts(selectedCountryData.nearestPorts);\r\n        } else {\r\n            setNearestPorts([]); // Reset to empty if no ports or country not found\r\n        }\r\n    }, [selectedCountry, countriesDischarge]);\r\n\r\n    useEffect(() => {\r\n        const portData = portsData[selectedPort];\r\n        if (portData && portData.country) {\r\n            setSelectedPortCountry(portData.country);\r\n            globalInvoiceVariable.discharge.country = portData.country;\r\n        } else {\r\n            setSelectedPortCountry(''); // Reset selected country if port not found or has no country\r\n            console.log('Not found');\r\n        }\r\n    }, [selectedPort, portsData]);\r\n\r\n    return (\r\n        <>\r\n            {/* <Select\r\n                selectedValue={selectedCountry}\r\n                onValueChange={(value) => {\r\n                    setSelectedCountry(value)\r\n                    globalInvoiceVariable.discharge.country = value;\r\n\r\n                }}\r\n                bgColor={'#FAFAFA'}\r\n                flex={1}\r\n                accessibilityLabel=\"Choose Country\"\r\n                placeholder=\"---\"\r\n                _selectedItem={{\r\n                    bg: \"teal.600\",\r\n                    endIcon: <CheckIcon />,\r\n                }}\r\n                style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1 }}\r\n            >\r\n                {countriesDischarge.map((country) => (\r\n                    <Select.Item key={country.name} label={country.name} value={country.name} />\r\n                ))}\r\n            </Select> */}\r\n            <Select\r\n                selectedValue={selectedPort}\r\n                onValueChange={(value) => {\r\n                    setSelectedPort(value)\r\n                    globalInvoiceVariable.discharge.port = value;\r\n                }}\r\n                bgColor={'#FAFAFA'}\r\n                accessibilityLabel=\"Choose Port\"\r\n                placeholder=\"Select port\"\r\n                _selectedItem={{\r\n                    bg: \"teal.600\",\r\n                    endIcon: <CheckIcon />,\r\n                }}\r\n                style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1 }}\r\n            >\r\n                {nearestPorts.map((port, index) => (\r\n                    <Select.Item key={index} label={port.name} value={port.name} />\r\n                ))}\r\n            </Select>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nconst SelectSalesPerson = () => {\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const [selectedSales, setSelectedSales] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.salesPerson : (selectedChatData.carData && selectedChatData.carData.sales ? selectedChatData.carData.sales : ''));\r\n    const salesData = useSelector((state) => state.salesData);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        globalInvoiceVariable.salesPerson = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.salesPerson ? invoiceData.salesPerson : (selectedChatData.carData && selectedChatData.carData.sales ? selectedChatData.carData.sales : '');\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <Select\r\n            selectedValue={selectedSales}\r\n            onValueChange={(value) => {\r\n                setSelectedSales(value);\r\n                globalInvoiceVariable.salesPerson = value;\r\n            }}\r\n            bgColor={'#FAFAFA'}\r\n            accessibilityLabel=\"---\"\r\n            placeholder=\"---\"\r\n            _selectedItem={{\r\n                bg: \"teal.600\",\r\n                endIcon: <CheckIcon />\r\n            }}\r\n            style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1 }}>\r\n            {salesData.map((item) => (\r\n                <Select.Item key={item.id} label={item.name} value={item.name} />\r\n            ))}\r\n        </Select>\r\n    );\r\n}\r\n\r\nconst SelectPortOfDeparture = () => {\r\n\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const portData = useSelector((state) => state.portData);\r\n    const salesData = useSelector((state) => state.salesData);\r\n    const [selectedPort, setSelectedPort] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.departurePort : (selectedChatData.carData && selectedChatData.carData.port ? selectedChatData.carData.port : ''));\r\n\r\n\r\n    useEffect(() => {\r\n        console.log(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.departurePort : (selectedChatData.carData && selectedChatData.carData.port ? selectedChatData.carData.port : ''));\r\n\r\n        globalInvoiceVariable.departurePort = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.departurePort ? invoiceData.departurePort : (selectedChatData.carData && selectedChatData.carData.port ? selectedChatData.carData.port : '');\r\n        globalInvoiceVariable.departureCountry = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.departureCountry ? invoiceData.departureCountry : 'Japan';\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Select\r\n                selectedValue='Japan'\r\n                onValueChange={(value) => {\r\n                    globalInvoiceVariable.departureCountry = value;\r\n                }}\r\n                bgColor={'#FAFAFA'}\r\n                flex={1}\r\n                accessibilityLabel=\"---\"\r\n                placeholder=\"---\"\r\n                _selectedItem={{\r\n                    bg: \"teal.600\",\r\n                    endIcon: <CheckIcon />\r\n                }}\r\n                style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1 }}>\r\n                <Select.Item key={'Japan'} label={'Japan'} value={'Japan'} />\r\n            </Select>\r\n\r\n            <Select\r\n                selectedValue={selectedPort}\r\n                onValueChange={(value) => {\r\n                    setSelectedPort(value);\r\n                    globalInvoiceVariable.departurePort = value;\r\n                }}\r\n                bgColor={'#FAFAFA'}\r\n                flex={1}\r\n                accessibilityLabel=\"---\"\r\n                placeholder=\"---\"\r\n                _selectedItem={{\r\n                    bg: \"teal.600\",\r\n                    endIcon: <CheckIcon />\r\n                }}\r\n                style={{ marginLeft: 10, marginRight: 10, paddingLeft: 1 }}>\r\n                {portData.map((item) => (\r\n                    <Select.Item key={item.id} label={item.name} value={item.name} />\r\n                ))}\r\n            </Select>\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nconst NotifyPartyInput = ({ accountData, setAccountData }) => {\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n\r\n    const [isChecked, setIsChecked] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.notifyParty.sameAsConsignee : true);\r\n\r\n    const notifyPartyName = useRef(null);\r\n    const notifyPartyAddress = useRef(null);\r\n    const notifyPartyCity = useRef(null);\r\n    const notifyPartyCountry = useRef(null);\r\n    const notifyPartyContactNumber = useRef(null);\r\n    const notifyPartyFax = useRef(null);\r\n    const notifyPartyEmail = useRef(null);\r\n\r\n    useEffect(() => {\r\n\r\n        notifyPartyName.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.name ? invoiceData.notifyParty.name : '';\r\n        notifyPartyAddress.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.address ? invoiceData.notifyParty.address : '';\r\n        notifyPartyCity.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.city ? invoiceData.notifyParty.city : '';\r\n        notifyPartyCountry.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.country ? invoiceData.notifyParty.country : '';\r\n        notifyPartyContactNumber.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.contactNumber ? invoiceData.notifyParty.contactNumber : '';\r\n        notifyPartyFax.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.fax ? invoiceData.notifyParty.fax : '';\r\n        notifyPartyEmail.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.email ? invoiceData.notifyParty.email : '';\r\n\r\n        globalInvoiceVariable.notifyParty.name = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.name ? invoiceData.notifyParty.name : notifyPartyName.current?.value;\r\n        globalInvoiceVariable.notifyParty.address = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.address ? invoiceData.notifyParty.address : notifyPartyAddress.current?.value;\r\n        globalInvoiceVariable.notifyParty.city = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.city ? invoiceData.notifyParty.city : notifyPartyCity.current?.value;\r\n        globalInvoiceVariable.notifyParty.country = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.country ? invoiceData.notifyParty.country : notifyPartyCountry.current?.value;\r\n        globalInvoiceVariable.notifyParty.contactNumber = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.contactNumber ? invoiceData.notifyParty.contactNumber : notifyPartyContactNumber.current?.value;\r\n        globalInvoiceVariable.notifyParty.fax = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.fax ? invoiceData.notifyParty.fax : notifyPartyFax.current?.value;\r\n        globalInvoiceVariable.notifyParty.email = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.email ? invoiceData.notifyParty.email : notifyPartyEmail.current?.value;\r\n        globalInvoiceVariable.notifyParty.sameAsConsignee = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.notifyParty.sameAsConsignee ? invoiceData.notifyParty.sameAsConsignee : isChecked;\r\n\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', }} />{/* Horizontal Line */}\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, alignSelf: 'center', }}>\r\n                <Text style={{ fontWeight: 700, fontSize: 16, margin: 3, color: '#FF0000', }}>Notify Party</Text>\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 5, }}>\r\n                <Checkbox\r\n                    isChecked={isChecked}\r\n                    onChange={value => {\r\n                        setIsChecked(value)\r\n                        globalInvoiceVariable.consignee.sameAsBuyer = value;\r\n                    }}\r\n                    style={{ margin: 2, borderColor: '#0A9FDC' }}\r\n                    size=\"sm\"\r\n                    _text={{ fontWeight: 700 }}\r\n                >\r\n                    Same as consignee\r\n                </Checkbox>\r\n            </View>\r\n\r\n            <View style={{ display: isChecked ? 'none' : 'flex', }}>\r\n                <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Name:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.name = value;\r\n                    }}\r\n                        ref={notifyPartyName} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Name'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n                <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Address:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.address = value;\r\n                    }} ref={notifyPartyAddress} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Address'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n                <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>City:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.city = value;\r\n                    }} ref={notifyPartyCity} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='City'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n                <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Country:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.country = value;\r\n                    }} ref={notifyPartyCountry} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Country'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n                <View style={{ flex: 3, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Contact Number:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.contactNumber = value;\r\n                    }} ref={notifyPartyContactNumber} disabled={isChecked} multiline placeholderTextColor='#9B9E9F' placeholder='Contact Number'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 75, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n                <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>FAX:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.fax = value;\r\n                    }} ref={notifyPartyFax} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='FAX'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n                <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                    <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Email:</Text>\r\n                    <TextInput onChangeText={(value) => {\r\n                        globalInvoiceVariable.notifyParty.email = value;\r\n                    }} ref={notifyPartyEmail} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Email'\r\n                        style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n                </View>\r\n            </View>\r\n\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', }} />{/* Horizontal Line */}\r\n        </>\r\n    )\r\n}\r\n\r\nconst ConsigneeInput = () => {\r\n\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const [isChecked, setIsChecked] = useState(invoiceData && Object.keys(invoiceData).length > 0 ? invoiceData.consignee.sameAsBuyer : true);\r\n    const [accountData, setAccountData] = useState({});\r\n\r\n    const consigneeName = useRef(null);\r\n    const consigneeAddress = useRef(null);\r\n    const consigneeCity = useRef(null);\r\n    const consigneeCountry = useRef(null);\r\n    const consigneeContactNumber = useRef(null);\r\n    const consigneeFax = useRef(null);\r\n    const consigneeEmail = useRef(null);\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchAccountData = async () => {\r\n            if (!selectedChatData.participants && selectedChatData.participants.customer) return; // Make sure there's a selected email\r\n            const docRef = doc(projectExtensionFirestore, 'accounts', selectedChatData.participants.customer);\r\n\r\n            try {\r\n                const docSnap = await getDoc(docRef);\r\n\r\n                if (docSnap.exists()) {\r\n                    const data = docSnap.data();\r\n                    setAccountData(docSnap.data());\r\n                    // console.log(docSnap.data());\r\n                    consigneeName.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.name ? invoiceData.consignee.name : `${data.textFirst ? data.textFirst : ''} ${data.textLast ? data.textLast : ''}`;\r\n                    consigneeAddress.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.address ? invoiceData.consignee.address : `${data.textStreet ? data.textStreet : ''} ${data.textZip ? data.textZip : ''}`;\r\n                    consigneeCity.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.city ? invoiceData.consignee.city : `${data.city ? data.city : ''}`;\r\n                    consigneeCountry.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.country ? invoiceData.consignee.country : `${data.country ? data.country : ''}`;\r\n                    consigneeContactNumber.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.contactNumber ? invoiceData.consignee.contactNumber : `${data.textPhoneNumber ? data.textPhoneNumber : ''}`;\r\n                    consigneeFax.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.fax ? invoiceData.consignee.fax : `${data.fax ? data.fax : ''}`;\r\n                    consigneeEmail.current.value = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.email ? invoiceData.consignee.email : `${data.textEmail ? data.textEmail : ''}`;\r\n\r\n\r\n                    globalInvoiceVariable.consignee.name = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.name ? invoiceData.consignee.name : `${data.textFirst ? data.textFirst : ''} ${data.textLast ? data.textLast : ''}`;\r\n                    globalInvoiceVariable.consignee.address = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.address ? invoiceData.consignee.address : `${data.textStreet ? data.textStreet : ''} ${data.textZip ? data.textZip : ''}`;\r\n                    globalInvoiceVariable.consignee.city = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.city ? invoiceData.consignee.city : `${data.city ? data.city : ''}`;\r\n                    globalInvoiceVariable.consignee.country = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.country ? invoiceData.consignee.country : `${data.country ? data.country : ''}`;\r\n                    globalInvoiceVariable.consignee.contactNumber = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.contactNumber ? invoiceData.consignee.contactNumber : `${data.textPhoneNumber ? data.textPhoneNumber : ''}`;\r\n                    globalInvoiceVariable.consignee.fax = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.fax ? invoiceData.consignee.fax : `${data.fax ? data.fax : ''}`;\r\n                    globalInvoiceVariable.consignee.email = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.email ? invoiceData.consignee.email : `${data.textEmail ? data.textEmail : ''}`;\r\n                    globalInvoiceVariable.consignee.sameAsBuyer = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.consignee.sameAsBuyer ? invoiceData.consignee.sameAsBuyer : isChecked;\r\n\r\n                    // console.log(accountData.length);\r\n                } else {\r\n                    console.log('No such document!');\r\n                    setAccountData(null);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching document:', error);\r\n            }\r\n        };\r\n        fetchAccountData();\r\n\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n\r\n        if (isChecked) {\r\n            consigneeName.current.value = `${accountData.textFirst ? accountData.textFirst : ''} ${accountData.textLast ? accountData.textLast : ''}`;\r\n            consigneeAddress.current.value = `${accountData.textStreet ? accountData.textStreet : ''} ${accountData.textZip ? accountData.textZip : ''}`;\r\n            consigneeCity.current.value = `${accountData.city ? accountData.city : ''}`;\r\n            consigneeCountry.current.value = `${accountData.country ? accountData.country : ''}`;\r\n            consigneeContactNumber.current.value = `${accountData.textPhoneNumber ? accountData.textPhoneNumber : ''}`;\r\n            consigneeFax.current.value = `${accountData.fax ? accountData.fax : ''}`;\r\n            consigneeEmail.current.value = `${accountData.textEmail ? accountData.textEmail : ''}`;\r\n        }\r\n\r\n        // console.log(globalInvoiceVariable);\r\n\r\n\r\n    }, [isChecked])\r\n\r\n\r\n    return (\r\n        <>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, alignSelf: 'center', }}>\r\n                <Text style={{ fontWeight: 700, fontSize: 16, margin: 3, color: '#0A78BE', }}>Consignee</Text>\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 5, }}>\r\n                <Checkbox\r\n                    isChecked={isChecked}\r\n                    onChange={value => {\r\n                        globalInvoiceVariable.consignee.sameAsBuyer = value;\r\n                        setIsChecked(value)\r\n                    }}\r\n                    style={{ margin: 2, borderColor: '#0A9FDC' }}\r\n                    size=\"sm\"\r\n                    _text={{ fontWeight: 700 }}\r\n                >\r\n                    Same as buyer\r\n                </Checkbox>\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Name:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.name = value;\r\n                }} ref={consigneeName} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Name'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Address:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.address = value;\r\n                }} ref={consigneeAddress} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Address'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>City:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.city = value;\r\n                }} ref={consigneeCity} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='City'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Country:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.country = value;\r\n                }} ref={consigneeCountry} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Country'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n            <View style={{ flex: 3, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Contact Number:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.contactNumber = value;\r\n                }} ref={consigneeContactNumber} disabled={isChecked} multiline placeholderTextColor='#9B9E9F' placeholder='Contact Number'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 75, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>FAX:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.fax = value;\r\n                }} ref={consigneeFax} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='FAX'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ width: '15%', fontWeight: 700, margin: 3, }}>Email:</Text>\r\n                <TextInput onChangeText={(value) => {\r\n                    globalInvoiceVariable.consignee.email = value;\r\n                }} ref={consigneeEmail} disabled={isChecked} placeholderTextColor='#9B9E9F' placeholder='Email'\r\n                    style={{ backgroundColor: isChecked ? '#F1F1F1' : 'default', width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }} />\r\n            </View>\r\n\r\n            <NotifyPartyInput accountData={accountData} setAccountData={setAccountData} />\r\n        </>\r\n    );\r\n}\r\n\r\nconst InvoiceFeatures = ({ widthScaleFactor, heightScaleFactor }) => {\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    return (\r\n        <View style={{ flexDirection: 'row', flexWrap: 'wrap', width: 495 * widthScaleFactor, }}>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SafetySystemAnBrSy ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Anti-Lock Braking System (ABS)</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SafetySystemDrAi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Driver Airbag</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SafetySystemPaAi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Passenger Airbag</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SafetySystemSiAi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Side Airbag</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortAiCoFr ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Air Conditioner (Front)</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortAiCoRe ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Air Conditioner (Rear)</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortAMFMRa ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>AM/FM Radio</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortAMFMSt ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>AM/FM Stereo</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortCDPl ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>CD Player</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortCDCh ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>CD Changer</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortCrSpCo ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Cruis Speed Control</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortDiSp ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}> Digital Speedometer</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortDVDPl ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>DVD Player</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortHDD ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Hard Disk Drive</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortNaSyGPS ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Navigation System (GPS)</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortPoSt ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Power Steering</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortPrAuSy ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Premium Audio System</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortReKeSy ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Remote Keyless System</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ComfortTiStWh ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Tilt Steering Wheel</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorLeSe ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Leather Seats</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorPoDoLo ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Power Door Locks</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorPoMi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Power Mirrors</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorPoSe ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Power Seats</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorPoWi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Power Windows</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorReWiDe ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Rear Window Defroster</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorReWiWi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Rear Window Wiper</Text>\r\n            </View>\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorThRoSe ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Third Row Seats</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.InteriorTiGl ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Tinted Glasses</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ExteriorAlWh ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Alloy Wheels</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ExteriorPoSlDo ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Power Sliding Door</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.ExteriorSuRo ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Sunroof</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsCuWh ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Customized Wheels</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsFuLo ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Fully Loaded</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsMaHiAv ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Maintenance History Available</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsBrNeTi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Brand New Tires</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsNoAcHi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>No Accident History</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsNoSmPrOw ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Non-Smoking Previous Owner</Text>\r\n            </View>\r\n\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsOnOwHi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>One Owner History</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsPeRaTi ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Performance-rated Tires</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsReBo ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Repainted Body</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsTuEn ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Turbo Engine</Text>\r\n            </View>\r\n\r\n\r\n            <View\r\n                style={{\r\n                    display: invoiceData.carData.SellingPointsUpAuSy ? 'flex' : 'none',\r\n                    borderRadius: 5 * widthScaleFactor,\r\n                    width: 64 * widthScaleFactor,\r\n                    height: 25 * heightScaleFactor,\r\n                    backgroundColor: '#7B9CFF',\r\n                    marginRight: 5 * widthScaleFactor,\r\n                    justifyContent: 'center',\r\n                    alignItems: 'center',\r\n                    marginTop: 5 * heightScaleFactor,\r\n                }}>\r\n                <Text style={{ color: 'white', textAlign: 'center', fontWeight: 700, fontSize: 7 * widthScaleFactor, }}>Upgraded Audio System</Text>\r\n            </View>\r\n        </View>\r\n    );\r\n}\r\n\r\nconst createHmacSha256Hash = (data, secretKey) => {\r\n    const hash = HmacSHA256(data, secretKey);\r\n    return enc.Hex.stringify(hash);\r\n};\r\n\r\n\r\nconst ConfirmPaymentModalContent = () => {\r\n    const dispatch = useDispatch();\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const selectedCustomerData = useSelector((state) => state.selectedCustomerData);\r\n\r\n\r\n    const [historyModalVisible, setHistoryModalVisible] = useState(false);\r\n\r\n    const [isConfirmLoading, setIsConfirmLoading] = useState(false);\r\n\r\n    const totalAmountString = invoiceData.paymentDetails.totalAmount;\r\n    const totalAmountNumber = parseFloat(totalAmountString.replace(/,/g, ''));\r\n\r\n    const inputAmountRef = useRef(null);\r\n\r\n    const handleHistoryModalOpen = () => {\r\n        setHistoryModalVisible(true);\r\n\r\n        console.log(selectedChatData.payments);\r\n    }\r\n\r\n    const handleHistoryModalClose = () => {\r\n        setHistoryModalVisible(false);\r\n\r\n    }\r\n\r\n    const handleInputAmountChangeText = (text) => {\r\n        // Remove characters that are not digits, dot, or minus, and ensure minus is only at the start\r\n        const filteredText = text\r\n            .replace(/[^0-9.-]/g, '')  // Remove characters that are not digits, dot, or minus\r\n            .replace(/(.)\\-/g, '$1')   // Remove minus if not at the start\r\n            .replace(/^-(?=\\-)/, '')   // Remove extra minus at the start\r\n            .replace(/(\\..*)\\./g, '$1'); // Allow only one dot\r\n\r\n        // Update the input field\r\n        inputAmountRef.current.value = filteredText;\r\n    };\r\n\r\n\r\n\r\n    const handleCompletePaymentPress = () => {\r\n        const filteredText = invoiceData.paymentDetails.totalAmount.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1') - totalValue;\r\n        inputAmountRef.current.value = filteredText;\r\n    }\r\n\r\n\r\n    const fullPaymentMessage = async () => {\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n        try {\r\n            // Adding the message to the 'messages' subcollection\r\n            await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                text: `Full Payment Received\r\n\r\nDear Customer,\r\n\r\nI hope this message finds you well. \r\n\r\nWe are writing to confirm that we have received your full payment. \r\n\r\nThank you for settling your account promptly.\r\n\r\nShould you have any further questions or require assistance, please feel free to contact us.\r\n                \r\nBest regards,\r\nReal Motor Japan`,\r\n                sender: email,\r\n                timestamp: formattedTime, // Using the fetched timestamp\r\n                messageType: 'InputPayment',\r\n                ip: ip, // IP Address\r\n                ipCountry: ipCountry // Country of the IP Address\r\n            });\r\n\r\n\r\n            // Updating the main chat document with the latest message details\r\n            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                lastMessageSender: email,\r\n                lastMessage: `Full Payment Received\r\n\r\nDear Customer,\r\n\r\nI hope this message finds you well. \r\n\r\nWe are writing to confirm that we have received your full payment. \r\n                \r\nThank you for settling your account promptly.\r\n                \r\nShould you have any further questions or require assistance, please feel free to contact us.\r\n                                \r\nBest regards,\r\nReal Motor Japan`,\r\n                lastMessageDate: formattedTime,\r\n                customerRead: false,\r\n                read: true,\r\n                readBy: [email],\r\n            });\r\n\r\n        } catch (e) {\r\n            console.error('Error adding document: ', e);\r\n        }\r\n    }\r\n\r\n\r\n    const overBalanceMessage = async (amount) => {\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n        try {\r\n            // Adding the message to the 'messages' subcollection\r\n            await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                text: `Dear Customer,\r\n\r\nGood day! \r\n\r\nWe're writing to inform you about your account with us at Real Motor Japan.\r\n                \r\nYou have an extra overbalance in your account.\r\n\r\nAmount: $${amount}\r\n                \r\nFeel free to contact us if you have any questions. We're here to help.\r\n                \r\nBest regards,\r\nReal Motor Japan`,\r\n                sender: email,\r\n                timestamp: formattedTime, // Using the fetched timestamp\r\n                messageType: 'InputPayment',\r\n                ip: ip, // IP Address\r\n                ipCountry: ipCountry // Country of the IP Address\r\n            });\r\n\r\n\r\n            // Updating the main chat document with the latest message details\r\n            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                lastMessageSender: email,\r\n                lastMessage: `Dear Customer,\r\n\r\nGood day! \r\n                \r\nWe're writing to inform you about your account with us at Real Motor Japan.\r\n                                \r\nYou have an extra overbalance in your account.\r\n                \r\nAmount: $${amount}\r\n                                \r\nFeel free to contact us if you have any questions. We're here to help.\r\n                                \r\nBest regards,\r\nReal Motor Japan`,\r\n                lastMessageDate: formattedTime,\r\n                customerRead: false,\r\n                read: true,\r\n                readBy: [email],\r\n            });\r\n\r\n        } catch (e) {\r\n            console.error('Error adding document: ', e);\r\n        }\r\n    }\r\n\r\n    const paymentMessage = async (amount, transactionDate) => {\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n        try {\r\n            // Adding the message to the 'messages' subcollection\r\n            await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                text: `🌟 Payment Confirmation Alert 🌟\r\n\r\nDear Customer! 👋\r\n\r\nWe're thrilled to inform you that your recent payment has been successfully reflected in our bank account.\r\n\r\nYour prompt and efficient transaction is greatly appreciated! 🎉\r\n\r\n🔍 Payment Details:\r\n\r\nAmount: $${amount}\r\nTransaction Date: ${transactionDate}\r\n\r\nYour account and services are now fully up-to-date. If you have any further questions or require assistance, feel free to reach out.\r\n\r\nThank you for your continued trust in us.\r\nLooking forward to serving you more in the future! 😊\r\n\r\nBest regards,\r\nReal Motor Japan`,\r\n                sender: email,\r\n                timestamp: formattedTime, // Using the fetched timestamp\r\n                messageType: 'InputPayment',\r\n                ip: ip, // IP Address\r\n                ipCountry: ipCountry // Country of the IP Address\r\n            });\r\n\r\n\r\n            // Updating the main chat document with the latest message details\r\n            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                lastMessageSender: email,\r\n                lastMessage: `🌟 Payment Confirmation Alert 🌟\r\n\r\nDear Customer! 👋\r\n\r\nWe're thrilled to inform you that your recent payment has been successfully reflected in our bank account.\r\n\r\nYour prompt and efficient transaction is greatly appreciated! 🎉\r\n\r\n🔍 Payment Details:\r\n\r\nAmount: $${amount}\r\nTransaction Date: ${transactionDate}\r\n\r\nYour account and services are now fully up-to-date. If you have any further questions or require assistance, feel free to reach out.\r\n\r\nThank you for your continued trust in us.\r\nLooking forward to serving you more in the future! 😊\r\n\r\nBest regards,\r\nReal Motor Japan`,\r\n                lastMessageDate: formattedTime,\r\n                customerRead: false,\r\n                read: true,\r\n                readBy: [email],\r\n            });\r\n\r\n        } catch (e) {\r\n            console.error('Error adding document: ', e);\r\n        }\r\n    }\r\n\r\n    const confirmPayment = async () => {\r\n        setIsConfirmLoading(true);\r\n\r\n        const amountNeeded = invoiceData.paymentDetails.totalAmount.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1') - totalValue;\r\n\r\n        const docRef = doc(projectExtensionFirestore, 'chats', selectedChatData.id);\r\n        const docRefCustomer = doc(projectExtensionFirestore, 'accounts', selectedChatData.participants.customer);\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n\r\n        const newPayments = [\r\n            { value: inputAmountRef.current.value, date: formattedTime },\r\n        ];\r\n\r\n        const newPaymentsAccount = [\r\n            { value: inputAmountRef.current.value, date: formattedTime, vehicleRef: selectedChatData.carData.referenceNumber, vehicleName: selectedChatData.carData.carName, },\r\n        ];\r\n\r\n        const inputAmount = inputAmountRef.current.value;\r\n        const numericInputAmount = Number(inputAmount);\r\n        const formattedInputAmount = numericInputAmount.toLocaleString();\r\n        const delay = ms => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n        if (inputAmount === '' || inputAmount === '0') {\r\n            setIsConfirmLoading(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            if (!inputAmount.startsWith('-')) {\r\n                // First, execute paymentMessage\r\n                await paymentMessage(formattedInputAmount, formattedTime);\r\n                await delay(10); //10ms delay\r\n\r\n                if (numericInputAmount >= amountNeeded) {\r\n                    // Once paymentMessage is successful, execute fullPaymentMessage\r\n                    await fullPaymentMessage();\r\n                    await delay(10); //10ms delay\r\n\r\n                    if (numericInputAmount > amountNeeded) {\r\n                        // Calculate overbalance and execute overBalanceMessage\r\n                        const overBalance = numericInputAmount - amountNeeded;\r\n\r\n                        if (overBalance > 0) {\r\n                            await overBalanceMessage(selectedCustomerData.overBalance ? selectedCustomerData.overBalance + overBalance : '');\r\n                            await delay(10); //10ms delay\r\n                            await updateDoc(docRefCustomer, {\r\n                                overBalance: increment(overBalance),\r\n                            });\r\n\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                    // Update step indicator for successful payment\r\n                    await updateDoc(docRef, {\r\n                        'stepIndicator.value': 4,\r\n                        'stepIndicator.status': 'Payment Confirmed',\r\n                    });\r\n                } else {\r\n                    // Handle the case where the payment is less than the amount needed\r\n                    console.log('Partial payment received');\r\n                }\r\n\r\n                // Update payments and payments history\r\n                await updateDoc(docRef, {\r\n                    payments: arrayUnion(...newPayments)\r\n                });\r\n                await updateDoc(docRefCustomer, {\r\n                    paymentsHistory: arrayUnion(...newPaymentsAccount)\r\n                });\r\n            } else {\r\n                console.error('Negative value entered');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error processing payment: ', error);\r\n        } finally {\r\n            setIsConfirmLoading(false);\r\n            dispatch(setTransactionModalVisible(false));\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    const PaymentHistoryModal = ({ historyModalVisible, handleHistoryModalClose, payments }) => {\r\n        // Create a copy of payments and sort it by date in descending order\r\n        const sortedPayments = [...payments].sort((a, b) => {\r\n            const dateA = a.date;\r\n            const dateB = b.date;\r\n            return dateB - dateA; // Sorts in descending order\r\n        });\r\n\r\n        console.log(sortedPayments);\r\n\r\n        return (\r\n            <Modal isOpen={historyModalVisible} onClose={handleHistoryModalClose} useRNModal>\r\n                <Modal.Content style={{ backgroundColor: 'white', borderRadius: 10 }}>\r\n                    <Modal.CloseButton />\r\n                    <Modal.Header style={{ textAlign: 'center', fontSize: 18, fontWeight: 'bold', color: '#333' }}>\r\n                        Payment History\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <ScrollView style={{ flex: 1, paddingHorizontal: 15, maxHeight: 500, }}>\r\n                            {\r\n                                sortedPayments.length > 0 ?\r\n                                    sortedPayments.map((payment, index) => (\r\n                                        <View key={index} style={{ marginBottom: 15, borderBottomWidth: 1, borderBottomColor: '#eee', paddingBottom: 10 }}>\r\n                                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: 'black' }}>\r\n                                                <Text style={{ fontWeight: 'bold' }}>Date: </Text>\r\n                                                {/* Use the reversed index for displaying the date */}\r\n                                                <Text style={{ color: '#FF0000' }}>{sortedPayments[sortedPayments.length - 1 - index].date}</Text>\r\n                                            </Text>\r\n                                            <Text style={{ fontSize: 14, fontWeight: 'bold', color: 'black' }}>\r\n                                                <Text style={{ fontWeight: 'bold' }}>Value: </Text>\r\n                                                {/* Use the reversed index for displaying the value */}\r\n                                                <Text style={{ color: Number(sortedPayments[sortedPayments.length - 1 - index].value).toLocaleString().startsWith('-') ? '#FF0000' : '#16A34A' }}>\r\n                                                    ${Number(sortedPayments[sortedPayments.length - 1 - index].value).toLocaleString()}\r\n                                                </Text>\r\n                                            </Text>\r\n                                        </View>\r\n                                    )) :\r\n                                    <Text style={{ fontWeight: 'bold', alignSelf: 'center', }} italic>No history to show</Text>\r\n                            }\r\n                        </ScrollView>\r\n\r\n                    </Modal.Body>\r\n                </Modal.Content>\r\n            </Modal>\r\n        );\r\n    };\r\n\r\n    const totalValue = selectedChatData.payments\r\n        ? selectedChatData.payments.reduce((sum, payment) => {\r\n            const value = Number(payment.value);\r\n            return sum + (isNaN(value) ? 0 : value);\r\n        }, 0)\r\n        : 0;\r\n\r\n    const isTotalValueGreater = Number(totalValue) < Number(invoiceData.paymentDetails.totalAmount.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1'));\r\n    const displayedAmount = isTotalValueGreater ? Number(totalValue).toLocaleString() : invoiceData.paymentDetails.totalAmount;\r\n\r\n    return (\r\n\r\n        <View style={{ flex: 1, }}>\r\n\r\n            <View style={{ marginLeft: 5, }}>\r\n\r\n                <Text style={{ fontWefight: 700, fontSize: 14, }}>Total Paid:</Text>\r\n\r\n                <Progress w=\"300\" shadow={2} value={Number(totalValue)} max={totalAmountNumber} _filledTrack={{\r\n                    bg: \"lime.500\"\r\n                }} />\r\n\r\n                <Text style={{ fontWeight: 700, fontSize: 14, color: '#FF0000', }}>${displayedAmount}\r\n                    <Text style={{ fontWeight: 700, fontSize: 14, color: '#8D7777', }}> out of </Text>\r\n                    <Text style={{ fontWeight: 700, fontSize: 14, color: '#16A34A', }}>{`$${invoiceData.paymentDetails.totalAmount}`}</Text>\r\n                </Text>\r\n\r\n            </View>\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', margin: 2, }} />{/* Horizontal Line */}\r\n\r\n            <View style={{ marginLeft: 5, }}>\r\n\r\n                <Pressable\r\n                    onPress={handleHistoryModalOpen}\r\n                    style={{ width: 'fit-content', }}>\r\n                    <Text style={{ fontWeight: 700, fontSize: 14, color: '#0A78BE', }} underline selectable={false}>Payments History</Text>\r\n                </Pressable>\r\n\r\n            </View>\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', margin: 2, }} />{/* Horizontal Line */}\r\n\r\n            <View style={{ marginLeft: 5, marginTop: 5, }}>\r\n\r\n                <Text style={{ fontWeight: 700, fontSize: 14, }}>Input Amount:</Text>\r\n\r\n                <View style={{ flexDirection: 'row', alignItems: 'center', }}>\r\n\r\n                    <Text style={{ fontWeight: 700, fontSize: 18, }}>$</Text>\r\n\r\n                    <TextInput\r\n                        ref={inputAmountRef}\r\n                        placeholderTextColor='#9B9E9F' placeholder='Input Amount'\r\n                        style={{ height: 35, width: 300, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                        onChangeText={handleInputAmountChangeText}\r\n                    />\r\n\r\n                </View>\r\n\r\n                <Pressable\r\n                    onPress={handleCompletePaymentPress}\r\n                    style={{ width: 'fit-content', }}>\r\n                    <Text style={{ fontWeight: 700, fontSize: 14, color: '#16A34A', }} underline selectable={false}>Complete Payment</Text>\r\n                </Pressable>\r\n\r\n            </View>\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', margin: 2, }} />{/* Horizontal Line */}\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'center', alignItems: 'center', margin: 5, }}>\r\n                <View\r\n                    style={{\r\n                        flex: 1,\r\n                        backgroundColor: '#16A34A', // Change color on hover\r\n                        borderRadius: 5,\r\n                        padding: 5,\r\n                    }}\r\n                >\r\n                    {!isConfirmLoading ? (\r\n                        <Pressable\r\n                            onPress={() => confirmPayment()}\r\n                        >\r\n                            <Text style={{ alignSelf: 'center', color: 'white' }}>\r\n                                Confirm\r\n                            </Text>\r\n                        </Pressable>\r\n                    ) : (\r\n                        <Spinner size={'sm'} color={'white'} />)}\r\n\r\n                </View>\r\n            </View>\r\n\r\n            <PaymentHistoryModal\r\n                historyModalVisible={historyModalVisible}\r\n                handleHistoryModalClose={handleHistoryModalClose}\r\n                payments={selectedChatData.payments ? selectedChatData.payments : []} />\r\n\r\n        </View>\r\n\r\n    );\r\n\r\n}\r\n\r\nconst IssueProformaInvoiceModalContent = () => {\r\n    const dispatch = useDispatch();\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const currentDate = useSelector((state) => state.currentDate);\r\n    const [isConfirmHovered, setIsConfirmHovered] = useState(false);\r\n    const [isConfirmLoading, setIsConfirmLoading] = useState(false);\r\n\r\n    const cfsInputRef = useRef(null);\r\n    const placeOfDeliveryInputRef = useRef(null);\r\n    const secretKey = CRYPTO_KEY.toString();\r\n\r\n\r\n\r\n    const invoiceMessage = async () => {\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n        try {\r\n            // Adding the message to the 'messages' subcollection\r\n            await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                text: 'Issued Invoice',\r\n                sender: email,\r\n                timestamp: formattedTime, // Using the fetched timestamp\r\n                messageType: 'IssuedInvoice',\r\n                ip: ip, // IP Address\r\n                ipCountry: ipCountry // Country of the IP Address\r\n            });\r\n\r\n\r\n            // Updating the main chat document with the latest message details\r\n            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                lastMessageSender: email,\r\n                lastMessage: 'Issued Invoice',\r\n                lastMessageDate: formattedTime,\r\n                customerRead: false,\r\n                read: true,\r\n                readBy: [email],\r\n            });\r\n\r\n        } catch (e) {\r\n            console.error('Error adding document: ', e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const confirmInvoice = async () => {\r\n        setIsConfirmLoading(true);\r\n        const year = currentDate.split('-')[0]; // Split the date and get the year\r\n        const yearSuffix = year.slice(-2); // Get last 2 digits of the year\r\n        const collectionRef = collection(projectExtensionFirestore, \"IssuedInvoice\");\r\n\r\n        try {\r\n            // Retrieve all documents for the current yearF\r\n            const querySnapshot = await getDocs(collectionRef);\r\n            let maxNumber = 0;\r\n\r\n            querySnapshot.forEach((doc) => {\r\n                const docName = doc.id;\r\n                if (docName.startsWith(yearSuffix)) {\r\n                    const number = parseInt(docName.substring(2), 10);\r\n                    if (number > maxNumber) {\r\n                        maxNumber = number;\r\n                    }\r\n                }\r\n            });\r\n\r\n            const nextNumber = maxNumber + 1;\r\n            const docName = `${yearSuffix}${nextNumber}`;\r\n            const docRef = doc(projectExtensionFirestore, \"IssuedInvoice\", docName);\r\n            const docRefChatId = doc(projectExtensionFirestore, \"chats\", selectedChatData.id);\r\n\r\n            const hashedData = createHmacSha256Hash(docName, secretKey);\r\n\r\n            // Create a new document with the globalInvoiceVariable object\r\n            if (selectedChatData.invoiceNumber) {\r\n                const updateDocRef = doc(projectExtensionFirestore, \"IssuedInvoice\", selectedChatData.invoiceNumber);\r\n\r\n                await updateDoc(updateDocRef, {\r\n                    ...globalInvoiceVariable,\r\n                    carData: selectedChatData.carData,\r\n                });\r\n\r\n                if (selectedChatData.stepIndicator.value == 1) {\r\n                    await updateDoc(docRefChatId, {\r\n                        'stepIndicator.status': 'Issue Proforma Invoice',\r\n                        'stepIndicator.value': 2,\r\n                        // finalPrice: globalInvoiceVariable.paymentDetails.totalAmount.replace(/,/g, ''),\r\n                    });\r\n                }\r\n\r\n                invoiceMessage();\r\n                setIsConfirmLoading(false);\r\n                dispatch(setTransactionModalVisible(false));\r\n            }\r\n\r\n            else {\r\n\r\n                await setDoc(docRef, {\r\n                    ...globalInvoiceVariable,\r\n                    cryptoNumber: hashedData,\r\n                    carData: selectedChatData.carData,\r\n                });\r\n\r\n                await updateDoc(docRefChatId, {\r\n                    keywords: arrayUnion(docName),\r\n                    invoiceNumber: docName,\r\n                    'stepIndicator.status': 'Issue Proforma Invoice',\r\n                    'stepIndicator.value': 2,\r\n                    // finalPrice: globalInvoiceVariable.paymentDetails.totalAmount.replace(/,/g, ''),\r\n                });\r\n\r\n                invoiceMessage();\r\n                setIsConfirmLoading(false);\r\n                dispatch(setTransactionModalVisible(false));\r\n\r\n\r\n            }\r\n\r\n\r\n        } catch (error) {\r\n            console.error(\"Error creating document: \", error);\r\n        }\r\n    };\r\n\r\n    // useEffect(() => {\r\n    //     calculateTotalAmount();\r\n    // }, [additionalPriceArray]);\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        globalInvoiceVariable.cfs = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.cfs ? invoiceData.cfs : cfsInputRef.current?.value;\r\n        globalInvoiceVariable.placeOfDelivery = invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.placeOfDelivery ? invoiceData.placeOfDelivery : placeOfDeliveryInputRef.current?.value;\r\n\r\n    }, []);\r\n\r\n\r\n    return (\r\n        <ScrollView style={{ flex: 1, maxHeight: 500, }}>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ fontWeight: 700, margin: 3, }}>CFS:</Text>\r\n                <TextInput\r\n                    defaultValue={invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.cfs ? invoiceData.cfs : ''}\r\n                    ref={cfsInputRef} placeholderTextColor='#9B9E9F' placeholder='Input CFS (Optional)'\r\n                    style={{ height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                    onChangeText={(value) => globalInvoiceVariable.cfs = value} />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ fontWeight: 700, margin: 3, }}>Place of Delivery:</Text>\r\n                <TextInput\r\n                    defaultValue={invoiceData && Object.keys(invoiceData).length > 0 && invoiceData.placeOfDelivery ? invoiceData.placeOfDelivery : ''}\r\n                    ref={placeOfDeliveryInputRef} placeholderTextColor='#9B9E9F' placeholder='Place of Delivery (Optional)'\r\n                    style={{ height: 25, width: 200, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                    onChangeText={(value) => globalInvoiceVariable.placeOfDelivery = value} />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 5, alignItems: 'center' }}>\r\n                <Text style={{ fontWeight: 700, margin: 3 }}>Port of Departure:</Text>\r\n                <SelectPortOfDeparture />\r\n            </View>\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 5, }}>\r\n                <Text style={{ fontWeight: 700, margin: 3, }}>Sales Person:</Text>\r\n                <SelectSalesPerson />\r\n            </View>\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', margin: 5, }} />\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                <Text style={{ fontWeight: 700, margin: 3, }}>Port of Discharge:</Text>\r\n                {/*Select Discharge*/}\r\n                <SelectPortOfDischarge />\r\n            </View>\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', margin: 5, }} />\r\n\r\n            <ConsigneeInput />\r\n\r\n            <PaymentDetails />\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', }} />\r\n\r\n            <BankInformation />\r\n\r\n            <View style={{ width: '100%', borderBottomWidth: 2, borderColor: '#0A9FDC', alignSelf: 'center', margin: 2, }} />{/* Horizontal Line */}\r\n\r\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'center', alignItems: 'center', margin: 5, }}>\r\n                <View\r\n\r\n                    // onTouchEnd={() => confirmInvoice()}\r\n                    style={{\r\n                        flex: 1,\r\n                        backgroundColor: isConfirmHovered ? '#145A32' : '#16A34A', // Change color on hover\r\n                        borderRadius: 5,\r\n                        padding: 5,\r\n                    }}\r\n\r\n                // onMouseEnter={() => setIsConfirmHovered(true)}\r\n                // onMouseLeave={() => setIsConfirmHovered(false)}\r\n                >\r\n                    {!isConfirmLoading ? (\r\n                        <Pressable onPress={() => confirmInvoice()}>\r\n                            <Text style={{ alignSelf: 'center', color: 'white' }}>\r\n                                Confirm\r\n                            </Text>\r\n                        </Pressable>\r\n\r\n                    ) : (\r\n                        <Spinner size={'sm'} color={'white'} />)}\r\n\r\n                </View>\r\n            </View>\r\n        </ScrollView>\r\n    );\r\n}\r\n\r\nconst PreviewInvoice = () => {\r\n\r\n    // npm install html2canvas jspdf\r\n    // import jsPDF from 'jspdf';\r\n    // import html2canvas from 'html2canvas';\r\n    const dispatch = useDispatch();\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const previewInvoiceVisible = useSelector((state) => state.previewInvoiceVisible);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const [isPreviewHovered, setIsPreviewHovered] = useState(false);\r\n    const screenWidth = Dimensions.get('window').width;\r\n    const invoiceRef = useRef(null);\r\n    const [invoiceImageUri, setInvoiceImageUri] = useState('');\r\n    const hoverPreviewIn = () => setIsPreviewHovered(true);\r\n    const hoverPreviewOut = () => setIsPreviewHovered(false);\r\n    const [capturedImageUri, setCapturedImageUri] = useState('');\r\n    const [vehicleImageUri, setVehicleImageUri] = useState(globalImageUrl);\r\n    const [featuresTrueCount, setFeaturesTrueCount] = useState(0);\r\n    const [rerenderState, setRerenderState] = useState(0);\r\n\r\n    const handlePreviewInvoiceModalOpen = () => {\r\n        dispatch(setPreviewInvoiceVisible(true));\r\n    };\r\n\r\n    const handlePreviewInvoiceModalClose = () => {\r\n        dispatch(setPreviewInvoiceVisible(false));\r\n        setCapturedImageUri('');\r\n    }\r\n\r\n    function countTrueValuesInCarData(invoiceData) {\r\n        let count = 0;\r\n\r\n        // Check if carData exists in invoiceData\r\n        if (invoiceData.carData) {\r\n            // List of fields to check within carData\r\n            const fields = ['interior', 'exterior', 'safetySystem', 'comfort', 'sellingPoints'];\r\n\r\n            fields.forEach(field => {\r\n                if (invoiceData.carData[field]) {\r\n                    // Count true values in each field of carData\r\n                    count += Object.values(invoiceData.carData[field]).filter(value => value === true).length;\r\n                }\r\n            });\r\n        }\r\n\r\n        return count;\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (previewInvoiceVisible) {\r\n            setRerenderState(rerenderState + 1);\r\n        }\r\n    }, [previewInvoiceVisible])\r\n\r\n\r\n    useEffect(() => {\r\n        const captureImageAsync = async () => {\r\n            try {\r\n                if (invoiceRef.current) {\r\n                    // Adjust the scale to control the captured image resolution\r\n                    const scale = 0.85; // Experiment with different scale values\r\n                    const width = 2480 * scale;\r\n                    const height = 3508 * scale;\r\n\r\n                    const imageUri = await captureRef(invoiceRef, {\r\n                        format: 'jpg',\r\n                        quality: 1, // Adjust quality if needed\r\n                        result: 'base64',\r\n                        width: width,\r\n                        height: height,\r\n                    });\r\n                    setCapturedImageUri(`data:image/jpeg;base64,${imageUri}`);\r\n                    const trueCount = countTrueValuesInCarData(invoiceData);\r\n                    setFeaturesTrueCount(trueCount);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Error capturing view:\", error);\r\n            }\r\n        };\r\n\r\n        const convertImageToBase64 = async (url) => {\r\n            try {\r\n                const response = await fetch(url);\r\n                if (!response.ok) {\r\n                    throw new Error(`HTTP error! status: ${response.status}`);\r\n                }\r\n                const blob = await response.blob();\r\n                return new Promise((resolve, reject) => {\r\n                    const reader = new FileReader();\r\n                    reader.onloadend = () => resolve(reader.result);\r\n                    reader.onerror = reject;\r\n                    reader.readAsDataURL(blob);\r\n                });\r\n            } catch (error) {\r\n                console.error('Fetch error:', error.message);\r\n                return null;\r\n            }\r\n        };\r\n        convertImageToBase64(globalImageUrl)\r\n            .then(base64String => {\r\n                setVehicleImageUri(base64String);\r\n            });\r\n        // Trigger image capture when invoiceRef changes\r\n        captureImageAsync();\r\n\r\n        if (screenWidth < 960) {\r\n            const captureImageAsync = async () => {\r\n                try {\r\n                    if (invoiceRef.current) {\r\n                        // Adjust the scale to control the captured image resolution\r\n                        const scale = 0.85; // Experiment with different scale values\r\n                        const width = 2480 * scale;\r\n                        const height = 3508 * scale;\r\n\r\n                        const imageUri = await captureRef(invoiceRef, {\r\n                            format: 'jpg',\r\n                            quality: 1, // Adjust quality if needed\r\n                            result: 'base64',\r\n                            width: width,\r\n                            height: height,\r\n                        });\r\n                        setCapturedImageUri(`data:image/jpeg;base64,${imageUri}`);\r\n                        const trueCount = countTrueValuesInCarData(invoiceData);\r\n                        setFeaturesTrueCount(trueCount);\r\n                    }\r\n                } catch (error) {\r\n                    console.error(\"Error capturing view:\", error);\r\n                }\r\n            };\r\n\r\n            const convertImageToBase64 = async (url) => {\r\n                try {\r\n                    const response = await fetch(url);\r\n                    if (!response.ok) {\r\n                        throw new Error(`HTTP error! status: ${response.status}`);\r\n                    }\r\n                    const blob = await response.blob();\r\n                    return new Promise((resolve, reject) => {\r\n                        const reader = new FileReader();\r\n                        reader.onloadend = () => resolve(reader.result);\r\n                        reader.onerror = reject;\r\n                        reader.readAsDataURL(blob);\r\n                    });\r\n                } catch (error) {\r\n                    console.error('Fetch error:', error.message);\r\n                    return null;\r\n                }\r\n            };\r\n            convertImageToBase64(globalImageUrl)\r\n                .then(base64String => {\r\n                    setVehicleImageUri(base64String);\r\n                });\r\n            // Trigger image capture when invoiceRef changes\r\n            captureImageAsync();\r\n        }\r\n\r\n    }, [invoiceRef.current, vehicleImageUri]);\r\n\r\n    const captureImage = async () => {\r\n        try {\r\n            // Adjust the scale to control the captured image resolution\r\n            const scale = 0.9; // Experiment with different scale values\r\n            const width = 2480 * scale;\r\n            const height = 3508 * scale;\r\n\r\n            const imageUri = await captureRef(invoiceRef, {\r\n                format: 'jpg',\r\n                quality: 1, // Adjust quality if needed\r\n                result: 'base64',\r\n                width: width,\r\n                height: height,\r\n            });\r\n            return `data:image/jpeg;base64,${imageUri}`;\r\n        } catch (error) {\r\n            console.error(\"Error capturing view:\", error);\r\n        }\r\n    };\r\n\r\n    const createPDF = async () => {\r\n        const element = invoiceRef.current;\r\n        if (element) {\r\n            // Reduce the scale slightly for smaller file size\r\n            const scale = 1; // Fine-tune this value for balance\r\n\r\n            const canvas = await html2canvas(element, {\r\n                scale: scale,\r\n            });\r\n\r\n            // Experiment with JPEG quality for a balance between quality and file size\r\n            const imageData = canvas.toDataURL('image/jpeg', 0.9);\r\n\r\n            // A4 size dimensions in mm\r\n            const pdfWidth = 210;\r\n            const pdfHeight = 297;\r\n\r\n            const pdf = new jsPDF({\r\n                orientation: 'portrait',\r\n                unit: 'mm',\r\n                format: 'a4'\r\n            });\r\n\r\n            // Adjust PDF compression settings\r\n            const options = {\r\n                imageCompression: 'JPEG',\r\n                imageQuality: 1, // Fine-tune this value as well\r\n            };\r\n\r\n            const imgProps = pdf.getImageProperties(imageData);\r\n            const pdfWidthFit = pdfWidth;\r\n            const pdfHeightFit = (imgProps.height * pdfWidthFit) / imgProps.width;\r\n\r\n            pdf.addImage(imageData, 'JPEG', 0, 0, pdfWidthFit, pdfHeightFit, undefined, 'FAST', 0, options);\r\n\r\n            // Filename logic\r\n            selectedChatData.stepIndicator.value < 3 ?\r\n                pdf.save(`Proforma Invoice (${invoiceData.carData.carName} [${invoiceData.carData.referenceNumber}]) (A4 Paper Size).pdf`) :\r\n                pdf.save(`Invoice No. ${invoiceData.id} (A4 Paper Size).pdf`);\r\n        } else {\r\n            console.error(\"No element to capture\");\r\n        }\r\n    };\r\n\r\n\r\n    const handleCaptureAndCreatePDF = async () => {\r\n        const capturedImageUri = await captureImage();\r\n        if (capturedImageUri) {\r\n            await createPDF(capturedImageUri);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    if (invoiceData && Object.keys(invoiceData).length > 0) {\r\n        const issuingDateString = invoiceData.bankInformations.issuingDate;\r\n        const dueDateString = invoiceData.bankInformations.dueDate;\r\n        const issuingDateObject = new Date(issuingDateString);\r\n        const dueDateObject = new Date(dueDateString);\r\n\r\n\r\n        const options = {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric',\r\n        };\r\n\r\n        formattedIssuingDate = issuingDateObject.toLocaleDateString(undefined, options);\r\n        formattedDueDate = dueDateObject.toLocaleDateString(undefined, options);\r\n\r\n    }\r\n\r\n    const originalWidth = 794;\r\n    const originalHeight = 1123;\r\n\r\n    const newWidth = 2480;\r\n    const newHeight = 3508;\r\n\r\n    const widthScaleFactor = newWidth / originalWidth;\r\n    const heightScaleFactor = newHeight / originalHeight;\r\n\r\n    const openImage = () => {\r\n        if (Platform.OS === 'web') {\r\n            const imageWindow = window.open();\r\n            imageWindow.document.write(`\r\n                <style>\r\n                    body {\r\n                        margin: 0;\r\n                        display: flex;\r\n                        justify-content: center;\r\n                        align-items: center;\r\n                        height: 100vh;\r\n                        overflow: hidden;\r\n                    }\r\n                    img {\r\n                        width: 595px;\r\n                        height: 842px;\r\n                        object-fit: contain;\r\n                        transition: transform 0.25s ease;\r\n                        cursor: zoom-in; /* Set cursor to magnifying glass */\r\n                    }\r\n                    .zoomed {\r\n                        transform: scale(3);\r\n                        transform-origin: center;\r\n                        cursor: zoom-out; /* Change cursor to indicate zooming out */\r\n                    }\r\n                </style>\r\n                <img id=\"zoomableImage\" src=\"${capturedImageUri}\" alt=\"Base64 Image\" draggable=\"false\" />\r\n                <script>\r\n                    const image = document.getElementById('zoomableImage');\r\n    \r\n                    image.addEventListener('mousedown', function(e) {\r\n                        const rect = this.getBoundingClientRect();\r\n                        const x = e.clientX - rect.left;\r\n                        const y = e.clientY - rect.top;\r\n    \r\n                        // Set the transform origin to the mouse position\r\n                        this.style.transformOrigin = \\`\\${x}px \\${y}px\\`;\r\n                        this.classList.add('zoomed');\r\n                    });\r\n    \r\n                    document.addEventListener('mouseup', function() {\r\n                        image.classList.remove('zoomed');\r\n                    });\r\n                </script>\r\n            `);\r\n        } else {\r\n            console.log('This feature is only available in a web environment');\r\n        }\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <> {invoiceData && Object.keys(invoiceData).length > 0 &&\r\n\r\n            <>\r\n                <Pressable\r\n                    onPress={handlePreviewInvoiceModalOpen}\r\n                    focusable={false}\r\n                    variant='ghost'\r\n                    onHoverIn={hoverPreviewIn}\r\n                    onHoverOut={hoverPreviewOut}\r\n                    style={{\r\n                        marginTop: 3,\r\n                        paddingVertical: 3,\r\n                        paddingHorizontal: 5,\r\n                        flexDirection: 'row', // Align items in a row\r\n                        alignItems: 'center', // Center items vertically\r\n                        justifyContent: 'center',\r\n                        borderRadius: 5,\r\n                        backgroundColor: isPreviewHovered ? '#0772ad' : '#0A8DD5',\r\n                    }}>\r\n\r\n                    {selectedChatData.invoiceNumber && selectedChatData.stepIndicator.value > 2 ?\r\n                        <Text style={{ fontWeight: 700, color: 'white', }}>\r\n                            {`Preview Invoice No. ${selectedChatData.invoiceNumber}`}\r\n                        </Text>\r\n                        :\r\n                        <Text style={{ fontWeight: 700, color: 'white', }}>\r\n                            {`Preview Invoice`}\r\n                        </Text>}\r\n\r\n                </Pressable>\r\n\r\n                <Modal\r\n                    isOpen={previewInvoiceVisible}\r\n                    onClose={() => {\r\n                        handlePreviewInvoiceModalClose();\r\n                    }}\r\n                    size={'full'}\r\n                    useRNModal\r\n                >\r\n                    <View style={{ flexDirection: 'row', margin: 2, }}>\r\n                        <Pressable onPress={() => {\r\n                            capturedImageUri && vehicleImageUri ? handleCaptureAndCreatePDF() : null;\r\n                        }}\r\n                            style={{ justifyContent: 'center', flexDirection: 'row', padding: 5, borderRadius: 5, backgroundColor: '#16A34A', }}>\r\n                            <MaterialCommunityIcons size={20} name='download' color='white' />\r\n                            <Text style={{ color: 'white', }}>Download as PDF</Text>\r\n                        </Pressable>\r\n\r\n                        <Pressable\r\n                            onPress={() => {\r\n                                capturedImageUri && vehicleImageUri ? openImage() : null;\r\n                            }}\r\n                            style={{ position: 'absolute', top: -2, right: -380, flexDirection: 'row', padding: 5, borderRadius: 5, backgroundColor: '#0A8DD5', }}>\r\n                            <Entypo size={20} name='images' color='white' />\r\n                            <Text style={{ color: 'white', }}>View Image</Text>\r\n                        </Pressable>\r\n                    </View>\r\n                    <Modal.CloseButton />\r\n                    {previewInvoiceVisible &&\r\n                        <ScrollView\r\n                            style={{ maxHeight: screenWidth < 960 ? 480 : 720, maxWidth: screenWidth < 960 ? 320 : 900 }}\r\n                        >\r\n                            <View style={{\r\n                                position: 'absolute',\r\n                                top: 0,\r\n                                bottom: 0,\r\n                                right: 0,\r\n                                left: 0,\r\n                                backgroundColor: 'white',\r\n                                zIndex: 999,\r\n                                flex: 1,\r\n                                alignItems: 'center', // Center horizontally\r\n                            }}>\r\n                                {capturedImageUri && vehicleImageUri ? (\r\n                                    <NativeImage\r\n                                        source={{ uri: capturedImageUri }}\r\n                                        style={{\r\n                                            marginTop: 5,\r\n                                            width: screenWidth < 960 ? 320 : 595,\r\n                                            height: screenWidth < 960 ? 480 : 842,\r\n                                            resizeMode: 'stretch',\r\n                                            borderWidth: 1,\r\n                                            borderColor: '#DADDE1',\r\n                                        }}\r\n                                    />\r\n                                ) : (<Spinner size={'lg'} color={'#0A9FDC'} style={{ alignSelf: 'center', paddingTop: 80 * heightScaleFactor, }} />)}\r\n                            </View>\r\n\r\n                            {/* Main content with invoice details */}\r\n                            {vehicleImageUri !== '' &&\r\n                                <View ref={invoiceRef} style={{ width: 2480, height: 3508, backgroundColor: 'white', zIndex: 1 }}>\r\n\r\n                                    <View style={{ position: 'absolute', left: 38 * widthScaleFactor, top: 38 * heightScaleFactor }}>\r\n                                        <NativeImage\r\n                                            source={require('../../assets/RMJ logo for invoice.png')}\r\n                                            style={{\r\n                                                width: 95 * widthScaleFactor,\r\n                                                height: 85 * heightScaleFactor,\r\n                                                resizeMode: 'stretch',\r\n                                            }}\r\n                                        />\r\n                                    </View>\r\n\r\n                                    <View style={{ position: 'absolute', alignSelf: 'center', top: 80 * heightScaleFactor }}>\r\n                                        {/* Title */}\r\n                                        {selectedChatData.stepIndicator.value < 3 ?\r\n                                            <Text style={{ fontWeight: 700, fontSize: 25 * widthScaleFactor }}>{`PROFORMA INVOICE`}</Text> :\r\n                                            <Text style={{ fontWeight: 700, fontSize: 25 * widthScaleFactor }}>{`INVOICE`}</Text>\r\n                                        }\r\n                                    </View>\r\n\r\n                                    <View style={{ position: 'absolute', right: 38 * widthScaleFactor, top: 38 * heightScaleFactor }}>\r\n                                        {/* QR CODE */}\r\n                                        {selectedChatData.stepIndicator.value < 3 ?\r\n                                            null :\r\n                                            <QRCode\r\n                                                value={invoiceData.cryptoNumber}\r\n                                                size={80 * widthScaleFactor}\r\n                                                color=\"black\"\r\n                                                backgroundColor=\"white\"\r\n                                            />\r\n                                        }\r\n                                    </View>\r\n\r\n                                    <View style={{ position: 'absolute', right: 121 * widthScaleFactor, top: 34 * heightScaleFactor }}>\r\n                                        {/* Invoice Number */}\r\n                                        {selectedChatData.stepIndicator.value < 3 ?\r\n                                            null :\r\n                                            <Text style={{ fontWeight: 750, fontSize: 14 * widthScaleFactor }}>{`Invoice No. RMJ-${invoiceData.id}`}</Text>\r\n                                        }\r\n                                    </View>\r\n\r\n                                    {selectedChatData.stepIndicator.value < 3 ?\r\n                                        <View style={{ position: 'absolute', right: 38 * widthScaleFactor, top: 34 * heightScaleFactor, }}>\r\n                                            {/* Issuing Date */}\r\n                                            <View style={{ flexDirection: 'row', alignSelf: 'flex-end', }}>\r\n                                                <Text style={{ fontWeight: 750, fontSize: 14 * widthScaleFactor }}>{`Issuing Date: `}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 14 * widthScaleFactor }}>{`${formattedIssuingDate}`}</Text>\r\n                                            </View>\r\n                                            <View style={{ flexDirection: 'row', alignSelf: 'flex-end', }}>\r\n                                                <Text style={{ fontWeight: 750, fontSize: 14 * widthScaleFactor, color: '#F00A0A', }}>{`Valid Until: `}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 14 * widthScaleFactor }}>{`${formattedDueDate}`}</Text>\r\n                                            </View>\r\n\r\n                                        </View>\r\n                                        :\r\n                                        <View style={{ position: 'absolute', right: 121 * widthScaleFactor, top: 49 * heightScaleFactor, flexDirection: 'row' }}>\r\n                                            {/* Issuing Date */}\r\n                                            <Text style={{ fontWeight: 750, fontSize: 14 * widthScaleFactor }}>{`Issuing Date: `}</Text>\r\n                                            <Text style={{ fontWeight: 400, fontSize: 14 * widthScaleFactor }}>{`${formattedIssuingDate}`}</Text>\r\n                                        </View>\r\n                                    }\r\n\r\n                                    <View style={{ position: 'absolute', left: 40 * widthScaleFactor, top: 134 * heightScaleFactor, maxWidth: 220 * widthScaleFactor, }}>\r\n                                        {/* Shipper */}\r\n                                        <Text style={{\r\n                                            fontWeight: 750,\r\n                                            fontSize: 14 * widthScaleFactor,\r\n                                            borderBottomWidth: 3, // Adjust the thickness of the underline\r\n                                            width: 'fit-content', // Make the underline cover the text width\r\n                                            marginBottom: 5, // Add some space between text and underline\r\n                                        }}>\r\n                                            {`Shipper`}\r\n                                        </Text>\r\n                                        <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`Real Motor Japan`}</Text>\r\n                                        <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`(YANAGISAWA HD CO.,LTD)`}</Text>\r\n                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`26-2 Takara Tsutsumi-cho Toyota City, Aichi Prefecture, Japan, 473-0932`}</Text>\r\n                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`FAX: +81565850606`}</Text>\r\n\r\n                                        <Text style={{ fontWeight: 700, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`Shipped From:`}</Text>\r\n                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.departurePort}, ${invoiceData.departureCountry}`}</Text>\r\n\r\n                                        <Text style={{ fontWeight: 700, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`Shipped To:`}</Text>\r\n                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.discharge.port}, ${invoiceData.discharge.country}`}</Text>\r\n                                        {invoiceData.placeOfDelivery && invoiceData.placeOfDelivery !== '' ?\r\n                                            <>\r\n                                                <Text style={{ fontWeight: 700, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`Place of Delivery:`}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.placeOfDelivery}`}</Text>\r\n                                            </>\r\n                                            : null}\r\n                                        {invoiceData.cfs && invoiceData.cfs !== '' ?\r\n                                            <>\r\n                                                <Text style={{ fontWeight: 700, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`CFS:`}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.cfs}`}</Text>\r\n                                            </>\r\n                                            : null}\r\n\r\n                                        {/* Buyer Information */}\r\n                                        <Text style={{\r\n                                            fontWeight: 750,\r\n                                            fontSize: 14 * widthScaleFactor,\r\n                                            borderBottomWidth: 3, // Adjust the thickness of the underline\r\n                                            borderBottomColor: '#0A78BE',\r\n                                            width: 'fit-content', // Make the underline cover the text width\r\n                                            marginBottom: 5, // Add some space between text and underline\r\n                                            color: '#0A78BE',\r\n                                            marginTop: 20,\r\n                                        }}>\r\n                                            {`Buyer Information`}\r\n                                        </Text>\r\n                                        <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.consignee.name}`}</Text>\r\n                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.consignee.address}`}</Text>\r\n                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.consignee.email}`}</Text>\r\n                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.consignee.contactNumber}`}</Text>\r\n                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`FAX: ${invoiceData.consignee.fax == '' ? 'N/A' : invoiceData.consignee.fax}`}</Text>\r\n\r\n                                        {/* Notify Party */}\r\n                                        <Text style={{\r\n                                            fontWeight: 750,\r\n                                            fontSize: 14 * widthScaleFactor,\r\n                                            borderBottomWidth: 3, // Adjust the thickness of the underline\r\n                                            borderBottomColor: '#FF0000',\r\n                                            width: 'fit-content', // Make the underline cover the text width\r\n                                            marginBottom: 5, // Add some space between text and underline\r\n                                            color: '#FF0000',\r\n                                            marginTop: 20,\r\n                                        }}>\r\n                                            {`Notify Party`}\r\n                                        </Text>\r\n                                        {invoiceData.notifyParty.sameAsConsignee == true ? (\r\n                                            <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, }}>{`Same as consignee / buyer`}</Text>) :\r\n                                            (<>\r\n                                                <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.notifyParty.name}`}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.notifyParty.address}`}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.notifyParty.email}`}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.notifyParty.contactNumber}`}</Text>\r\n                                                <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, marginTop: 20, lineHeight: 14 * widthScaleFactor }}>{`FAX: ${invoiceData.notifyParty.fax == '' ? 'N/A' : invoiceData.notifyParty.fax}`}</Text>\r\n                                            </>)}\r\n                                    </View>\r\n                                    {selectedChatData.stepIndicator.value < 3 ?\r\n\r\n                                        <View style={{ position: 'absolute', left: 260 * widthScaleFactor, top: 130 * heightScaleFactor, borderWidth: 3, width: 495 * widthScaleFactor, borderColor: '#FF5C00', height: 194 * heightScaleFactor, }}>\r\n                                            <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center', flexDirection: 'row', }}>\r\n                                                <Entypo size={50 * widthScaleFactor} name='warning' color={'#FF0000'} />\r\n                                                <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, color: '#FF0000', marginLeft: 20 * widthScaleFactor, }}>{`Bank Information will be provided after placing an order.`}</Text>\r\n                                            </View>\r\n                                        </View>\r\n                                        :\r\n                                        <View style={{ position: 'absolute', left: 260 * widthScaleFactor, top: 130 * heightScaleFactor, borderWidth: 3, width: 495 * widthScaleFactor, borderColor: '#1ABA3D', }}>\r\n\r\n                                            <View style={{ flex: 1, alignItems: 'center', }}>\r\n                                                <Text style={{ fontWeight: 750, fontSize: 14 * widthScaleFactor, color: '#114B33', }}>{`Bank Information`}</Text>\r\n                                            </View>\r\n\r\n                                            <View style={{ flex: 1, flexDirection: 'row', marginHorizontal: 5 * widthScaleFactor, marginBottom: 5 * heightScaleFactor, }}>\r\n                                                <View style={{ flex: 1, marginRight: 50 * widthScaleFactor, }}>\r\n                                                    <Text style={{\r\n                                                        fontWeight: 750,\r\n                                                        fontSize: 14 * widthScaleFactor,\r\n                                                        borderBottomWidth: 3, // Adjust the thickness of the underline\r\n                                                        width: 'fit-content', // Make the underline cover the text width\r\n                                                        marginBottom: 2, // Add some space between text and underline\r\n                                                    }}>\r\n                                                        {`Bank Account`}\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginTop: 3 * heightScaleFactor, }}>{`Bank Name: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.bankAccount.bankName}`}</Text>\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginTop: 3 * heightScaleFactor, }}>{`Branch Name: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.bankAccount.branchName}`}</Text>\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginTop: 3 * heightScaleFactor, }}>{`SWIFTCODE: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.bankAccount.swiftCode}`}</Text>\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginTop: 3 * heightScaleFactor, }}>{`Address: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.bankAccount.address}`}</Text>\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginTop: 3 * heightScaleFactor, }}>{`Name of Account Holder: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.bankAccount.accountHolder}`}</Text>\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginTop: 3 * heightScaleFactor, }}>{`Account Number: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.bankAccount.accountNumberValue}`}</Text>\r\n                                                    </Text>\r\n                                                </View>\r\n\r\n                                                <View style={{ flex: 1 }}>\r\n\r\n                                                    <Text style={{\r\n                                                        fontWeight: 750,\r\n                                                        fontSize: 14 * widthScaleFactor,\r\n                                                        borderBottomWidth: 3, // Adjust the thickness of the underline\r\n                                                        width: 'fit-content', // Make the underline cover the text width\r\n                                                        marginBottom: 2, // Add some space between text and underline\r\n                                                    }}>\r\n                                                        {`Payment Terms`}\r\n                                                    </Text>\r\n\r\n                                                    <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`Terms: `}\r\n                                                        <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>{`${invoiceData.bankInformations.paymentTerms}`}</Text>\r\n                                                    </Text>\r\n\r\n                                                    <View style={{ paddingTop: 30 * heightScaleFactor, }}>\r\n\r\n                                                        <Text style={{\r\n                                                            fontWeight: 750,\r\n                                                            fontSize: 14 * widthScaleFactor,\r\n                                                            borderBottomWidth: 3, // Adjust the thickness of the underline\r\n                                                            width: 'fit-content', // Make the underline cover the text width\r\n                                                            marginBottom: 2, // Add some space between text and underline\r\n                                                            color: '#F00A0A',\r\n                                                            borderBottomColor: '#F00A0A',\r\n                                                        }}>\r\n                                                            {`Payment Due`}\r\n                                                        </Text>\r\n\r\n                                                        <Text style={{ fontWeight: 750, fontSize: 12 * widthScaleFactor, color: '#F00A0A', lineHeight: 14 * widthScaleFactor }}>{`Due Date: `}\r\n                                                            <Text style={{ fontWeight: 400, fontSize: 12 * widthScaleFactor, color: 'black', lineHeight: 14 * widthScaleFactor }}>{`${formattedDueDate}`}</Text>\r\n                                                        </Text>\r\n\r\n                                                    </View>\r\n\r\n                                                </View>\r\n\r\n                                            </View>\r\n\r\n                                        </View>}\r\n\r\n\r\n\r\n                                    <View style={{ position: 'absolute', left: 260 * widthScaleFactor, top: 335 * heightScaleFactor }}>\r\n\r\n                                        <View style={{ flexDirection: 'row' }}>\r\n                                            {vehicleImageUri ? (\r\n                                                <NativeImage\r\n                                                    source={{ uri: vehicleImageUri }}\r\n                                                    style={{\r\n                                                        width: 99 * widthScaleFactor,\r\n                                                        height: 70 * heightScaleFactor,\r\n                                                        resizeMode: 'stretch',\r\n                                                    }}\r\n                                                />\r\n                                            ) : (\r\n                                                <View\r\n                                                    style={{\r\n                                                        width: 99 * widthScaleFactor,\r\n                                                        height: 70 * heightScaleFactor,\r\n                                                        backgroundColor: '#e0e0e0',\r\n                                                        marginRight: 12,\r\n                                                    }}\r\n                                                />\r\n                                            )}\r\n                                            <View style={{ flex: 1, top: -2 * heightScaleFactor, marginLeft: 5 * widthScaleFactor, height: 59 * heightScaleFactor }}>\r\n                                                <Text style={{ fontWeight: 'bold', fontSize: 14 * widthScaleFactor, lineHeight: 16 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.carName}`}\r\n                                                </Text>\r\n                                                <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                    {`Reference No.: `}\r\n                                                    <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                        {`${invoiceData.carData.referenceNumber}`}\r\n                                                    </Text>\r\n                                                </Text>\r\n\r\n                                                <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                    {`Year/Month: `}\r\n                                                    <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                        {`${invoiceData.carData.regYear}/${invoiceData.carData.regMonth}`}\r\n                                                    </Text>\r\n                                                </Text>\r\n\r\n                                                <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                    {`Mileage: `}\r\n                                                    <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                        {`${Number(invoiceData.carData.mileage).toLocaleString('en-US')} km`}\r\n                                                    </Text>\r\n                                                </Text>\r\n\r\n                                                <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                    {`Chassis No.: `}\r\n                                                    <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                        {`${invoiceData.carData.chassisNumber}`}\r\n                                                    </Text>\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                        </View>\r\n\r\n\r\n                                    </View>\r\n\r\n                                    <View style={{ position: 'absolute', left: 260 * widthScaleFactor, top: 410 * heightScaleFactor, flexDirection: 'row', width: 495 * widthScaleFactor, }}>\r\n                                        <View style={{ flex: 1 }}>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Model Code: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.modelCode}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Fuel: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.fuel}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Transmission: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.transmission}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Steering: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.steering}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Displacement: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${Number(invoiceData.carData.engineDisplacement).toLocaleString('en-US')} cc`}\r\n                                                </Text>\r\n                                            </Text>\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1 }}>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Doors: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.doors ? invoiceData.carData.doors : 'N/A'}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Drive Type: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.driveType ? invoiceData.carData.driveType : 'N/A'}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Exterior Color: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.exteriorColor}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Number of Seats: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.numberOfSeats ? invoiceData.carData.numberOfSeats : 'N/A'}`}\r\n                                                </Text>\r\n                                            </Text>\r\n\r\n                                            <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor }}>\r\n                                                {`Body Type: `}\r\n                                                <Text style={{ fontWeight: 'normal', fontSize: 12 * widthScaleFactor }}>\r\n                                                    {`${invoiceData.carData.bodyType}`}\r\n                                                </Text>\r\n                                            </Text>\r\n                                        </View>\r\n\r\n                                    </View>\r\n\r\n                                    <View style={{ position: 'absolute', left: 260 * widthScaleFactor, top: 484 * heightScaleFactor, width: 495 * widthScaleFactor, }}>\r\n                                        <Text style={{ fontWeight: 'bold', fontSize: 12 * widthScaleFactor, lineHeight: 14 * widthScaleFactor, marginBottom: 3 * heightScaleFactor, }}>\r\n                                            {`Features: `}\r\n                                        </Text>\r\n\r\n                                        <InvoiceFeatures widthScaleFactor={widthScaleFactor} heightScaleFactor={heightScaleFactor} />\r\n\r\n                                    </View>\r\n\r\n                                    <View style={{\r\n                                        position: 'absolute',\r\n                                        left: 38 * widthScaleFactor,\r\n                                        top: featuresTrueCount < 36 ? 657 * heightScaleFactor : 689 * heightScaleFactor,\r\n                                        width: 718 * widthScaleFactor,\r\n                                        borderWidth: 1 * widthScaleFactor,\r\n                                        borderColor: '#C2E2F4',\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <View style={{ flex: 1, flexDirection: 'row', }}>\r\n\r\n                                            <View style={{ flex: 2, justifyContent: 'center', }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 'bold',\r\n                                                        fontSize: 10 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                        color: '#008AC6',\r\n                                                    }}>\r\n                                                    {`Description`}\r\n                                                </Text>\r\n\r\n                                            </View>\r\n\r\n                                            <View style={{ flex: 2, justifyContent: 'center', }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 'bold',\r\n                                                        fontSize: 10 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                        color: '#008AC6',\r\n                                                    }}>\r\n                                                    {`Notes`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                            <View style={{ flex: 1, justifyContent: 'center', }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 'bold',\r\n                                                        fontSize: 10 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                        color: '#008AC6',\r\n                                                    }}>\r\n                                                    {`Quantity`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                            <View style={{ flex: 2, justifyContent: 'center', }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 'bold',\r\n                                                        fontSize: 10 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                        color: '#008AC6',\r\n                                                    }}>\r\n                                                    {`Amount`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, flexDirection: 'row', }}>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 5,\r\n                                            }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        marginLeft: 2 * widthScaleFactor,\r\n                                                    }}>\r\n                                                    {`FOB`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                            }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                    }}>\r\n                                                    {`$${Math.round(Number(invoiceData.paymentDetails.fobPrice)).toLocaleString('en-US', { useGrouping: true })}`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, flexDirection: 'row', }}>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 5,\r\n                                            }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        marginLeft: 2 * widthScaleFactor,\r\n                                                    }}>\r\n                                                    {`Freight`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                            }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                    }}>\r\n                                                    {`$${Math.round(Number(invoiceData.paymentDetails.freightPrice)).toLocaleString('en-US', { useGrouping: true })}`}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, flexDirection: 'row', }}>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 5,\r\n                                                flexDirection: 'row',\r\n                                            }}>\r\n                                                {invoiceData.paymentDetails.inspectionIsChecked && (invoiceData.paymentDetails.incoterms == \"C&F\" || invoiceData.paymentDetails.incoterms == \"FOB\") && <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        marginLeft: 2 * widthScaleFactor,\r\n                                                    }}>\r\n                                                    {invoiceData.paymentDetails.inspectionIsChecked ? `Inspection [${invoiceData.paymentDetails.inspectionName}]` : ' '}\r\n                                                </Text>}\r\n\r\n                                                {invoiceData.paymentDetails.inspectionIsChecked && invoiceData.paymentDetails.incoterms == \"CIF\" &&\r\n                                                    <>\r\n                                                        <Text\r\n                                                            style={{\r\n                                                                fontWeight: 400,\r\n                                                                fontSize: 12 * widthScaleFactor,\r\n                                                                lineHeight: 14 * widthScaleFactor,\r\n                                                                marginBottom: 3 * heightScaleFactor,\r\n                                                                marginLeft: 2 * widthScaleFactor,\r\n                                                            }}>\r\n                                                            {invoiceData.paymentDetails.inspectionIsChecked ? `Inspection [${invoiceData.paymentDetails.inspectionName}]` : ' '}\r\n                                                        </Text>\r\n                                                        <Text\r\n                                                            style={{\r\n                                                                fontWeight: 400,\r\n                                                                fontSize: 12 * widthScaleFactor,\r\n                                                                lineHeight: 14 * widthScaleFactor,\r\n                                                                marginBottom: 3 * heightScaleFactor,\r\n                                                                marginLeft: 2 * widthScaleFactor,\r\n                                                            }}>\r\n                                                            {invoiceData.paymentDetails.incoterms == \"CIF\" ? ` + Insurance` : ' '}\r\n                                                        </Text>\r\n                                                    </>\r\n                                                }\r\n\r\n                                                {!invoiceData.paymentDetails.inspectionIsChecked && invoiceData.paymentDetails.incoterms == \"CIF\" &&\r\n                                                    <Text\r\n                                                        style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            marginLeft: 2 * widthScaleFactor,\r\n                                                        }}>\r\n                                                        {invoiceData.paymentDetails.incoterms == \"CIF\" ? `Insurance` : ' '}\r\n                                                    </Text>\r\n                                                }\r\n\r\n                                                {!invoiceData.paymentDetails.inspectionIsChecked && (invoiceData.paymentDetails.incoterms == \"C&F\" || invoiceData.paymentDetails.incoterms == \"FOB\") &&\r\n                                                    <Text\r\n                                                        style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                        }}>\r\n                                                        {' '}\r\n                                                    </Text>\r\n                                                }\r\n\r\n\r\n                                            </View>\r\n\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                            }}>\r\n\r\n                                                {invoiceData.paymentDetails.inspectionIsChecked && (invoiceData.paymentDetails.incoterms == \"C&F\" || invoiceData.paymentDetails.incoterms == \"FOB\") && <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                    }}>\r\n                                                    {invoiceData.paymentDetails.inspectionIsChecked ? `$${Number(invoiceData.paymentDetails.inspectionPrice).toLocaleString('en-US', { useGrouping: true }).split('.')[0]}` : ' '}\r\n                                                </Text>}\r\n\r\n                                                {invoiceData.paymentDetails.inspectionIsChecked && invoiceData.paymentDetails.incoterms == \"CIF\" &&\r\n                                                    <Text\r\n                                                        style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                        {invoiceData.paymentDetails.inspectionIsChecked ? `$${Number(invoiceData.paymentDetails.inspectionPrice).toLocaleString('en-US', { useGrouping: true }).split('.')[0]}` : ' '}\r\n                                                        <Text\r\n                                                            style={{\r\n                                                                fontWeight: 400,\r\n                                                                fontSize: 12 * widthScaleFactor,\r\n                                                                lineHeight: 14 * widthScaleFactor,\r\n                                                                marginBottom: 3 * heightScaleFactor,\r\n                                                            }}>\r\n                                                            {invoiceData.paymentDetails.incoterms === \"CIF\" ? ` + $${Number(invoiceData.paymentDetails.insurancePrice).toLocaleString('en-US', { useGrouping: true }).split('.')[0]}` : ' '}\r\n                                                        </Text>\r\n                                                    </Text>\r\n\r\n                                                }\r\n\r\n                                                {!invoiceData.paymentDetails.inspectionIsChecked && invoiceData.paymentDetails.incoterms == \"CIF\" &&\r\n                                                    <Text\r\n                                                        style={{\r\n                                                            fontWeight: 400,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            alignSelf: 'center',\r\n\r\n                                                        }}>\r\n                                                        {invoiceData.paymentDetails.incoterms == \"CIF\" ? `$${Number(invoiceData.paymentDetails.insurancePrice).toLocaleString('en-US', { useGrouping: true }).split('.')[0]}` : ' '}\r\n                                                    </Text>\r\n                                                }\r\n\r\n                                            </View>\r\n\r\n\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, flexDirection: 'row', }}>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 5,\r\n                                                flexDirection: 'row',\r\n                                            }}>\r\n                                                {invoiceData.paymentDetails.additionalName && (invoiceData.paymentDetails.additionalName).length > 0 && <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        marginLeft: 2 * widthScaleFactor,\r\n                                                    }}>\r\n                                                    {invoiceData.paymentDetails.additionalName && (invoiceData.paymentDetails.additionalName).length > 0 ? `${invoiceData.paymentDetails.additionalName.join(' + ')}` : ' '}\r\n                                                </Text>}\r\n\r\n\r\n                                            </View>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                            }}>\r\n                                                <Text\r\n                                                    style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                    }}>\r\n                                                    {invoiceData.paymentDetails.additionalPrice && invoiceData.paymentDetails.additionalPrice.length > 0\r\n                                                        ? invoiceData.paymentDetails.additionalPrice.map(price =>\r\n                                                            `$${parseFloat(price).toLocaleString('en-US', {\r\n                                                                style: 'currency',\r\n                                                                currency: 'USD',\r\n                                                                minimumFractionDigits: 0,\r\n                                                                maximumFractionDigits: 0\r\n                                                            }).slice(1)}`\r\n                                                        ).join(' + ')\r\n                                                        : ' '}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, flexDirection: 'row', }}>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                                flexDirection: 'row',\r\n\r\n                                            }}>\r\n                                                {invoiceData.carData && invoiceData.carData.carName ? (\r\n                                                    <Text style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                        marginLeft: 2 * widthScaleFactor,\r\n                                                    }}>\r\n                                                        {\"Used Vehicle\\n\"}\r\n                                                        <Text style={{\r\n                                                            fontWeight: 700,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            alignSelf: 'center',\r\n                                                        }}>\r\n                                                            {invoiceData.carData.carName}\r\n                                                        </Text>\r\n                                                    </Text>\r\n                                                ) : (\r\n                                                    <Text>{' '}</Text>\r\n                                                )}\r\n\r\n\r\n                                            </View>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                                flexDirection: 'row',\r\n                                                justifyContent: 'center',\r\n                                            }}>\r\n                                                {invoiceData.paymentDetails && invoiceData.paymentDetails.incoterms && invoiceData.discharge.port && invoiceData.discharge ? (\r\n                                                    <Text style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                    }}>\r\n                                                        {`${invoiceData.paymentDetails.incoterms} ${invoiceData.discharge.port}`}\r\n                                                    </Text>\r\n                                                ) : (\r\n                                                    <Text>{' '}</Text>\r\n                                                )}\r\n                                            </View>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 1,\r\n                                                flexDirection: 'row',\r\n                                                justifyContent: 'center',\r\n                                            }}>\r\n                                                {invoiceData.carData && invoiceData.carData.carName ? (\r\n                                                    <Text style={{\r\n                                                        fontWeight: 400,\r\n                                                        fontSize: 12 * widthScaleFactor,\r\n                                                        lineHeight: 14 * widthScaleFactor,\r\n                                                        marginBottom: 3 * heightScaleFactor,\r\n                                                        alignSelf: 'center',\r\n                                                    }}>\r\n                                                        {'1'}\r\n                                                    </Text>\r\n                                                ) : (\r\n                                                    <Text>{' '}</Text>\r\n                                                )}\r\n\r\n\r\n                                            </View>\r\n\r\n                                            <View style={{\r\n                                                borderTopWidth: 1 * widthScaleFactor,\r\n                                                borderColor: '#C2E2F4',\r\n                                                flex: 2,\r\n                                                justifyContent: 'center',\r\n                                                flexDirection: 'row',\r\n                                            }}>\r\n                                                {invoiceData.paymentDetails && invoiceData.paymentDetails.totalAmount ? (\r\n                                                    <>\r\n                                                        <Text style={{\r\n                                                            fontWeight: 700,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            color: '#008AC6',\r\n                                                            marginRight: 10 * widthScaleFactor,\r\n                                                            top: 7 * heightScaleFactor,\r\n                                                            left: 50 * widthScaleFactor,\r\n                                                            position: 'absolute',\r\n                                                        }}>{\"Total\"}\r\n                                                        </Text>\r\n                                                        <Text style={{\r\n                                                            fontWeight: 700,\r\n                                                            fontSize: 12 * widthScaleFactor,\r\n                                                            lineHeight: 14 * widthScaleFactor,\r\n                                                            marginBottom: 3 * heightScaleFactor,\r\n                                                            alignSelf: 'center',\r\n                                                            color: '#00720B',\r\n                                                        }}>\r\n                                                            {`$${invoiceData.paymentDetails.totalAmount}`}\r\n                                                        </Text>\r\n                                                    </>\r\n                                                ) : (\r\n                                                    <Text>{' '}</Text>\r\n                                                )}\r\n                                            </View>\r\n\r\n                                        </View>\r\n\r\n                                    </View>\r\n\r\n                                    <View style={{ position: 'absolute', left: 38 * widthScaleFactor, top: 835 * heightScaleFactor, width: 350 * widthScaleFactor, }}>\r\n                                        <Text style={{\r\n                                            fontWeight: 700,\r\n                                            fontSize: 10 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'Payment Information:'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 10 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'The customer is responsible for the bank charges incurred when the T/T (Telegraphic Transfer) is paid.'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 10 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                            marginBottom: 5 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'No warranty service is provided on used vehicles.'}\r\n                                        </Text>\r\n\r\n                                        <Text style={{\r\n                                            fontWeight: 700,\r\n                                            fontSize: 10 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'Conditions for order cancellation:'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 10 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'(1) Order Cancellation Penalty: If the order is canceled after payment, a penalty of USD 220 will apply.'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 10 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                            marginBottom: 5 * heightScaleFactor,\r\n\r\n                                        }}>\r\n                                            {'(2) Non-refund: Payment for vehicles purchased through pre-delivery inspection is non-refundable.'}\r\n                                        </Text>\r\n\r\n                                        <Text style={{\r\n                                            fontWeight: 700,\r\n                                            fontSize: 10 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'Intermediary Banking Information:'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 10 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'Bank Name: SUMITOMO MITSUI BANKING CORPORATION (NEW YORK BRANCH).'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 10 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n\r\n                                        }}>\r\n                                            {'Swift code: SMBCUS33'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 10 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                        }}>\r\n                                            {'Address: 277 Park Avenue'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 10 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n\r\n                                        }}>\r\n                                            {'City: New York, NY'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 10 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n\r\n                                        }}>\r\n                                            {'Postal Code: 10172'}\r\n                                        </Text>\r\n                                        <Text style={{\r\n                                            fontWeight: 400,\r\n                                            fontSize: 10 * widthScaleFactor,\r\n                                            lineHeight: 14 * heightScaleFactor,\r\n                                            marginBottom: 5 * heightScaleFactor,\r\n\r\n                                        }}>\r\n                                            {'Country: United States'}\r\n                                        </Text>\r\n                                    </View>\r\n\r\n                                    {selectedChatData.stepIndicator.value < 3 ? null :\r\n                                        <View style={{ position: 'absolute', right: 39 * widthScaleFactor, top: 835 * heightScaleFactor, width: 300 * widthScaleFactor, }}>\r\n                                            <View style={{\r\n                                                width: 300 * widthScaleFactor,\r\n                                                alignItems: 'center',\r\n                                                paddingBottom: 80 * heightScaleFactor, // Adjust this value to control space between image and line\r\n                                            }}>\r\n                                                <NativeImage\r\n                                                    source={require('../../assets/RMJ Invoice Signature with Hanko.png')}\r\n                                                    style={{\r\n                                                        width: 276 * widthScaleFactor,\r\n                                                        height: 81 * heightScaleFactor,\r\n                                                        resizeMode: 'contain',\r\n                                                        alignSelf: 'center',\r\n                                                        marginBottom: 0, // Minimize margin to keep the line close\r\n                                                    }}\r\n                                                />\r\n                                                <View style={{\r\n                                                    borderBottomWidth: 1 * heightScaleFactor,\r\n                                                    borderColor: 'black', // Change the color as needed\r\n                                                    width: '100%', // Line width as per your requirement\r\n                                                }} />\r\n                                                <Text italic style={{\r\n                                                    fontWeight: 700,\r\n                                                    fontSize: 16 * widthScaleFactor,\r\n                                                }}>\r\n                                                    {'Real Motor Japan'}\r\n                                                </Text>\r\n                                            </View>\r\n\r\n                                            <View style={{\r\n                                                width: 300 * widthScaleFactor,\r\n                                                alignItems: 'center',\r\n                                                paddingBottom: 5 * heightScaleFactor, // Adjust this value to control space between image and line\r\n                                            }}>\r\n\r\n                                                <View style={{\r\n                                                    borderBottomWidth: 1 * heightScaleFactor,\r\n                                                    borderColor: 'black', // Change the color as needed\r\n                                                    width: '100%', // Line width as per your requirement\r\n                                                }} />\r\n                                                <Text italic style={{\r\n                                                    fontWeight: 700,\r\n                                                    fontSize: 16 * widthScaleFactor,\r\n                                                }}>\r\n                                                    {'Your Signature'}\r\n                                                </Text>\r\n                                            </View>\r\n                                        </View>}\r\n\r\n\r\n                                </View>}\r\n\r\n\r\n                        </ScrollView>\r\n\r\n                    }\r\n\r\n                </Modal>\r\n            </>\r\n        }\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nconst ExtendDueDateButton = () => {\r\n    const [isHovered, setIsHovered] = useState(false);\r\n    const [isConfirmHovered, setIsConfirmHovered] = useState(false);\r\n    const [isCancelHovered, setIsCancelHovered] = useState(false);\r\n    const [selectedDueDate, setSelectedDueDate] = useState('');\r\n    const [isConfirmLoading, setIsConfirmLoading] = useState(false);\r\n\r\n    let invoiceSelectedDueDate = '';\r\n\r\n    const currentDate = useSelector((state) => state.currentDate);\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n\r\n\r\n    const hoverIn = () => setIsHovered(true);\r\n    const hoverOut = () => setIsHovered(false);\r\n\r\n\r\n    const confirmHoverIn = () => setIsConfirmHovered(true);\r\n    const confirmHoverOut = () => setIsConfirmHovered(false);\r\n\r\n    const cancelHoverIn = () => setIsCancelHovered(true);\r\n    const cancelHoverOut = () => setIsCancelHovered(false);\r\n\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const dispatch = useDispatch();\r\n\r\n    const handleModalOpen = () => {\r\n        setModalVisible(true);\r\n    }\r\n\r\n    const handleModalClose = () => {\r\n        setModalVisible(false);\r\n    }\r\n\r\n    const handleConfirm = async () => {\r\n\r\n        try {\r\n            await confirmExtendDueDate();\r\n            handleModalClose();\r\n        } catch (error) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const extendDueDateMessage = async () => {\r\n        const response = await axios.get('https://worldtimeapi.org/api/timezone/Asia/Tokyo');\r\n        const { datetime } = response.data;\r\n        const formattedTime = moment(datetime).format('YYYY/MM/DD [at] HH:mm:ss.SSS');\r\n        const year = moment(datetime).format('YYYY');\r\n        const month = moment(datetime).format('MM');\r\n        const monthWithDay = moment(datetime).format('MM/DD');\r\n        const date = moment(datetime).format('YYYY/MM/DD');\r\n        const day = moment(datetime).format('DD');\r\n        const time = moment(datetime).format('HH:mm');\r\n        const timeWithMinutesSeconds = moment(datetime).format('HH:mm:ss');\r\n\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n        try {\r\n\r\n            // Adding the message to the 'messages' subcollection\r\n            await addDoc(collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'), {\r\n                text: `The due date has been changed to ${selectedDueDate\r\n                    ? new Date(selectedDueDate).toLocaleDateString(undefined, {\r\n                        year: 'numeric',\r\n                        month: 'long',\r\n                        day: 'numeric',\r\n                    })\r\n                    : 'Invalid Date'\r\n                    }`,\r\n                sender: email,\r\n                timestamp: formattedTime, // Using the fetched timestamp\r\n                ip: ip, // IP Address\r\n                ipCountry: ipCountry // Country of the IP Address\r\n            });\r\n\r\n\r\n            // Updating the main chat document with the latest message details\r\n            await updateDoc(doc(projectExtensionFirestore, 'chats', selectedChatData.id), {\r\n                lastMessageSender: email,\r\n                lastMessage: `The due date has been changed to ${selectedDueDate\r\n                    ? new Date(selectedDueDate).toLocaleDateString(undefined, {\r\n                        year: 'numeric',\r\n                        month: 'long',\r\n                        day: 'numeric',\r\n                    })\r\n                    : 'Invalid Date'\r\n                    }`,\r\n                lastMessageDate: formattedTime,\r\n                customerRead: false,\r\n                read: true,\r\n                readBy: [email],\r\n            });\r\n\r\n        } catch (e) {\r\n            console.error('Error adding document: ', e);\r\n        }\r\n    }\r\n\r\n    const confirmExtendDueDate = async () => {\r\n        const docRef = doc(projectExtensionFirestore, \"IssuedInvoice\", selectedChatData.invoiceNumber);\r\n        setIsConfirmLoading(true);\r\n        try {\r\n            await updateDoc(docRef, {\r\n                'bankInformations.dueDate': selectedDueDate // Update the specific field\r\n            });\r\n            await extendDueDateMessage();\r\n            setIsConfirmLoading(false);\r\n            console.log(\"Document successfully updated\");\r\n        } catch (error) {\r\n            console.error(\"Error updating document: \", error);\r\n        }\r\n    };\r\n\r\n    const ModalCalendar = ({ selectedDate, setSelectedDate, currentDate }) => {\r\n\r\n        const [modalCalendarVisible, setModalCalendarVisible] = useState(false);\r\n\r\n        const handleModalCalendarOpen = () => {\r\n            setModalCalendarVisible(true);\r\n        };\r\n\r\n        const handleModalCalendarClose = () => {\r\n            setModalCalendarVisible(false);\r\n        };\r\n\r\n\r\n        return (\r\n\r\n            <>\r\n                <Pressable style={{ width: '60%', height: 25, margin: 2, padding: 1, borderRadius: 2, borderWidth: 1, borderColor: '#D9D9D9', outlineStyle: 'none', }}\r\n                    onPress={handleModalCalendarOpen}>\r\n                    <Text style={{ flex: 1, }} >{selectedDate}</Text>\r\n                </Pressable>\r\n\r\n                <Modal isOpen={modalCalendarVisible} onClose={handleModalCalendarClose} useRNModal>\r\n                    <Modal.CloseButton />\r\n                    <Modal.Content>\r\n                        <View style={{ height: '100%', flex: 1 }}>\r\n                            <Calendar\r\n                                onDayPress={useCallback(day => {\r\n                                    setSelectedDate(day.dateString);\r\n                                    invoiceSelectedDueDate = day.dateString;\r\n                                    globalInvoiceVariable.bankInformations.dueDate = day.dateString;\r\n                                    handleModalCalendarClose();\r\n                                }, [])}\r\n                                markedDates={{\r\n                                    [selectedDate]: { selected: true, disableTouchEvent: true, selectedDotColor: '#7b9cff' }\r\n                                }}\r\n                                renderArrow={(direction) => (\r\n                                    direction === 'left' ? <MaterialIcons name='arrow-back-ios' color='#7b9cff' /> : <MaterialIcons name='arrow-forward-ios' color='#7b9cff' />\r\n                                )}\r\n                                enableSwipeMonths={true}\r\n                                initialDate={selectedDate}\r\n                                // minDate={currentDate}\r\n                                showSixWeeks />\r\n\r\n                        </View>\r\n\r\n                    </Modal.Content>\r\n\r\n                </Modal>\r\n            </>\r\n\r\n        );\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (currentDate) {\r\n            const date = new Date(currentDate);\r\n\r\n            // Check the day of the week\r\n            const dayOfWeek = date.getDay();\r\n\r\n            if (dayOfWeek === 5) { // Friday\r\n                date.setDate(date.getDate() + 3); // Add 3 days to reach Monday\r\n            } else if (dayOfWeek === 6) { // Saturday\r\n                date.setDate(date.getDate() + 2); // Add 2 days to reach Monday\r\n            } else {\r\n                date.setDate(date.getDate() + 1); // Sunday to Thursday, add 1 day\r\n            }\r\n\r\n            // Format the date back to string\r\n            const adjustedDate = date.toISOString().split('T')[0];\r\n            setSelectedDueDate(adjustedDate);\r\n        }\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <Pressable\r\n                focusable={false}\r\n                variant='ghost'\r\n                onPress={handleModalOpen}\r\n                onHoverIn={hoverIn}\r\n                onHoverOut={hoverOut}\r\n                style={{\r\n                    marginTop: 3,\r\n                    paddingVertical: 3,\r\n                    paddingHorizontal: 5,\r\n                    flexDirection: 'row', // Align items in a row\r\n                    alignItems: 'center', // Center items vertically\r\n                    justifyContent: 'center',\r\n                    borderRadius: 5,\r\n                    backgroundColor: isHovered ? '#a8720a' : '#D38F0D',\r\n                }}\r\n            >\r\n                <FontAwesome name='calendar-plus-o' size={15} color={'white'} />\r\n                <Text color={'white'} style={{ fontWeight: 700, marginLeft: 5, }}>{`Extend Due Date`}</Text>\r\n            </Pressable>\r\n\r\n            <Modal\r\n                isOpen={modalVisible}\r\n                onClose={handleModalClose}\r\n                useRNModal\r\n            >\r\n                <Modal.Content>\r\n                    <Modal.Header >Extend Due Date</Modal.Header>\r\n                    <View style={{ flex: 1, flexDirection: 'row', margin: 2, }}>\r\n                        <Text style={{ width: '20%', fontWeight: 700, margin: 3, }}>Due Date:</Text>\r\n                        <ModalCalendar currentDate={currentDate} selectedDate={selectedDueDate} setSelectedDate={setSelectedDueDate} />\r\n                    </View>\r\n                    <Modal.Footer>\r\n                        <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'space-between', }}>\r\n                            <Pressable\r\n                                focusable={false}\r\n                                variant='ghost'\r\n                                onPress={handleModalClose}\r\n                                onHoverIn={cancelHoverIn}\r\n                                onHoverOut={cancelHoverOut}\r\n                                style={{\r\n                                    marginTop: 3,\r\n                                    paddingVertical: 3,\r\n                                    alignItems: 'center', // Center items vertically\r\n                                    justifyContent: 'center',\r\n                                    borderRadius: 5,\r\n                                    backgroundColor: isCancelHovered ? '#3F3F46' : '#52525B',\r\n                                    flex: 1,\r\n                                }}\r\n                            >\r\n                                <Text color={'white'} style={{ fontWeight: 700, }}>Cancel</Text>\r\n                            </Pressable>\r\n\r\n                            <View style={{ flex: 1 }} />\r\n\r\n                            <Pressable\r\n                                onPress={handleConfirm}\r\n                                focusable={false}\r\n                                variant='ghost'\r\n                                onHoverIn={confirmHoverIn}\r\n                                onHoverOut={confirmHoverOut}\r\n                                disabled={isConfirmLoading}\r\n                                style={{\r\n                                    marginTop: 3,\r\n                                    paddingVertical: 3,\r\n                                    alignItems: 'center', // Center items vertically\r\n                                    justifyContent: 'center',\r\n                                    borderRadius: 5,\r\n                                    backgroundColor: isConfirmHovered ? '#0f7534' : '#16A34A',\r\n                                    flex: 1,\r\n                                }}\r\n                            >\r\n                                {!isConfirmLoading ? <Text color={'white'} style={{ fontWeight: 700, }}>Confirm</Text> : <Spinner size={'sm'} color={'white'} />}\r\n                            </Pressable>\r\n                        </View>\r\n\r\n\r\n                    </Modal.Footer>\r\n                </Modal.Content>\r\n            </Modal>\r\n        </>\r\n\r\n\r\n\r\n    )\r\n}\r\n\r\nconst TransactionModal = () => {\r\n    const transactionModalVisible = useSelector((state) => state.transactionModalVisible);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const handleTransactionModalClose = () => {\r\n        dispatch(setTransactionModalVisible(false));\r\n    }\r\n    return (\r\n\r\n        <Modal\r\n            isOpen={transactionModalVisible}\r\n            onClose={() => {\r\n                handleTransactionModalClose()\r\n            }}\r\n            size={'lg'}\r\n            useRNModal\r\n        >\r\n            {transactionModalVisible &&\r\n                <Modal.Content>\r\n                    <Modal.CloseButton />\r\n\r\n                    <Modal.Header style={{ borderBottomWidth: 2, borderColor: '#0A9FDC', }} >{transactionModalTitle}</Modal.Header>\r\n\r\n                    {transactionModalContentValue == 1 || transactionModalContentValue == 2 &&\r\n                        <IssueProformaInvoiceModalContent />\r\n                    }\r\n\r\n                    {transactionModalContentValue == 3 &&\r\n                        <ConfirmPaymentModalContent />\r\n                    }\r\n                </Modal.Content>\r\n            }\r\n        </Modal>\r\n    )\r\n}\r\n\r\nconst TransactionButton = ({ title, buttonValue, transactionValue, colorHoverIn, colorHoverOut }) => {\r\n\r\n    const [isHovered, setIsHovered] = useState(false);\r\n\r\n\r\n    const hoverIn = () => setIsHovered(true);\r\n    const hoverOut = () => setIsHovered(false);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    const handleTransactionModalOpen = () => {\r\n        dispatch(setTransactionModalVisible(true));\r\n        transactionModalTitle = title;\r\n        transactionModalContentValue = transactionValue;\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Pressable\r\n                focusable={false}\r\n                variant='ghost'\r\n                onPress={handleTransactionModalOpen}\r\n                onHoverIn={hoverIn}\r\n                onHoverOut={hoverOut}\r\n                style={{\r\n                    marginTop: 3,\r\n                    paddingVertical: 3,\r\n                    paddingHorizontal: 5,\r\n                    flexDirection: 'row', // Align items in a row\r\n                    alignItems: 'center', // Center items vertically\r\n                    justifyContent: 'center',\r\n                    borderRadius: 5,\r\n                    backgroundColor: isHovered ? colorHoverIn : colorHoverOut,\r\n                }}\r\n            >\r\n                <FastImage\r\n                    source={{\r\n                        uri: require(`../../assets/chat_step/chat_step_${buttonValue}_on.png`),\r\n                        priority: FastImage.priority.normal\r\n                    }}\r\n                    style={{\r\n                        tintColor: 'rgba(128, 128, 128, 1)',\r\n                        width: 15,\r\n                        height: 15,\r\n                        alignSelf: 'center',\r\n                    }}\r\n                    resizeMode={FastImage.resizeMode.stretch}\r\n                />\r\n                <Text color={'white'} style={{ fontWeight: 700, marginLeft: 5, }}>{title}</Text>\r\n            </Pressable>\r\n\r\n\r\n\r\n\r\n\r\n        </>\r\n\r\n    );\r\n};\r\n\r\nconst ChatMessageHeader = () => {\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const invoiceData = useSelector((state) => state.invoiceData);\r\n\r\n\r\n    const totalPriceCondition = selectedChatData.fobPrice && selectedChatData.jpyToUsd && selectedChatData.m3 && selectedChatData.freightPrice;\r\n    const freightCalculation = ((selectedChatData.m3 ? selectedChatData.m3 :\r\n        (selectedChatData.carData && selectedChatData.carData.dimensionCubicMeters ?\r\n            selectedChatData.carData.dimensionCubicMeters : 0)) *\r\n        Number(selectedChatData.freightPrice));\r\n    const totalPriceCalculation = (selectedChatData.fobPrice ? selectedChatData.fobPrice :\r\n        (selectedChatData.carData && selectedChatData.carData.fobPrice ?\r\n            selectedChatData.carData.fobPrice : 0) *\r\n        (selectedChatData.jpyToUsd ? selectedChatData.jpyToUsd :\r\n            (selectedChatData.currency && selectedChatData.currency.jpyToUsd ?\r\n                selectedChatData.currency.jpyToUsd : 0))) + freightCalculation;\r\n\r\n    const fobPriceDollars = (selectedChatData.fobPrice ? selectedChatData.fobPrice :\r\n        (selectedChatData.carData && selectedChatData.carData.fobPrice ?\r\n            selectedChatData.carData.fobPrice : 0) *\r\n        (selectedChatData.jpyToUsd ? selectedChatData.jpyToUsd :\r\n            (selectedChatData.currency && selectedChatData.currency.jpyToUsd ?\r\n                selectedChatData.currency.jpyToUsd : 0))); const carName = selectedChatData.carData && selectedChatData.carData.carName ? selectedChatData.carData.carName : (selectedChatData.vehicle && selectedChatData.vehicle.carName ? selectedChatData.vehicle.carName : '');\r\n\r\n    return (\r\n        <View style={{\r\n            flex: 1,\r\n            alignSelf: 'flex-start',\r\n            flexDirection: 'row',\r\n        }}>\r\n\r\n            {globalImageUrl ? (\r\n                <FastImage\r\n                    source={{ uri: globalImageUrl, priority: FastImage.priority.normal }}\r\n                    style={{\r\n                        width: 60,\r\n                        height: 60,\r\n                        borderRadius: 30,\r\n                        alignSelf: 'center',\r\n                        margin: 10,\r\n                    }}\r\n                    resizeMode={FastImage.resizeMode.stretch}\r\n                />\r\n            ) : (\r\n                <View\r\n                    style={{\r\n                        width: 60,\r\n                        height: 60,\r\n                        borderRadius: 30,\r\n                        backgroundColor: '#e0e0e0',\r\n                        marginRight: 12,\r\n                    }}\r\n                />\r\n            )}\r\n\r\n            <View style={{ alignSelf: 'center', paddingRight: 10, }}>\r\n                <Text style={{ fontWeight: 700, color: '#0A78BE', }}>{carName}</Text>\r\n                <Text style={{ fontWeight: 700, }}>{`${globalCustomerFirstName} ${globalCustomerLastName}`}</Text>\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text selectable style={{ fontWeight: 700, fontSize: 12, paddingTop: 0, marginLeft: 1, color: '#8D7777', }}>\r\n                        {selectedChatData.carData && selectedChatData.carData.referenceNumber ? selectedChatData.carData.referenceNumber : 'Chassis N/A'}\r\n                    </Text>\r\n                </View>\r\n\r\n                {/* <Text style={{ fontWeight: 700, color: \"#16A34A\", }}>{`$${selectedChatData.offerPrice ? selectedChatData.offerPrice : 0}`}</Text> */}\r\n                <TimelineStatus data={statusData} />\r\n            </View>\r\n\r\n            {/* <HorizontalTimeline /> */}\r\n\r\n            <View style={{ alignSelf: 'center', justifyContent: 'center', paddingLeft: 10, }}>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n\r\n                    <Text selectable style={{ fontWeight: 700, fontSize: 12, paddingTop: 0, marginLeft: 2, }}>\r\n                        {selectedChatData.carData && selectedChatData.carData.chassisNumber ? selectedChatData.carData.chassisNumber : 'Chassis N/A'}\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text selectable style={{ fontWeight: 700, fontSize: 12, paddingTop: 0, marginLeft: 2, }}>\r\n                        {selectedChatData.carData && selectedChatData.carData.modelCode ? selectedChatData.carData.modelCode : 'Model Code N/A'}\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text selectable style={{ fontWeight: 700, fontSize: 12, paddingTop: 0, marginLeft: 2, }}>\r\n                        {selectedChatData.carData && selectedChatData.carData.mileage\r\n                            ? Number(selectedChatData.carData.mileage).toLocaleString('en-US')\r\n                            : 'Mileage N/A'} km\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text selectable style={{ fontWeight: 700, fontSize: 12, paddingTop: 0, marginLeft: 2, }}>\r\n                        {selectedChatData.carData && selectedChatData.carData.fuel ? selectedChatData.carData.fuel : 'Fuel N/A'}\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text selectable style={{ fontWeight: 700, fontSize: 12, paddingTop: 0, marginLeft: 2, }}>\r\n                        {selectedChatData.carData && selectedChatData.carData.transmission ? selectedChatData.carData.transmission : 'Transmission N/A'}\r\n                    </Text>\r\n                </View>\r\n\r\n            </View>\r\n\r\n            <View style={{ alignSelf: 'center', justifyContent: 'center', paddingLeft: 15, }}>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text style={{ fontSize: 18, }} bold>Total Price: </Text>\r\n                    <Text selectable style={{ fontSize: 18, color: \"#16A34A\", textAlign: 'right', }} bold>\r\n                        {`$${Number(totalPriceCalculation).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`}\r\n                    </Text>\r\n                    <Text selectable style={{ fontWeight: 400, fontSize: 12, color: \"#8D7777\", paddingTop: 4, marginLeft: 2, }}>\r\n                        ({`¥${Number(\r\n                            totalPriceCalculation /\r\n                            ((selectedChatData && selectedChatData.jpyToUsd) ? Number(selectedChatData.jpyToUsd) :\r\n                                (selectedChatData && selectedChatData.currency && selectedChatData.currency.jpyToUsd) ? selectedChatData.currency.jpyToUsd :\r\n                                    0)\r\n                        ).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`})\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text style={{ fontWeight: 700, }}>FOB Price: </Text>\r\n                    <Text selectable style={{ fontWeight: 700, color: \"#8D7777\", textAlign: 'right', }}>\r\n                        {`${Number(fobPriceDollars).toLocaleString('en-US', { style: 'currency', currency: 'USD', minimumFractionDigits: 0, maximumFractionDigits: 0 })}`}\r\n                    </Text>\r\n                    <Text selectable style={{ fontWeight: 400, fontSize: 12, color: \"#8D7777\", paddingTop: 2, marginLeft: 2, }}>\r\n                        ({`${(selectedChatData.fobPrice ? selectedChatData.fobPrice : Number(selectedChatData.carData && selectedChatData.carData.fobPrice ? selectedChatData.carData.fobPrice : 0)).toLocaleString('en-US', { style: 'currency', currency: 'JPY', minimumFractionDigits: 0, maximumFractionDigits: 0 })}`})\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text selectable style={{ fontWeight: 700, textAlign: 'right', }}>\r\n                        {`${selectedChatData.country && selectedChatData.port ? `${selectedChatData.country} / ${selectedChatData.port}` : 'N/A'}`}\r\n                    </Text>\r\n                </View>\r\n\r\n                <View style={{ flexDirection: 'row', }}>\r\n                    <Text style={{ fontWeight: 700, color: \"#16A34A\", }}>{selectedChatData.insurance ? 'CIF' : 'C&F'}\r\n                        {selectedChatData.inspection ? ` + Inpection[${selectedChatData.inspectionName}]` : ''}</Text>\r\n                </View>\r\n            </View>\r\n\r\n            <View style={{ paddingLeft: 20, }}>\r\n                {(selectedChatData.stepIndicator.value == 1 || selectedChatData.stepIndicator.value == 2) &&\r\n                    <>\r\n                        <TransactionButton\r\n                            key={'Issue Proforma Invoice'}\r\n                            title={selectedChatData.stepIndicator.value == 1 ? 'Issue Proforma Invoice' : selectedChatData.stepIndicator.value == 2 ? 'Update Invoice' : ''}\r\n                            colorHoverIn={'#0f7534'}\r\n                            colorHoverOut={'#16A34A'}\r\n                            transactionValue={2}\r\n                            buttonValue={2}\r\n                            iconActive={<FontAwesome5 name=\"file-invoice-dollar\" color=\"#1C2B33\" size={14} />} />\r\n\r\n                        <PreviewInvoice />\r\n\r\n                        <View style={{ flexDirection: 'row' }}>\r\n                            <Text style={{ fontWeight: 700, fontSize: 18 }}>Final Price: </Text>\r\n                            <Text selectable style={{ fontWeight: 700, fontSize: 18, color: \"#FF0000\", textAlign: 'right' }}>\r\n                                {`$${(invoiceData && invoiceData.paymentDetails && invoiceData.paymentDetails.totalAmount ? Number(invoiceData.paymentDetails.totalAmount.replace(/,/g, '')) : 0).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`}\r\n                            </Text>\r\n                            <Text selectable style={{ fontWeight: 400, fontSize: 12, color: \"#8D7777\", paddingTop: 4, marginLeft: 2 }}>\r\n                                ({`¥${(invoiceData && invoiceData.paymentDetails && invoiceData.paymentDetails.totalAmount && selectedChatData && selectedChatData.currency && selectedChatData.currency.jpyToUsd ? (Number(invoiceData.paymentDetails.totalAmount.replace(/,/g, '')) / Number(selectedChatData.currency.jpyToUsd)) : 0).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`})\r\n                            </Text>\r\n                        </View>\r\n                    </>\r\n                }\r\n\r\n                {(selectedChatData.stepIndicator.value == 3) &&\r\n\r\n                    <View style={{ flexDirection: 'row', }}>\r\n\r\n                        <View style={{ paddingLeft: 20, }}>\r\n\r\n                            <TransactionButton\r\n                                key={'Input Payment'}\r\n                                title={'Input Payment'}\r\n                                colorHoverOut={'#FF0000'}\r\n                                colorHoverIn={'#800101'}\r\n                                transactionValue={3}\r\n                                buttonValue={4}\r\n                                iconActive={<FontAwesome5 name=\"file-invoice-dollar\" color=\"#1C2B33\" size={14} />} />\r\n\r\n\r\n                            <PreviewInvoice />\r\n\r\n                            <View style={{ flexDirection: 'row' }}>\r\n                                <Text style={{ fontWeight: 700, fontSize: 18 }}>Final Price: </Text>\r\n                                <Text selectable style={{ fontWeight: 700, fontSize: 18, color: \"#FF0000\", textAlign: 'right' }}>\r\n                                    {`$${(invoiceData && invoiceData.paymentDetails && invoiceData.paymentDetails.totalAmount ? Number(invoiceData.paymentDetails.totalAmount.replace(/,/g, '')) : 0).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`}\r\n                                </Text>\r\n                                <Text selectable style={{ fontWeight: 400, fontSize: 12, color: \"#8D7777\", paddingTop: 4, marginLeft: 2 }}>\r\n                                    ({`¥${(invoiceData && invoiceData.paymentDetails && invoiceData.paymentDetails.totalAmount && selectedChatData && selectedChatData.currency && selectedChatData.currency.jpyToUsd ? (Number(invoiceData.paymentDetails.totalAmount.replace(/,/g, '')) / Number(selectedChatData.currency.jpyToUsd)) : 0).toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`})\r\n                                </Text>\r\n                            </View>\r\n                        </View>\r\n\r\n                        <View style={{ paddingLeft: 20, }}>\r\n\r\n                            <TransactionButton\r\n                                key={'Issue Proforma Invoice'}\r\n                                title={selectedChatData.stepIndicator.value == 1 ? 'Issue Proforma Invoice' : 'Update Invoice'}\r\n                                colorHoverIn={'#0f7534'}\r\n                                colorHoverOut={'#16A34A'}\r\n                                transactionValue={2}\r\n                                buttonValue={2}\r\n                                iconActive={<FontAwesome5 name=\"file-invoice-dollar\" color=\"#1C2B33\" size={14} />} />\r\n\r\n                            <ExtendDueDateButton />\r\n\r\n                            <View style={{ flexDirection: 'row', }}>\r\n                                {invoiceData && invoiceData.bankInformations && invoiceData.bankInformations.dueDate &&\r\n                                    <>\r\n                                        <Text style={{ fontWeight: 700, fontSize: 14, }}>Due Date: </Text>\r\n                                        <Text selectable style={{ fontWeight: 700, fontSize: 14, textAlign: 'right', color: '#FF0000', }}>\r\n                                            {\r\n                                                invoiceData.bankInformations.dueDate\r\n                                                    ? new Date(invoiceData.bankInformations.dueDate).toLocaleDateString(undefined, {\r\n                                                        year: 'numeric',\r\n                                                        month: 'long',\r\n                                                        day: 'numeric',\r\n                                                    })\r\n                                                    : 'Invalid Date'\r\n                                            }\r\n                                        </Text>\r\n                                    </>}\r\n                            </View>\r\n\r\n                        </View>\r\n                    </View>\r\n\r\n                }\r\n\r\n            </View>\r\n            <TransactionModal />\r\n        </View>\r\n    );\r\n};\r\n\r\n\r\nconst ReadByListModal = ({ userEmail, handleReadByListModalClose }) => {\r\n\r\n    const readByListModalVisible = useSelector((state) => state.readByListModalVisible)\r\n    const selectedChatData = useSelector((state) => state.selectedChatData)\r\n    // const [email, setEmail] = useState(projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '');\r\n\r\n    const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n\r\n    return (\r\n        <Modal\r\n            isOpen={readByListModalVisible}\r\n            onClose={() => handleReadByListModalClose()}\r\n            useRNModal\r\n            size={'xs'}\r\n        >\r\n            <Modal.Content borderRadius={0} style={{ padding: 15, backgroundColor: '#f8f8f8', shadowColor: '#000', shadowOffset: { width: 0, height: 2 }, shadowOpacity: 0.25, shadowRadius: 3.84, elevation: 5 }}>\r\n                <Modal.CloseButton />\r\n                <Modal.Header style={{ fontSize: 22, fontWeight: '600', textAlign: 'center', color: '#333', }}>Read List</Modal.Header>\r\n\r\n                <Modal.Body>\r\n                    {\r\n                        selectedChatData.readBy.length > 0 ? (\r\n                            <ScrollView style={{ maxHeight: 250, borderRadius: 10 }}>\r\n                                {/* Sort and map over the readBy list */}\r\n                                {\r\n                                    [...selectedChatData.readBy]\r\n                                        .sort((a, b) => a === email ? -1 : b === email ? 1 : 0)\r\n                                        .map(item => (\r\n                                            <View key={item} style={{ flexDirection: 'row', alignItems: 'center', marginVertical: 8, borderBottomWidth: 0.5, borderColor: '#ddd', paddingBottom: 8 }}>\r\n                                                <FontAwesome name=\"user-circle\" size={24} color=\"#4A90E2\" style={{ marginRight: 12 }} />\r\n                                                <Text style={{ flex: 1, color: '#555' }}>{email === item ? 'You' : item}</Text>\r\n                                            </View>\r\n                                        ))\r\n                                }\r\n                            </ScrollView>\r\n                        ) : (\r\n                            <Text style={{ textAlign: 'center', color: 'grey', fontSize: 16 }}>No one has read this message yet.</Text>\r\n                        )\r\n                    }\r\n                </Modal.Body>\r\n            </Modal.Content>\r\n        </Modal>\r\n\r\n    );\r\n}\r\n\r\nconst ChatMessageBox = ({ activeButtonValue, userEmail }) => {\r\n    const chatListData = useSelector((state) => state.chatListData);\r\n    const chatMessagesData = useSelector((state) => state.chatMessagesData);\r\n    const selectedChatData = useSelector((state) => state.selectedChatData);\r\n    const activeChatId = useSelector((state) => state.activeChatId);\r\n    const loadMoreMessagesLoading = useSelector((state) => state.loadMoreMessagesLoading);\r\n    const noMoreMessagesData = useSelector((state) => state.noMoreMessagesData);\r\n    const [isEyeHovered, setIsEyeHovered] = useState(false);\r\n    const flatListRef = useRef();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [read, setRead] = useState(selectedChatData.read);\r\n\r\n    const handleReadByListModalOpen = () => {\r\n        dispatch(setReadByListModalVisible(true));\r\n    };\r\n\r\n    const handleReadByListModalClose = () => {\r\n        dispatch(setReadByListModalVisible(false));\r\n    };\r\n\r\n    const animatedValue = useRef(new Animated.Value(0)).current;\r\n\r\n    useEffect(() => {\r\n        Animated.loop(\r\n            Animated.sequence([\r\n                Animated.timing(animatedValue, {\r\n                    toValue: 1,\r\n                    duration: 2000,\r\n                    useNativeDriver: false\r\n                }),\r\n                Animated.timing(animatedValue, {\r\n                    toValue: 0,\r\n                    duration: 2000,\r\n                    useNativeDriver: false\r\n                })\r\n            ])\r\n        ).start();\r\n    }, [animatedValue]);\r\n\r\n    const borderColor = animatedValue.interpolate({\r\n        inputRange: [0, 0.25, 0.5, 0.75, 1],\r\n        outputRange: [\r\n            'rgb(255, 100, 100)', // Red\r\n            'rgb(100, 255, 100)', // Green\r\n            'rgb(100, 100, 255)', // Blue\r\n            'rgb(255, 255, 100)', // Yellow\r\n            'rgb(255, 100, 255)'  // Magenta\r\n        ]\r\n    });\r\n\r\n    const renderFooter = () => {\r\n        return (\r\n            <>\r\n                {!noMoreMessagesData && (\r\n                    <View style={{ paddingVertical: 20, height: 60, }}>\r\n                        {loadMoreMessagesLoading && (\r\n                            <Spinner\r\n                                animating\r\n                                size=\"sm\"\r\n                                color={'#7B9CFF'}\r\n                            />\r\n                        )}\r\n                    </View>\r\n                )}\r\n            </>\r\n\r\n\r\n        );\r\n    };\r\n\r\n    const handleLoadMoreMessages = async () => {\r\n        dispatch(setLoadMoreMessagesLoading(true));\r\n        dispatch(setNoMoreMessagesData(false));\r\n\r\n        let nextQuery;\r\n        if (!globalMessagesLastVisible) {\r\n            // No more data to load or globalLastVisible is undefined\r\n            dispatch(setLoadMoreMessagesLoading(false));\r\n            dispatch(setNoMoreMessagesData(true));\r\n        }\r\n\r\n        else {\r\n            dispatch(setLoadMoreMessagesLoading(true));\r\n            dispatch(setNoMoreMessagesData(false));\r\n\r\n            nextQuery = query(\r\n                collection(projectExtensionFirestore, 'chats', selectedChatData.id, 'messages'),\r\n                orderBy('timestamp', 'desc'),\r\n                startAfter(globalMessagesLastVisible),\r\n                limit(10)\r\n            );\r\n            try {\r\n                const unsubscribe = onSnapshot(nextQuery, (snapshot) => {\r\n                    if (snapshot.empty) {\r\n                        // Handle the case when there's no more data\r\n                        console.log(\"No more data to load\");\r\n                        setTimeout(() => {\r\n                            dispatch(setLoadMoreMessagesLoading(false));\r\n                            dispatch(setNoMoreMessagesData(true));\r\n                            globalMessagesLastVisible = null;\r\n                        }, 0);  // Delay setting loading and no more data flags\r\n                        return;\r\n                    }\r\n\r\n                    const chatsData = [];\r\n                    snapshot.forEach((doc) => {\r\n                        chatsData.push({\r\n                            id: doc.id,\r\n                            ...doc.data(),\r\n                        });\r\n                    });\r\n\r\n\r\n                    // Append new data to the existing list\r\n\r\n                    setTimeout(() => {\r\n                        dispatch(setChatMessagesData([...chatMessagesData, ...chatsData]));\r\n                        dispatch(setLoadMoreMessagesLoading(false));\r\n                        globalMessagesLastVisible = snapshot.docs[snapshot.docs.length - 1];\r\n                    }, 0);\r\n\r\n                });\r\n\r\n                return unsubscribe;\r\n            } catch (error) {\r\n                console.error('Error fetching data from Firebase:', error);\r\n                setTimeout(() => dispatch(setLoadMoreMessagesLoading(false)), 0);  // Ensure loading is set to false even if there's an error\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    const updateChatToRead = async () => {\r\n        const email = projectControlAuth.currentUser ? projectControlAuth.currentUser.email : '';\r\n        const docRef = doc(projectExtensionFirestore, \"chats\", activeChatId);\r\n        if (email !== '') {\r\n            try {\r\n\r\n                await updateDoc(docRef, {\r\n                    read: true,\r\n                    readBy: arrayUnion(email),\r\n                });\r\n            } catch (error) {\r\n                console.error(\"Error updating document: \", error);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (activeChatId == selectedChatData.id) {\r\n            if (selectedChatData.stepIndicator.value !== activeButtonValue && activeButtonValue !== 0) {\r\n                dispatch(setChatMessagesData([]));\r\n                dispatch(setActiveChatId(''));\r\n            }\r\n            else {\r\n                updateChatToRead();\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }, [selectedChatData]);\r\n\r\n    const handlePreviewInvoiceModalOpen = () => {\r\n        dispatch(setPreviewInvoiceVisible(true));\r\n    };\r\n\r\n    const formatDate = (timestamp) => {\r\n        // Parse the original timestamp\r\n        // Expected format: \"2024/01/15 at 12:17:50\"\r\n        const parts = timestamp.match(/(\\d{4})\\/(\\d{2})\\/(\\d{2}) at (\\d{2}):(\\d{2}):(\\d{2})/);\r\n        if (!parts) return timestamp; // Return original if parsing fails\r\n\r\n        // Create a new Date object\r\n        const date = new Date(parts[1], parts[2] - 1, parts[3], parts[4], parts[5], parts[6]);\r\n\r\n        // Format month names\r\n        const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\r\n\r\n        // Convert to 12-hour format and determine AM or PM\r\n        const hours = date.getHours();\r\n        const isPM = hours >= 12;\r\n        const formattedHours = hours % 12 || 12; // Convert 0 to 12 for 12 AM\r\n        const amPm = isPM ? 'PM' : 'AM';\r\n\r\n        // Construct the new format with year at the beginning\r\n        return `${date.getFullYear().toString().substr(-2)} ${months[date.getMonth()]} ${date.getDate()}, ${formattedHours}:${date.getMinutes().toString().padStart(2, '0')} ${amPm}`;\r\n    };\r\n\r\n    const extractUsernameFromEmail = (email) => {\r\n        const [username] = email.split('@');\r\n        return username;\r\n    };\r\n\r\n\r\n    const breakUrl = (url, maxUrlLength = 30) => {\r\n        let brokenUrl = '';\r\n        while (url.length > 0) {\r\n            brokenUrl += url.substring(0, maxUrlLength);\r\n            if (url.length > maxUrlLength) {\r\n                brokenUrl += '\\u200B'; // Zero-width space\r\n            }\r\n            url = url.substring(maxUrlLength);\r\n        }\r\n        return brokenUrl;\r\n    };\r\n\r\n    const isUrl = (text) => {\r\n        const urlPattern = new RegExp('^(http://www\\\\.|https://www\\\\.|http://|https://)[a-z0-9]+([\\\\-\\\\.]{1}[a-z0-9]+)*\\\\.[a-z]{2,5}(:[0-9]{1,5})?(/.*)?$');\r\n        return urlPattern.test(text);\r\n    }\r\n\r\n    const renderItem = ({ item, index }) => {\r\n        const isGlobalCustomerSender = item.sender === globalCustomerId;\r\n        const isLastMessage = index === 0; // Since the list is inverted, the first item is actually the last message\r\n\r\n\r\n        return (\r\n            <View style={{\r\n                flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse',\r\n                width: '100%',\r\n                alignSelf: isGlobalCustomerSender ? 'flex-start' : 'flex-end',\r\n                marginVertical: 4,\r\n                maxWidth: '60%', // Max width for long messages\r\n                // borderWidth: 1,\r\n                // borderColor: 'red',\r\n            }}>\r\n                {item.messageType == 'IssuedInvoice' &&\r\n                    <View style={{ flexDirection: 'column', alignItems: 'flex-end', flex: 1 }}>\r\n                        <View style={{ flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse', flex: 1, }}>\r\n                            <Animated.View style={{\r\n                                padding: 7,\r\n                                flex: 1,\r\n                                borderRadius: 20,\r\n                                backgroundColor: isGlobalCustomerSender ? '#EFEFEF' : '#0A7CFF',\r\n                                marginRight: isGlobalCustomerSender ? 0 : 10,\r\n                                borderWidth: 3,\r\n                                borderColor: borderColor,\r\n                            }}>\r\n                                <Pressable onPress={handlePreviewInvoiceModalOpen}>\r\n                                    <Text underline selectable style={{\r\n                                        fontWeight: 400,\r\n                                        color: isGlobalCustomerSender ? 'black' : 'white',\r\n                                        fontSize: 16,\r\n                                    }}>\r\n                                        {item.text.trim()}\r\n                                    </Text>\r\n                                </Pressable>\r\n                            </Animated.View>\r\n                            {isLastMessage && selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Already read by the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail-open\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n\r\n                            {isLastMessage && !selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Message sent to the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n                            {isLastMessage && selectedChatData.readBy.length > 0 && (\r\n                                <View style={{\r\n                                    alignSelf: 'flex-end',\r\n                                    marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                    marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                    alignSelf: 'center',\r\n                                }}>\r\n                                    <Pressable\r\n                                        focusable={false}\r\n                                        onHoverIn={() => setIsEyeHovered(true)}\r\n                                        onHoverOut={() => setIsEyeHovered(false)}\r\n                                        onPress={handleReadByListModalOpen}\r\n\r\n                                    >\r\n                                        <Entypo name=\"eye\" size={20} color={isEyeHovered ? '#c5d1ce' : '#75A99C'} />\r\n                                    </Pressable>\r\n                                </View>\r\n                            )}\r\n                        </View>\r\n\r\n                        {/* Additional message properties like timestamp, sender email, IP, and country */}\r\n                        <Text style={{\r\n                            fontWeight: '300',\r\n                            color: 'gray',\r\n                            fontSize: 11,\r\n                            marginTop: 4,\r\n                            marginBottom: 4,\r\n                            marginLeft: isGlobalCustomerSender ? 15 : 0,\r\n                            marginRight: isGlobalCustomerSender ? 0 : 15,\r\n                        }}\r\n                            selectable>\r\n                            {!isGlobalCustomerSender ?\r\n                                (`${formatDate(item.timestamp)} - ${extractUsernameFromEmail(item.sender)}${item.ip ? ` - ${item.ip}` : ''}${item.ipCountry ? ` - ${item.ipCountry}` : ''}`)\r\n                                : (`${formatDate(item.timestamp)}${item.ip ? ` - ${item.ip}${item.ipCountry ? ` - ${item.ipCountry}` : ''}` : ''}`)\r\n                            }\r\n                        </Text>\r\n                    </View>\r\n                }\r\n\r\n\r\n                {item.messageType == 'InputPayment' &&\r\n                    <View style={{ flexDirection: 'column', alignItems: 'flex-end', flex: 1 }}>\r\n                        <View style={{ flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse', flex: 1, }}>\r\n                            <Animated.View style={{\r\n                                padding: 7,\r\n                                flex: 1,\r\n                                borderRadius: 20,\r\n                                backgroundColor: isGlobalCustomerSender ? '#EFEFEF' : '#0A7CFF',\r\n                                marginRight: isGlobalCustomerSender ? 0 : 10,\r\n                                borderWidth: 3,\r\n                                borderColor: borderColor,\r\n                            }}>\r\n                                <Text selectable style={{\r\n                                    fontWeight: 400,\r\n                                    color: isGlobalCustomerSender ? 'black' : 'white',\r\n                                    fontSize: 16,\r\n                                }}>\r\n                                    {item.text.trim()}\r\n                                </Text>\r\n                            </Animated.View>\r\n                            {isLastMessage && selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Already read by the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail-open\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n\r\n                            {isLastMessage && !selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Message sent to the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n                            {isLastMessage && selectedChatData.readBy.length > 0 && (\r\n                                <View style={{\r\n                                    alignSelf: 'flex-end',\r\n                                    marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                    marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                    alignSelf: 'center',\r\n                                }}>\r\n                                    <Pressable\r\n                                        focusable={false}\r\n                                        onHoverIn={() => setIsEyeHovered(true)}\r\n                                        onHoverOut={() => setIsEyeHovered(false)}\r\n                                        onPress={handleReadByListModalOpen}\r\n\r\n                                    >\r\n                                        <Entypo name=\"eye\" size={20} color={isEyeHovered ? '#c5d1ce' : '#75A99C'} />\r\n                                    </Pressable>\r\n                                </View>\r\n                            )}\r\n                        </View>\r\n\r\n                        {/* Additional message properties like timestamp, sender email, IP, and country */}\r\n                        <Text style={{\r\n                            fontWeight: '300',\r\n                            color: 'gray',\r\n                            fontSize: 11,\r\n                            marginTop: 4,\r\n                            marginBottom: 4,\r\n                            marginLeft: isGlobalCustomerSender ? 15 : 0,\r\n                            marginRight: isGlobalCustomerSender ? 0 : 15,\r\n                        }}\r\n                            selectable>\r\n                            {!isGlobalCustomerSender ?\r\n                                (`${formatDate(item.timestamp)} - ${extractUsernameFromEmail(item.sender)}${item.ip ? ` - ${item.ip}` : ''}${item.ipCountry ? ` - ${item.ipCountry}` : ''}`)\r\n                                : (`${formatDate(item.timestamp)}${item.ip ? ` - ${item.ip}${item.ipCountry ? ` - ${item.ipCountry}` : ''}` : ''}`)\r\n                            }\r\n                        </Text>\r\n                    </View>\r\n                }\r\n\r\n\r\n\r\n                {!item.messageType &&\r\n                    <View style={{ flexDirection: 'column', alignItems: isGlobalCustomerSender ? 'flex-start' : 'flex-end', flex: 1 }}>\r\n                        <View style={{ flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse', flex: 1, }}>\r\n                            <View style={{\r\n                                flexDirection: isGlobalCustomerSender ? 'row' : 'row-reverse',\r\n                                flex: 1,\r\n                            }}>\r\n                                <View style={{\r\n                                    padding: 10,\r\n                                    borderRadius: 20,\r\n                                    backgroundColor: isGlobalCustomerSender ? '#EFEFEF' : '#0A7CFF',\r\n                                    marginLeft: isGlobalCustomerSender ? 10 : 0,\r\n                                    marginRight: isGlobalCustomerSender ? 0 : 10,\r\n                                    flexShrink: 1,\r\n                                }}>\r\n                                    <Hyperlink linkDefault={true} linkStyle={{ textDecorationLine: 'underline' }}>\r\n                                        <Text\r\n                                            selectable\r\n                                            style={{\r\n                                                fontWeight: '400',\r\n                                                color: isGlobalCustomerSender ? 'black' : 'white',\r\n                                                fontSize: 16,\r\n                                                flexShrink: 1,\r\n                                            }}\r\n                                        >\r\n                                            {isUrl(item.text.trim()) ? breakUrl(item.text.trim()) : item.text.trim()}\r\n                                        </Text>\r\n                                    </Hyperlink>\r\n                                </View>\r\n                            </View>\r\n\r\n                            {/* Display read status text outside of the message bubble */}\r\n                            {isLastMessage && selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Already read by the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail-open\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n\r\n                            {isLastMessage && !selectedChatData.customerRead && !isGlobalCustomerSender && (\r\n                                <Tooltip label=\"Message sent to the customer\" openDelay={200} bgColor={'#FAFAFA'} _text={{ color: '#1C2B33', }}>\r\n                                    <View style={{\r\n                                        alignSelf: 'flex-end',\r\n                                        marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                        marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                        alignSelf: 'center',\r\n                                    }}>\r\n                                        <Ionicons name=\"mail\" size={20} color={'#1B81C2'} />\r\n                                    </View>\r\n                                </Tooltip>\r\n                            )}\r\n                            {isLastMessage && selectedChatData.readBy.length > 0 && (\r\n                                <View style={{\r\n                                    alignSelf: 'flex-end',\r\n                                    marginLeft: isGlobalCustomerSender ? 8 : 0,\r\n                                    marginRight: isGlobalCustomerSender ? 0 : 8,\r\n                                    alignSelf: 'center',\r\n                                }}>\r\n                                    <Pressable\r\n                                        focusable={false}\r\n                                        onHoverIn={() => setIsEyeHovered(true)}\r\n                                        onHoverOut={() => setIsEyeHovered(false)}\r\n                                        onPress={handleReadByListModalOpen}\r\n\r\n                                    >\r\n                                        <Entypo name=\"eye\" size={20} color={isEyeHovered ? '#c5d1ce' : '#75A99C'} />\r\n                                    </Pressable>\r\n                                </View>\r\n                            )}\r\n                        </View>\r\n\r\n                        {/* Additional message properties like timestamp and sender */}\r\n                        <Text style={{\r\n                            fontWeight: '300',\r\n                            color: 'gray',\r\n                            fontSize: 11,\r\n                            marginTop: 4,\r\n                            marginBottom: 4,\r\n                            marginLeft: isGlobalCustomerSender ? 15 : 0,\r\n                            marginRight: isGlobalCustomerSender ? 0 : 15,\r\n                        }}\r\n                            selectable>\r\n                            {!isGlobalCustomerSender ?\r\n                                (`${formatDate(item.timestamp)} - ${extractUsernameFromEmail(item.sender)}${item.ip ? ` - ${item.ip}` : ''}${item.ipCountry ? ` - ${item.ipCountry}` : ''}`)\r\n                                : (`${formatDate(item.timestamp)}${item.ip ? ` - ${item.ip}${item.ipCountry ? ` - ${item.ipCountry}` : ''}` : ''}`)\r\n                            }\r\n                        </Text>\r\n\r\n                    </View>}\r\n\r\n            </View>\r\n        );\r\n    };\r\n\r\n\r\n    return (\r\n        chatMessagesData.length > 0 ? (\r\n            <>\r\n                <FlatList\r\n                    ref={flatListRef}\r\n                    data={chatMessagesData}\r\n                    renderItem={renderItem}\r\n                    keyExtractor={item => item.id}\r\n                    initialNumToRender={10} // Adjust based on your average message size and performance\r\n                    maxToRenderPerBatch={10}\r\n                    windowSize={200}\r\n                    onEndReachedThreshold={0.05}\r\n                    ListFooterComponent={renderFooter}\r\n                    onEndReached={handleLoadMoreMessages}\r\n                    inverted\r\n                />\r\n                <ReadByListModal userEmail={userEmail} handleReadByListModalClose={handleReadByListModalClose} />\r\n            </>\r\n        ) : null\r\n    );\r\n};\r\n\r\n\r\n\r\nexport default function ChatMessages() {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const navigation = useNavigation();\r\n    const chatListData = useSelector((state) => state.chatListData);\r\n    const activeChatId = useSelector((state) => state.activeChatId);\r\n    const chatMessageBoxLoading = useSelector((state) => state.chatMessageBoxLoading);\r\n    const chatListSearchText = useSelector((state) => state.chatListSearchText);\r\n    const chatMessagesData = useSelector((state) => state.chatMessagesData);\r\n    const loginName = useSelector((state) => state.loginName);\r\n\r\n    const [name, setName] = useState(loginName);\r\n\r\n    const screenWidth = Dimensions.get('window').width;\r\n\r\n    const [activeButton, setActiveButton] = useState('All messages');\r\n    const [activeButtonValue, setActiveButtonValue] = useState(0);\r\n\r\n    const [activeFilterButton, setActiveFilterButton] = useState('');\r\n    const [unreadButtonValue, setUnreadButtonValue] = useState(false);\r\n    const [readButtonValue, setReadButtonValue] = useState(false);\r\n    const [lastVisible, setLastVisible] = useState(null);\r\n    const [unreadCount, setUnreadCount] = useState(0);\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchIpAndCountry = async () => {\r\n            try {\r\n                dispatch(setChatMessageBoxLoading(true));\r\n                // Fetch IP Address\r\n                const ipResponse = await axios.get('https://api.ipify.org?format=json');\r\n                const fetchedIp = ipResponse.data.ip;\r\n                ip = fetchedIp;\r\n\r\n                // Fetch IP Country\r\n                if (fetchedIp) {\r\n                    const countryResponse = await axios.get(`https://ipapi.co/${fetchedIp}/json/`);\r\n                    const fetchedIpCountry = countryResponse.data.country_name;\r\n                    ipCountry = fetchedIpCountry;\r\n                    dispatch(setChatMessageBoxLoading(false));\r\n                }\r\n\r\n            } catch (error) {\r\n                console.error('Error fetching IP data:', error);\r\n            }\r\n        };\r\n        const collectionRef = collection(projectExtensionFirestore, 'chats'); // Replace with your collection name\r\n        const unrepliedQuery = query(\r\n            collectionRef,\r\n            where('read', '==', false),\r\n            limit(10) // Limit the query to 10 documents\r\n        );\r\n\r\n        const unsubscribe = onSnapshot(unrepliedQuery, (querySnapshot) => {\r\n            setUnreadCount(querySnapshot.size); // Update state with the new count\r\n            fetchIpAndCountry();\r\n\r\n        }, (error) => {\r\n            console.error(\"Error fetching documents: \", error);\r\n        });\r\n\r\n\r\n\r\n        // Clean up function to unsubscribe from the listener when the component unmounts\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const handlePress = (buttonTitle, buttonTitleValue) => {\r\n        if (activeButton == buttonTitle) {\r\n        }\r\n        else {\r\n            setActiveButton(buttonTitle);\r\n            setActiveButtonValue(buttonTitleValue);\r\n            setActiveFilterButton('');\r\n            setUnreadButtonValue(false);\r\n\r\n            dispatch(setActiveChatId(''));\r\n\r\n            dispatch(setLoadMoreLoading(false));\r\n            dispatch(setNoMoreData(false));\r\n        }\r\n    };\r\n\r\n\r\n    const handleUnreadPress = (buttonTitle) => {\r\n\r\n        setActiveFilterButton(prevState => prevState === buttonTitle ? '' : buttonTitle);\r\n        setUnreadButtonValue(prevState => !prevState);\r\n        setReadButtonValue(false);\r\n    };\r\n\r\n    const handleReadPress = (buttonTitle) => {\r\n\r\n        setActiveFilterButton(prevState => prevState === buttonTitle ? '' : buttonTitle);\r\n        setReadButtonValue(prevState => !prevState);\r\n        setUnreadButtonValue(false);\r\n\r\n    };\r\n\r\n\r\n    //Main fetch\r\n    useEffect(() => {\r\n        let queryRef;\r\n\r\n        dispatch(setChatMessagesData([]));\r\n        dispatch(setChatMessageBoxLoading(false));\r\n        dispatch(setActiveChatId(''));\r\n\r\n        // Helper function to build the query\r\n        const buildQuery = () => {\r\n            const searchValue = chatListSearchText.toUpperCase();\r\n\r\n            if (unreadButtonValue) {\r\n                if (activeButtonValue === 0) {\r\n                    return searchValue === '' ?\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('read', '==', false), orderBy('lastMessageDate', 'desc'), limit(10)) :\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('read', '==', false), where('keywords', 'array-contains', searchValue), orderBy('lastMessageDate', 'desc'), limit(10));\r\n                } else {\r\n                    return searchValue === '' ?\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('read', '==', false), where('stepIndicator.value', '==', activeButtonValue), orderBy('lastMessageDate', 'desc'), limit(10)) :\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('stepIndicator.value', '==', activeButtonValue), where('read', '==', false), where('keywords', 'array-contains', searchValue), orderBy('lastMessageDate', 'desc'), limit(10));\r\n                }\r\n            }\r\n            else if (readButtonValue) {\r\n                if (activeButtonValue === 0) {\r\n                    return searchValue === '' ?\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('read', '==', true), orderBy('lastMessageDate', 'desc'), limit(10)) :\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('read', '==', true), where('keywords', 'array-contains', searchValue), orderBy('lastMessageDate', 'desc'), limit(10));\r\n                } else {\r\n                    return searchValue === '' ?\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('read', '==', true), where('stepIndicator.value', '==', activeButtonValue), orderBy('lastMessageDate', 'desc'), limit(10)) :\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('stepIndicator.value', '==', activeButtonValue), where('read', '==', true), where('keywords', 'array-contains', searchValue), orderBy('lastMessageDate', 'desc'), limit(10));\r\n                }\r\n            }\r\n            else {\r\n                if (activeButtonValue === 0) {\r\n                    return searchValue === '' ?\r\n                        query(collection(projectExtensionFirestore, 'chats'), orderBy('lastMessageDate', 'desc'), limit(10)) :\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('keywords', 'array-contains', searchValue), orderBy('lastMessageDate', 'desc'), limit(10));\r\n                } else {\r\n                    return searchValue === '' ?\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('stepIndicator.value', '==', activeButtonValue), orderBy('lastMessageDate', 'desc'), limit(10)) :\r\n                        query(collection(projectExtensionFirestore, 'chats'), where('stepIndicator.value', '==', activeButtonValue), where('keywords', 'array-contains', searchValue), orderBy('lastMessageDate', 'desc'), limit(10));\r\n                }\r\n            }\r\n        };\r\n\r\n        // Build and execute the query\r\n        queryRef = buildQuery();\r\n\r\n        const unsubscribe = onSnapshot(queryRef, (snapshot) => {\r\n            const chatsData = [];\r\n            snapshot.forEach((doc) => {\r\n                chatsData.push({\r\n                    id: doc.id,\r\n                    ...doc.data(),\r\n                });\r\n            });\r\n\r\n            dispatch(setChatListData(chatsData));\r\n            globalLastVisible = snapshot.docs[snapshot.docs.length - 1];\r\n            dispatch(setNoMoreData(false));\r\n            dispatch(setLoadMoreLoading(false));\r\n            dispatch(setLoadingModalVisible(false));\r\n\r\n        }, (error) => {\r\n            console.error('Error fetching data from Firebase:', error);\r\n        });\r\n\r\n        // Cleanup function\r\n        return () => {\r\n            if (unsubscribe) {\r\n                unsubscribe();\r\n            }\r\n        };\r\n    }, [unreadButtonValue, readButtonValue, activeButtonValue, chatListSearchText]);\r\n\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = projectControlAuth.onAuthStateChanged(user => {\r\n            if (!user) {\r\n                navigation.navigate(\"Login\")\r\n            }\r\n\r\n        })\r\n\r\n        return unsubscribe\r\n    }, [])\r\n\r\n\r\n    const handleDocumentChange = (snapshot) => {\r\n        if (snapshot.exists()) {\r\n            const data = snapshot.data();\r\n            const isActive = data.active;\r\n\r\n            if (!isActive) {\r\n                signOut(projectControlAuth)\r\n                    .then(() => {\r\n                        navigation.navigate('Login');\r\n                    })\r\n                    .catch((error) => {\r\n                        console.error('Error signing out:', error);\r\n                    });\r\n            }\r\n        } else {\r\n            signOut(projectControlAuth)\r\n                .then(() => {\r\n                    navigation.navigate('Login');\r\n                })\r\n                .catch((error) => {\r\n                    console.error('Error signing out:', error);\r\n                });\r\n        }\r\n    };\r\n\r\n    const subscribeToFieldChange = () => {\r\n        const userId = projectControlAuth.currentUser?.email;\r\n        if (userId) {\r\n            const userRef = doc(firestore, 'accounts', userId);\r\n            const unsubscribe = onSnapshot(userRef, handleDocumentChange);\r\n            return unsubscribe;\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = subscribeToFieldChange();\r\n\r\n        return () => {\r\n            unsubscribe();\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const currentUserEmail = getEmailOfCurrentUser();\r\n        if (currentUserEmail) {\r\n            getFieldValueByEmail(currentUserEmail);\r\n            setEmail(currentUserEmail)\r\n            const documentId = currentUserEmail;\r\n            listenForNameChange(documentId);\r\n        }\r\n    }, []);\r\n\r\n\r\n    const listenForNameChange = (documentId) => {\r\n\r\n\r\n        // To stop listening for updates, you can call unsubscribe()\r\n        // unsubscribe();\r\n    };\r\n\r\n    const getFieldValueByEmail = async (email) => {\r\n        try {\r\n            const accountDocRef = doc(firestore, 'accounts', email);\r\n            const accountDocSnapshot = await getDoc(accountDocRef);\r\n\r\n            if (accountDocSnapshot.exists()) {\r\n\r\n            } else {\r\n                // console.log('Document does not exist');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching field value:', error);\r\n        }\r\n    };\r\n\r\n\r\n    const handleSignOut = () => {\r\n        // Check if currentUser exists before signing out\r\n        if (projectControlAuth.currentUser) {\r\n            signOut(projectControlAuth).then(() => {\r\n                navigation.navigate('Login');\r\n                setEmail('');\r\n                setName('');\r\n            }).catch(() => {\r\n                // Handle any sign out errors here\r\n            });\r\n        } else {\r\n            // Handle the case where there is no user currently signed in\r\n            console.log('No user signed in to sign out');\r\n            // Optionally navigate to the login screen or show a message\r\n            navigation.navigate('Login');\r\n        }\r\n    }\r\n\r\n    // useEffect(() => {\r\n    //   const handleScreenResize = () => {\r\n    //     const screenWidth = Dimensions.get('window').width;\r\n    //     setIsMobileView(screenWidth < 1200);\r\n    //   };\r\n\r\n    //   // Initial check on component mount\r\n    //   handleScreenResize();\r\n\r\n    //   // Listen for screen dimension changes\r\n    //   Dimensions.addEventListener('change', handleScreenResize);\r\n\r\n    //   // Cleanup event listener on component unmount\r\n    //   return () => {\r\n    //     Dimensions.removeEventListener('change', handleScreenResize);\r\n    //   };\r\n    // }, []);\r\n\r\n    const showDrawerIcon = useBreakpointValue([true, true, true, false]);\r\n\r\n\r\n    const NamePopover = ({ name, handleSignOut }) => {\r\n        const [showNamePopover, setShowNamePopover] = useState(false);\r\n\r\n        const showPopover = () => {\r\n            setShowNamePopover(!showNamePopover);\r\n        };\r\n\r\n        return (\r\n            <Box w={[100, 200, 1020]} h={[10, 10, 10]} flex={1}>\r\n                <Flex direction=\"row-reverse\">\r\n                    <Popover\r\n                        isOpen={showNamePopover}\r\n                        trigger={(triggerProps) => (\r\n                            <Text color=\"white\" marginTop={[2, 2, 2]} fontSize={[17, 18, 20]} marginRight={[1, 3, 5]} {...triggerProps} onPress={showPopover}>\r\n                                <MaterialCommunityIcons name=\"account\" size={[20, 25, 30]} color=\"white\" /> {name} <Ionicons name=\"caret-down\" size={16} color=\"white\" />\r\n                            </Text>\r\n                        )}\r\n                        onClose={() => setShowNamePopover(!showNamePopover)}\r\n                        placement='bottom right'\r\n                        trapFocus={false}\r\n                    >\r\n                        <Popover.Content backgroundColor={'#7B9CFF'}>\r\n                            {/* <Popover.Arrow bgColor={'#7B9CFF'} /> */}\r\n                            <Popover.Body backgroundColor={'#7B9CFF'}>\r\n                                <Button _hover={{ bgColor: 'blueGray.500' }} onPress={handleSignOut} leftIcon={<MaterialCommunityIcons name=\"logout\" size={20} color=\"white\" />} bgColor={'transparent'}>\r\n                                    Logout\r\n                                </Button>\r\n                            </Popover.Body>\r\n                        </Popover.Content>\r\n                    </Popover>\r\n                </Flex>\r\n            </Box>\r\n        );\r\n    };\r\n\r\n    const styles = StyleSheet.create({\r\n        container: {\r\n            flex: 1,\r\n        },\r\n        image: {\r\n            flex: 1,\r\n        },\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <NativeBaseProvider>\r\n                <View style={{ backgroundColor: \"#A6BCFE\", height: '100%', width: '100%', flexDirection: 'column', }} bgColor=\"#A6BCFE\" h=\"100vh\" w=\"full\" flexDirection=\"column\">\r\n                    {/* Header */}\r\n                    <Box\r\n                        px=\"3\"\r\n                        bgColor='#7b9cff'\r\n                        height={54}\r\n                        position=\"sticky\"\r\n                        top={0}\r\n                        zIndex={999}\r\n                        flexDirection=\"row\"\r\n                        alignItems=\"center\"\r\n                        borderBottomWidth={2}\r\n                        borderBottomColor={'cyan.500'}\r\n                    >\r\n\r\n                        <Box w={screenWidth <= 960 ? 0 : 850} h={[10, 10, 10, 10]} marginBottom={1.5} marginTop={1.5}>\r\n\r\n                            <FastImage\r\n                                source={{\r\n                                    uri: 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20FULL.png?alt=media&token=79ed34a5-f960-4154-b4e8-897b0f3248d4',\r\n                                    priority: FastImage.priority.high,\r\n                                }}\r\n                                resizeMode={FastImage.resizeMode.stretch}\r\n                                style={styles.image} />\r\n                        </Box>\r\n\r\n                        {screenWidth <= 960 && <MobileViewDrawer\r\n                            selectedScreen={selectedScreen} />}\r\n\r\n\r\n                        <Box w={screenWidth <= 960 ? 120 : 0} h={screenWidth <= 960 ? 6 : 10} marginBottom={1.5} marginTop={1.5} marginLeft={[3, 3, 3, 10]}>\r\n\r\n                            <FastImage\r\n                                source={{\r\n                                    uri: 'https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20HALF.png?alt=media&token=7ce6aef2-0527-40c7-b1ce-e47079e144df',\r\n                                    priority: FastImage.priority.high,\r\n                                }}\r\n                                resizeMode={FastImage.resizeMode.stretch}\r\n                                style={styles.image} />\r\n                        </Box>\r\n                        <NamePopover name={name} handleSignOut={handleSignOut} />\r\n\r\n\r\n                    </Box>\r\n\r\n                    {/* Content */}\r\n                    <View style={{ flex: 1, flexDirection: 'row' }} flex={[1]} flexDirection=\"row\">\r\n                        {/* Sidebar */}\r\n                        <SideDrawer\r\n                            selectedScreen={selectedScreen} />\r\n\r\n                        {/* Main Content */}\r\n                        {/* <Box flex={1} flexGrow={1} minHeight={0}> */}\r\n                        {/* Main Content Content */}\r\n\r\n\r\n                        {/* <Box px=\"3\" bgColor=\"#A6BCFE\" height=\"full\" > */}\r\n                        <View style={{ flex: 1, backgroundColor: \"#A6BCFE\", height: '100%' }}>\r\n                            <View style={{ flex: 1, margin: 10, }}>\r\n\r\n                                <View style={{\r\n                                    borderBottomWidth: 1,\r\n                                    borderColor: '#DADDE1',\r\n                                    width: '100%',\r\n                                    backgroundColor: 'white',\r\n                                    height: 60,\r\n                                    borderTopLeftRadius: 5,\r\n                                    borderTopRightRadius: 5,\r\n                                }}>\r\n                                    {/* Chat Header */}\r\n                                    <View style={{\r\n                                        flex: 1,\r\n                                        flexDirection: 'row',\r\n                                    }}>\r\n                                        <View style={{\r\n                                            flex: 1,\r\n                                            flexDirection: 'row',\r\n                                        }}>\r\n                                            <ScrollView scrollEnabled horizontal>\r\n\r\n\r\n                                                <HeaderButton\r\n                                                    key={'All messages'}\r\n                                                    title={'All messages'}\r\n                                                    onPress={() => handlePress('All messages', 0)}\r\n                                                    isActive={activeButton === 'All messages'}\r\n                                                    headerCount={\r\n                                                        unreadCount > 0 ?\r\n                                                            (<View style={{\r\n                                                                backgroundColor: '#FF0000',\r\n                                                                borderRadius: 100, // Half of width and height\r\n                                                                width: 20,\r\n                                                                height: 20, // Same as width for a perfect circle\r\n                                                                marginLeft: 10,\r\n                                                                justifyContent: 'center', // Center children vertically\r\n                                                                alignItems: 'center', // Center children horizontally\r\n                                                            }}>\r\n                                                                <Text style={{\r\n                                                                    color: 'white',\r\n                                                                    fontWeight: 700,\r\n                                                                    fontSize: 14,\r\n                                                                }}>{unreadCount > 9 ? `9+` : unreadCount}</Text>\r\n                                                            </View>) : (<></>)}\r\n                                                />\r\n\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Negotiation'}\r\n                                                    title={'Negotiation'}\r\n                                                    onPress={() => handlePress('Negotiation', 1)}\r\n                                                    isActive={activeButton === 'Negotiation'}\r\n                                                />\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Issued Proforma Invoice'}\r\n                                                    title={'Issued Proforma Invoice'}\r\n                                                    onPress={() => handlePress('Issued Proforma Invoice', 2)}\r\n                                                    isActive={activeButton === 'Issued Proforma Invoice'}\r\n                                                />\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Order Item'}\r\n                                                    title={'Order Item'}\r\n                                                    onPress={() => handlePress('Order Item', 3)}\r\n                                                    isActive={activeButton === 'Order Item'}\r\n                                                />\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Payment Confirmed'}\r\n                                                    title={'Payment Confirmed'}\r\n                                                    onPress={() => handlePress('Payment Confirmed', 4)}\r\n                                                    isActive={activeButton === 'Payment Confirmed'}\r\n                                                />\r\n\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Shipping Schedule'}\r\n                                                    title={'Shipping Schedule'}\r\n                                                    onPress={() => handlePress('Shipping Schedule', 5)}\r\n                                                    isActive={activeButton === 'Shipping Schedule'}\r\n                                                />\r\n\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Documents'}\r\n                                                    title={'Documents'}\r\n                                                    onPress={() => handlePress('Documents', 6)}\r\n                                                    isActive={activeButton === 'Documents'}\r\n                                                />\r\n\r\n                                                <HeaderButton\r\n                                                    key={'Vehicle Received'}\r\n                                                    title={'Vehicle Received'}\r\n                                                    onPress={() => handlePress('Vehicle Received', 7)}\r\n                                                    isActive={activeButton === 'Vehicle Received'}\r\n                                                />\r\n                                            </ScrollView>\r\n                                        </View>\r\n\r\n                                    </View>\r\n                                </View>\r\n\r\n                                <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                    {/* Chat Body */}\r\n\r\n                                    <View>\r\n\r\n                                        <View style={{ flex: 1, maxWidth: 380, minWidth: 380, borderRightWidth: 1, borderColor: '#DADDE1', maxHeight: 100, minHeight: 100, backgroundColor: 'white', }}>\r\n                                            {/* Chat Search */}\r\n                                            <View style={{ flex: 1, paddingHorizontal: 10 }}>\r\n                                                <SearchChat lastVisible={lastVisible} setLastVisible={setLastVisible} unreadButtonValue={unreadButtonValue} activeButtonValue={activeButtonValue} />\r\n                                                {/* <Pressable\r\n                                                variant=\"ghost\"\r\n                                                style={{\r\n                                                    padding: 3,\r\n                                                    width: 100,\r\n                                                    flexDirection: 'row', // Align items in a row\r\n                                                    alignItems: 'center', // Center items vertically\r\n                                                    borderRadius: 5,\r\n                                                }}\r\n                                                backgroundColor='#ECEDF0'\r\n                                                _hover={{ backgroundColor: '#d7d7d9' }}\r\n                                            >\r\n                                                <MaterialIcons name=\"mark-email-unread\" color=\"#1C2B33\" size={20} />\r\n                                                <Text style={{ color: '#1C2B33', marginLeft: 5 }}>Unreplied</Text>\r\n                                            </Pressable> */}\r\n                                                <View style={{ flex: 1, flexDirection: 'row', }}>\r\n                                                    <FilterButton\r\n                                                        key={'Unread'}\r\n                                                        title={'Unread '}\r\n                                                        onPress={() => handleUnreadPress('Unread')}\r\n                                                        isActive={activeFilterButton === 'Unread'}\r\n                                                        iconActive={<MaterialIcons name=\"mark-email-unread\" color=\"#0A78BE\" size={16} />}\r\n                                                        iconNotActive={<MaterialIcons name=\"mark-email-unread\" color=\"#1C2B33\" size={16} />}\r\n                                                    />\r\n\r\n                                                    <FilterButton\r\n                                                        key={'Read'}\r\n                                                        title={'Read '}\r\n                                                        onPress={() => handleReadPress('Read')}\r\n                                                        isActive={activeFilterButton === 'Read'}\r\n                                                        iconActive={<MaterialIcons name=\"mark-email-read\" color=\"#0A78BE\" size={16} />}\r\n                                                        iconNotActive={<MaterialIcons name=\"mark-email-read\" color=\"#1C2B33\" size={16} />}\r\n                                                    />\r\n\r\n                                                </View>\r\n\r\n                                            </View>\r\n                                        </View>\r\n\r\n                                        <View style={{ flex: 1, maxWidth: 380, minWidth: 380, borderRightWidth: 1, borderColor: '#DADDE1', backgroundColor: 'white', borderBottomLeftRadius: 5, }}>\r\n                                            {/* Chat List */}\r\n                                            <ChatsList unreadButtonValue={unreadButtonValue} activeButtonValue={activeButtonValue} />\r\n                                        </View>\r\n\r\n                                    </View>\r\n\r\n                                    {chatMessageBoxLoading ? (\r\n                                        <View style={{ flex: 1, backgroundColor: 'white', justifyContent: 'center', alignItems: 'center', }}>\r\n                                            <Spinner\r\n                                                animating\r\n                                                size=\"lg\"\r\n                                                color={'#7B9CFF'}\r\n                                            />\r\n                                        </View>) : (\r\n                                        <View style={{ flex: 1, }}>\r\n\r\n                                            <View style={{ flex: 1, minHeight: 90, maxHeight: 90, borderBottomWidth: 1, borderColor: '#DADDE1', backgroundColor: 'white', }}>\r\n                                                {/* Chat Message Header */}\r\n                                                {chatMessagesData.length < 1 ? null : (<ChatMessageHeader />)}\r\n\r\n                                            </View>\r\n\r\n                                            <View style={{ flex: 1, borderColor: '#DADDE1', backgroundColor: 'white', borderBottomRightRadius: 5, }}>\r\n\r\n\r\n                                                <View style={{ flex: 1 }}>\r\n                                                    {/* Chat Message Box */}\r\n                                                    <ChatMessageBox activeButtonValue={activeButtonValue} userEmail={email} />\r\n                                                </View>\r\n\r\n                                                <View style={{ flex: 1, minHeight: 110, maxHeight: 110, justifyContent: 'center', alignItems: 'center' }}>\r\n                                                    {/* Chat Input Text */}\r\n                                                    {chatMessagesData.length < 1 ? null : (<ChatInputText />)}\r\n                                                </View>\r\n\r\n                                            </View>\r\n\r\n                                        </View>)}\r\n\r\n\r\n\r\n\r\n                                </View>\r\n\r\n\r\n                            </View>\r\n                            {/* <SuccessModal /> */}\r\n\r\n                        </View>\r\n\r\n\r\n                        {/* </Box> */}\r\n\r\n                        {/* </Box> */}\r\n                    </View>\r\n\r\n                </View>\r\n                <LoadingModal />\r\n            </NativeBaseProvider>\r\n\r\n\r\n        </>\r\n    );\r\n}"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Dimensions","get","width","globalLastVisible","globalMessagesLastVisible","selectedScreen","globalSearchText","globalCustomerId","globalImageUrl","globalCustomerFirstName","globalCustomerLastName","globalAdditionalPriceArray","globalMessageTemplateSelectedTitle","formattedIssuingDate","projectControlAuth","currentUser","email","formattedDueDate","transactionModalTitle","transactionModalContentValue","ip","ipCountry","globalInvoiceVariable","carData","cfs","placeOfDelivery","departureCountry","departurePort","salesPerson","discharge","port","country","consignee","sameAsBuyer","name","address","contactNumber","fax","notifyParty","sameAsConsignee","paymentDetails","incoterms","inspectionIsChecked","inspectionName","warrantyIsCheck","warrantyAmount","fobPrice","freightPrice","insurancePrice","inspectionPrice","totalAmount","additionalName","additionalPrice","bankInformations","dueDate","issuingDate","bankAccount","paymentTerms","salesAgreement","firestore","getFirestore","getEmailOfCurrentUser","user","TimelineStatus","_ref","data","selectedChatData","useSelector","state","findIndex","item","stepIndicator","value","_jsx","View","style","flexDirection","alignItems","paddingTop","children","index","_jsxs","Tooltip","label","title","bgColor","_text","color","height","borderRadius","backgroundColor","justifyContent","FastImage","source","uri","require","priority","normal","tintColor","alignSelf","resizeMode","stretch","length","statusData","LoadingModal","loadingModalVisible","position","top","bottom","left","right","flex","display","Spinner","size","Text","HeaderButton","_ref2","onPress","isActive","headerCount","activeStyle","screenWidth","_useState","useState","_useState2","_slicedToArray","isHovered","setIsHovered","Pressable","onHoverIn","onHoverOut","focusable","_objectSpread","padding","marginVertical","borderWidth","borderColor","marginLeft","fontSize","fontWeight","textAlign","FilterButton","_ref3","iconActive","iconNotActive","_useState3","_useState4","variant","margin","SkeletonChatListLayout","_Fragment","marginRight","Array","from","_","subIndex","marginBottom","DeleteMessageTemplateYesNo","_ref4","handleDeleteMessageTemplateClose","deleteMessageTemplateVisible","selectedTitle","_useState5","_useState6","isDeleteLoading","setIsDeleteLoading","handleClose","deleteMessageTemplate","_ref5","_asyncToGenerator","titleToDelete","documentRef","doc","projectControlFirestore","docSnap","getDoc","exists","updatedTemplates","messageTemplate","filter","template","updateDoc","console","log","error","_x","apply","arguments","Modal","isOpen","onClose","Content","CloseButton","Header","Body","Footer","Button","Group","space","colorScheme","isLoading","MessageTemplateItem","_ref6","setOriginalTitle","titleInputRef","addVisible","valueInputRef","setAddVisible","textInputRef","setPopoverOpen","_useState7","_useState8","isTemplateItemHovered","setIsTemplateItemHovered","_useState9","_useState10","isTemplateMenuHovered","setIsTemplateMenuHovered","_useState11","_useState12","isTemplateEditHovered","setIsTemplateEditHovered","_useState13","_useState14","isTemplateDeleteHovered","setIsTemplateDeleteHovered","_useState15","_useState16","templateMenuOpen","setTemplateMenuOpen","_useState17","_useState18","_useState19","_useState20","setIsAddVisible","dispatch","useDispatch","current","numberOfLines","ellipsizeMode","Popover","trigger","triggerProps","Entypo","onEditPress","setDeleteMessageTemplateVisible","MessageTemplate","_ref7","_useState21","_useState22","isTemplateHovered","setIsTemplateHovered","_useState23","_useState24","isAddHovered","setIsAddHovered","_useState25","_useState26","popoverOpen","_useState27","_useState28","searchText","setSearchText","_useState29","_useState30","filteredData","setFilteredData","_useState31","_useState32","_useState33","_useState34","isCancelHovered","setIsCancelHovered","_useState35","_useState36","isSaveHovered","setIsSaveHovered","_useState37","_useState38","originalTitle","_useState39","_useState40","saveLoading","setSaveLoading","_useState41","_useState42","templateData","setTemplateData","searchInputRef","useRef","saveMessageTemplate","_ref8","_titleInputRef$curren","_valueInputRef$curren","messageTemplates","newTitle","newValue","push","setDoc","merge","handleCancelPressed","clear","useEffect","docRef","unsubscribe","onSnapshot","arrayFieldData","sort","a","b","titleA","toUpperCase","titleB","initialFocusRef","finalFocusRef","placement","_ref10","opacity","pressed","Ionicons","w","Arrow","TextInput","ref","placeholder","placeholderTextColor","underlineColorAndroid","outlineStyle","multiline","marginHorizontal","animating","textDecorationLine","keyboardType","onChangeText","text","filtered","toLowerCase","includes","FlatList","borderBottomLeftRadius","renderItem","_ref9","keyExtractor","toString","ChatInputText","_useState43","_useState44","isSendHovered","setIsSendHovered","addMessage","_ref11","_textInputRef$current","datetime","axios","formattedTime","moment","format","inputValue","focus","addDoc","collection","projectExtensionFirestore","trim","sender","timestamp","lastMessageSender","lastMessage","lastMessageDate","customerRead","read","readBy","marginTop","high","cover","onKeyPress","nativeEvent","key","shiftKey","preventDefault","_ref12","MaterialIcons","ChatListItem","_ref13","messageUnread","formattedDate","_useState45","chatListData","_useState46","imageUrl","setImageUrl","_useState47","_useState48","_useState49","_useState50","textFirst","setTextFirst","_useState51","_useState52","textLast","setTextLast","_useState53","_useState54","isUnreadHovered","setIsUnreadHovered","_useState55","_useState56","_useState57","_useState58","carName","vehicle","updateChatToUnread","_ref14","setActiveChatId","setChatMessagesData","setSelectedChatData","folderName","stockID","carId","storage","getStorage","projectExtensionFirebase","imageRef","getDownloadURL","then","url","catch","docId","participants","customer","setSelectedCustomerData","loadingCondition","undefined","chatStepIconOn","chatStepIconOff","borderLeftColor","borderRightColor","borderLeftWidth","borderRightWidth","overflow","openDelay","ChatsList","_ref15","unreadButtonValue","activeButtonValue","activeChatId","chatListLastVisible","loadMoreLoading","noMoreData","updateChatToRead","_ref16","arrayUnion","setChatMessageBoxLoading","messagesRef","messagesQuery","query","orderBy","limit","unsubscribeDoc","docSnapshot","dataWithId","invoiceNumber","invoiceDocRef","unsubscribeInvoice","invoiceDocSnapshot","invoiceDataWithId","setInvoiceData","unsubscribeMessages","querySnapshot","messages","forEach","docs","fetchChatMessages","handleChatPress","_ref17","customerId","chatId","_x2","_x3","_ref18","currentDate","Date","formattedTimestamp","replace","givenDate","currentFormattedDate","getFullYear","getMonth","getDate","getTime","startOfWeek","setDate","getDay","setHours","toLocaleDateString","weekday","month","day","year","formatDate","initialNumToRender","maxToRenderPerBatch","windowSize","onEndReachedThreshold","removeClippedSubviews","ListFooterComponent","paddingVertical","borderTopWidth","onEndReached","nextQuery","setLoadMoreLoading","setTimeout","setNoMoreData","where","startAfter","snapshot","empty","chatsData","setChatListData","concat","_toConsumableArray","SearchChat","_ref19","lastVisible","setLastVisible","_useState59","_useState60","_useState61","_useState62","clearVisible","setClearVisible","searchData","_ref21","_ref20","_searchInputRef$curre","q","_objectDestructuringEmpty","searchValue","setLoadingModalVisible","_x4","setChatListSearchText","onSubmitEditing","_searchInputRef$curre2","_ref22","hovered","ModalAddBank","_useState63","_useState64","modalAddBankVisible","setModalAddBankVisible","_useState65","_useState66","setCancelHovered","_useState67","_useState68","setAddHovered","handleModalAddBankClose","bankNameRef","branchNameRef","swiftcodeRef","addressRef","accountHolderRef","accountNumberRef","addBankAccount","_ref23","_bankNameRef$current","_branchNameRef$curren","_swiftcodeRef$current","_addressRef$current","_accountHolderRef$cur","_accountNumberRef$cur","bankNameValue","elementToAdd","bankName","branchName","swiftCode","accountHolder","accountNumberValue","_defineProperty","FontAwesome","useRNModal","BankInformation","invoiceData","_useState69","_useState70","selectedDueDate","setSelectedDueDate","_useState71","_useState72","bankAccountsData","setBankAccountsData","_useState73","_useState74","selectedBank","setSelectedBank","paymentTermsRef","_paymentTermsRef$curr","date","dayOfWeek","adjustedDate","toISOString","split","bankAccounts","entries","_ref24","_ref25","subscribeToBankAccounts","_ref26","selectedDate","setSelectedDate","_useState75","_useState76","modalCalendarVisible","setModalCalendarVisible","handleModalCalendarOpen","handleModalCalendarClose","onFocus","Calendar","onDayPress","useCallback","dateString","markedDates","selected","disableTouchEvent","selectedDotColor","renderArrow","direction","enableSwipeMonths","initialDate","showSixWeeks","Select","selectedValue","onValueChange","selectedBankName","selectedBankObj","accessibilityLabel","_selectedItem","bg","endIcon","CheckIcon","paddingLeft","Item","defaultValue","PaymentDetails","fobPriceInput","freightInput","inspectionInput","insuranceInput","_useState77","_useState78","totalAmountCalculated","setTotalAmountCalculated","_useState79","insurance","_useState80","selectedIncoterms","setSelectedIncoterms","_useState81","inspection","_useState82","setInspectionIsChecked","_useState83","_useState84","_useState85","warranty","_useState86","warrantyIsChecked","additionalNameRef","warrantyPrice","additionalPriceRef","safelyParseNumber","number","Number","isNaN","calculateTotalAmount","_fobPriceInput$curren","_freightInput$current","_inspectionInput$curr","_insuranceInput$curre","freight","additionalPricesTotal","reduce","sum","total","Math","round","toLocaleString","_fobPriceInput$curren2","_freightInput$current2","_insuranceInput$curre2","join","freightCalculation","m3","dimensionCubicMeters","toFixed","fobPriceDollars","jpyToUsd","currency","parseFloat","usdToJpy","Checkbox","isChecked","onChange","filteredText","lines","filteredLines","line","filteredLine","parts","borderBottomWidth","SelectPortOfDischarge","_useState87","_useState88","countriesDischarge","_useState89","_useState90","portsData","setPortsData","_useState91","_useState92","nearestPorts","setNearestPorts","_useState93","_useState94","selectedPortCountry","setSelectedPortCountry","_useState95","_useState96","selectedCountry","_useState97","_useState98","selectedPort","setSelectedPort","fetchPorts","_ref28","sortedPorts","portName","sortOrder","fetchPortsData","_ref29","selectedCountryData","find","portData","SelectSalesPerson","_useState99","sales","_useState100","selectedSales","setSelectedSales","salesData","SelectPortOfDeparture","_useState101","_useState102","NotifyPartyInput","_ref30","accountData","setAccountData","_useState103","_useState104","setIsChecked","notifyPartyName","notifyPartyAddress","notifyPartyCity","notifyPartyCountry","notifyPartyContactNumber","notifyPartyFax","notifyPartyEmail","_notifyPartyName$curr","_notifyPartyAddress$c","_notifyPartyCity$curr","_notifyPartyCountry$c","_notifyPartyContactNu","_notifyPartyFax$curre","_notifyPartyEmail$cur","city","disabled","ConsigneeInput","_useState105","_useState106","_useState107","_useState108","consigneeName","consigneeAddress","consigneeCity","consigneeCountry","consigneeContactNumber","consigneeFax","consigneeEmail","fetchAccountData","_ref31","textStreet","textZip","textPhoneNumber","textEmail","InvoiceFeatures","_ref32","widthScaleFactor","heightScaleFactor","flexWrap","SafetySystemAnBrSy","SafetySystemDrAi","SafetySystemPaAi","SafetySystemSiAi","ComfortAiCoFr","ComfortAiCoRe","ComfortAMFMRa","ComfortAMFMSt","ComfortCDPl","ComfortCDCh","ComfortCrSpCo","ComfortDiSp","ComfortDVDPl","ComfortHDD","ComfortNaSyGPS","ComfortPoSt","ComfortPrAuSy","ComfortReKeSy","ComfortTiStWh","InteriorLeSe","InteriorPoDoLo","InteriorPoMi","InteriorPoSe","InteriorPoWi","InteriorReWiDe","InteriorReWiWi","InteriorThRoSe","InteriorTiGl","ExteriorAlWh","ExteriorPoSlDo","ExteriorSuRo","SellingPointsCuWh","SellingPointsFuLo","SellingPointsMaHiAv","SellingPointsBrNeTi","SellingPointsNoAcHi","SellingPointsNoSmPrOw","SellingPointsOnOwHi","SellingPointsPeRaTi","SellingPointsReBo","SellingPointsTuEn","SellingPointsUpAuSy","ConfirmPaymentModalContent","selectedCustomerData","_useState109","_useState110","historyModalVisible","setHistoryModalVisible","_useState111","_useState112","isConfirmLoading","setIsConfirmLoading","totalAmountString","totalAmountNumber","inputAmountRef","fullPaymentMessage","_ref33","messageType","overBalanceMessage","_ref34","amount","_x5","paymentMessage","_ref35","transactionDate","_x6","_x7","confirmPayment","_ref36","amountNeeded","totalValue","docRefCustomer","newPayments","newPaymentsAccount","vehicleRef","referenceNumber","vehicleName","inputAmount","numericInputAmount","formattedInputAmount","delay","ms","Promise","startsWith","overBalance","increment","payments","paymentsHistory","setTransactionModalVisible","payment","displayedAmount","fontWefight","Progress","shadow","max","_filledTrack","underline","selectable","_ref37","handleHistoryModalClose","sortedPayments","dateA","ScrollView","paddingHorizontal","maxHeight","borderBottomColor","paddingBottom","italic","IssueProformaInvoiceModalContent","_useState113","_useState114","isConfirmHovered","_useState115","_useState116","cfsInputRef","placeOfDeliveryInputRef","secretKey","invoiceMessage","_ref38","confirmInvoice","_ref39","yearSuffix","slice","collectionRef","getDocs","maxNumber","docName","parseInt","substring","docRefChatId","hashedData","hash","HmacSHA256","enc","Hex","stringify","createHmacSha256Hash","updateDocRef","cryptoNumber","keywords","_cfsInputRef$current","_placeOfDeliveryInput","PreviewInvoice","previewInvoiceVisible","_useState117","_useState118","isPreviewHovered","setIsPreviewHovered","invoiceRef","_useState119","_useState120","_useState121","_useState122","capturedImageUri","setCapturedImageUri","_useState123","_useState124","vehicleImageUri","setVehicleImageUri","_useState125","_useState126","featuresTrueCount","setFeaturesTrueCount","_useState127","_useState128","rerenderState","setRerenderState","countTrueValuesInCarData","count","field","values","captureImageAsync","_ref40","imageUri","captureRef","quality","result","trueCount","convertImageToBase64","_ref41","response","fetch","ok","status","blob","reject","reader","FileReader","onloadend","onerror","readAsDataURL","message","_x8","base64String","_ref42","_ref43","_x9","captureImage","_ref44","createPDF","_ref45","element","imageData","html2canvas","scale","toDataURL","pdf","jsPDF","orientation","unit","imgProps","getImageProperties","pdfHeightFit","addImage","imageCompression","imageQuality","save","handleCaptureAndCreatePDF","_ref46","issuingDateString","dueDateString","issuingDateObject","dueDateObject","options","setPreviewInvoiceVisible","MaterialCommunityIcons","Platform","OS","window","open","document","write","maxWidth","zIndex","NativeImage","QRCode","lineHeight","regYear","regMonth","mileage","chassisNumber","modelCode","fuel","transmission","steering","engineDisplacement","doors","driveType","exteriorColor","numberOfSeats","bodyType","useGrouping","price","minimumFractionDigits","maximumFractionDigits","ExtendDueDateButton","_useState129","_useState130","_useState131","_useState132","setIsConfirmHovered","_useState133","_useState134","_useState135","_useState136","_useState137","_useState138","_useState139","_useState140","modalVisible","setModalVisible","handleModalClose","handleConfirm","_ref47","confirmExtendDueDate","extendDueDateMessage","_ref48","_ref49","_ref50","_useState141","_useState142","TransactionModal","transactionModalVisible","TransactionButton","_ref52","buttonValue","transactionValue","colorHoverIn","colorHoverOut","_useState143","_useState144","ChatMessageHeader","totalPriceCalculation","paddingRight","bold","FontAwesome5","ReadByListModal","_ref53","userEmail","handleReadByListModalClose","readByListModalVisible","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","ChatMessageBox","_ref54","chatMessagesData","loadMoreMessagesLoading","noMoreMessagesData","_useState145","_useState146","isEyeHovered","setIsEyeHovered","flatListRef","_useState147","_useState148","handleReadByListModalOpen","setReadByListModalVisible","animatedValue","Animated","Value","loop","sequence","timing","toValue","duration","useNativeDriver","start","interpolate","inputRange","outputRange","handleLoadMoreMessages","_ref55","setLoadMoreMessagesLoading","setNoMoreMessagesData","_ref56","handlePreviewInvoiceModalOpen","match","hours","getHours","formattedHours","amPm","substr","getMinutes","padStart","extractUsernameFromEmail","_email$split","breakUrl","maxUrlLength","brokenUrl","_ref57","isGlobalCustomerSender","isLastMessage","flexShrink","Hyperlink","linkDefault","linkStyle","RegExp","test","inverted","ChatMessages","_useState149","_useState150","setEmail","navigation","useNavigation","chatMessageBoxLoading","chatListSearchText","loginName","_useState151","_useState152","setName","_useState153","_useState154","activeButton","setActiveButton","_useState155","_useState156","setActiveButtonValue","_useState157","_useState158","activeFilterButton","setActiveFilterButton","_useState159","_useState160","setUnreadButtonValue","_useState161","_useState162","readButtonValue","setReadButtonValue","_useState163","_useState164","_useState165","_useState166","unreadCount","setUnreadCount","fetchIpAndCountry","_ref58","fetchedIp","fetchedIpCountry","country_name","unrepliedQuery","handlePress","buttonTitle","buttonTitleValue","queryRef","buildQuery","onAuthStateChanged","navigate","handleDocumentChange","active","signOut","_projectControlAuth$c","userId","userRef","subscribeToFieldChange","currentUserEmail","getFieldValueByEmail","listenForNameChange","documentId","_ref59","accountDocRef","_x10","styles","useBreakpointValue","StyleSheet","create","container","image","NativeBaseProvider","h","Box","px","MobileViewDrawer","_ref60","handleSignOut","_useState167","_useState168","showNamePopover","setShowNamePopover","showPopover","Flex","trapFocus","_hover","leftIcon","SideDrawer","borderTopLeftRadius","borderTopRightRadius","scrollEnabled","horizontal","minWidth","minHeight","prevState","borderBottomRightRadius"],"sourceRoot":""}