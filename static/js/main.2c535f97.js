(()=>{var e={66516:(e,t,r)=>{var o={"./chat_step_1_off.png":29413,"./chat_step_2_off.png":35290,"./chat_step_3_off.png":38715,"./chat_step_4_off.png":65256,"./chat_step_5_off.png":58038,"./chat_step_6_off.png":49232,"./chat_step_7_off.png":88618};function n(e){var t=l(e);return r(t)}function l(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=l,e.exports=n,n.id=66516},82049:(e,t,r)=>{var o={"./chat_step_1_on.png":40027,"./chat_step_2_on.png":22558,"./chat_step_3_on.png":80851,"./chat_step_4_on.png":14740,"./chat_step_5_on.png":80904,"./chat_step_6_on.png":81151,"./chat_step_7_on.png":30443};function n(e){var t=l(e);return r(t)}function l(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=l,e.exports=n,n.id=82049},80327:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Q});var o=r(70885),n=r(89526),l=r(46337),a=r(89327),i=r(47673),s=r(84931),d=r(4942),c=r(15861),u=r(39233),f=r(74333),h=r(68873),g=r(16433),m=r(57951),x=r(58719),p=r(67849),y=r(93020),b=r(87754),j=r(80410),C=r(76602),w=r(3725),S=r(16650),D=r(15352),v=r(40013),M=r(71592),P=r(14574),A=r(33034),L=r(83277),F=r(67557),E=l.default.get("window");E.width,E.height,l.default.get("window").width;function B(){var e=(0,n.useState)(""),t=(0,o.default)(e,2),l=t[0],s=t[1],f=(0,n.useState)(""),P=(0,o.default)(f,2),E=(P[0],P[1],(0,n.useState)("")),B=(0,o.default)(E,2),I=B[0],k=B[1],R=n.useState(!1),T=(0,o.default)(R,2),z=T[0],W=T[1],N=n.useState(!1),O=(0,o.default)(N,2),H=O[0],V=O[1],Y=n.useState(!1),U=(0,o.default)(Y,2),_=(U[0],U[1],n.useState("")),G=(0,o.default)(_,2),q=G[0],J=G[1],K=n.useState(""),Z=(0,o.default)(K,2),$=Z[0],X=Z[1],Q=r(53478),ee=(0,n.useState)(!1),te=(0,o.default)(ee,2),re=te[0],oe=te[1],ne=(0,n.useState)(!1),le=(0,o.default)(ne,2),ae=le[0],ie=le[1],se=(0,L.useNavigate)();(0,n.useEffect)((function(){return a.auth.onAuthStateChanged((function(e){e&&se("/Checkpoint")}))}),[]);var de=function(){return(0,F.jsx)(h.default,{w:"100%",alignItems:"center",children:(0,F.jsx)(g.default,{visible:H,initial:{opacity:0,scale:0},animate:{opacity:1,scale:1,transition:{duration:200}},children:(0,F.jsx)(m.Alert,{maxW:"400",status:"error",children:(0,F.jsxs)(x.default,{space:1,flexShrink:1,w:"100%",children:[(0,F.jsx)(p.default,{flexShrink:1,space:2,alignItems:"center",justifyContent:"space-between",children:(0,F.jsxs)(p.default,{flexShrink:1,space:2,alignItems:"center",children:[(0,F.jsx)(m.Alert.Icon,{}),(0,F.jsx)(u.default,{fontSize:"md",fontWeight:"medium",_dark:{color:"coolGray.800"},children:q})]})}),(0,F.jsx)(h.default,{pl:"6",_dark:{_text:{color:"coolGray.600"}},children:$})]})})})})},ce=function(){var e=(0,c.default)((function*(e,t,r){var o=(0,a.doc)(a.db,"accounts",e);try{yield(0,a.updateDoc)(o,(0,d.default)({},t,r))}catch(n){console.error("Error updating field data:",n)}}));return function(t,r,o){return e.apply(this,arguments)}}(),ue=function(){oe(!0),ie(!0),setTimeout((function(){oe(!1),ie(!1)}),2e3),V(!1),(0,i.signInWithEmailAndPassword)(a.auth,l.trim(),I).then((function(e){ce(l,"pass",I),se("/Checkpoint")})).catch((function(e){var t=e.code,r=e.message;console.log(t,r),oe(!1),ie(!1),V(!0),"auth/user-not-found"===t?(console.log("Please use a valid email or check for misspellings.\u2639\ufe0f"),J("Email do not exist!"),X("Please use an existing email or check for misspellings.\u2639\ufe0f"),(0,F.jsx)(de,{})):"auth/wrong-password"===t?(console.log("Password is incorrect, please try again. \u2639\ufe0f"),J("Incorrect password"),X("Password is incorrect, please try again. \u2639\ufe0f"),(0,F.jsx)(de,{})):"auth/missing-password"===t?(console.log("Please enter a password. \u2639\ufe0f"),J("Password is empty!"),X("Please enter a password. \u2639\ufe0f"),(0,F.jsx)(de,{})):"auth/invalid-email"===t?(console.log("Email is invalid. \u2639\ufe0f"),J("Invalid email!"),X("Please enter a valid email. \u2639\ufe0f"),(0,F.jsx)(de,{})):"auth/user-disabled"===t&&(console.log("User is disabled. \u2639\ufe0f"),J("Account is disabled!"),X("Please contact the administrator. \u2639\ufe0f"),(0,F.jsx)(de,{}))}))};(0,n.useEffect)((function(){l.length>1&&V(!1)}),[l]);return(0,n.useEffect)((function(){I.length>1&&V(!1)}),[I]),(0,F.jsx)(y.NativeBaseProvider,{children:(0,F.jsxs)(h.default,{bgColor:"#7b9cff",w:"100%",h:"100%",children:[(0,F.jsx)(de,{}),(0,F.jsx)(b.default,{flex:1,children:(0,F.jsxs)(b.default,{px:"3",children:[(0,F.jsx)(h.default,{w:[300,400,550],h:[94,125,172],children:(0,F.jsx)(j.default,{source:{uri:Q},resizeMode:"stretch",alt:"Real Motor Japan Control Hub",style:{flex:1}})}),(0,F.jsxs)(C.default,{space:4,w:"100%",alignItems:"center",children:[(0,F.jsx)(w.Input,{w:{base:"90%",md:"90%",sm:"90%"},value:l,onSubmitEditing:ue,onChangeText:function(e){return s(e)},fontSize:"16",InputLeftElement:(0,F.jsx)(S.default,{as:(0,F.jsx)(A.default,{name:"person"}),size:5,ml:"2",color:"white"}),placeholder:"Email",placeholderTextColor:"white",color:"white"}),(0,F.jsx)(w.Input,{w:{base:"90%",md:"90%",sm:"90%"},value:I,onSubmitEditing:ue,onChangeText:function(e){return k(e)},fontSize:"16",type:z?"text":"password",InputRightElement:(0,F.jsx)(D.default,{onPress:function(){return W(!z)},children:(0,F.jsx)(S.default,{as:(0,F.jsx)(A.default,{name:z?"visibility":"visibility-off"}),size:5,mr:"2",color:"white"})}),placeholder:"Password",placeholderTextColor:"white",color:"white"}),(0,F.jsx)(p.default,{space:1,justifyContent:"center",children:(0,F.jsx)(v.Button,{_hover:{bgColor:"#537EFC"},_pressed:{bgColor:"#537EFC"},_focus:{bgColor:"#537EFC"},bgColor:"#7b9cff",size:"lg",borderWidth:"1",borderColor:"white",w:{base:130,md:130,sm:130},onPress:ue,disabled:ae,children:re?(0,F.jsx)(M.default,{color:"white",size:16}):(0,F.jsx)(u.default,{style:{color:"white"},children:"Login"})})})]})]})})]})})}f.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:20},input:{width:"100%",height:40,borderWidth:1,borderColor:"#ccc",borderRadius:10,paddingHorizontal:10,marginBottom:20},loginButton:{backgroundColor:"#007AFF",borderRadius:10,paddingVertical:12,paddingHorizontal:24},loginButtonText:{color:"#fff",fontWeight:"bold",fontSize:16,textAlign:"center"}}),r(87026),r(51909),r(95634),r(53059);var I=r(56450);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=r(53478),z=function(){return(0,F.jsx)(h.default,{bgColor:"#7b9cff",w:"100%",h:"100%",children:(0,F.jsx)(b.default,{flex:1,children:(0,F.jsxs)(b.default,{px:"3",children:[(0,F.jsx)(h.default,{w:[300,400,550],h:[94,125,172],children:(0,F.jsx)(j.default,{source:{uri:T},resizeMode:"stretch",alt:"Real Motor Japan Control Hub",style:{flex:1}})}),(0,F.jsx)(C.default,{space:4,w:"100%",alignItems:"center",children:(0,F.jsx)(p.default,{space:1,justifyContent:"center",children:(0,F.jsx)(M.default,{color:"white",size:"lg"})})})]})})})};f.default.create({loadingContainer:{flex:1,justifyContent:"center",alignItems:"center"}});const W=function(e){var t=(0,n.lazy)(e.importFunc);return(0,F.jsx)(n.Suspense,{fallback:(0,F.jsx)(z,{}),children:(0,F.jsx)(t,R({},e))})};r(56457),r(50290),r(43221),r(15908),r(44249),r(19941);var N=r(57702),O=((0,s.default)(),l.default.get("window"));O.width,O.height,l.default.get("window").height,(0,a.getFirestore)();function H(e){e.navigation;var t=(0,n.useState)(!1),l=(0,o.default)(t,2),a=(l[0],l[1]);(0,I.default)();return(0,n.useEffect)((function(){a(!1)}),[]),(0,F.jsx)(y.NativeBaseProvider,{children:(0,F.jsxs)(L.Routes,{children:[(0,F.jsx)(L.Route,{path:"*",element:(0,F.jsx)(L.Navigate,{to:"chat-messages",replace:!0})}),(0,F.jsx)(L.Route,{path:"chat-messages",element:(0,F.jsx)(N.default,{})}),(0,F.jsx)(L.Route,{path:"chat-messages/:chatId",element:(0,F.jsx)(N.default,{})}),(0,F.jsx)(L.Route,{path:"freight",element:(0,F.jsx)((function(){return(0,F.jsx)(W,{importFunc:function(){return Promise.resolve().then(r.bind(r,19941))}})}),{})}),(0,F.jsx)(L.Route,{path:"add-new-vehicle",element:(0,F.jsx)((function(){return(0,F.jsx)(W,{importFunc:function(){return Promise.resolve().then(r.bind(r,15908))}})}),{})}),(0,F.jsx)(L.Route,{path:"logs",element:(0,F.jsx)((function(){return(0,F.jsx)(W,{importFunc:function(){return Promise.resolve().then(r.bind(r,50290))}})}),{})}),(0,F.jsx)(L.Route,{path:"vehicle-list",element:(0,F.jsx)((function(){return(0,F.jsx)(W,{importFunc:function(){return Promise.resolve().then(r.bind(r,44249))}})}),{})}),(0,F.jsx)(L.Route,{path:"account-list",element:(0,F.jsx)((function(){return(0,F.jsx)(W,{importFunc:function(){return Promise.resolve().then(r.bind(r,43221))}})}),{})}),(0,F.jsx)(L.Route,{path:"add-c-hub-account",element:(0,F.jsx)((function(){return(0,F.jsx)(W,{importFunc:function(){return Promise.resolve().then(r.bind(r,56457))}})}),{})})]})})}function V(){var e=n.useState(!1),t=(0,o.default)(e,2),r=(t[0],t[1],(0,P.useNavigation)());return(0,F.jsx)(y.NativeBaseProvider,{children:(0,F.jsx)(h.default,{bgColor:"#7b9cff",w:"100%",h:"100%",children:(0,F.jsx)(b.default,{flex:1,children:(0,F.jsx)(b.default,{px:"3",children:(0,F.jsx)(v.Button,{onPress:function(){(0,i.signOut)(a.auth).then((function(){r.navigate("Login")})).catch((function(e){}))},children:"Signout"})})})})})}f.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:20},input:{width:"100%",height:40,borderWidth:1,borderColor:"#ccc",borderRadius:10,paddingHorizontal:10,marginBottom:20},loginButton:{backgroundColor:"#007AFF",borderRadius:10,paddingVertical:12,paddingHorizontal:24},loginButtonText:{color:"#fff",fontWeight:"bold",fontSize:16,textAlign:"center"}});var Y=r(30083),U=r(37050),_=l.default.get("window"),G=(_.width,_.height,l.default.get("window").width,(0,a.getFirestore)()),q=function(){var e=a.auth.currentUser;return e?e.email:(console.log("No user is currently authenticated"),null)};function J(){var e=(0,Y.useDispatch)(),t=((0,Y.useSelector)((function(e){return e.loginEmail})),(0,Y.useSelector)((function(e){return e.loginName})),(0,n.useState)("")),l=(0,o.default)(t,2),s=(l[0],l[1]),d=(0,n.useState)(""),u=(0,o.default)(d,2),f=(u[0],u[1]),g=n.useState(""),m=(0,o.default)(g,2),x=(m[0],m[1],(0,n.useState)("")),w=(0,o.default)(x,2),S=(w[0],w[1],n.useState(!1)),D=(0,o.default)(S,2),v=(D[0],D[1],n.useState(!1)),P=(0,o.default)(v,2),A=(P[0],P[1],n.useState("")),E=(0,o.default)(A,2),B=(E[0],E[1],n.useState("")),I=(0,o.default)(B,2),k=(I[0],I[1],r(53478)),R=(0,L.useNavigate)(),T=function(e){e.exists()?e.data().active||(0,i.signOut)(a.auth).then((function(){R("/Login")})).catch((function(e){console.error("Error signing out:",e)})):(0,i.signOut)(a.auth).then((function(){R("/Login")})).catch((function(e){console.error("Error signing out:",e)}))};(0,n.useEffect)((function(){var e=function(){var e,t=null==(e=a.auth.currentUser)?void 0:e.email;if(t){var r=(0,a.doc)(G,"accounts",t);return(0,a.onSnapshot)(r,T)}}();return function(){e()}}),[]);(0,n.useEffect)((function(){var e=q();e&&(z(e),s(e))}),[]);var z=function(){var t=(0,c.default)((function*(t){try{var r=(0,a.doc)(G,"accounts",t);(0,a.onSnapshot)(r,(function(t){if(t.exists()){var r=t.data(),o=r.type,n=r.name;if(!0===r.active){f(o),e((0,U.setLoginName)(n));Math.floor(101*Math.random()+100);R("/"+o)}else(0,i.signOut)(a.auth).then((function(){R("/Login")})).catch((function(e){console.error("Error signing out:",e)}))}}))}catch(o){console.error("Error fetching field value:",o)}}));return function(e){return t.apply(this,arguments)}}();return(0,F.jsx)(y.NativeBaseProvider,{children:(0,F.jsx)(h.default,{bgColor:"#7b9cff",w:"100%",h:"100%",children:(0,F.jsx)(b.default,{flex:1,children:(0,F.jsxs)(b.default,{px:"3",children:[(0,F.jsx)(h.default,{w:[300,400,550],h:[94,125,172],children:(0,F.jsx)(j.default,{source:{uri:k},resizeMode:"stretch",alt:"Real Motor Japan Control Hub",style:{flex:1}})}),(0,F.jsx)(C.default,{space:4,w:"100%",alignItems:"center",children:(0,F.jsx)(p.default,{space:1,justifyContent:"center",children:(0,F.jsx)(M.default,{color:"white",size:"lg"})})})]})})})})}f.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:20},input:{width:"100%",height:40,borderWidth:1,borderColor:"#ccc",borderRadius:10,paddingHorizontal:10,marginBottom:20},loginButton:{backgroundColor:"#007AFF",borderRadius:10,paddingVertical:12,paddingHorizontal:24},loginButtonText:{color:"#fff",fontWeight:"bold",fontSize:16,textAlign:"center"}});var K=l.default.get("window");K.width,K.height,l.default.get("window").width;f.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:20},input:{width:"100%",height:40,borderWidth:1,borderColor:"#ccc",borderRadius:10,paddingHorizontal:10,marginBottom:20},loginButton:{backgroundColor:"#007AFF",borderRadius:10,paddingVertical:12,paddingHorizontal:24},loginButtonText:{color:"#fff",fontWeight:"bold",fontSize:16,textAlign:"center"}});var Z=l.default.get("window");Z.width,Z.height,l.default.get("window").width;f.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",paddingHorizontal:20},input:{width:"100%",height:40,borderWidth:1,borderColor:"#ccc",borderRadius:10,paddingHorizontal:10,marginBottom:20},loginButton:{backgroundColor:"#007AFF",borderRadius:10,paddingVertical:12,paddingHorizontal:24},loginButtonText:{color:"#fff",fontWeight:"bold",fontSize:16,textAlign:"center"}});var $=r(56397),X=((0,s.default)(),l.default.get("window"));X.width,X.height,l.default.get("window").width;function Q(){var e=(0,n.useState)(!0),t=(0,o.default)(e,2),r=t[0],l=t[1],i=(0,n.useState)(null),s=(0,o.default)(i,2),d=(s[0],s[1]);function c(e){d(e),r&&l(!1)}if((0,n.useEffect)((function(){return a.auth.onAuthStateChanged(c)}),[]),r)return null;return(0,F.jsx)(Y.Provider,{store:U.default,children:(0,F.jsx)($.HashRouter,{children:(0,F.jsxs)(L.Routes,{children:[(0,F.jsx)(L.Route,{path:"/",element:(0,F.jsx)(L.Navigate,{to:"/login",replace:!0})}),(0,F.jsx)(L.Route,{path:"/Login",element:(0,F.jsx)(B,{})}),(0,F.jsx)(L.Route,{path:"/Login/*",element:(0,F.jsx)(B,{})}),(0,F.jsx)(L.Route,{path:"/Checkpoint",element:(0,F.jsx)(J,{})}),(0,F.jsx)(L.Route,{path:"/DevAdmin/*",element:(0,F.jsx)(H,{})}),(0,F.jsx)(L.Route,{path:"/Admin",element:(0,F.jsx)(V,{})})]})})})}},43221:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>K});var o=r(15861),n=r(4942),l=r(70885),a=r(89526),i=r(74333),s=r(46337),d=r(68873),c=r(67221),u=r(74905),f=r(32535),h=r(40013),g=r(93020),m=r(3725),x=r(93468),p=r(16433),y=r(67849),b=r(16650),j=r(24770),C=r(58719),w=r(15352),S=r(71592),D=r(86561),v=r(55202),M=r(65738),P=r(33034),A=r(51223),L=(r(87026),r(47673)),F=(r(51909),r(89327)),E=(r(14574),r(95634),r(53059)),B=r(38615),I=r(36105),k=r.n(I),R=r(26555),T=r(30083),z=r(37050),W=(r(96500),r(95212)),N=r(31402),O=r(48859),H=r(83277),V=r(67557);function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _="ACCOUNT LIST",G=s.default.get("window"),q=(G.width,G.height,s.default.get("window").height,(0,F.getFirestore)()),J=function(){var e=F.auth.currentUser;return e?e.email:(console.log("No user is currently authenticated"),null)};function K(){var e,t=(0,T.useDispatch)(),n=(0,T.useSelector)((function(e){return e.loginName})),I=(0,a.useState)(""),Y=(0,l.default)(I,2),G=(Y[0],Y[1]),K=(0,a.useState)(""),Z=(0,l.default)(K,2),$=(Z[0],Z[1]),X=(0,a.useState)(""),Q=(0,l.default)(X,2),ee=(Q[0],Q[1],(0,a.useState)("")),te=(0,l.default)(ee,2),re=(te[0],te[1]),oe=r(51745),ne=r(85228),le=(s.default.get("window").width,(0,a.useState)(!1)),ae=(0,l.default)(le,2),ie=(ae[0],ae[1],(0,a.useState)(!1)),se=(0,l.default)(ie,2),de=(se[0],se[1],(0,a.useState)("")),ce=(0,l.default)(de,2),ue=ce[0],fe=ce[1],he=a.useState(!1),ge=(0,l.default)(he,2),me=ge[0],xe=ge[1],pe=a.useState(!1),ye=(0,l.default)(pe,2),be=(ye[0],ye[1],(0,a.useState)(!1)),je=(0,l.default)(be,2),Ce=je[0],we=je[1],Se=(0,a.useState)(!1),De=(0,l.default)(Se,2),ve=(De[0],De[1]),Me=(0,H.useNavigate)(),Pe=(0,a.useState)(!1),Ae=(0,l.default)(Pe,2),Le=Ae[0],Fe=(Ae[1],(0,a.useState)(!1)),Ee=(0,l.default)(Fe,2),Be=Ee[0],Ie=(Ee[1],(0,a.useState)(!0)),ke=(0,l.default)(Ie,2),Re=ke[0],Te=(ke[1],(0,a.useState)(!1)),ze=(0,l.default)(Te,2),We=(ze[0],ze[1],(0,a.useState)(!1)),Ne=(0,l.default)(We,2),Oe=(Ne[0],Ne[1],(0,a.useState)(!1)),He=(0,l.default)(Oe,2),Ve=(He[0],He[1]),Ye=(0,a.useState)(!1),Ue=(0,l.default)(Ye,2),_e=(Ue[0],Ue[1]),Ge=(0,a.useState)(!1),qe=(0,l.default)(Ge,2),Je=(qe[0],qe[1]),Ke=(0,a.useState)(!1),Ze=(0,l.default)(Ke,2),$e=(Ze[0],Ze[1]),Xe=(0,a.useState)(!1),Qe=(0,l.default)(Xe,2),et=(Qe[0],Qe[1]),tt=(0,a.useState)(""),rt=(0,l.default)(tt,2),ot=rt[0],nt=rt[1],lt=(0,a.useState)(!1),at=(0,l.default)(lt,2),it=(at[0],at[1],(0,a.useState)("")),st=(0,l.default)(it,2),dt=st[0],ct=st[1],ut=(0,a.useState)(""),ft=(0,l.default)(ut,2),ht=ft[0],gt=ft[1],mt=(0,a.useState)(""),xt=(0,l.default)(mt,2),pt=(xt[0],xt[1]),yt=(0,a.useState)(""),bt=(0,l.default)(yt,2),jt=bt[0],Ct=bt[1],wt=(0,a.useState)(""),St=(0,l.default)(wt,2),Dt=(St[0],St[1]),vt=a.useState(!1),Mt=(0,l.default)(vt,2),Pt=Mt[0],At=Mt[1],Lt=a.useState(!1),Ft=(0,l.default)(Lt,2),Et=Ft[0],Bt=Ft[1],It=a.useState(!1),kt=(0,l.default)(It,2),Rt=kt[0],Tt=kt[1],zt=a.useState(!1),Wt=(0,l.default)(zt,2),Nt=Wt[0],Ot=Wt[1],Ht=a.useState(!1),Vt=(0,l.default)(Ht,2),Yt=(Vt[0],Vt[1],(0,a.useRef)([]),(0,a.useState)(null)),Ut=(0,l.default)(Yt,2),_t=Ut[0],Gt=Ut[1],qt=(0,a.useState)(!1),Jt=(0,l.default)(qt,2),Kt=Jt[0],Zt=Jt[1],$t=(0,a.useState)(!0),Xt=(0,l.default)($t,2),Qt=(Xt[0],Xt[1],(0,a.useState)("")),er=(0,l.default)(Qt,2),tr=(er[0],er[1]),rr=(0,a.useState)(""),or=(0,l.default)(rr,2),nr=or[0],lr=or[1],ar=(0,a.useState)(""),ir=(0,l.default)(ar,2),sr=ir[0],dr=ir[1],cr=(0,a.useState)(""),ur=(0,l.default)(cr,2),fr=ur[0],hr=ur[1],gr=(0,a.useState)(""),mr=(0,l.default)(gr,2),xr=mr[0],pr=mr[1],yr=(0,a.useState)(""),br=(0,l.default)(yr,2),jr=br[0],Cr=br[1],wr=(0,a.useState)(""),Sr=(0,l.default)(wr,2),Dr=Sr[0],vr=Sr[1],Mr=(0,a.useState)(!1),Pr=(0,l.default)(Mr,2),Ar=Pr[0],Lr=Pr[1],Fr=(0,a.useState)(!1),Er=(0,l.default)(Fr,2),Br=Er[0],Ir=Er[1],kr=(0,a.useRef)(null),Rr=(0,a.useRef)(null),Tr=(0,a.useRef)(null),zr=(0,a.useState)(0),Wr=(0,l.default)(zr,2),Nr=Wr[0],Or=Wr[1],Hr=[13,25,50],Vr=(0,a.useState)(Hr[0]),Yr=(0,l.default)(Vr,2),Ur=Yr[0],_r=Yr[1],Gr=(0,a.useState)([]),qr=(0,l.default)(Gr,2),Jr=qr[0],Kr=qr[1],Zr=(0,a.useState)(""),$r=(0,l.default)(Zr,2),Xr=$r[0],Qr=$r[1],eo=(0,a.useState)([]),to=(0,l.default)(eo,2),ro=to[0],oo=to[1],no=(0,a.useState)(!1),lo=(0,l.default)(no,2),ao=(lo[0],lo[1],(0,a.useState)(!1)),io=(0,l.default)(ao,2),so=(io[0],io[1],(0,a.useRef)(null)),co=(0,a.useRef)(null),uo=(0,a.useRef)(null),fo=(0,a.useRef)(null),ho=((0,a.useRef)(null),(0,a.useRef)(null)),go=null==(e=ho.current)?void 0:e.value,mo=(0,a.useState)(10),xo=(0,l.default)(mo,2),po=xo[0],yo=(xo[1],(0,a.useState)(null)),bo=(0,l.default)(yo,2),jo=bo[0],Co=bo[1],wo=(0,a.useState)(null),So=(0,l.default)(wo,2),Do=So[0],vo=So[1],Mo=(0,a.useState)(""),Po=(0,l.default)(Mo,2),Ao=Po[0],Lo=(Po[1],(0,a.useState)(1)),Fo=(0,l.default)(Lo,2),Eo=Fo[0],Bo=Fo[1];(0,a.useEffect)((function(){var e=(0,F.query)((0,F.collection)(F.db,"accounts"),(0,F.orderBy)("timestamp","desc"),(0,F.limit)(po)),r=(0,F.onSnapshot)(e,(function(e){var r=[];e.forEach((function(e){r.push(U({id:e.id},e.data()))})),t((0,z.setAccountListData)(r)),Co(e.docs[e.docs.length-1]),vo(e.docs[0])}));return function(){return r()}}),[]);var Io=function(){var e=(0,o.default)((function*(){if(""===Ao){var e=(0,F.query)((0,N.collectionGroup)(O.projectControlFirestore,"accounts"),(0,F.orderBy)("timestamp","desc"),(0,N.startAfter)(jo),(0,F.limit)(po)),r=yield(0,F.getDocs)(e);To(r,"next"),t((0,z.setLoadingModalVisible)(!1))}else{var o=(0,F.query)((0,F.collection)(O.projectControlFirestore,"accounts"),(0,N.where)("keywords","array-contains",Ao.toLowerCase()),(0,F.orderBy)("timestamp","desc"),(0,N.startAfter)(jo),(0,F.limit)(po)),n=yield(0,F.getDocs)(o);To(n,"next"),t((0,z.setLoadingModalVisible)(!1))}}));return function(){return e.apply(this,arguments)}}(),ko=function(){var e=(0,o.default)((function*(){if(""===Ao){var e=(0,F.query)((0,F.collection)(O.projectControlFirestore,"logs"),(0,F.orderBy)("timestamp","desc"),(0,N.endBefore)(Do),(0,N.limitToLast)(po)),r=yield(0,F.getDocs)(e);To(r,"prev"),t((0,z.setLoadingModalVisible)(!1))}else{var o=(0,F.query)((0,F.collection)(O.projectControlFirestore,"logs"),(0,N.where)("keywords","array-contains",Ao.toLowerCase()),(0,F.orderBy)("timestamp","desc"),(0,N.endBefore)(Do),(0,N.limitToLast)(po)),n=yield(0,F.getDocs)(o);To(n,"prev"),t((0,z.setLoadingModalVisible)(!1))}}));return function(){return e.apply(this,arguments)}}(),Ro=function(e){var r=[];e.forEach((function(e){r.push(U({id:e.id},e.data()))})),t((0,z.setAccountListData)(r)),null!=e&&e.docs[0]&&vo(e.docs[0]),null!=e&&e.docs[e.docs.length-1]&&Co(e.docs[e.docs.length-1])},To=function(){var e=(0,o.default)((function*(e,r){if(e.empty)if(""==Ao){Bo(1);var o=(0,F.query)((0,F.collection)(O.projectControlFirestore,"logs"),(0,F.orderBy)("timestamp","desc"),(0,F.limit)(po)),n=yield(0,F.getDocs)(o);Ro(n)}else{Bo(1);var l=(0,F.query)((0,F.collection)(O.projectControlFirestore,"accounts"),(0,N.where)("keywords","array-contains",Ao.toLowerCase()),(0,F.orderBy)("timestamp","desc"),(0,F.limit)(po)),a=yield(0,F.getDocs)(l);Ro(a)}else{var i=[];e.forEach((function(e){i.push(U({id:e.id},e.data()))})),null!=e&&e.docs[0]&&vo(e.docs[0]),null!=e&&e.docs[e.docs.length-1]&&Co(e.docs[e.docs.length-1]),"next"==r&&Bo(Eo+1),"prev"==r&&Bo(Eo-1),t((0,z.setAccountListData)(i))}}));return function(t,r){return e.apply(this,arguments)}}();(function(){var e=(0,o.default)((function*(){t((0,z.setLoadingModalVisible)(!0)),yield Io()}))})(),function(){var e=(0,o.default)((function*(){t((0,z.setLoadingModalVisible)(!0)),yield ko()}))}();(0,a.useEffect)((function(){zo()}),[Ao]);var zo=function(){var e=(0,o.default)((function*(){if(t((0,z.setLoadingModalVisible)(!0)),""===Ao){Bo(1);var e=(0,F.query)((0,F.collection)(O.projectControlFirestore,"accounts"),(0,F.orderBy)("timestamp","desc"),(0,F.limit)(po)),r=yield(0,F.getDocs)(e);Ro(r),t((0,z.setLoadingModalVisible)(!1))}else{Bo(1);var o=(0,F.query)((0,F.collection)(O.projectControlFirestore,"logs"),(0,N.where)("keywords","array-contains",Ao.toLowerCase()),(0,F.orderBy)("timestamp","desc"),(0,F.limit)(po)),n=yield(0,F.getDocs)(o);Ro(n),t((0,z.setLoadingModalVisible)(!1))}}));return function(){return e.apply(this,arguments)}}(),Wo=(0,a.useCallback)((function(){var e="admin";lr(e),dr("Admin"),hr(e)}),[]),No=(0,a.useCallback)((function(){var e="devadmin";dr("Developer Admin"),lr(e),hr(e)}),[]),Oo=(0,a.useCallback)((function(){var e="staff";lr(e),dr("Staff"),hr(e)}),[]),Ho=(0,a.useCallback)((function(){var e="booking";lr(e),dr("Booking"),hr(e)}),[]),Vo=(0,a.useCallback)((function(){var e="superadmin";hr(e),lr(e),dr("Super Admin")}),[]);(0,a.useEffect)((function(){}),[nr,sr]),(0,a.useEffect)((function(){var e=function(){var e=(0,o.default)((function*(){try{var e=(0,F.query)((0,F.collection)(F.db,"accounts"),(0,F.orderBy)("dateOfCreation","desc")),t=(yield(0,F.getDocs)(e)).docs.map((function(e){return U({id:e.id},e.data())}));Kr(t),oo(t)}catch(r){console.error("Error retrieving data:",r)}}));return function(){return e.apply(this,arguments)}}(),t=(0,F.onSnapshot)((0,F.query)((0,F.collection)(F.db,"accounts"),(0,F.orderBy)("dateOfCreation","desc")),(function(e){var t=e.docs.map((function(e){return e.data()}));Kr(t),oo(t)}));return e(),function(){t()}}),[]),(0,a.useEffect)((function(){}),[Le,Be,Re]),(0,a.useEffect)((function(){}),[jt]),(0,a.useEffect)((function(){return F.auth.onAuthStateChanged((function(e){e||Me("/Login")}))}),[]);(0,F.getFirestore)(),(0,a.useCallback)((function(){so.current.value="",co.current.value="",uo.current.value="",fo.current.value="",Je(!1),Ve(!1),_e(!1),$e(!1),et(!1),$(!1),pr(!1),pt(""),ct(""),nt(""),gt("")}),[]);var Yo=function(e){e.exists()?e.data().active||(0,L.signOut)(F.auth).then((function(){Me("/Login")})).catch((function(e){console.error("Error signing out:",e)})):(0,L.signOut)(F.auth).then((function(){Me("/Login")})).catch((function(e){console.error("Error signing out:",e)}))};(0,a.useEffect)((function(){var e=function(){var e,t=null==(e=F.auth.currentUser)?void 0:e.email;if(t){var r=(0,F.doc)(q,"accounts",t);return(0,F.onSnapshot)(r,Yo)}return function(){Me("/login")}}();return function(){e()}}),[]),(0,a.useEffect)((function(){var e=J();e&&(Go(e),G(e),Uo(e))}),[]);var Uo=function(e){var t=(0,F.doc)(F.db,"accounts",e);(0,F.onSnapshot)(t,(function(e){if(e.exists()){var t=e.data().name,r=e.data().type;fe(t),re(r)}else console.log("Document does not exist")}))};(0,a.useEffect)((function(){var e;_o("accounts",null==(e=F.auth.currentUser)?void 0:e.email)}),[jr,Dr]);var _o=function(){var e=(0,o.default)((function*(e,t){var r=(0,F.getFirestore)(),o=(0,F.doc)(r,e,t);try{var n=yield(0,F.getDoc)(o);if(n.exists()){var l=n.data().email,a=n.data().pass;Cr(l),vr(a)}else console.log("Document does not exist")}catch(i){console.error("Error retrieving email:",i)}}));return function(t,r){return e.apply(this,arguments)}}(),Go=function(){var e=(0,o.default)((function*(e){try{var r=(0,F.doc)(q,"accounts",e),o=yield(0,F.getDoc)(r);if(o.exists()){var n=o.data();n.type,n.name;t((0,z.setLoginName)(n.name))}else console.log("Document does not exist")}catch(l){console.error("Error fetching field value:",l)}}));return function(t){return e.apply(this,arguments)}}(),qo=function(){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(dt)},Jo=(0,a.useCallback)((function(e){var t=Jr.find((function(t){return t.id===e}));Gt(t),nt(t.name),gt(t.pass),ct(t.email),Dt(t.typeDisplay),Ct(t.type),Zt(!0),hr(t.type),lr(t.type),dr(t.typeDisplay),pr(!1),kr.current&&kr.current.setNativeProps({text:t.email}),Rr.current&&Rr.current.setNativeProps({text:t.name}),Tr.current&&Tr.current.setNativeProps({text:t.pass})}),[Jr]),Ko=(0,E.debounce)((function(e){ct(e)}),50),Zo=(0,E.debounce)((function(e){nt(e)}),50),$o=(0,E.debounce)((function(e){gt(e)}),50),Xo=function(){Zt(!1),xe(!1)},Qo=function(){Bt(!1)},en=function(){Ot(!1)},tn=function(){Tt(!1)};(0,a.useEffect)((function(){}),[_t]);var rn=function(){var e=(0,o.default)((function*(e){try{var t=(0,F.getFirestore)(),r=(0,F.collection)(t,"logs");yield(0,F.addDoc)(r,e)}catch(o){console.error("Error adding document:",o)}}));return function(t){return e.apply(this,arguments)}}(),on=(0,a.useCallback)(function(){var e=(0,o.default)((function*(e){var t=Jr.find((function(t){return t.id===e}));Gt(t),nt(t.name),ct(t.email),Dt(t.typeDisplay),Ct(t.type),we(!0),Lr(!0);try{var r=(0,F.doc)(q,"accounts",t.email),o=(yield B.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,n=k()(o).format("YYYY/MM/DD [at] HH:mm:ss"),l=k()(o).format("YYYY"),a=k()(o).format("MM"),i=k()(o).format("MM/DD"),s=k()(o).format("YYYY/MM/DD"),d=k()(o).format("DD"),c=k()(o).format("HH:mm"),u=k()(o).format("HH:mm:ss");tr(n),yield(0,F.updateDoc)(r,{active:!0});var f=Jr.map((function(t){return t.id===e?U(U({},t),{},{active:!0}):t}));Kr(f);var h=sn(f,go);oo(h);var g={message:'Account Enabled: The account "'+t.email+'" of "'+t.name+'" has been enabled by "'+ue+'".',keywords:[n.toLowerCase(),('Account Enabled: The account "'+t.email+'" of "'+t.name+'" has been enabled by "'+ue+'".').toLowerCase(),"Account Enabled".toLowerCase(),"Enabled".toLowerCase(),t.email.toLowerCase(),t.name.toLowerCase(),ue.toLowerCase(),l.toLowerCase(),a.toLowerCase(),i.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase()],timestamp:n,colorScheme:!0};rn(g),we(!1),Lr(!1),tn()}catch(m){console.error("Error updating field:",m)}}));return function(t){return e.apply(this,arguments)}}(),[Jr]),nn=function(){var e=(0,o.default)((function*(e,t){var r=(0,F.getFirestore)(),o=(0,F.doc)(r,e,t);try{yield(0,F.deleteDoc)(o),console.log("Document deleted successfully.")}catch(n){console.error("Error deleting document:",n)}}));return function(t,r){return e.apply(this,arguments)}}(),ln=(0,a.useCallback)(function(){var e=(0,o.default)((function*(e){var t=Jr.find((function(t){return t.id===e}));Gt(t),nt(t.name),ct(t.email),Dt(t.typeDisplay),Ct(t.type),we(!0),Lr(!0);try{var r=(yield(0,L.signInWithEmailAndPassword)(F.auth,t.email,t.pass)).user,o=(yield B.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,n=k()(o).format("YYYY/MM/DD [at] HH:mm:ss"),l=k()(o).format("YYYY"),a=k()(o).format("MM"),i=k()(o).format("MM/DD"),s=k()(o).format("YYYY/MM/DD"),d=k()(o).format("DD"),c=k()(o).format("HH:mm"),u=k()(o).format("HH:mm:ss");tr(n),yield(0,L.deleteUser)(r);var f={message:'Account Deleted: The account "'+t.email+'" of "'+t.name+'" has been deleted by "'+ue+'".',timestamp:n,colorScheme:!1,keywords:[n.toLowerCase(),('Account Deleted: The account "'+t.email+'" of "'+t.name+'" has been deleted by "'+ue+'".').toLowerCase(),"Account Deleted".toLowerCase(),"Deleted".toLowerCase(),t.email.toLowerCase(),t.name.toLowerCase(),ue.toLowerCase(),i.toLowerCase(),l.toLowerCase(),a.toLowerCase(),d.toLowerCase(),s.toLowerCase(),c.toLowerCase(),u.toLowerCase()]};rn(f),console.log("Account deleted successfully");(yield(0,L.signInWithEmailAndPassword)(F.auth,jr,Dr)).user;nn("accounts",t.email),oo(ro),Me("/account-list"),we(!1),Lr(!1),en()}catch(h){console.error("Error updating field:",h)}}));return function(t){return e.apply(this,arguments)}}(),[Jr]),an=(0,a.useCallback)(function(){var e=(0,o.default)((function*(e){we(!0),Lr(!0);var t=Jr.find((function(t){return t.id===e}));Gt(t),nt(t.name),ct(t.email),Dt(t.typeDisplay),Ct(t.type);try{var r,o=(0,F.doc)(q,"accounts",t.email);yield(0,F.updateDoc)(o,{active:!1});var n=Jr.map((function(t){return t.id===e?U(U({},t),{},{active:!1}):t}));Kr(n);var l=sn(n,null==(r=ho.current)?void 0:r.value);oo(l);var a=(yield B.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,i=k()(a).format("YYYY/MM/DD [at] HH:mm:ss"),s=k()(a).format("YYYY"),d=k()(a).format("MM"),c=k()(a).format("MM/DD"),u=k()(a).format("YYYY/MM/DD"),f=k()(a).format("DD"),h=k()(a).format("HH:mm"),g=k()(a).format("HH:mm:ss");tr(i);var m={message:'Account Disabled: The account "'+t.email+'" of "'+t.name+'" has been disabled by "'+ue+'".',timestamp:i,colorScheme:!1,keywords:[i.toLowerCase(),('Account Disabled: The account "'+t.email+'" of "'+t.name+'" has been disabled by "'+ue+'".').toLowerCase(),"Account Disabled".toLowerCase(),"Disabled".toLowerCase(),t.email.toLowerCase(),t.name.toLowerCase(),ue.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),f.toLowerCase(),h.toLowerCase(),g.toLowerCase()]};rn(m),we(!1),Lr(!1),Qo()}catch(x){console.error("Error updating field:",x),we(!1),Ir(!1)}}));return function(t){return e.apply(this,arguments)}}(),[Jr]),sn=function(e,t){return t?e.filter((function(e){return e.email.toLowerCase().includes(t.toLowerCase())||e.name.toLowerCase().includes(t.toLowerCase())||e.typeDisplay.toLowerCase().includes(t.toLowerCase())})):e},dn=function(){var e=(0,o.default)((function*(e){var t=Jr.find((function(t){return t.id===e}));if(we(!0),Ir(!0),!1===cn()||!1===qo()||""===ot)setTimeout((function(){ve(!1),we(!1)}),500);else if(dt===t.email&&ht===t.pass){var r=(0,F.doc)(F.db,"accounts",t.id),o=(yield B.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,n=k()(o).format("YYYY/MM/DD [at] HH:mm:ss");tr(n);var l={name:ot,type:nr,typeDisplay:sr,lastUpdatedDate:n};try{var a;yield(0,F.updateDoc)(r,l),we(!1),Ir(!1);var i=(yield B.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,s=k()(i).format("YYYY/MM/DD [at] HH:mm:ss"),d=k()(i).format("YYYY"),c=k()(i).format("MM"),u=k()(i).format("MM/DD"),f=k()(i).format("YYYY/MM/DD"),h=k()(i).format("DD"),g=k()(i).format("HH:mm"),m=k()(i).format("HH:mm:ss");tr(s);var x={message:'Updated: The name "'+t.name+'" of "'+t.email+'" has been changed to  "'+ot+'", updated by "'+ue+'".',timestamp:s,colorScheme:!0,keywords:[s.toLowerCase(),('Updated: The name "'+t.name+'" of "'+t.email+'" has been changed to  "'+ot+'", updated by "'+ue+'".').toLowerCase(),"Updated".toLowerCase(),t.email.toLowerCase(),t.name.toLowerCase(),ot.toLowerCase(),ue.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),f.toLowerCase(),h.toLowerCase(),g.toLowerCase(),m.toLowerCase()]};rn(x);var p=Jr.map((function(t){return t.id===e&&(t.name=ot,t.type=nr,t.typeDisplay=sr,t.lastUpdatedDate=s),t}));Kr(p);var y=sn(p,null==(a=ho.current)?void 0:a.value);oo(y),Xo(),At(!0)}catch(ce){console.error("Error updating document:",ce)}}else if(dt===t.email&&ht!==t.pass){var b=(yield(0,L.signInWithEmailAndPassword)(F.auth,t.email,t.pass)).user,j=(yield B.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime;k()(j).format("YYYY/MM/DD [at] HH:mm:ss");tr();try{yield(0,L.updatePassword)(b,ht);var C=(yield B.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,w=k()(C).format("YYYY/MM/DD [at] HH:mm:ss"),S=k()(C).format("YYYY"),D=k()(C).format("MM"),v=k()(C).format("MM/DD"),M=k()(C).format("YYYY/MM/DD"),P=k()(C).format("DD"),A=k()(C).format("HH:mm"),E=k()(C).format("HH:mm:ss");tr();var I=(0,F.doc)(q,"accounts",t.email),R={email:dt,name:ot,type:nr,typeDisplay:sr,dateOfCreation:t.dateOfCreation,lastUpdatedDate:w,pass:ht,active:!0};yield(0,F.setDoc)(I,R);(yield(0,L.signInWithEmailAndPassword)(F.auth,jr,Dr)).user;we(!1),Ir(!1),tr(w);var T={message:'Password Changed: The password of "'+t.email+'" of "'+t.name+'" has been changed by "'+ue+'".',timestamp:w,colorScheme:!0,keywords:[w.toLowerCase(),('Password Changed: The password of "'+t.email+'" of "'+t.name+'" has been changed by "'+ue+'".').toLowerCase(),"Password Changed".toLowerCase(),"Password".toLowerCase(),t.email.toLowerCase(),t.name.toLowerCase(),ue.toLowerCase(),S.toLowerCase(),D.toLowerCase(),v.toLowerCase(),M.toLowerCase(),P.toLowerCase(),A.toLowerCase(),E.toLowerCase()]};rn(T);U(U({},t),{},{email:dt,name:ot,type:nr,typeDisplay:sr,lastUpdatedDate:w});var z=Jr.map((function(t){return t.id===e&&(t.name=ot,t.type=nr,t.typeDisplay=sr,t.lastUpdatedDate=w,t.pass=ht),t}));Kr(z);var W=sn(z,go);oo(W),Xo(),At(!0)}catch(ce){console.error("Error:",ce)}}else if(dt!==t.email){var N=(yield(0,L.signInWithEmailAndPassword)(F.auth,t.email,t.pass)).user,O=(0,F.doc)(F.db,"accounts",t.email),H=(0,F.doc)(F.db,"accounts",dt),V=(yield B.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,Y=k()(V).format("YYYY/MM/DD [at] HH:mm:ss");tr(Y);try{var _=yield(0,F.getDoc)(O);if(_.exists()){_.data();var G={email:dt,name:ot,type:nr,typeDisplay:sr,dateOfCreation:t.dateOfCreation,lastUpdatedDate:Y,pass:ht,active:!0};yield(0,F.setDoc)(H,G),yield(0,F.deleteDoc)(O);try{yield(0,L.createUserWithEmailAndPassword)(F.auth,dt,ht);we(!1),Ir(!1);var J=(yield B.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,K=k()(J).format("YYYY/MM/DD [at] HH:mm:ss"),Z=k()(J).format("YYYY"),X=k()(J).format("MM"),Q=k()(J).format("MM/DD"),ee=k()(J).format("YYYY/MM/DD"),te=k()(J).format("DD"),re=k()(J).format("HH:mm"),oe=k()(J).format("HH:mm:ss");tr(K);var ne={message:'Updated: The email "'+t.email+'" of "'+t.name+'" has been changed to  "'+dt+'", updated by "'+ue+'".',timestamp:K,colorScheme:!0,keywords:[K.toLowerCase(),('Updated: The email "'+t.email+'" of "'+t.name+'" has been changed to  "'+dt+'", updated by "'+ue+'".').toLowerCase(),"Updated".toLowerCase(),"Email".toLowerCase(),t.email.toLowerCase(),t.name.toLowerCase(),dt.toLowerCase(),Q.toLowerCase(),ue.toLowerCase(),Z.toLowerCase(),X.toLowerCase(),te.toLowerCase(),ee.toLowerCase(),re.toLowerCase(),oe.toLowerCase()]};try{yield(0,L.deleteUser)(N),we(!1),Ir(!1);(yield(0,L.signInWithEmailAndPassword)(F.auth,jr,Dr)).user;var le=(yield B.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,ae=k()(le).format("YYYY/MM/DD [at] HH:mm:ss");tr(ae);var ie=U(U({},t),{},{email:dt,name:ot,type:nr,typeDisplay:sr,lastUpdatedDate:ae}),se=Jr.map((function(t){return t.id===e?ie:t}));Kr(se);var de=sn(se,go);oo(de)}catch(ce){console.error("Error deleting user authentication record:",ce)}rn(ne),Xo(),At(!0)}catch(ce){console.error("Error creating user:",ce)}}else console.error("Old document does not exist!")}catch(ce){console.error("Error changing document ID:",ce),we(!1),Ir(!1)}}else try{if((yield(0,L.fetchSignInMethodsForEmail)(F.auth,dt)).length>0)return we(!1),Ir(!1),pr(!0),$(!1),void qo()}catch(ce){ce.code,ce.message;console.log("An error occurred while checking the email existence. Please try again later."),ve(!1),we(!1)}}));return function(t){return e.apply(this,arguments)}}(),cn=function(){return ht.length>=6};(0,a.useEffect)((function(){var e=function(){var e=(0,o.default)((function*(){try{var e=(0,F.query)((0,F.collection)(F.db,"accounts"),(0,F.orderBy)("dateOfCreation","desc")),t=(0,F.onSnapshot)(e,(function(e){var t=e.docs.map((function(e){return U({id:e.id},e.data())}));Kr(t)}));return function(){return t()}}catch(r){console.error("Error retrieving data:",r)}}));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,a.useEffect)((function(){Or(0)}),[Ur]);var un=(0,a.useMemo)((function(){return Jr.filter((function(e){return e.email.toLowerCase().includes(Xr.toLowerCase())||e.name.toLowerCase().includes(Xr.toLowerCase())||e.typeDisplay.toLowerCase().includes(Xr.toLowerCase())}))}),[Xr,Jr]),fn=(0,a.useMemo)((function(){var e=Nr*Ur,t=e+Ur;return un.slice(e,t)}),[Nr,Ur,Xr,Jr,un]),hn=(0,E.debounce)((function(e){Qr(e)}),300),gn=Nr*Ur,mn=Math.min(gn+Ur,Jr.length),xn=i.default.create({container:{flex:1},image:{flex:1}});return(0,V.jsx)(g.NativeBaseProvider,{children:(0,V.jsxs)(d.default,{bgColor:"#A6BCFE",h:"100vh",w:"full",flexDirection:"column",children:[(0,V.jsxs)(d.default,{px:"3",bgColor:"#7b9cff",height:54,position:"sticky",top:0,zIndex:999,flexDirection:"row",alignItems:"center",borderBottomWidth:2,borderBottomColor:"cyan.500",children:[(0,V.jsx)(W.default,{selectedScreen:_}),(0,V.jsx)(d.default,{w:[0,0,0,850],h:[10,10,10,10],marginBottom:1.5,marginTop:1.5,paddingLeft:5,children:(0,V.jsx)(R.default,{source:{uri:oe,priority:R.default.priority.high},resizeMode:R.default.resizeMode.stretch,style:xn.image})}),(0,V.jsx)(d.default,{w:[150,200,250,0],h:[6,8,10,10],marginBottom:1.5,marginTop:1.5,marginLeft:[3,3,3,10],children:(0,V.jsx)(R.default,{source:{uri:ne,priority:R.default.priority.high},resizeMode:R.default.resizeMode.stretch,style:xn.image})}),(0,V.jsx)((function(e){var t=e.name,r=e.handleSignOut,o=(0,a.useState)(!1),n=(0,l.default)(o,2),i=n[0],s=n[1],g=function(){s(!i)};return(0,V.jsx)(d.default,{w:[100,200,1020],h:[10,10,10],flex:1,children:(0,V.jsx)(c.default,{direction:"row-reverse",children:(0,V.jsx)(u.Popover,{isOpen:i,trigger:function(e){return(0,V.jsxs)(f.default,U(U({color:"white",marginTop:[2,2,2],fontSize:[17,18,20],marginRight:[1,3,5]},e),{},{onPress:g,children:[(0,V.jsx)(v.default,{name:"account",size:[20,25,30],color:"white"})," ",t," ",(0,V.jsx)(M.default,{name:"caret-down",size:16,color:"white"})]}))},onClose:function(){return s(!i)},placement:"bottom right",trapFocus:!1,children:(0,V.jsx)(u.Popover.Content,{backgroundColor:"#7B9CFF",children:(0,V.jsx)(u.Popover.Body,{backgroundColor:"#7B9CFF",children:(0,V.jsx)(h.Button,{_hover:{bgColor:"blueGray.500"},onPress:r,leftIcon:(0,V.jsx)(v.default,{name:"logout",size:20,color:"white"}),bgColor:"transparent",children:"Logout"})})})})})})}),{name:n,handleSignOut:function(){(0,L.signOut)(F.auth).then((function(){Me("/Login"),G(""),fe("")})).catch((function(e){}))}})]}),(0,V.jsx)(d.default,{flex:[1],flexDirection:"row",children:(0,V.jsxs)(d.default,{flex:1,flexGrow:1,minHeight:0,children:[(0,V.jsx)(m.Input,{ref:ho,onChangeText:hn,placeholder:"Search",bgColor:"white"}),(0,V.jsxs)(x.ScrollView,{flex:1,contentContainerStyle:{flexGrow:1},children:[(0,V.jsx)(d.default,{height:"100%",children:(0,V.jsxs)(D.default,{margin:[0,0,0,1,1,1],children:[(0,V.jsx)(d.default,{borderWidth:1,borderColor:"gray.200",borderRadius:4,overflow:"hidden",display:["none","none","none","","",""],children:(0,V.jsxs)(d.default,{flexDirection:"row",borderBottomWidth:1,borderColor:"gray.200",bgColor:"#0642F4",children:[(0,V.jsx)(d.default,{flex:1,padding:2,children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",children:"Email"})}),(0,V.jsx)(d.default,{flex:1,padding:2,children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",children:"Name"})}),(0,V.jsx)(d.default,{flex:1,padding:2,children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",children:"Type of Account"})}),(0,V.jsx)(d.default,{flex:1,padding:2,children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",children:"Date of Creation"})}),(0,V.jsx)(d.default,{flex:1,padding:2,children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",children:"Last Updated"})}),(0,V.jsx)(d.default,{flex:1,padding:2,children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",children:"Status"})}),(0,V.jsx)(d.default,{flex:1,padding:2,children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",children:"Operate"})})]})}),(0,V.jsx)(p.default,{visible:!0,initial:{opacity:0},animate:{opacity:1,transition:{duration:250}},children:fn.map((function(e){return(0,V.jsxs)(d.default,{margin:[2,2,2,0,0,0],flexDirection:["column","column","column","row","row","row"],bgColor:e.active?"blue.200":"amber.500",borderColor:"gray.200",borderWidth:[2,2,2,1,1,1],paddingBottom:1,marginRight:0,children:[(0,V.jsx)(d.default,{flex:1,padding:[0,0,0,2,2,2],children:(0,V.jsxs)(d.default,{flexDirection:["row","row","row","","",""],children:[(0,V.jsx)(d.default,{display:["block","block","block","none","none","none"],flex:2,borderColor:"gray.200",bgColor:"#7b9cff",children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",fontSize:[12,14,14,0,0,0],children:" Email"})}),(0,V.jsx)(f.default,{flex:[5,5,5,0,0,0],borderBottomWidth:[1,1,1,0,0,0],borderBottomColor:"blueGray.400",children:e.email})]})}),(0,V.jsx)(d.default,{flex:1,padding:[0,0,0,2,2,2],children:(0,V.jsxs)(d.default,{flexDirection:["row","row","row","","",""],children:[(0,V.jsx)(d.default,{display:["block","block","block","none","none","none"],flex:2,borderColor:"gray.200",bgColor:"#7b9cff",marginRight:0,children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",fontSize:[12,14,14,0,0,0],children:" Name"})}),(0,V.jsx)(f.default,{flex:[5,5,5,0,0,0],borderBottomWidth:[1,1,1,0,0,0],borderBottomColor:"blueGray.400",children:e.name})]})}),(0,V.jsx)(d.default,{flex:1,padding:[0,0,0,2,2,2],children:(0,V.jsxs)(d.default,{flexDirection:["row","row","row","","",""],children:[(0,V.jsx)(d.default,{display:["block","block","block","none","none","none"],flex:2,borderColor:"gray.200",bgColor:"#7b9cff",marginRight:0,children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",fontSize:[12,14,14,0,0,0],children:" Type of Account"})}),(0,V.jsx)(f.default,{flex:[5,5,5,0,0,0],borderBottomWidth:[1,1,1,0,0,0],borderBottomColor:"blueGray.400",children:e.typeDisplay})]})}),(0,V.jsx)(d.default,{flex:1,padding:[0,0,0,2,2,2],children:(0,V.jsxs)(d.default,{flexDirection:["row","row","row","","",""],children:[(0,V.jsx)(d.default,{display:["block","block","block","none","none","none"],flex:2,borderColor:"gray.200",bgColor:"#7b9cff",marginRight:0,children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",fontSize:[12,14,14,0,0,0],children:" Date of Creation"})}),(0,V.jsx)(f.default,{flex:[5,5,5,0,0,0],borderBottomWidth:[1,1,1,0,0,0],borderBottomColor:"blueGray.400",children:e.dateOfCreation})]})}),(0,V.jsx)(d.default,{flex:1,padding:[0,0,0,2,2,2],children:(0,V.jsxs)(d.default,{flexDirection:["row","row","row","","",""],children:[(0,V.jsx)(d.default,{display:["block","block","block","none","none","none"],flex:2,borderColor:"gray.200",bgColor:"#7b9cff",marginRight:0,children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",fontSize:[12,14,14,0,0,0],children:" Last Updated"})}),(0,V.jsx)(f.default,{flex:[5,5,5,0,0,0],borderBottomWidth:[1,1,1,0,0,0],borderBottomColor:"blueGray.400",children:e.lastUpdatedDate})]})}),(0,V.jsx)(d.default,{flex:1,padding:[0,0,0,2,2,2],children:(0,V.jsxs)(d.default,{flexDirection:["row","row","row","","",""],children:[(0,V.jsx)(d.default,{display:["block","block","block","none","none","none"],flex:2,borderColor:"gray.200",bgColor:"#7b9cff",marginRight:0,children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",fontSize:[12,14,14,0,0,0],children:" Status"})}),(0,V.jsx)(f.default,{flex:[5,5,5,0,0,0],borderBottomWidth:[1,1,1,0,0,0],borderBottomColor:"blueGray.400",children:e.active?"Enabled":"Disabled"})]})}),(0,V.jsx)(d.default,{flex:1,padding:[0,0,0,2,2,2],children:(0,V.jsxs)(d.default,{flexDirection:["row","row","row","","",""],children:[(0,V.jsx)(d.default,{display:["block","block","block","none","none","none"],flex:2,borderColor:"gray.200",bgColor:"#7b9cff",marginRight:0,children:(0,V.jsx)(f.default,{fontWeight:"bold",color:"white",fontSize:[12,14,14,0,0,0],children:" Operate"})}),(0,V.jsxs)(y.default,{space:1,flex:[5,5,5,1,1,1],children:[(0,V.jsxs)(h.Button,{onPress:function(){return Jo(e.id)},flex:[1,1,1,2,2,2],padding:1,justifyContent:"center",alignItems:"center",flexDirection:"row",children:[(0,V.jsx)(f.default,{textAlign:"center",fontSize:[0,0,0,0,12,14],color:"white",children:"Edit"}),(0,V.jsx)(b.default,{as:(0,V.jsx)(P.default,{name:"edit"}),color:"white",size:[5,5,5,5,0]})]}),e.active?(0,V.jsxs)(h.Button,{onPress:function(){return function(e){var t=Jr.find((function(t){return t.id===e}));Gt(t),nt(t.name),ct(t.email),Dt(t.typeDisplay),Ct(t.type),Bt(!0)}(e.id)},flex:[1,1,1,2,2,2],padding:1,colorScheme:"amber",_text:{fontSize:[0,0,0,0,12,14]},children:[(0,V.jsx)(f.default,{textAlign:"center",fontSize:[0,0,0,0,12,14],color:"white",children:"Disable"}),(0,V.jsx)(b.default,{as:(0,V.jsx)(P.default,{name:"block"}),color:"white",size:[5,5,5,5,0]})]}):(0,V.jsxs)(h.Button,{onPress:function(){return function(e){var t=Jr.find((function(t){return t.id===e}));Gt(t),nt(t.name),ct(t.email),Dt(t.typeDisplay),Ct(t.type),Tt(!0)}(e.id)},flex:[1,1,1,2,2,2],padding:1,colorScheme:"success",_text:{fontSize:[0,0,0,0,12,14]},children:[(0,V.jsx)(f.default,{textAlign:"center",fontSize:[0,0,0,0,12,14],color:"white",children:"Enable"}),(0,V.jsx)(b.default,{as:(0,V.jsx)(P.default,{name:"check-circle"}),color:"white",size:[5,5,5,5,0]})]}),(0,V.jsxs)(h.Button,{onPress:function(){return function(e){var t=Jr.find((function(t){return t.id===e}));Gt(t),nt(t.name),ct(t.email),Dt(t.typeDisplay),Ct(t.type),Ot(!0)}(e.id)},flex:[1,1,1,2,2,2],padding:1,colorScheme:"error",_text:{fontSize:[0,0,0,0,12,14]},children:[(0,V.jsx)(f.default,{textAlign:"center",fontSize:[0,0,0,0,12,14],color:"white",children:"Delete"}),(0,V.jsx)(b.default,{as:(0,V.jsx)(P.default,{name:"delete"}),color:"white",size:[5,5,5,5,0]})]})]})]})})]},e.id)}))}),(0,V.jsx)(D.default.Pagination,{page:Nr,numberOfPages:Math.ceil(un.length/Ur),onPageChange:function(e){return Or(e)},label:gn+1+"-"+mn+" of "+un.length,optionsPerPage:Hr,itemsPerPage:Ur,setItemsPerPage:_r,showFastPagination:!0,optionsLabel:"Rows per page"})]})}),(0,V.jsx)(j.Modal,{isOpen:Kt,onClose:Xo,children:(0,V.jsxs)(j.Modal.Content,{children:[(0,V.jsx)(j.Modal.CloseButton,{}),(0,V.jsx)(j.Modal.Header,{borderBottomWidth:0,children:"Edit Acccount"}),(0,V.jsx)(j.Modal.Body,{children:_t&&(0,V.jsxs)(C.default,{children:[(0,V.jsxs)(C.default,{children:[(0,V.jsx)(f.default,{children:"Email: "})," ",(0,V.jsx)(m.Input,{color:xr?"red.500":"black",borderBottomColor:qo()?"green.300":"red.500",borderBottomWidth:2,defaultValue:dt,ref:kr,onChangeText:Ko})]}),!qo()&&(0,V.jsx)(f.default,{color:"#D22730",bold:!0,children:"Invalid Email!"}),xr&&(0,V.jsx)(f.default,{color:"#D22730",bold:!0,children:"Email already in use! Please use a different email!"}),(0,V.jsxs)(C.default,{children:[(0,V.jsx)(f.default,{children:"Name: "})," ",(0,V.jsx)(m.Input,{borderBottomColor:""!==ot?"green.300":"red.500",borderBottomWidth:2,defaultValue:ot,ref:Rr,onChangeText:Zo})]}),""===ot&&(0,V.jsx)(f.default,{color:"#D22730",bold:!0,children:"Empty Name!"}),(0,V.jsxs)(C.default,{children:[(0,V.jsx)(f.default,{children:"Password: "}),(0,V.jsx)(m.Input,{borderBottomColor:cn()?"green.300":"red.500",borderBottomWidth:2,defaultValue:ht,ref:Tr,onChangeText:$o,type:me?"text":"password",InputLeftElement:(0,V.jsx)(b.default,{as:(0,V.jsx)(A.default,{name:me?"unlock-alt":"lock"}),size:5,ml:"2"}),InputRightElement:(0,V.jsx)(w.default,{onPress:function(){return xe(!me)},children:(0,V.jsx)(b.default,{as:(0,V.jsx)(P.default,{name:me?"visibility":"visibility-off"}),size:5,mr:"2"})})})]}),(0,V.jsxs)(C.default,{children:[(0,V.jsx)(f.default,{children:"Type of Account:"}),(0,V.jsxs)(y.default,{space:1,justifyContent:"center",children:[(0,V.jsx)(h.Button,{_hover:{bgColor:"booking"===fr?"#0642F4":"blueGray.400"},size:"sm",borderWidth:"1",borderColor:"white",w:{base:90,md:90,sm:90},onPress:Ho,bgColor:"booking"===fr?"#0642F4":"#CED5EA",children:(0,V.jsx)(f.default,{style:{color:"white"},children:"Booking"})}),(0,V.jsx)(h.Button,{_hover:{bgColor:"staff"===fr?"#0642F4":"blueGray.400"},size:"sm",borderWidth:"1",borderColor:"white",w:{base:90,md:90,sm:90},onPress:Oo,bgColor:"staff"===fr?"#0642F4":"#CED5EA",children:(0,V.jsx)(f.default,{style:{color:"white"},children:"Staff"})}),(0,V.jsx)(h.Button,{_hover:{bgColor:"admin"===fr?"#0642F4":"blueGray.400"},size:"sm",borderWidth:"1",borderColor:"white",w:{base:90,md:90,sm:90},onPress:Wo,bgColor:"admin"===fr?"#0642F4":"#CED5EA",children:(0,V.jsx)(f.default,{style:{color:"white"},children:"Admin"})})]}),(0,V.jsxs)(y.default,{space:1,justifyContent:"center",marginTop:1,children:[(0,V.jsx)(h.Button,{_hover:{bgColor:"superadmin"===fr?"#0642F4":"blueGray.400"},size:"sm",borderWidth:"1",borderColor:"white",w:{base:90,md:90,sm:90},onPress:Vo,bgColor:"superadmin"===fr?"#0642F4":"#CED5EA",children:(0,V.jsx)(f.default,{style:{color:"white"},children:"Super Admin"})}),(0,V.jsx)(h.Button,{_hover:{bgColor:"devadmin"===fr?"#0642F4":"blueGray.400"},size:"sm",borderWidth:"1",borderColor:"white",w:{base:90,md:90,sm:90},onPress:No,bgColor:"devadmin"===fr?"#0642F4":"#CED5EA",children:(0,V.jsx)(f.default,{style:{color:"white"},children:"Dev Admin"})})]})]})]})}),(0,V.jsxs)(j.Modal.Footer,{borderTopWidth:0,children:[(0,V.jsx)(h.Button,{onPress:Xo,flex:1,padding:1,margin:1,children:"Close"}),(0,V.jsx)(h.Button,{onPress:function(){return dn(_t.id)},disabled:Ce,flex:1,padding:1,colorScheme:"success",margin:1,children:Br?(0,V.jsx)(S.default,{color:"white",size:21}):"Save"})]})]})}),(0,V.jsx)(j.Modal,{isOpen:Et,onClose:Qo,children:(0,V.jsxs)(j.Modal.Content,{bgColor:"amber.500",children:[(0,V.jsx)(j.Modal.CloseButton,{}),(0,V.jsx)(j.Modal.Header,{bgColor:"amber.500",borderBottomWidth:0,_text:{color:"white"},children:"Disable Account?"}),(0,V.jsx)(j.Modal.Body,{bgColor:"amber.500",children:_t&&(0,V.jsxs)(C.default,{children:[(0,V.jsxs)(f.default,{color:"white",children:["Email: ",_t.email]}),(0,V.jsxs)(f.default,{color:"white",children:["Name: ",_t.name]}),(0,V.jsxs)(f.default,{color:"white",children:["Type of Account: ",_t.typeDisplay]})]})}),(0,V.jsxs)(j.Modal.Footer,{bgColor:"amber.500",borderTopWidth:0,children:[(0,V.jsx)(h.Button,{onPress:Qo,flex:1,padding:1,margin:1,children:"No"}),(0,V.jsx)(h.Button,{onPress:function(){return an(_t.id)},colorScheme:"error",flex:1,padding:1,margin:1,disabled:Ce,children:Ar?(0,V.jsx)(S.default,{color:"white",size:21}):"Yes"})]})]})}),(0,V.jsx)(j.Modal,{isOpen:Nt,onClose:en,children:(0,V.jsxs)(j.Modal.Content,{bgColor:"error.300",children:[(0,V.jsx)(j.Modal.CloseButton,{}),(0,V.jsx)(j.Modal.Header,{bgColor:"error.300",borderBottomWidth:0,children:"Delete Account?"}),(0,V.jsx)(j.Modal.Body,{bgColor:"error.300",children:_t&&(0,V.jsxs)(C.default,{children:[(0,V.jsxs)(f.default,{children:["Email: ",_t.email]}),(0,V.jsxs)(f.default,{children:["Name: ",_t.name]}),(0,V.jsxs)(f.default,{children:["Type of Account: ",_t.typeDisplay]})]})}),(0,V.jsxs)(j.Modal.Footer,{bgColor:"error.300",borderTopWidth:0,children:[(0,V.jsx)(h.Button,{onPress:Qo,flex:1,padding:1,margin:1,children:"No"}),(0,V.jsx)(h.Button,{onPress:function(){return ln(_t.id)},colorScheme:"error",flex:1,padding:1,margin:1,disabled:Ce,children:Ar?(0,V.jsx)(S.default,{color:"white",size:21}):"Yes"})]})]})}),(0,V.jsx)(j.Modal,{isOpen:Rt,onClose:tn,children:(0,V.jsxs)(j.Modal.Content,{bgColor:"success.200",children:[(0,V.jsx)(j.Modal.CloseButton,{}),(0,V.jsx)(j.Modal.Header,{bgColor:"success.200",borderBottomWidth:0,children:"Enable Account?"}),(0,V.jsx)(j.Modal.Body,{bgColor:"success.200",children:_t&&(0,V.jsxs)(C.default,{children:[(0,V.jsxs)(f.default,{children:["Email: ",_t.email]}),(0,V.jsxs)(f.default,{children:["Name: ",_t.name]}),(0,V.jsxs)(f.default,{children:["Type of Account: ",_t.typeDisplay]})]})}),(0,V.jsxs)(j.Modal.Footer,{bgColor:"success.200",borderTopWidth:0,children:[(0,V.jsx)(h.Button,{onPress:tn,flex:1,padding:1,margin:1,children:"No"}),(0,V.jsx)(h.Button,{onPress:function(){return on(_t.id)},colorScheme:"success",flex:1,padding:1,margin:1,disabled:Ce,children:Ar?(0,V.jsx)(S.default,{color:"white",size:21}):"Yes"})]})]})}),(0,V.jsx)(j.Modal,{isOpen:Pt,onClose:function(){return At(!1)},size:"lg",children:(0,V.jsxs)(j.Modal.Content,{maxWidth:"350",bgColor:"green.600",borderWidth:3,borderColor:"green.400",children:[(0,V.jsx)(j.Modal.Header,{bgColor:"green.600",borderBottomWidth:0,children:(0,V.jsx)(f.default,{color:"white",textAlign:"center",bold:!0,children:"\ud83d\ude0a\ud83d\ude0e Success! \ud83d\ude0e\ud83d\ude0a"})}),(0,V.jsx)(j.Modal.Body,{children:(0,V.jsx)(f.default,{color:"white",textAlign:"center",children:"The account update was successful."})}),(0,V.jsx)(j.Modal.Footer,{bgColor:"green.600",borderTopWidth:0,children:(0,V.jsx)(h.Button,{_hover:{bgColor:"green.500"},variant:"outline",flex:"1",onPress:function(){return At(!1)},children:(0,V.jsx)(f.default,{color:"white",textAlign:"center",children:"Proceed"})})})]})})]})]})})]})})}},56457:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>q});var o=r(4942),n=r(15861),l=r(70885),a=r(89526),i=r(74333),s=r(46337),d=r(87754),c=r(24770),u=r(32535),f=r(40013),h=r(68873),g=r(67221),m=r(74905),x=r(93020),p=r(93468),y=r(76602),b=r(3725),j=r(16650),C=r(15352),w=r(67849),S=r(71592),D=r(55202),v=r(65738),M=r(42640),P=r(33034),A=r(51223),L=(r(87026),r(47673)),F=r(51909),E=r(89327),B=(r(14574),r(95634),r(53059),r(38615)),I=r(36105),k=r.n(I),R=r(30083),T=r(26555),z=r(37050),W=(r(96500),r(95212)),N=r(83277),O=r(67557);function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y="ADD C-HUB ACCOUNT",U=s.default.get("window"),_=(U.width,U.height,s.default.get("window").height,(0,E.getFirestore)()),G=function(){var e=E.auth.currentUser;return e?e.email:(console.log("No user is currently authenticated"),null)};function q(){var e=(0,R.useDispatch)(),t=(0,R.useSelector)((function(e){return e.loginName})),o=(0,a.useState)(""),I=(0,l.default)(o,2),H=(I[0],I[1]),U=(0,a.useState)(""),q=(0,l.default)(U,2),J=(q[0],q[1]),K=r(51745),Z=r(85228),$=(s.default.get("window").width,(0,a.useState)(!1)),X=(0,l.default)($,2),Q=(X[0],X[1],(0,a.useState)(!1)),ee=(0,l.default)(Q,2),te=(ee[0],ee[1],(0,a.useState)("")),re=(0,l.default)(te,2),oe=re[0],ne=re[1],le=a.useState(!1),ae=(0,l.default)(le,2),ie=ae[0],se=ae[1],de=a.useState(!1),ce=(0,l.default)(de,2),ue=ce[0],fe=ce[1],he=(0,a.useState)(!1),ge=(0,l.default)(he,2),me=ge[0],xe=ge[1],pe=(0,a.useState)(!1),ye=(0,l.default)(pe,2),be=ye[0],je=ye[1],Ce=(0,N.useNavigate)(),we=(0,a.useState)(!1),Se=(0,l.default)(we,2),De=Se[0],ve=(Se[1],(0,a.useState)(!0)),Me=(0,l.default)(ve,2),Pe=Me[0],Ae=(Me[1],(0,a.useState)(!1)),Le=(0,l.default)(Ae,2),Fe=Le[0],Ee=(Le[1],(0,a.useState)(!1)),Be=(0,l.default)(Ee,2),Ie=(Be[0],Be[1],(0,a.useState)(!1)),ke=(0,l.default)(Ie,2),Re=(ke[0],ke[1],(0,a.useState)(!1)),Te=(0,l.default)(Re,2),ze=Te[0],We=Te[1],Ne=(0,a.useState)(!1),Oe=(0,l.default)(Ne,2),He=Oe[0],Ve=Oe[1],Ye=(0,a.useState)(!1),Ue=(0,l.default)(Ye,2),_e=Ue[0],Ge=Ue[1],qe=(0,a.useState)(!1),Je=(0,l.default)(qe,2),Ke=Je[0],Ze=Je[1],$e=(0,a.useState)(!1),Xe=(0,l.default)($e,2),Qe=Xe[0],et=Xe[1],tt=(0,a.useState)(!1),rt=(0,l.default)(tt,2),ot=(rt[0],rt[1],(0,a.useState)(!1)),nt=(0,l.default)(ot,2),lt=(nt[0],nt[1],(0,a.useState)(!1)),at=(0,l.default)(lt,2),it=(at[0],at[1],(0,a.useState)(!1)),st=(0,l.default)(it,2),dt=(st[0],st[1],(0,a.useState)(!1)),ct=(0,l.default)(dt,2),ut=(ct[0],ct[1],(0,a.useState)(!1)),ft=(0,l.default)(ut,2),ht=ft[0],gt=ft[1],mt=(0,a.useState)(!1),xt=(0,l.default)(mt,2),pt=(xt[0],xt[1]),yt=(0,a.useState)(""),bt=(0,l.default)(yt,2),jt=bt[0],Ct=bt[1],wt=(0,a.useState)(""),St=(0,l.default)(wt,2),Dt=St[0],vt=St[1],Mt=(0,a.useState)(!1),Pt=(0,l.default)(Mt,2),At=Pt[0],Lt=Pt[1],Ft=((0,a.useRef)([]),(0,a.useRef)(null)),Et=(0,a.useRef)(null),Bt=(0,a.useRef)(null),It=(0,a.useRef)(null),kt=(0,a.useState)(!1),Rt=(0,l.default)(kt,2),Tt=Rt[0],zt=Rt[1],Wt=(0,a.useState)(!0),Nt=(0,l.default)(Wt,2),Ot=Nt[0],Ht=Nt[1],Vt=(0,a.useState)(!1),Yt=(0,l.default)(Vt,2),Ut=Yt[0],_t=Yt[1],Gt=(0,a.useState)(!0),qt=(0,l.default)(Gt,2),Jt=qt[0],Kt=qt[1],Zt=(0,a.useState)(""),$t=(0,l.default)(Zt,2),Xt=($t[0],$t[1],(0,a.useState)("")),Qt=(0,l.default)(Xt,2),er=(Qt[0],Qt[1],(0,a.useRef)(),(0,a.useState)(!0)),tr=(0,l.default)(er,2),rr=(tr[0],tr[1]),or=(0,a.useState)(!1),nr=(0,l.default)(or,2);nr[0],nr[1];(0,a.useEffect)((function(){}),[De,Pe,Fe]);(0,a.useEffect)((function(){}),[jt]);(0,a.useEffect)((function(){return E.auth.onAuthStateChanged((function(e){e||Ce("/Login")}))}),[]);(0,E.getFirestore)();var lr=function(){var e=(0,n.default)((function*(e){try{var t=(0,E.getFirestore)(),r=(0,E.collection)(t,"logs");yield(0,E.addDoc)(r,e),console.log("Document added successfully!")}catch(o){console.error("Error adding document:",o)}}));return function(t){return e.apply(this,arguments)}}(),ar=function(){Lt(!1),rr(!0)},ir=function(){var e=(0,n.default)((function*(){if(xe(!0),je(!0),!1===Ut||!1===Tt||!1===Ot||!1===gr()||!0===Jt||!1===hr())setTimeout((function(){je(!1),xe(!1)}),500);else try{var e;if((yield(0,L.fetchSignInMethodsForEmail)(E.auth,null==(e=Et.current)?void 0:e.value)).length>0)return gt(!0),pt(!1),gr(!1),je(!1),void xe(!1);var t=(yield B.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,r=k()(t).format("YYYY/MM/DD [at] HH:mm:ss"),o=k()(t).format("YYYY"),n=k()(t).format("MM"),l=k()(t).format("MM/DD"),a=k()(t).format("YYYY/MM/DD"),i=k()(t).format("DD"),s=k()(t).format("HH:mm"),d=k()(t).format("HH:mm:ss");yield(0,L.createUserWithEmailAndPassword)(F.authForCreateUser,Et.current.value,Bt.current.value).then((function(e){e.user;try{var t,c,u,f,h,g=Et.current.value,m=(0,E.doc)(E.db,"accounts",g),x={message:'Account Added: "'+oe+'" added an account for "'+(null==(t=Ft.current)?void 0:t.value)+'" with "'+Dt+'" privilege.',timestamp:r,keywords:[r.toLowerCase(),('Account Added: "'+oe+'" added an account for "'+(null==(c=Ft.current)?void 0:c.value)+'" with "'+Dt+'" privilege.').toLowerCase(),"Account Added".toLowerCase(),"Added".toLowerCase(),Ft.current.value.toLowerCase(),Dt.toLowerCase(),oe.toLowerCase(),o.toLowerCase(),n.toLowerCase(),l.toLowerCase(),a.toLowerCase(),i.toLowerCase(),s.toLowerCase(),d.toLowerCase()],colorScheme:!0};(0,E.setDoc)(m,{email:null==(u=Et.current)?void 0:u.value,name:null==(f=Ft.current)?void 0:f.value,pass:null==(h=Bt.current)?void 0:h.value,type:jt,typeDisplay:Dt,dateOfCreation:r,lastUpdatedDate:r,active:!0}),lr(x),console.log(x),console.log(r),je(!1),xe(!1),sr(),Lt(!0),rr(!1),console.log("Document added with custom ID: ",g)}catch(p){console.error("Error adding document: ",p)}})).catch((function(e){console.log("An error occurred during sign-up. Please try again later."),console.log(e),je(!1),xe(!1)}))}catch(c){c.code,c.message;console.log("An error occurred while checking the email existence. Please try again later."),je(!1),xe(!1)}}));return function(){return e.apply(this,arguments)}}(),sr=function(){Ft.current.value="",Et.current.value="",Bt.current.value="",It.current.value="",Ge(!1),We(!1),Ve(!1),Ze(!1),et(!1),pt(!1),gt(!1),Kt(!0),_t(!1),zt(!1),Ht(!0)},dr=function(e){e.exists()?e.data().active||(0,L.signOut)(E.auth).then((function(){Ce("/Login")})).catch((function(e){console.error("Error signing out:",e)})):(0,L.signOut)(E.auth).then((function(){Ce("/Login")})).catch((function(e){console.error("Error signing out:",e)}))};(0,a.useEffect)((function(){var e=function(){var e,t=null==(e=E.auth.currentUser)?void 0:e.email;if(t){var r=(0,E.doc)(_,"accounts",t);return(0,E.onSnapshot)(r,dr)}return function(){Ce("/login")}}();return function(){e()}}),[]),(0,a.useEffect)((function(){var e=G();e&&(ur(e),H(e),cr(e))}),[]);var cr=function(e){var t=(0,E.doc)(E.db,"accounts",e);(0,E.onSnapshot)(t,(function(e){if(e.exists()){var t=e.data().name,r=e.data().type;ne(t),J(r)}else console.log("Document does not exist")}))},ur=function(){var t=(0,n.default)((function*(t){try{var r=(0,E.doc)(_,"accounts",t),o=yield(0,E.getDoc)(r);if(o.exists()){var n=o.data();n.type,n.name;e((0,z.setLoginName)(n.name))}else console.log("Document does not exist")}catch(l){console.error("Error fetching field value:",l)}}));return function(e){return t.apply(this,arguments)}}(),fr=function(){var e,t,r=null==(e=Bt.current)?void 0:e.value,o=null==(t=It.current)?void 0:t.value,n=r?r.length:0;zt(r===o&&n>=6),Ht(r===o),_t(n>=6)},hr=function(){return He||ze||_e||Ke||!0===Qe},gr=function(){var e,t=null==(e=Et.current)?void 0:e.value;return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)},mr=function(e){pt(gr(e))},xr=i.default.create({container:{flex:1},image:{flex:1}});return(0,O.jsxs)(x.NativeBaseProvider,{children:[(0,O.jsx)((function(){return(0,O.jsx)(d.default,{children:(0,O.jsx)(c.Modal,{isOpen:At,onClose:ar,size:"lg",children:(0,O.jsxs)(c.Modal.Content,{maxWidth:"350",bgColor:"green.600",borderWidth:3,borderColor:"green.400",children:[(0,O.jsx)(c.Modal.Header,{bgColor:"green.600",borderBottomWidth:0,children:(0,O.jsx)(u.default,{textAlign:"center",bold:!0,children:"\ud83d\ude0a\ud83d\ude0e Success! \ud83d\ude0e\ud83d\ude0a"})}),(0,O.jsx)(c.Modal.Body,{children:(0,O.jsx)(u.default,{textAlign:"center",children:"Account creation for Real Motor Japan Control Hub was successful."})}),(0,O.jsx)(c.Modal.Footer,{bgColor:"green.600",borderTopWidth:0,children:(0,O.jsx)(f.Button,{_hover:{bgColor:"green.500"},variant:"outline",flex:"1",onPress:ar,_text:{color:"black"},children:"Ok"})})]})})})}),{}),(0,O.jsxs)(h.default,{bgColor:"#A6BCFE",h:"100vh",w:"full",flexDirection:"column",children:[(0,O.jsxs)(h.default,{px:"3",bgColor:"#7b9cff",height:54,position:"sticky",top:0,zIndex:999,flexDirection:"row",alignItems:"center",borderBottomWidth:2,borderBottomColor:"cyan.500",children:[(0,O.jsx)(W.default,{selectedScreen:Y}),(0,O.jsx)(h.default,{w:[0,0,0,850],h:[10,10,10,10],marginBottom:1.5,marginTop:1.5,paddingLeft:5,children:(0,O.jsx)(T.default,{source:{uri:K,priority:T.default.priority.high},resizeMode:T.default.resizeMode.stretch,style:xr.image})}),(0,O.jsx)(h.default,{w:[150,200,250,0],h:[6,8,10,10],marginBottom:1.5,marginTop:1.5,marginLeft:[3,3,3,10],children:(0,O.jsx)(T.default,{source:{uri:Z,priority:T.default.priority.high},resizeMode:T.default.resizeMode.stretch,style:xr.image})}),(0,O.jsx)((function(e){var t=e.name,r=e.handleSignOut,o=(0,a.useState)(!1),n=(0,l.default)(o,2),i=n[0],s=n[1],d=function(){s(!i)};return(0,O.jsx)(h.default,{w:[100,200,1020],h:[10,10,10],flex:1,children:(0,O.jsx)(g.default,{direction:"row-reverse",children:(0,O.jsx)(m.Popover,{isOpen:i,trigger:function(e){return(0,O.jsxs)(u.default,V(V({color:"white",marginTop:[2,2,2],fontSize:[17,18,20],marginRight:[1,3,5]},e),{},{onPress:d,children:[(0,O.jsx)(D.default,{name:"account",size:[20,25,30],color:"white"})," ",t," ",(0,O.jsx)(v.default,{name:"caret-down",size:16,color:"white"})]}))},onClose:function(){return s(!i)},placement:"bottom right",trapFocus:!1,children:(0,O.jsx)(m.Popover.Content,{backgroundColor:"#7B9CFF",children:(0,O.jsx)(m.Popover.Body,{backgroundColor:"#7B9CFF",children:(0,O.jsx)(f.Button,{_hover:{bgColor:"blueGray.500"},onPress:r,leftIcon:(0,O.jsx)(D.default,{name:"logout",size:20,color:"white"}),bgColor:"transparent",children:"Logout"})})})})})})}),{name:t,handleSignOut:function(){(0,L.signOut)(E.auth).then((function(){Ce("/Login"),H(""),ne("")})).catch((function(e){}))}})]}),(0,O.jsx)(h.default,{flex:[1],flexDirection:"row",children:(0,O.jsx)(h.default,{flex:1,flexGrow:1,minHeight:0,children:(0,O.jsx)(p.ScrollView,{flex:1,contentContainerStyle:{flexGrow:1},children:(0,O.jsx)(h.default,{px:"3",bgColor:"#A6BCFE",height:"full",children:(0,O.jsx)(h.default,{bgColor:"#A6BCFE",w:"100%",h:"100%",margin:1,children:(0,O.jsx)(d.default,{flex:1,children:(0,O.jsx)(d.default,{px:"3",children:(0,O.jsxs)(y.default,{space:4,w:"100%",alignItems:"center",children:[(0,O.jsx)(u.default,{marginTop:5,marginBottom:1,fontSize:[12,14,16],color:"white",bold:"center",children:"ADD ACCOUNT FOR REAL MOTOR JAPAN CONTROL HUB"}),(0,O.jsx)(b.Input,{w:{base:"90%",md:"90%",sm:"90%"},ref:Ft,onSubmitEditing:ir,onChangeText:function(){var e;Kt(""===(null==(e=Ft.current)?void 0:e.value))},borderColor:"white",borderBottomColor:Jt?"red.500":"green.300",borderBottomWidth:2,fontSize:"16",InputLeftElement:(0,O.jsx)(j.default,{as:(0,O.jsx)(M.default,{name:"idcard"}),size:5,ml:"2",color:"white"}),placeholder:"Name",placeholderTextColor:"white",color:"white"}),(0,O.jsx)(b.Input,{w:{base:"90%",md:"90%",sm:"90%"},ref:Et,onChangeText:function(){gt(!1),mr()},onSubmitEditing:ir,color:ht?"red.500":"white",borderColor:"white",borderBottomColor:gr()?"green.300":"red.500",borderBottomWidth:2,fontSize:"16",InputLeftElement:(0,O.jsx)(j.default,{as:(0,O.jsx)(P.default,{name:"person"}),size:5,ml:"2",color:"white"}),placeholder:"Email",placeholderTextColor:"white"}),(0,O.jsx)(b.Input,{w:{base:"90%",md:"90%",sm:"90%"},ref:Bt,onSubmitEditing:ir,borderBottomColor:Ut?"green.300":"red.500",borderBottomWidth:2,onChangeText:function(){fr()},fontSize:"16",borderColor:"white",type:ie?"text":"password",InputLeftElement:(0,O.jsx)(j.default,{as:(0,O.jsx)(A.default,{name:ie?"unlock-alt":"lock"}),size:5,ml:"2",color:"white"}),InputRightElement:(0,O.jsx)(C.default,{onPress:function(){return se(!ie)},children:(0,O.jsx)(j.default,{as:(0,O.jsx)(P.default,{name:ie?"visibility":"visibility-off"}),size:5,mr:"2",color:"white"})}),placeholder:"Password",placeholderTextColor:"gray",color:"white"}),(0,O.jsx)(b.Input,{w:{base:"90%",md:"90%",sm:"90%"},ref:It,onSubmitEditing:ir,borderBottomColor:Tt?"green.300":"red.500",borderBottomWidth:2,onChangeText:function(){var e,t,r=null==(e=Bt.current)?void 0:e.value,o=null==(t=It.current)?void 0:t.value,n=r?r.length:0;zt(r===o&&n>=6),Ht(r===o)},fontSize:"16",borderColor:"white",type:ue?"text":"password",InputLeftElement:(0,O.jsx)(j.default,{as:(0,O.jsx)(A.default,{name:ue?"unlock-alt":"lock"}),size:5,ml:"2",color:"white"}),InputRightElement:(0,O.jsx)(C.default,{onPress:function(){return fe(!ue)},children:(0,O.jsx)(j.default,{as:(0,O.jsx)(P.default,{name:ue?"visibility":"visibility-off"}),size:5,mr:"2",color:"white"})}),placeholder:"Confirm Password",placeholderTextColor:"white",color:"white"}),!gr()&&(0,O.jsx)(u.default,{fontSize:[12,14,16],color:"#D22730",bold:!0,children:"Invalid Email!"}),ht&&(0,O.jsx)(u.default,{fontSize:[12,14,16],color:"#D22730",bold:!0,children:"Email already in use! Please use a different email!"}),!Ut&&(0,O.jsx)(u.default,{fontSize:[12,14,16],color:"#D22730",bold:!0,children:"Password must be at least 6 characters or above!"}),!Ot&&(0,O.jsx)(u.default,{fontSize:[12,14,16],color:"#D22730",bold:!0,children:"Passwords do not match!"}),(0,O.jsx)(u.default,{fontSize:16,color:"white",bold:!0,children:"ACCOUNT TYPE:                                                             "}),(0,O.jsxs)(h.default,{borderColor:hr()?"green.300":"red.500",borderWidth:2,children:[(0,O.jsxs)(w.default,{space:1,justifyContent:"center",children:[(0,O.jsx)(f.Button,{_hover:{bgColor:Qe?"#0642F4":"blueGray.400"},size:"sm",borderWidth:"1",borderColor:"white",w:{base:90,md:90,sm:90},onPress:function(){et(!0),Ze(!1),Ve(!1),Ge(!1),We(!1),Ct("booking"),vt("Booking")},bgColor:Qe?"#0642F4":"#CED5EA",children:(0,O.jsx)(u.default,{style:{color:"white"},children:"Booking"})}),(0,O.jsx)(f.Button,{_hover:{bgColor:Ke?"#0642F4":"blueGray.400"},size:"sm",borderWidth:"1",borderColor:"white",w:{base:90,md:90,sm:90},onPress:function(){Ze(!0),Ve(!1),Ge(!1),We(!1),et(!1),Ct("staff"),vt("Staff")},bgColor:Ke?"#0642F4":"#CED5EA",children:(0,O.jsx)(u.default,{style:{color:"white"},children:"Staff"})}),(0,O.jsx)(f.Button,{_hover:{bgColor:_e?"#0642F4":"blueGray.400"},size:"sm",borderWidth:"1",borderColor:"white",w:{base:90,md:90,sm:90},onPress:function(){Ge(!0),We(!1),Ve(!1),Ze(!1),et(!1),Ct("admin"),vt("Admin")},bgColor:_e?"#0642F4":"#CED5EA",children:(0,O.jsx)(u.default,{style:{color:"white"},children:"Admin"})}),(0,O.jsx)(f.Button,{_hover:{bgColor:ze?"#0642F4":"blueGray.400"},size:"sm",borderWidth:"1",borderColor:"white",w:{base:90,md:90,sm:90},onPress:function(){We(!0),Ve(!1),Ge(!1),Ze(!1),et(!1),Ct("superadmin"),vt("Super Admin")},bgColor:ze?"#0642F4":"#CED5EA",children:(0,O.jsx)(u.default,{style:{color:"white"},children:"Super Admin"})})]}),(0,O.jsx)(w.default,{space:1,justifyContent:"center",marginTop:1,children:(0,O.jsx)(f.Button,{_hover:{bgColor:He?"#0642F4":"blueGray.400"},size:"sm",borderWidth:"1",borderColor:"white",w:{base:90,md:90,sm:90},onPress:function(){Ve(!0),Ge(!1),We(!1),Ze(!1),et(!1),vt("Developer Admin"),Ct("devadmin")},bgColor:He?"#0642F4":"#CED5EA",children:(0,O.jsx)(u.default,{style:{color:"white"},children:"Dev Admin"})})})]}),(0,O.jsxs)(w.default,{space:1,justifyContent:"center",marginBottom:5,children:[(0,O.jsx)(f.Button,{_hover:{bgColor:"#D9D9D9"},_pressed:{bgColor:"#D9D9D9"},_focus:{bgColor:"#D9D9D9"},bgColor:"warmGray.200",size:"lg",borderWidth:"1",borderColor:"white",w:{base:130,md:130,sm:130},onPress:sr,children:(0,O.jsx)(u.default,{style:{color:"gray"},children:"Clear"})}),(0,O.jsx)(f.Button,{_hover:{bgColor:"#537EFC"},_pressed:{bgColor:"#537EFC"},_focus:{bgColor:"#537EFC"},bgColor:"#7b9cff",size:"lg",borderWidth:"1",borderColor:"white",w:{base:130,md:130,sm:130},onPress:ir,disabled:me,children:be?(0,O.jsx)(S.default,{color:"white",size:16}):(0,O.jsx)(u.default,{style:{color:"white"},children:"Add Acccount"})})]})]})})})})})})})})]})]})}},15908:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ot});var o=r(15861),n=r(42982),l=r(4942),a=r(70885),i=r(24770),s=r(32535),d=r(68873),c=r(67849),u=r(40013),f=r(87754),h=r(71592),g=r(16886),m=r(48174),x=r(15352),p=r(3725),y=r(16650),b=r(93468),j=r(80410),C=r(79731),w=r(58719),S=r(67221),D=r(74905),v=r(93020),M=r(16433),P=r(82260),A=r(87920),L=r(89526),F=r(46337),E=r(71451),B=r(74333),I=(r(87026),r(33034)),k=r(51223),R=r(65738),T=r(32450),z=r(55202),W=r(42640),N=(r(14574),r(38615)),O=r(47673),H=r(31402),V=r(36105),Y=r.n(V),U=(r(95634),r(48859)),_=r(69248),G=r(61620),q=r(86308),J=r(76805),K=r(93232),Z=r(30083),$=r(95212),X=r(53059),Q=(r(85657),r(37050)),ee=(r(84828),r(56194),r(49667),r(26555)),te=(r(96500),r(79552)),re=(r(51631),r(39980)),oe=r(83277),ne=r(67557);function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}F.default.get("window").width;var ie=[],se="",de=0,ce="",ue=[],fe=[],he=[],ge="",me="ADD NEW VEHICLE",xe="",pe="",ye="",be=(0,H.getFirestore)(),je=function(e){var t=e.onClose,r=e.bodyText,o=e.headerText,n=(0,Z.useSelector)((function(e){return e.isUpdateSuccessModalOpen}));return(0,ne.jsx)(i.Modal,{isOpen:n,onClose:t,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"green.100",children:[(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"green.100",children:(0,ne.jsx)(s.default,{textAlign:"center",color:"#102A43",bold:!0,children:"\ud83d\ude0a\ud83d\ude0e Success! \ud83d\ude0e\ud83d\ude0a"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"green.200",borderLeftWidth:4,borderLeftColor:"green.600",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"green.600",bold:!0,children:o}),(0,ne.jsx)(s.default,{color:"green.600",children:r})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"green.100",children:(0,ne.jsx)(c.default,{space:5,flex:1,children:(0,ne.jsx)(u.Button,{colorScheme:"success",flex:"1",onPress:t,_text:{color:"white"},children:"Ok"})})})]})})},Ce=function(e){var t=e.onClose,r=e.bodyText,o=e.headerText,n=(0,Z.useSelector)((function(e){return e.isSuccessModalOpen}));return(0,ne.jsx)(i.Modal,{isOpen:n,onClose:t,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"green.100",children:[(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"green.100",children:(0,ne.jsx)(s.default,{textAlign:"center",color:"#102A43",bold:!0,children:"\ud83d\ude0a\ud83d\ude0e Success! \ud83d\ude0e\ud83d\ude0a"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"green.200",borderLeftWidth:4,borderLeftColor:"green.600",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"green.600",bold:!0,children:o}),(0,ne.jsx)(s.default,{color:"green.600",children:r})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"green.100",children:(0,ne.jsx)(c.default,{space:5,flex:1,children:(0,ne.jsx)(u.Button,{colorScheme:"success",flex:"1",onPress:t,_text:{color:"white"},children:"Ok"})})})]})})},we=function(){var e=(0,Z.useSelector)((function(e){return e.loadingModalVisible}));return(0,ne.jsx)(d.default,{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.5)",flex:1,display:e?"":"none",children:(0,ne.jsx)(f.default,{flex:1,children:(0,ne.jsxs)(d.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:[(0,ne.jsx)(h.default,{size:"lg",color:"white"}),(0,ne.jsx)(s.default,{color:"white",children:"Loading, please wait!"})]})})})},Se=function(e){var t=e.expenseNameIsError,r=(e.selectExpenseNameRef,e.selectResetKey,(0,Z.useDispatch)()),o=(0,Z.useSelector)((function(e){return e.expenseNameData})),n=(0,Z.useSelector)((function(e){return e.selectedExpenseName})),l=(0,L.useState)((0,re.nanoid)()),i=(0,a.default)(l,2);i[0],i[1];return(0,ne.jsx)(g.default,{selectedValue:n,borderColor:t?"error.400":"muted.300",flex:3,onValueChange:function(e){se=e,r((0,Q.setSelectedExpenseName)(e))},accessibilityLabel:"Choose Expense Name",placeholder:"Choose Expense Name",_selectedItem:{bg:"teal.600",endIcon:(0,ne.jsx)(m.CheckIcon,{size:"5"})},children:o.map((function(e){return(0,ne.jsx)(g.default.Item,{label:e,value:e},e)}))})},De=function(e){var t=e.paidToIsError,r=(0,Z.useDispatch)(),o=(0,Z.useSelector)((function(e){return e.paidToData})),n=(0,Z.useSelector)((function(e){return e.selectedPaidTo}));return(0,ne.jsx)(g.default,{selectedValue:n,borderColor:t?"error.400":"muted.300",flex:3,onValueChange:function(e){ce=e,r((0,Q.setSelectedPaidTo)(e))},accessibilityLabel:"Choose Paid To",placeholder:"Choose Paid To",_selectedItem:{bg:"teal.600",endIcon:(0,ne.jsx)(m.CheckIcon,{size:"5"})},children:o.map((function(e){return(0,ne.jsx)(g.default.Item,{label:e,value:e},e)}))})},ve=function(e){var t=e.selectedDate,r=e.setSelectedDate,o=(0,L.useState)(!1),n=(0,a.default)(o,2),s=n[0],c=n[1],u=function(){c(!0)},f=function(){c(!1)};return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(x.default,{onPress:u,flex:3,children:(0,ne.jsx)(p.Input,{value:t,onFocus:u})}),(0,ne.jsxs)(i.Modal,{isOpen:s,onClose:f,useRNModal:!0,children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Content,{children:(0,ne.jsx)(d.default,{height:"full",flex:1,children:(0,ne.jsx)(te.Calendar,{onDayPress:(0,L.useCallback)((function(e){r(e.dateString),pe=e.dateString,f()}),[]),markedDates:(0,l.default)({},t,{selected:!0,disableTouchEvent:!0,selectedDotColor:"#7b9cff"}),renderArrow:function(e){return"left"===e?(0,ne.jsx)(I.default,{name:"arrow-back-ios",color:"#7b9cff"}):(0,ne.jsx)(I.default,{name:"arrow-forward-ios",color:"#7b9cff"})},enableSwipeMonths:!0,initialDate:t,showSixWeeks:!0})})})]})]})},Me=function(e){var t=e.handleAddExpenseNameTextChange,r=e.textAreaAddExpenseName,o=e.inputExpenseAmount,f=e.handleInputExpenseAmountChange,h=e.handleAddPaidToTextChange,g=e.paidToData,m=(e.inputCarNotes,(0,Z.useDispatch)()),b=(0,Z.useSelector)((function(e){return e.supplyChainsCostsData})),j=(0,L.useState)([]),C=(0,a.default)(j,2),w=(C[0],C[1],(0,Z.useSelector)((function(e){return e.currentDate}))),S=(0,L.useState)(!1),D=(0,a.default)(S,2),v=D[0],M=D[1],P=(0,L.useState)(!1),A=(0,a.default)(P,2),F=(A[0],A[1],(0,Z.useSelector)((function(e){return e.expenseNameData}))),E=(0,L.useState)(!1),B=(0,a.default)(E,2),R=B[0],T=B[1],z=(0,L.useState)([]),W=(0,a.default)(z,2),N=(W[0],W[1],(0,L.useState)(w)),O=(0,a.default)(N,2),H=O[0],V=O[1],Y=(0,L.useState)(!1),_=(0,a.default)(Y,2),G=_[0],q=_[1],J=(0,L.useState)(!1),K=(0,a.default)(J,2),$=K[0],ee=K[1],te=(0,L.useState)(!1),oe=(0,a.default)(te,2),le=oe[0],ae=oe[1],ue=(0,L.useState)(de),fe=(0,a.default)(ue,2),he=fe[0],ge=fe[1],me=(0,L.useState)((0,re.nanoid)()),xe=(0,a.default)(me,2),ye=xe[0],be=xe[1],je=(0,L.useRef)(null),Ce=((0,L.useRef)(null),function(){var e;M(!1),null==(e=o.current)||e.clear(),se="",be((0,re.nanoid)()),ce="",V(w),pe=w,m((0,Q.setSelectedExpenseName)("")),m((0,Q.setSelectedPaidTo)("")),q(!1),ee(!1),ae(!1)}),we=function(){T(!1)};(0,L.useEffect)((function(){var e=b.map((function(e){var t=e[Object.keys(e)[0]];return parseFloat(t.amount.replace(",",""))||0})).reduce((function(e,t){return e+t}),0).toLocaleString();ge(e),de=e}),[b]);var Me=(0,L.useCallback)((function(){var e,t;if(""==(null==(e=o.current)?void 0:e.value)||0==(null==(t=o.current)?void 0:t.value)||""==se||""==ce){var r,a;""!=(null==(r=o.current)?void 0:r.value)&&0!=(null==(a=o.current)?void 0:a.value)||q(!0),""==se&&ee(!0),""==ce&&ae(!0)}else{var i=ie.findIndex((function(e){return e[se]}));if(-1!==i){var s,d=(0,X.cloneDeep)(ie);d[i][se]={expenseName:se,amount:null==(s=o.current)?void 0:s.value,date:pe,paidName:ce},ie=d,m((0,Q.setSupplyChainsCostsData)(ie)),m((0,Q.setSelectedExpenseName)("")),m((0,Q.setSelectedPaidTo)("")),o.current.clear(),se="",ce="",V(w),pe=w}else{var c;q(!1),ee(!1),ae(!1);var u=(0,l.default)({},se,{expenseName:se,amount:null==(c=o.current)?void 0:c.value,date:pe,paidName:ce});ie=[].concat((0,n.default)(ie),[u]),console.log(ie),m((0,Q.setSupplyChainsCostsData)(ie)),be((0,re.nanoid)()),o.current.clear(),se="",ce="",V(w),pe=w,m((0,Q.setSelectedExpenseName)("")),m((0,Q.setSelectedPaidTo)(""))}}}),[]),Pe=(0,L.useCallback)((function(e){console.log(e.amount),o.current.setNativeProps({text:e.amount}),m((0,Q.setSelectedExpenseName)(e.expenseName)),se=e.expenseName,m((0,Q.setSelectedPaidTo)(e.paidName)),ce=e.paidName,pe=e.date,V(e.date)}),[]),Ae=function(){M(!1)},Le=function(){M(!0)};return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(u.Button,{borderRadius:3,flex:1,onPress:function(){M(!0)},variant:"outline",_text:{color:"black"},leftIcon:(0,ne.jsx)(I.default,{name:"payments",size:20,color:"black"}),children:(0,ne.jsxs)(s.default,{children:["Supply Chains Costs: \xa5",he]})}),(0,ne.jsx)(i.Modal,{isOpen:v,onClose:Ce,size:"full",children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"white",w:"50%",h:"auto",children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{bgColor:"#7B9CFF",children:(0,ne.jsx)(s.default,{color:"white",fontSize:20,bold:!0,children:"Supply Chains Costs"})}),(0,ne.jsx)(i.Modal.Body,{children:(0,ne.jsxs)(d.default,{height:"full",children:[(0,ne.jsxs)(d.default,{paddingBottom:5,children:[(0,ne.jsxs)(d.default,{flexDir:"row",paddingBottom:1,children:[(0,ne.jsxs)(d.default,{bgColor:"#7B9CFF",flex:1,flexDir:"row",alignItems:"center",justifyContent:"center",borderRadius:3,children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",marginLeft:2,flex:1,children:"Expense"}),(0,ne.jsx)(Ie,{docName:"ExpenseName",handleAddTextChange:t,textAreaAdd:r,title:"Expense Name",dataName:"expenseName",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Expense Name",data:F,handleFirstModalClose:Ae,handleFirstModalOpen:Le})]}),(0,ne.jsx)(Se,{expenseNameIsError:$,selectExpenseNameRef:je,selectResetKey:ye,setSelectResetKey:be})]}),(0,ne.jsxs)(d.default,{flexDir:"row",paddingBottom:1,children:[(0,ne.jsx)(d.default,{bgColor:"#7B9CFF",flex:1,flexDir:"row",alignItems:"center",justifyContent:"center",borderRadius:3,children:(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",marginLeft:2,flex:1,children:"Amount"})}),(0,ne.jsx)(p.Input,{borderColor:G?"error.400":"muted.300",flex:3,ref:o,onChangeText:f,placeholder:"Amount",bgColor:"white",placeholderTextColor:"muted.400",InputLeftElement:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(k.default,{name:"yen"}),size:5,ml:"2",color:"muted.400"})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",paddingBottom:1,children:[(0,ne.jsx)(d.default,{bgColor:"#7B9CFF",flex:1,flexDir:"row",alignItems:"center",justifyContent:"center",borderRadius:3,children:(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",marginLeft:2,flex:1,children:"Date"})}),(0,ne.jsx)(ve,{setSelectedDate:V,selectedDate:H})]}),(0,ne.jsxs)(d.default,{flexDir:"row",paddingBottom:1,children:[(0,ne.jsxs)(d.default,{bgColor:"#7B9CFF",flex:1,flexDir:"row",alignItems:"center",justifyContent:"center",borderRadius:3,children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",marginLeft:2,flex:1,children:"Paid to"}),(0,ne.jsx)(Ie,{docName:"PaidTo",handleAddTextChange:h,textAreaAdd:r,title:"Paid To",dataName:"paidTo",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Paid To",data:g,handleFirstModalClose:Ae,handleFirstModalOpen:Le})]}),(0,ne.jsx)(De,{paidToIsError:le})]}),(0,ne.jsx)(u.Button,{onPress:Me,colorScheme:"success",size:"sm",borderRadius:5,margin:1,flex:1,width:"40%",alignSelf:"center",leftIcon:(0,ne.jsx)(I.default,{name:"add",color:"white",size:20}),children:"ADD"})]}),(0,ne.jsxs)(d.default,{children:[(0,ne.jsxs)(d.default,{flexDirection:"row",borderBottomWidth:1,borderColor:"gray.200",bgColor:"#0642F4",children:[(0,ne.jsx)(s.default,{flex:1,color:"white",marginLeft:1,bold:!0,children:"Expense Name"}),(0,ne.jsx)(s.default,{flex:1,color:"white",marginLeft:1,bold:!0,children:"Amount"}),(0,ne.jsx)(s.default,{flex:1,color:"white",marginLeft:1,bold:!0,children:"Date"}),(0,ne.jsx)(s.default,{flex:1,color:"white",marginLeft:1,bold:!0,children:"Paid To"}),(0,ne.jsx)(s.default,{flex:1,color:"white",marginLeft:1,bold:!0,children:"Modify"})]}),b.map((function(e,t){var r=e[Object.keys(e)[0]];return(0,ne.jsxs)(d.default,{flexDirection:"row",bgColor:"muted.300",borderBottomColor:"gray.200",borderBottomWidth:1,justifyContent:"center",alignItems:"center",children:[(0,ne.jsx)(s.default,{flex:1,marginLeft:1,children:r.expenseName}),(0,ne.jsxs)(s.default,{flex:1,marginLeft:1,children:["\xa5",r.amount]}),(0,ne.jsx)(s.default,{flex:1,marginLeft:1,children:r.date}),(0,ne.jsx)(s.default,{flex:1,marginLeft:1,children:r.paidName}),(0,ne.jsxs)(d.default,{flex:1,marginLeft:1,flexDir:"row",children:[(0,ne.jsx)(x.default,{flex:1,margin:1,onPress:function(){return Pe(r)},children:function(e){var t=e.isHovered;e.isFocused,e.isPressed;return(0,ne.jsx)(d.default,{flex:1,bgColor:t?"primary.700":"primary.500",borderRadius:3,children:(0,ne.jsx)(s.default,{flex:1,textAlign:"center",color:"white",children:"Edit"})})}}),(0,ne.jsx)(x.default,{flex:1,margin:1,onPress:function(){return function(e){var t=ie.findIndex((function(t){return Object.keys(t)[0]===e}));if(-1!==t){var r=(0,n.default)(ie);r.splice(t,1),m((0,Q.setSupplyChainsCostsData)(r)),ie=r}}(r.expenseName)},children:function(e){var t=e.isHovered;e.isFocused,e.isPressed;return(0,ne.jsx)(d.default,{flex:1,bgColor:t?"error.800":"error.500",borderRadius:3,children:(0,ne.jsx)(s.default,{flex:1,textAlign:"center",color:"white",children:"Delete"})})}})]})]},t)}))]})]})}),(0,ne.jsxs)(c.default,{space:5,width:"full",justifyContent:"space-between",children:[(0,ne.jsx)(d.default,{flex:4}),(0,ne.jsx)(u.Button,{onPress:Ce,colorScheme:"gray",size:"sm",borderRadius:5,margin:1,flex:1,children:"Close"})]})]})}),(0,ne.jsx)(i.Modal,{isOpen:R,onClose:we,useRNModal:!0,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"amber.100",children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"amber.100",children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Clear"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"amber.200",borderLeftWidth:4,borderLeftColor:"amber.600",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"amber.600",bold:!0,children:"Warning!"}),(0,ne.jsx)(s.default,{color:"amber.600",children:"Are you sure you want to clear?"})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"amber.100",children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:we,colorScheme:"warmGray",flex:1,size:"sm",borderRadius:5,children:"No"}),(0,ne.jsx)(u.Button,{onPress:function(){},flex:1,size:"sm",colorScheme:"amber",borderRadius:5,children:"Clear"})]})})]})})]})},Pe=function(){var e=U.projectControlAuth.currentUser;return e?e.email:(console.log("No user is currently authenticated"),null)},Ae=(0,G.getStorage)(U.projectExtensionFirebase),Le=function(e){var t=e.modalDeleteImagesVisible,r=e.setModalDeleteImagesVisible,o=e.handleClearImages,n=e.selectedImages,l=e.isAddPhotoVisible,a=function(){r(!1)};return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(d.default,{position:"absolute",top:0,right:0,bg:"error.500",borderRadius:3,alignItems:"center",justifyContent:"center",display:l?"none":"block",children:(0,ne.jsx)(x.default,{onPress:function(){r(!0)},flex:1,children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(R.default,{name:"trash-sharp"}),size:5,color:"white",cursor:"pointer"})})}),(0,ne.jsx)(i.Modal,{isOpen:t,onClose:a,useRNModal:!0,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"error.100",children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"error.100",children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Clear Images"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"error.200",borderLeftWidth:4,borderLeftColor:"danger.400",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"danger.500",bold:!0,children:"Alert!"}),(0,ne.jsxs)(s.default,{color:"danger.500",children:["Are you sure you want to clear ",(0,ne.jsxs)(s.default,{color:"danger.500",bold:!0,children:[n.length," "]}),"selected image(s)?"]})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"error.100",children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:a,colorScheme:"warmGray",flex:1,size:"sm",borderRadius:5,children:"No"}),(0,ne.jsx)(u.Button,{onPress:o,flex:1,size:"sm",colorScheme:"error",borderRadius:5,children:"Clear Images"})]})})]})})]})},Fe=function(e){var t=e.dragSortableViewRef,r=e.handleClearImagesExtra,l=(0,Z.useDispatch)(),h=F.default.get("window").width,g=(0,Z.useSelector)((function(e){return e.deleteImageVisible})),m=(0,L.useState)(!0),p=(0,a.default)(m,2),C=p[0],w=(p[1],(0,Z.useSelector)((function(e){return e.selectedImages}))),S=(0,Z.useSelector)((function(e){return e.isAddPhotoVisible})),D=(0,Z.useSelector)((function(e){return e.addAnotherImages})),v=(0,L.useState)(!1),M=(0,a.default)(v,2),P=M[0],A=M[1],E=(0,L.useState)(!0),k=(0,a.default)(E,2),R=k[0],z=k[1],W=(0,L.useState)(!1),N=(0,a.default)(W,2),O=N[0],H=N[1],V=(0,L.useState)(F.default.get("window").width),Y=(0,a.default)(V,2),U=Y[0],G=Y[1],J=(0,L.useState)(!1),K=(0,a.default)(J,2),$=(K[0],K[1]),X=(0,L.useState)(""),te=(0,a.default)(X,2),re=te[0],oe=te[1],le=(0,L.useState)(!1),ae=(0,a.default)(le,2),ie=ae[0],se=ae[1],de=(0,L.useState)(!1),ce=(0,a.default)(de,2),ue=ce[0],fe=ce[1],ge=(0,L.useCallback)((function(e){$(!0),oe(e),se(!0)}),[]),me=B.default.create({dropdown:{margin:16,height:50,borderBottomColor:"gray",borderBottomWidth:.5},icon:{marginRight:5},placeholderStyle:{fontSize:16},selectedTextStyle:{fontSize:16},iconStyle:{width:20,height:20},inputSearchStyle:{height:40,fontSize:16},container:{flex:1,paddingTop:20},txt:{fontSize:18,lineHeight:24,padding:5},sort:{},item_children:{width:90,height:90,backgroundColor:"black",justifyContent:"center",alignItems:"center"},item_delete_icon:{width:14,height:14,position:"absolute",right:1,top:1},item_icon:{width:90,height:90,resizeMode:"contain",position:"absolute"}}),xe=function(){var e=(0,o.default)((function*(){if(l((0,Q.setDeleteImageVisible)(!0)),40!==w.length){var e={mediaType:"photo",maxWidth:1e3,maxHeight:1e3,selectionLimit:40-w.length,storageOptions:{skipBackup:!0,path:"images"}};try{var t=yield(0,_.launchImageLibrary)(e);if(t.didCancel)return void console.log("User cancelled image picker");if(t.error)return void console.log("ImagePicker Error: ",t.error);if(!t.assets||0===t.assets.length)return void console.log("No images selected.");var r=(0,n.default)(w),a=t.assets.map(function(){var e=(0,o.default)((function*(e){(yield fetch(e.uri).then((function(e){return e.blob()}))).size/1024/1024<10?r.some((function(t){return t.uri===e.uri}))||r.push(e):fe(!0)}));return function(t){return e.apply(this,arguments)}}());yield Promise.all(a);var i=r.slice(0,40);l((0,Q.setSelectedImages)(i)),he=i,i.length>=40&&l((0,Q.setAddAnotherImages)(!1))}catch(s){console.log("ImagePicker Error: ",s)}}}));return function(){return e.apply(this,arguments)}}(),pe=(0,L.useCallback)((function(){if(w.length>0){var e=(0,n.default)(w);l((0,Q.setSelectedImages)(e))}}),[U]);(0,L.useEffect)((function(){var e=function(e){var t=e.window;G(t.width)};return F.default.addEventListener("change",e),function(){F.default.removeEventListener("change",e)}}),[]),(0,L.useEffect)((function(){pe()}),[pe]);var ye=(0,L.useCallback)((function(){A(!1),r()}),[]),be=(0,L.useCallback)((function(e){return O?(0,ne.jsx)(d.default,{style:me.item,children:(0,ne.jsxs)(d.default,{style:me.item_children,children:[(0,ne.jsx)(ee.default,{style:me.item_icon,source:{uri:e.uri,priority:ee.default.priority.normal},resizeMode:ee.default.resizeMode.contain}),(0,ne.jsx)(d.default,{position:"absolute",top:-3,right:-3,bg:"rgba(0, 0, 0, 0.5)",borderRadius:10,alignItems:"center",justifyContent:"center",children:(0,ne.jsx)(x.default,{onPress:function(){return we(e.uri)},display:C?"block":"none",children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(T.default,{name:"circle-with-cross"}),size:4,color:"white",cursor:"pointer"})})})]})},e.uri):(0,ne.jsx)(d.default,{style:me.item,children:(0,ne.jsxs)(d.default,{style:me.item_children,children:[(0,ne.jsx)(ee.default,{style:me.item_icon,source:{uri:e.uri,priority:ee.default.priority.normal},resizeMode:ee.default.resizeMode.contain}),(0,ne.jsx)(d.default,{position:"absolute",top:-3,right:-3,bg:"rgba(0, 0, 0, 0.5)",borderRadius:10,alignItems:"center",justifyContent:"center",children:(0,ne.jsx)(x.default,{onPress:function(){return we(e.uri)},display:C?"block":"none",children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(T.default,{name:"circle-with-cross"}),size:4,color:"white",cursor:"pointer"})})})]})},e.id)}),[]),je=(0,L.useCallback)((function(e){return O?(0,ne.jsx)(d.default,{style:me.item,children:(0,ne.jsx)(d.default,{style:me.item_children,children:(0,ne.jsx)(ee.default,{style:me.item_icon,source:{uri:e.uri,priority:ee.default.priority.normal},resizeMode:ee.default.resizeMode.contain})})},e.uri):(0,ne.jsx)(d.default,{style:me.item,children:(0,ne.jsx)(d.default,{style:me.item_children,children:(0,ne.jsx)(ee.default,{style:me.item_icon,source:{uri:e.uri,priority:ee.default.priority.normal},resizeMode:ee.default.resizeMode.contain})})},e.id)}),[]),Ce=function(){var e=(0,o.default)((function*(){try{var e=yield(0,_.launchImageLibrary)({mediaType:"photo",maxWidth:1e3,maxHeight:1e3,selectionLimit:40,storageOptions:{skipBackup:!0,path:"images"}});if(e.didCancel)return void console.log("User cancelled image picker");if(e.error)return void console.log("ImagePicker Error: ",e.error);if(!e.assets||0===e.assets.length)return void console.log("No images selected.");for(var t=e.assets.filter((function(e,t,r){return t===r.findIndex((function(t){return t.uri===e.uri}))})),r=[],o=[],n=0;n<t.length;n++){var a=t[n];(yield fetch(a.uri).then((function(e){return e.blob()}))).size/1024/1024<10?(r.push(a),o.push(n)):fe(!0)}var i=r.sort((function(e,t){return o[r.indexOf(e)]-o[r.indexOf(t)]})).slice(0,40);he=i,i.length>0&&(l((0,Q.setIsAddPhotoVisible)(!1)),l((0,Q.setAddAnotherImages)(!0))),i.length>=40&&(l((0,Q.setIsAddPhotoVisible)(!1)),l((0,Q.setAddAnotherImages)(!1))),l((0,Q.setSelectedImages)(he))}catch(s){console.log("ImagePicker Error: ",s)}}));return function(){return e.apply(this,arguments)}}(),we=(0,L.useCallback)((function(e){(he=he.filter((function(t){return t.uri!==e}))).length<40&&l((0,Q.setAddAnotherImages)(!0)),0==he.length&&(l((0,Q.setAddAnotherImages)(!1)),l((0,Q.setIsAddPhotoVisible)(!0))),l((0,Q.setSelectedImages)(he))}),[]);return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(d.default,{flex:1,borderColor:"white",borderWidth:1,children:(0,ne.jsx)(b.ScrollView,{flex:1,contentContainerStyle:{flexGrow:1},children:(0,ne.jsxs)(d.default,{justifyContent:"center",alignItems:"center",h:"full",w:"full",children:[(0,ne.jsx)(Le,{modalDeleteImagesVisible:P,setModalDeleteImagesVisible:A,handleClearImages:ye,selectedImages:w,isAddPhotoVisible:S}),(0,ne.jsxs)(d.default,{justifyContent:"center",alignSelf:"center",alignItems:"center",margin:3,children:[(0,ne.jsx)(y.default,{display:S?"block":"none",onPress:Ce,as:(0,ne.jsx)(I.default,{name:"add-photo-alternate"}),size:100,ml:"2",color:"white"}),(0,ne.jsxs)(b.ScrollView,{scrollEnabled:R,flex:1,children:[(0,ne.jsxs)(d.default,{flex:1,display:g?"flex":"none",width:"full",alignItems:"center",justifyContent:"center",children:[(0,ne.jsx)(q.DragSortableView,{ref:t,dataSource:w,delayLongPress:100,parentWidth:.33*h,childrenWidth:100,childrenHeight:100,marginChildrenTop:3,marginChildrenBottom:0,marginChildrenLeft:0,marginChildrenRight:0,onDragStart:(0,L.useCallback)((function(){O||H(!0),z(!1)}),[]),onDragEnd:(0,L.useCallback)((function(){z(!0)}),[]),onDataChange:(0,L.useCallback)((function(e){e.length!==e&&(l((0,Q.setSelectedImages)(e)),he=e)}),[]),onClickItem:function(e,t){ge(t.uri)},keyExtractor:function(e){return e.uri},renderItem:(0,L.useCallback)((function(e,t){return be(e,t)}),[])}),(0,ne.jsx)(f.default,{children:(0,ne.jsx)(y.default,{display:D?"block":"none",onPress:xe,as:(0,ne.jsx)(T.default,{name:"plus"}),ml:"2",size:50,color:"white"})})]}),(0,ne.jsx)(d.default,{flex:1,display:g?"none":"flex",width:"full",children:(0,ne.jsx)(q.DragSortableView,{sortable:!1,ref:t,dataSource:w,parentWidth:.33*h,childrenWidth:100,childrenHeight:100,marginChildrenTop:3,marginChildrenBottom:0,marginChildrenLeft:0,marginChildrenRight:0,onClickItem:function(e,t){ge(t.uri)},keyExtractor:function(e){return e.uri},renderItem:(0,L.useCallback)((function(e,t){return je(e,t)}),[])})})]})]}),(0,ne.jsx)(d.default,{position:"absolute",top:0,left:0,borderRadius:3,bgColor:"rgba(0, 0, 0, 0.5)",alignItems:"center",justifyContent:"center",display:S?"none":"block",children:(0,ne.jsxs)(s.default,{marginLeft:1,marginRight:1,color:"white",bold:!0,italic:!0,fontSize:12,children:["Selected ",w.length," image(s) (Maximum of 40)"]})})]})})}),(0,ne.jsx)(i.Modal,{isOpen:ie,onClose:function(){return se(!1)},size:"100%",children:(0,ne.jsxs)(d.default,{w:"80%",h:"80%",bgColor:"rgba(0, 0, 0, 0.7)",borderRadius:10,display:"flex",alignItems:"center",justifyContent:"center",alignContent:"center",children:[(0,ne.jsx)(i.Modal.CloseButton,{color:"white"}),(0,ne.jsx)(j.default,{source:{uri:re},resizeMode:"contain",flex:1,alt:re,h:720,w:1280},re)]})}),(0,ne.jsx)(i.Modal,{isOpen:ue,onClose:function(){return fe(!1)},children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"danger.100",children:[(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"danger.100",children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Failed!"})}),(0,ne.jsx)(i.Modal.Body,{bgColor:"danger.200",borderLeftWidth:4,borderLeftColor:"danger.600",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"danger.600",bold:!0,children:"Failed!"}),(0,ne.jsx)(s.default,{color:"danger.600",children:"Please select image(s) smaller than 10MB!"})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"danger.100",children:(0,ne.jsx)(c.default,{space:5,flex:1,children:(0,ne.jsx)(u.Button,{colorScheme:"primary",flex:"1",onPress:function(){return fe(!1)},_text:{color:"white"},children:"Ok"})})})]})})]})},Ee=function(e){var t=e.isSuccessOpen,r=e.isFailedOpen,o=e.handleFailModalClose,n=e.inputStockIDNumber,l=e.handleSuccessModalClose,a=(0,L.useRef)(null),f=(0,L.useRef)(null);return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(i.Modal,{isOpen:t,onClose:l,initialFocusRef:a,finalFocusRef:n,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"green.100",children:[(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"green.100",children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Success!"})}),(0,ne.jsx)(i.Modal.Body,{bgColor:"green.200",borderLeftWidth:4,borderLeftColor:"green.600",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"green.600",bold:!0,children:"Success!"}),(0,ne.jsx)(s.default,{color:"green.600",children:"Stock ID Exist!"})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"green.100",children:(0,ne.jsx)(c.default,{space:5,flex:1,children:(0,ne.jsx)(u.Button,{ref:a,colorScheme:"primary",flex:"1",onPress:l,_text:{color:"white"},children:"Ok"})})})]})}),(0,ne.jsx)(i.Modal,{isOpen:r,onClose:o,initialFocusRef:f,finalFocusRef:n,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"danger.100",children:[(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"danger.100",children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Failed!"})}),(0,ne.jsx)(i.Modal.Body,{bgColor:"danger.200",borderLeftWidth:4,borderLeftColor:"danger.600",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"danger.600",bold:!0,children:"Failed!"}),(0,ne.jsx)(s.default,{color:"danger.600",children:"Stock ID Do Not Exist!"})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"danger.100",children:(0,ne.jsx)(c.default,{space:5,flex:1,children:(0,ne.jsx)(u.Button,{ref:f,colorScheme:"primary",flex:"1",onPress:o,_text:{color:"white"},children:"Ok"})})})]})})]})},Be=function(e){var t=e.selectStockStatus,r=e.handleSetBordersWhite,n=e.inputFobUsd,l=e.handleClearIfError,i=e.monthNumbers,c=e.steeringData,f=e.selectPort,h=e.selectSales,g=e.selectBuyer,m=e.inputRefNum,x=e.inputChassis,b=e.inputModelCode,j=e.inputEngineCode,C=e.inputEngineDis,w=e.selectSteering,S=e.inputMileage,D=e.selectTransmission,v=e.selectExteriorColor,M=e.inputNumOfSeats,P=e.inputDoors,A=e.inputPurchasedPrice,F=e.selectFuel,E=e.inputDimensionLength,B=e.inputDimensionWidth,T=e.inputDimensionHeight,z=e.inputDimensionCubicMeters,W=e.selectDriveType,N=e.inputWeight,O=e.selectBodyType,V=e.inputCarName,Y=e.inputCarDesc,_=e.inputFobJpy,q=e.selectRegYear,J=e.selectRegMonth,$=e.setRefNumFromSelects,X=e.inputStockIDNumber,ee=e.stockIDNumError,te=e.selectMakeForModelRef,re=e.textAreaAddModel,oe=e.selectMakeForAddModelRef,le=e.handleAddMakeTextChange,ae=e.textAreaAddMake,se=e.makeError,de=e.modelError,ce=e.selectMakeBoxRef,me=e.selectMakeRef,xe=e.selectModelRef,pe=e.selectModelBoxRef,be=e.setCarNameFromSelects,je=e.setCarNameFromSelectsModel,Ce=e.inputCarNotes,we=e.inputCarMemo,Se=e.purchasedPriceError,De=e.handleInputPurchasedPriceChange,ve=(0,Z.useDispatch)(),Me=(0,Z.useSelector)((function(e){return e.makeData})),Pe=(0,Z.useSelector)((function(e){return e.stockStatusData})),Le=(0,Z.useSelector)((function(e){return e.portData})),Fe=(0,Z.useSelector)((function(e){return e.transmissionData})),Be=(0,Z.useSelector)((function(e){return e.fuelData})),Ie=(0,Z.useSelector)((function(e){return e.buyerData})),Re=(0,Z.useSelector)((function(e){return e.salesData})),We=(0,Z.useSelector)((function(e){return e.driveTypeData})),Oe=(0,Z.useSelector)((function(e){return e.bodyTypeData})),rt=(0,Z.useSelector)((function(e){return e.exteriorColorData})),ot=(0,Z.useSelector)((function(e){return e.jpyToUsd})),nt=(0,L.useState)([]),lt=(0,a.default)(nt,2),at=lt[0],it=lt[1],st=(0,L.useState)(!1),dt=(0,a.default)(st,2),ct=dt[0],ut=dt[1],ft=(0,L.useState)(!1),ht=(0,a.default)(ft,2),gt=ht[0],mt=ht[1],xt=(0,L.useState)(!1),pt=(0,a.default)(xt,2),yt=pt[0],bt=pt[1],jt=(0,L.useState)([]),Ct=(0,a.default)(jt,2),wt=(Ct[0],Ct[1],(0,L.useState)("")),St=(0,a.default)(wt,2),Dt=(St[0],St[1],(0,L.useState)(0)),vt=(0,a.default)(Dt,2),Mt=(vt[0],vt[1],(0,L.useCallback)(function(){var e=(0,o.default)((function*(e){ve((0,Q.setLoadingModalVisible)(!0));try{var t=yield(0,G.listAll)((0,G.ref)(Ae,e+"/")),r=yield Promise.all(t.items.map(function(){var e=(0,o.default)((function*(e){return{uri:yield(0,G.getDownloadURL)(e),fileName:e.name}}));return function(t){return e.apply(this,arguments)}}()));r.sort((function(e,t){return parseInt(e.fileName)-parseInt(t.fileName)})),r.length>0?(ve((0,Q.setDeleteImageVisible)(!1)),ve((0,Q.setSelectedImages)(r)),ve((0,Q.setIsAddPhotoVisible)(!1)),ve((0,Q.setAddAnotherImages)(!1)),he=r):(ve((0,Q.setDeleteImageVisible)(!0)),ve((0,Q.setIsAddPhotoVisible)(!0)),ve((0,Q.setAddAnotherImages)(!1)),ve((0,Q.setSelectedImages)([])),ve((0,Q.setDeleteImageVisible)(!0)),he=[]),console.log(r)}catch(n){console.error("Error getting image URLs:",n)}}));return function(t){return e.apply(this,arguments)}}(),[])),Pt=(0,L.useCallback)((0,o.default)((function*(){var e;if(""!==(null==(e=X.current)?void 0:e.value)){var l;ve((0,Q.setLoadingModalVisible)(!0)),ut(!0),mt(!1),bt(!1);var a=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),(0,H.where)("stockID","==",null==(l=X.current)?void 0:l.value)),s=yield(0,H.getDocs)(a);s.empty?(console.log("No documents found"),ve((0,Q.setDeleteImageVisible)(!0)),ut(!1),bt(!0),ve((0,Q.setIsAddPhotoVisible)(!0)),ve((0,Q.setAddAnotherImages)(!1)),ve((0,Q.setSelectedImages)([])),he=[],ve((0,Q.setLoadingModalVisible)(!1))):s.forEach(function(){var e=(0,o.default)((function*(e){var l=e.data();function a(){return(a=(0,o.default)((function*(){try{var e=(0,H.doc)(U.projectExtensionFirestore,"Model",l.make);(yield(0,H.getDoc)(e)).exists()&&xe.current.selectIndex(ue.indexOf(He.text))}catch(t){console.error("Error fetching models data from Firebase: ",t)}}))).apply(this,arguments)}xe.current.reset(),ut(!1);try{var s=(0,H.doc)(U.projectExtensionFirestore,"Model",l.make),d=yield(0,H.getDoc)(s);if(d.exists()){var u=d.data().model;it(u),ue=u}}catch(p){console.error("Error fetching models data from Firebase: ",p)}r(),function(){a.apply(this,arguments)}(),t.current.selectIndex(Pe.indexOf(l.stockStatus)),me.current.selectIndex(Me.indexOf(l.make)),q.current.selectIndex(fe.indexOf(parseInt(l.regYear,10))),J.current.selectIndex(i.indexOf(l.regMonth)),f.current.selectIndex(Le.findIndex((function(e){return e.id===l.portID}))),h.current.selectIndex(Re.findIndex((function(e){return e.id===l.salesID}))),g.current.selectIndex(Ie.findIndex((function(e){return e.id===l.buyerID}))),m.current.setNativeProps({text:l.referenceNumber||""}),x.current.setNativeProps({text:l.chassisNumber||""}),b.current.setNativeProps({text:l.modelCode||""}),j.current.setNativeProps({text:l.engineCode||""}),C.current.setNativeProps({text:l.engineDisplacement?l.engineDisplacement.replace(/\B(?=(\d{3})+(?!\d))/g,","):""}),w.current.selectIndex(c.indexOf(l.steering)),S.current.setNativeProps({text:l.mileage?l.mileage.replace(/\B(?=(\d{3})+(?!\d))/g,","):""}),D.current.selectIndex(Fe.indexOf(l.transmission)),v.current.selectIndex(rt.indexOf(l.exteriorColor)),M.current.setNativeProps({text:l.numberOfSeats||""}),P.current.setNativeProps({text:l.doors||""}),A.current.setNativeProps({text:l.purchasedPrice?l.purchasedPrice.replace(/\B(?=(\d{3})+(?!\d))/g,",").toString():""}),F.current.selectIndex(Be.indexOf(l.fuel)),E.current.setNativeProps({text:l.dimensionLength?l.dimensionLength.replace(/\B(?=(\d{3})+(?!\d))/g,","):""}),B.current.setNativeProps({text:l.dimensionWidth?l.dimensionWidth.replace(/\B(?=(\d{3})+(?!\d))/g,","):""}),T.current.setNativeProps({text:l.dimensionHeight?l.dimensionHeight.replace(/\B(?=(\d{3})+(?!\d))/g,","):""}),z.current.setNativeProps({text:l.dimensionCubicMeters||""}),W.current.selectIndex(We.indexOf(l.driveType)),N.current.setNativeProps({text:l.weight?l.weight.replace(/\B(?=(\d{3})+(?!\d))/g,","):""}),O.current.selectIndex(Oe.findIndex((function(e){return e.toLowerCase()===l.bodyType.toLowerCase()}))),V.current.setNativeProps({text:l.carName||""}),Y.current.setNativeProps({text:l.carDescription||""}),_.current.setNativeProps({text:l.fobPrice?l.fobPrice.replace(/\B(?=(\d{3})+(?!\d))/g,","):""}),ye=l.fobPrice?l.fobPrice.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",function(e){var t=e.replace(/[^0-9]/g,"");if(t.startsWith("0"))n.current.setNativeProps({text:""});else{var r=t.slice(0,9),o=r.replace(/\B(?=(\d{3})+(?!\d))/g,",");if(""!==o){var l=parseFloat(r)*ot;if(isNaN(l))_.current.value=o,n.current.setNativeProps({text:""});else{var a=l.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",");_.current.value=o,n.current.setNativeProps({text:a})}}else _.current.value="",n.current.setNativeProps({text:""})}}(l.fobPrice?l.fobPrice:"0"),void 0==l.notes?Ce.current.setNativeProps({text:""}):Ce.current.setNativeProps({text:l.notes}),void 0==l.memo?we.current.setNativeProps({text:""}):we.current.setNativeProps({text:l.memo}),tt.SafetySystemAnBrSy=l.SafetySystemAnBrSy,tt.SafetySystemDrAi=l.SafetySystemDrAi,tt.SafetySystemPaAi=l.SafetySystemPaAi,tt.SafetySystemSiAi=l.SafetySystemSiAi,tt.ComfortAiCoFr=l.ComfortAiCoFr,tt.ComfortAiCoRe=l.ComfortAiCoRe,tt.ComfortAMFMRa=l.ComfortAMFMRa,tt.ComfortAMFMSt=l.ComfortAMFMSt,tt.ComfortCDPl=l.ComfortCDPl,tt.ComfortCDCh=l.ComfortCDCh,tt.ComfortCrSpCo=l.ComfortCrSpCo,tt.ComfortDiSp=l.ComfortDiSp,tt.ComfortDVDPl=l.ComfortDVDPl,tt.ComfortHDD=l.ComfortHDD,tt.ComfortNaSyGPS=l.ComfortNaSyGPS,tt.ComfortPoSt=l.ComfortPoSt,tt.ComfortPrAuSy=l.ComfortPrAuSy,tt.ComfortReKeSy=l.ComfortReKeSy,tt.ComfortTiStWh=l.ComfortTiStWh,tt.InteriorLeSe=l.InteriorLeSe,tt.InteriorPoDoLo=l.InteriorPoDoLo,tt.InteriorPoMi=l.InteriorPoMi,tt.InteriorPoSe=l.InteriorPoSe,tt.InteriorPoWi=l.InteriorPoWi,tt.InteriorReWiDe=l.InteriorReWiDe,tt.InteriorReWiWi=l.InteriorReWiWi,tt.InteriorThRoSe=l.InteriorThRoSe,tt.InteriorTiGl=l.InteriorTiGl,tt.ExteriorAlWh=l.ExteriorAlWh,tt.ExteriorPoSlDo=l.ExteriorPoSlDo,tt.ExteriorSuRo=l.ExteriorSuRo,tt.SellingPointsCuWh=l.SellingPointsCuWh,tt.SellingPointsFuLo=l.SellingPointsFuLo,tt.SellingPointsMaHiAv=l.SellingPointsMaHiAv,tt.SellingPointsBrNeTi=l.SellingPointsBrNeTi,tt.SellingPointsNoAcHi=l.SellingPointsNoAcHi,tt.SellingPointsNoSmPrOw=l.SellingPointsNoSmPrOw,tt.SellingPointsOnOwHi=l.SellingPointsOnOwHi,tt.SellingPointsPeRaTi=l.SellingPointsPeRaTi,tt.SellingPointsReBo=l.SellingPointsReBo,tt.SellingPointsTuEn=l.SellingPointsTuEn,tt.SellingPointsUpAuSy=l.SellingPointsUpAuSy,et++,Qe.text=l.stockStatus?l.stockStatus:"",Ne.text=l.make?l.make:"",He.text=l.model?l.model:"",Ve.text=l.regYear?l.regYear:"",Ye.text=l.regMonth?l.regMonth:"",Je.text=l.port?l.port:"",Ke.text=l.sales?l.sales:"",Ze.text=l.buyer?l.buyer:"",Je.id=l.portID?l.portID:"",Ke.id=l.salesID?l.salesID:"",Ze.id=l.buyerID?l.buyerID:"",ze.text=l.referenceNumber?l.referenceNumber:"",ge=l.stockID?l.stockID:"",Ue.text=l.steering?l.steering:"",_e.text=l.transmission?l.transmission:"",Ge.text=l.exteriorColor?l.exteriorColor:"",qe.text=l.fuel?l.fuel:"",$e.text=l.driveType?l.driveType:"",Xe.text=l.bodyType?l.bodyType:"",Qe.text=l.stockStatus?l.stockStatus:"",ie=l.supplyChainsCostsData?l.supplyChainsCostsData:[],ve((0,Q.setSupplyChainsCostsData)(l.supplyChainsCostsData?l.supplyChainsCostsData:[])),yield Mt(ge),ve((0,Q.setLoadingModalVisible)(!1))}));return function(t){return e.apply(this,arguments)}}())}})),[]),At=(0,L.useCallback)((function(){bt(!1),l()}),[]),Lt=(0,L.useCallback)((function(){mt(!1),xe.current.selectIndex(ue.indexOf(He.text))}),[]),Ft=(0,L.useCallback)((function(){je()}),[]),Et=(0,L.useCallback)(function(){var e=(0,o.default)((function*(e){be();try{if(""!==Ne.text)try{var t=(0,H.doc)(U.projectExtensionFirestore,"Model",e),r=yield(0,H.getDoc)(t);if(r.exists()){var o=r.data().model;it(o),ue=o}}catch(n){console.error("Error fetching models data from Firebase: ",n)}}catch(n){console.error("Error fetching models data from Firebase: ",n)}}));return function(t){return e.apply(this,arguments)}}(),[U.projectExtensionFirestore,at,Me]),Bt=(0,L.useCallback)((function(e){var t=e.replace(/[^0-9]/g,"").slice(0,10);X.current.value=t,ge=t,$()}),[]),It=(0,L.useCallback)((function(){""===Ne.text&&ue.length>0&&(ue=[],it([]))}),[]);return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{flexDir:"row",alignSelf:"center",flex:1,alignItems:"flex-start",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Stock ID Number"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:ee,borderWidth:1,children:(0,ne.jsx)(p.Input,{onSubmitEditing:Pt,defaultValue:"",ref:X,onChangeText:Bt,placeholder:" Stock ID Number",InputRightElement:(0,ne.jsx)(u.Button,{isLoading:ct,isLoadingText:"Search",size:"xs",colorScheme:"primary",leftIcon:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(I.default,{name:"search"}),size:5,color:"white"}),onPress:function(){Pt(),xe.current.selectIndex(ue.indexOf(He.text))},children:"Search"})})}),(0,ne.jsx)(Ee,{inputStockIDNumber:X,isSuccessOpen:gt,setIsSuccessOpen:mt,isFailedOpen:yt,setIsFailedOpen:bt,handleSuccessModalClose:Lt,handleFailModalClose:At})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{flexDir:"row",alignSelf:"center",flex:1,alignItems:"flex-start",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Purchase Price"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:Se,borderWidth:1,children:(0,ne.jsx)(p.Input,{keyboardType:"numeric",flex:1,ref:A,onChangeText:De,bgColor:"white",InputLeftElement:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(k.default,{name:"yen"}),size:5,ml:"2",color:"muted.400"}),placeholder:"Purchase Price",placeholderTextColor:"muted.400"})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",children:[(0,ne.jsxs)(d.default,{bgColor:"#8096D7",flex:1,flexDir:"row",children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",fontSize:[14,14,12,12,16,18],children:" Make"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"}),(0,ne.jsx)(ke,{docName:"Make",handleAddTextChange:le,textAreaAdd:ae,title:"Make",dataName:"make",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Make",data:Me})]}),(0,ne.jsx)(d.default,{ref:ce,bgColor:"white",flex:1,borderColor:se,borderWidth:1,children:(0,ne.jsx)(K.default,{ref:me,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:Me,onSelect:(0,L.useCallback)((function(e){Ne.text=e,xe.current.reset(),He.text="",Et(e)}),[]),defaultButtonText:"-- Choose Make --",buttonTextAfterSelection:function(e){return e},SelectDropdown:!0,renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e},searchPlaceHolder:"Search for Make",searchInputStyle:{marginTop:2},disableAutoScroll:!0,search:!0})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",children:[(0,ne.jsxs)(d.default,{bgColor:"#8096D7",flex:1,flexDir:"row",children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",fontSize:[14,14,12,12,16,18],children:" Model"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"}),(0,ne.jsx)(Te,{selectMakeForAddModelRef:oe,selectMakeForModelRef:te,textAreaAddModel:re,makeData:Me})]}),(0,ne.jsx)(d.default,{ref:pe,bgColor:"white",flex:1,borderColor:de,borderWidth:1,children:(0,ne.jsx)(K.default,{onFocus:It,ref:xe,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:at,onSelect:(0,L.useCallback)((function(e){He.text=e,Ft()}),[]),defaultButtonText:"-- Choose Model --",buttonTextAfterSelection:function(e){return e},renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e},searchPlaceHolder:"Search for Model",searchInputStyle:{marginTop:2,width:"100%"},disableAutoScroll:!0,search:!0})})]})]})},Ie=function(e){var t=e.headerText,r=e.data,f=e.title,g=e.dataName,m=e.databaseInit,p=e.textAreaAdd,b=e.handleAddTextChange,j=e.docName,w=e.handleFirstModalOpen,S=e.handleFirstModalClose,D=(0,L.useState)(!1),v=(0,a.default)(D,2),M=v[0],P=v[1],A=(0,L.useState)(!1),F=(0,a.default)(A,2),B=F[0],I=F[1],R=(0,L.useState)(!1),O=(0,a.default)(R,2),V=O[0],_=O[1],G=(0,L.useState)(!1),q=(0,a.default)(G,2),K=q[0],Z=q[1],$=(0,L.useState)(!1),X=(0,a.default)($,2),Q=X[0],ee=X[1],te=(0,L.useState)(r),re=(0,a.default)(te,2),oe=re[0],le=re[1],ae=(0,L.useState)(!1),ie=(0,a.default)(ae,2),se=ie[0],de=ie[1],ce=(0,L.useCallback)((function(e){le((function(t){return t.filter((function(t){return t!==e}))}))}),[]),ue=function(){var e=(0,o.default)((function*(e){try{var t=(0,H.collection)(U.projectControlFirestore,"logs");yield(0,H.addDoc)(t,e),console.log("Document added successfully!")}catch(r){console.error("Error adding document:",r)}}));return function(t){return e.apply(this,arguments)}}(),fe=(0,L.useCallback)((0,o.default)((function*(){var e,t=(0,H.doc)((0,H.collection)(m,j),j),r=yield(0,H.getDoc)(t);r.exists()&&le((null==(e=r.data())?void 0:e[g])||[])})),[m,oe]),he=(0,L.useCallback)((0,o.default)((function*(){ee(!0);var e=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,t=Y()(e).format("YYYY/MM/DD [at] HH:mm:ss"),r=Y()(e).format("YYYY"),o=Y()(e).format("MM"),n=Y()(e).format("MM/DD"),a=Y()(e).format("YYYY/MM/DD"),i=Y()(e).format("DD"),s=Y()(e).format("HH:mm"),d=Y()(e).format("HH:mm:ss");try{yield(0,H.updateDoc)((0,H.doc)((0,H.collection)(m,j),j),(0,l.default)({},g,oe)),ee(!1),P(!0),Z(!1);var c={message:'"'+f+'" updated: "'+We.text+'" updated "'+f+'"',timestamp:t,colorScheme:!0,keywords:[t.toLowerCase(),('"'+f+'" updated: "'+We.text+'" updated "'+f+'"').toLowerCase(),(f+" updated").toLowerCase(),('"'+f+'" updated').toLowerCase(),"updated".toLowerCase(),f.toLowerCase(),We.text.toLowerCase(),r.toLowerCase(),o.toLowerCase(),n.toLowerCase(),a.toLowerCase(),i.toLowerCase(),s.toLowerCase(),d.toLowerCase()]};ue(c)}catch(u){ee(!1),Ce(),console.error(u)}})),[m,oe,g,j]),ge=(0,L.useCallback)((function(){de(!0),fe(),P(!0),S()}),[M,se]),me=(0,L.useCallback)((0,o.default)((function*(){w(),P(!1),de(!1)})),[M,se]),xe=(0,L.useCallback)((function(){I(!0),me(),de(!0),S()}),[]),pe=(0,L.useCallback)((function(){var e;I(!1),ge(),null==(e=p.current)||e.clear()}),[B]),ye=(0,L.useCallback)((function(){_(!1),ge()}),[V]),be=(0,L.useCallback)((function(){_(!0),me(),I(!1),de(!0),S()}),[V,B,se]),je=(0,L.useCallback)((function(){Z(!0),P(!1),de(!0)}),[K,M,se]),Ce=(0,L.useCallback)((function(){Z(!1),P(!0)}),[K,M]),we=function(){var e=(0,o.default)((function*(){var e,t=null==(e=p.current)?void 0:e.value,r=t.split("\n").map((function(e){return e.trim()})),o=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,a=Y()(o).format("YYYY/MM/DD [at] HH:mm:ss"),i=Y()(o).format("YYYY"),s=Y()(o).format("MM"),d=Y()(o).format("MM/DD"),c=Y()(o).format("YYYY/MM/DD"),u=Y()(o).format("DD"),h=Y()(o).format("HH:mm"),x=Y()(o).format("HH:mm:ss");if(""!==t){ee(!0);try{var y=(0,H.collection)(m,j),b=(0,H.doc)(y,j);yield(0,H.setDoc)(b,(0,l.default)({},g,H.arrayUnion.apply(void 0,(0,n.default)(r))),{merge:!0});var C={message:'"'+f+'" added: "'+We.text+'" added "'+f+'"(s).',timestamp:a,colorScheme:!0,keywords:[a.toLowerCase(),('"'+f+'" added: "'+We.text+'" added "'+f+'"(s).').toLowerCase(),(f+" added").toLowerCase(),('"'+f+'" added').toLowerCase(),"added".toLowerCase(),f.toLowerCase(),We.text.toLowerCase(),i.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),h.toLowerCase(),x.toLowerCase()]};ue(C),ee(!1),be(),console.log("Data added to Firestore")}catch(w){console.error("Error adding data to Firestore:",w),ee(!1)}}}));return function(){return e.apply(this,arguments)}}();return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(d.default,{flex:1,justifyContent:"center",alignItems:"flex-end",marginRight:1,children:se?(0,ne.jsx)(h.default,{color:"white"}):(0,ne.jsx)(E.default,{focusable:!1,onPress:ge,children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(z.default,{name:"playlist-edit"}),size:5,color:"white"})})}),(0,ne.jsx)(i.Modal,{isOpen:M,onClose:me,useRNModal:!0,children:(0,ne.jsxs)(i.Modal.Content,{children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:t})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,ne.jsxs)(d.default,{w:"full",flexDir:"column",children:[(0,ne.jsx)(d.default,{alignItems:"flex-end",children:(0,ne.jsx)(x.default,{onPress:xe,children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(k.default,{name:"plus-circle"}),size:5,color:"#102A43"})})}),(0,ne.jsx)(d.default,{flex:1,borderWidth:1,borderColor:"#102A43",borderRadius:5,children:(0,ne.jsx)(J.default,{style:{alignContent:"center",flex:1},data:oe,keyExtractor:function(e){return e},renderItem:function(e){var t=e.item,r=e.drag;return(0,ne.jsxs)(d.default,{flex:1,bgColor:"rgba(16,42,67, 0.5)",borderBottomWidth:1,borderBottomColor:"warmGray.400",flexDir:"row",justifyContent:"center",alignItems:"center",children:[(0,ne.jsx)(x.default,{onPress:function(){return ce(t)},children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(W.default,{name:"minuscircle"}),size:4,color:"#102A43"})}),(0,ne.jsx)(s.default,{flex:1,textAlign:"center",color:"white",children:t}),(0,ne.jsx)(x.default,{onPressIn:r,children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(T.default,{name:"menu"}),size:4,color:"#102A43"})})]})},onDragEnd:(0,L.useCallback)((function(e){var t=e.data;return le(t)}),[])})})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:me,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"Close"}),(0,ne.jsx)(u.Button,{onPress:je,flex:1,size:"sm",borderRadius:5,children:"Save"})]})})]})}),(0,ne.jsx)(i.Modal,{isOpen:K,onClose:Ce,children:(0,ne.jsxs)(i.Modal.Content,{children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Save Order?"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,ne.jsx)(s.default,{children:"Are you sure you want to save changes?"})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:Ce,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"No"}),(0,ne.jsx)(u.Button,{onPress:he,flex:1,size:"sm",borderRadius:5,isLoading:!!Q,children:"Yes"})]})})]})}),(0,ne.jsx)(i.Modal,{useRNModal:!0,isOpen:B,onClose:pe,initialFocusRef:p,children:(0,ne.jsxs)(i.Modal.Content,{children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsxs)(s.default,{color:"#102A43",bold:!0,children:["Add ",f]})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,ne.jsx)(C.default,{textAlign:"center",w:"full",ref:p,multiline:!0,onChangeText:b,totalLines:4,placeholder:"Enter your data, separated by new lines"})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:pe,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"Close"}),(0,ne.jsx)(u.Button,{onPress:we,isLoading:!!Q,flex:1,size:"sm",borderRadius:5,children:"Add"})]})})]})}),(0,ne.jsx)(i.Modal,{isOpen:V,onClose:ye,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"green.100",children:[(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"green.100",children:(0,ne.jsx)(s.default,{textAlign:"center",color:"#102A43",bold:!0,children:"\ud83d\ude0a\ud83d\ude0e Success! \ud83d\ude0e\ud83d\ude0a"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"green.200",borderLeftWidth:4,borderLeftColor:"green.600",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"green.600",bold:!0,children:"Added successfully!"}),(0,ne.jsx)(s.default,{color:"green.600",children:"Added successfully!"})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"green.100",children:(0,ne.jsx)(c.default,{space:5,flex:1,children:(0,ne.jsx)(u.Button,{colorScheme:"success",flex:"1",onPress:ye,_text:{color:"white"},children:"Ok"})})})]})})]})},ke=function(e){var t=e.headerText,r=e.data,f=e.title,g=e.dataName,m=e.databaseInit,p=e.textAreaAdd,b=e.handleAddTextChange,j=e.docName,w=(0,L.useState)(!1),S=(0,a.default)(w,2),D=S[0],v=S[1],M=(0,L.useState)(!1),P=(0,a.default)(M,2),A=P[0],F=P[1],B=(0,L.useState)(!1),I=(0,a.default)(B,2),R=I[0],O=I[1],V=(0,L.useState)(!1),_=(0,a.default)(V,2),G=_[0],q=_[1],K=(0,L.useState)(!1),Z=(0,a.default)(K,2),$=Z[0],X=Z[1],Q=(0,L.useState)(r),ee=(0,a.default)(Q,2),te=ee[0],re=ee[1],oe=(0,L.useState)(!1),le=(0,a.default)(oe,2),ae=le[0],ie=le[1],se=(0,L.useCallback)((function(e){re((function(t){return t.filter((function(t){return t!==e}))}))}),[]),de=function(){var e=(0,o.default)((function*(e){try{var t=(0,H.collection)(U.projectControlFirestore,"logs");yield(0,H.addDoc)(t,e),console.log("Document added successfully!")}catch(r){console.error("Error adding document:",r)}}));return function(t){return e.apply(this,arguments)}}(),ce=(0,L.useCallback)((0,o.default)((function*(){var e,t=(0,H.doc)((0,H.collection)(m,j),j),r=yield(0,H.getDoc)(t);r.exists()&&re((null==(e=r.data())?void 0:e[g])||[])})),[m,te]),ue=(0,L.useCallback)((0,o.default)((function*(){X(!0);var e=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,t=Y()(e).format("YYYY/MM/DD [at] HH:mm:ss"),r=Y()(e).format("YYYY"),o=Y()(e).format("MM"),n=Y()(e).format("MM/DD"),a=Y()(e).format("YYYY/MM/DD"),i=Y()(e).format("DD"),s=Y()(e).format("HH:mm"),d=Y()(e).format("HH:mm:ss");try{yield(0,H.updateDoc)((0,H.doc)((0,H.collection)(m,j),j),(0,l.default)({},g,te)),X(!1),v(!0),q(!1);var c={message:'"'+f+'" updated: "'+We.text+'" updated "'+f+'"',timestamp:t,colorScheme:!0,keywords:[t.toLowerCase(),('"'+f+'" updated: "'+We.text+'" updated "'+f+'"').toLowerCase(),(f+" updated").toLowerCase(),('"'+f+'" updated').toLowerCase(),"updated".toLowerCase(),f.toLowerCase(),We.text.toLowerCase(),r.toLowerCase(),o.toLowerCase(),n.toLowerCase(),a.toLowerCase(),i.toLowerCase(),s.toLowerCase(),d.toLowerCase()]};de(c)}catch(u){X(!1),be(),console.error(u)}})),[m,te,g,j]),fe=(0,L.useCallback)((function(){ie(!0),ce(),v(!0)}),[D,ae]),he=(0,L.useCallback)((0,o.default)((function*(){v(!1),ie(!1)})),[D,ae]),ge=(0,L.useCallback)((function(){F(!0),he(),ie(!0)}),[]),me=(0,L.useCallback)((function(){var e;F(!1),fe(),null==(e=p.current)||e.clear()}),[A]),xe=(0,L.useCallback)((function(){O(!1),fe()}),[R]),pe=(0,L.useCallback)((function(){O(!0),he(),F(!1),ie(!0)}),[R,A,ae]),ye=(0,L.useCallback)((function(){q(!0),v(!1),ie(!0)}),[G,D,ae]),be=(0,L.useCallback)((function(){q(!1),v(!0)}),[G,D]),je=function(){var e=(0,o.default)((function*(){var e,t=null==(e=p.current)?void 0:e.value,r=t.split("\n").map((function(e){return e.trim()})),o=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,a=Y()(o).format("YYYY/MM/DD [at] HH:mm:ss"),i=Y()(o).format("YYYY"),s=Y()(o).format("MM"),d=Y()(o).format("MM/DD"),c=Y()(o).format("YYYY/MM/DD"),u=Y()(o).format("DD"),h=Y()(o).format("HH:mm"),x=Y()(o).format("HH:mm:ss");if(""!==t){X(!0);try{var y=(0,H.collection)(m,j),b=(0,H.doc)(y,j);yield(0,H.setDoc)(b,(0,l.default)({},g,H.arrayUnion.apply(void 0,(0,n.default)(r))),{merge:!0});var C={message:'"'+f+'" added: "'+We.text+'" added "'+f+'"(s).',timestamp:a,colorScheme:!0,keywords:[a.toLowerCase(),('"'+f+'" added: "'+We.text+'" added "'+f+'"(s).').toLowerCase(),(f+" added").toLowerCase(),('"'+f+'" added').toLowerCase(),"added".toLowerCase(),f.toLowerCase(),We.text.toLowerCase(),i.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),h.toLowerCase(),x.toLowerCase()]};de(C),X(!1),pe(),console.log("Data added to Firestore")}catch(w){console.error("Error adding data to Firestore:",w),X(!1)}}}));return function(){return e.apply(this,arguments)}}();return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(d.default,{flex:1,justifyContent:"center",alignItems:"flex-end",marginRight:1,children:ae?(0,ne.jsx)(h.default,{color:"white"}):(0,ne.jsx)(E.default,{focusable:!1,onPress:fe,children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(z.default,{name:"playlist-edit"}),size:5,color:"white"})})}),(0,ne.jsx)(i.Modal,{isOpen:D,onClose:he,children:(0,ne.jsxs)(i.Modal.Content,{children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:t})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,ne.jsxs)(d.default,{w:"full",flexDir:"column",children:[(0,ne.jsx)(d.default,{alignItems:"flex-end",children:(0,ne.jsx)(x.default,{onPress:ge,children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(k.default,{name:"plus-circle"}),size:5,color:"#102A43"})})}),(0,ne.jsx)(d.default,{flex:1,borderWidth:1,borderColor:"#102A43",borderRadius:5,children:(0,ne.jsx)(J.default,{style:{alignContent:"center",flex:1},data:te,keyExtractor:function(e){return e},renderItem:function(e){var t=e.item,r=e.drag;return(0,ne.jsxs)(d.default,{flex:1,bgColor:"rgba(16,42,67, 0.5)",borderBottomWidth:1,borderBottomColor:"warmGray.400",flexDir:"row",justifyContent:"center",alignItems:"center",children:[(0,ne.jsx)(x.default,{onPress:function(){return se(t)},children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(W.default,{name:"minuscircle"}),size:4,color:"#102A43"})}),(0,ne.jsx)(s.default,{flex:1,textAlign:"center",color:"white",children:t}),(0,ne.jsx)(x.default,{onPressIn:r,children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(T.default,{name:"menu"}),size:4,color:"#102A43"})})]})},onDragEnd:(0,L.useCallback)((function(e){var t=e.data;return re(t)}),[])})})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:he,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"Close"}),(0,ne.jsx)(u.Button,{onPress:ye,flex:1,size:"sm",borderRadius:5,children:"Save"})]})})]})}),(0,ne.jsx)(i.Modal,{isOpen:G,onClose:be,children:(0,ne.jsxs)(i.Modal.Content,{children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Save Order?"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,ne.jsx)(s.default,{children:"Are you sure you want to save changes?"})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:be,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"No"}),(0,ne.jsx)(u.Button,{onPress:ue,flex:1,size:"sm",borderRadius:5,isLoading:!!$,children:"Yes"})]})})]})}),(0,ne.jsx)(i.Modal,{isOpen:A,onClose:me,initialFocusRef:p,children:(0,ne.jsxs)(i.Modal.Content,{children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsxs)(s.default,{color:"#102A43",bold:!0,children:["Add ",f]})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,ne.jsx)(C.default,{textAlign:"center",w:"full",ref:p,multiline:!0,onChangeText:b,totalLines:4,placeholder:"Enter your data, separated by new lines"})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:me,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"Close"}),(0,ne.jsx)(u.Button,{onPress:je,isLoading:!!$,flex:1,size:"sm",borderRadius:5,children:"Add"})]})})]})}),(0,ne.jsx)(i.Modal,{isOpen:R,onClose:xe,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"green.100",children:[(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"green.100",children:(0,ne.jsx)(s.default,{textAlign:"center",color:"#102A43",bold:!0,children:"\ud83d\ude0a\ud83d\ude0e Success! \ud83d\ude0e\ud83d\ude0a"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"green.200",borderLeftWidth:4,borderLeftColor:"green.600",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"green.600",bold:!0,children:"Added successfully!"}),(0,ne.jsx)(s.default,{color:"green.600",children:"Added successfully!"})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"green.100",children:(0,ne.jsx)(c.default,{space:5,flex:1,children:(0,ne.jsx)(u.Button,{colorScheme:"success",flex:"1",onPress:xe,_text:{color:"white"},children:"Ok"})})})]})})]})},Re=function(e){var t=e.headerText,r=e.data,f=e.title,g=e.dataName,m=e.databaseInit,p=e.textAreaAddCode,b=e.textAreaAdd,j=e.handleAddTextChange,S=e.handleAddCodeTextChange,D=e.docName,v=(0,L.useState)(!1),M=(0,a.default)(v,2),P=M[0],A=M[1],F=(0,L.useState)(!1),B=(0,a.default)(F,2),I=B[0],R=B[1],O=(0,L.useState)(!1),V=(0,a.default)(O,2),_=V[0],G=V[1],q=(0,L.useState)(!1),K=(0,a.default)(q,2),Z=K[0],$=K[1],X=(0,L.useState)(!1),Q=(0,a.default)(X,2),ee=Q[0],te=Q[1],re=(0,L.useState)(r),oe=(0,a.default)(re,2),le=oe[0],ae=oe[1],ie=(0,L.useState)(!1),se=(0,a.default)(ie,2),de=se[0],ce=se[1],ue=(0,L.useCallback)((function(e){ae((function(t){return t.filter((function(t){return t!==e}))}))}),[]),fe=function(){var e=(0,o.default)((function*(e){try{var t=(0,H.collection)(U.projectControlFirestore,"logs");yield(0,H.addDoc)(t,e),console.log("Document added successfully!")}catch(r){console.error("Error adding document:",r)}}));return function(t){return e.apply(this,arguments)}}(),he=(0,L.useCallback)((0,o.default)((function*(){var e,t=(0,H.doc)((0,H.collection)(m,D),D),r=yield(0,H.getDoc)(t);r.exists()&&ae((null==(e=r.data())?void 0:e[g])||[])})),[m,le]),ge=(0,L.useCallback)((0,o.default)((function*(){te(!0);var e=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,t=Y()(e).format("YYYY/MM/DD [at] HH:mm:ss"),r=Y()(e).format("YYYY"),o=Y()(e).format("MM"),n=Y()(e).format("MM/DD"),a=Y()(e).format("YYYY/MM/DD"),i=Y()(e).format("DD"),s=Y()(e).format("HH:mm"),d=Y()(e).format("HH:mm:ss");try{yield(0,H.updateDoc)((0,H.doc)((0,H.collection)(m,D),D),(0,l.default)({},g,le)),te(!1),A(!0),$(!1);var c={message:'"'+f+'" updated: "'+We.text+'" updated "'+f+'"',timestamp:t,colorScheme:!0,keywords:[t.toLowerCase(),('"'+f+'" updated: "'+We.text+'" updated "'+f+'"').toLowerCase(),(f+" updated").toLowerCase(),('"'+f+'" updated').toLowerCase(),"updated".toLowerCase(),f.toLowerCase(),We.text.toLowerCase(),r.toLowerCase(),o.toLowerCase(),n.toLowerCase(),a.toLowerCase(),i.toLowerCase(),s.toLowerCase(),d.toLowerCase()]};fe(c)}catch(u){te(!1),we(),console.error(u)}})),[m,le,g,D]),me=(0,L.useCallback)((function(){ce(!0),he(),A(!0)}),[]),xe=(0,L.useCallback)((0,o.default)((function*(){A(!1),ce(!1)})),[]),pe=(0,L.useCallback)((function(){R(!0),xe(),ce(!0),b.current.clear(),p.current.clear()}),[]),ye=(0,L.useCallback)((function(){R(!1),me()}),[]),be=(0,L.useCallback)((function(){G(!1),me()}),[]),je=(0,L.useCallback)((function(){G(!0),xe(),R(!1),ce(!0)}),[]),Ce=(0,L.useCallback)((function(){$(!0),A(!1),ce(!0)}),[]),we=(0,L.useCallback)((function(){$(!1),A(!0)}),[]),Se=function(){var e=(0,o.default)((function*(){var e,t,r=null==(e=b.current)?void 0:e.value,o=null==(t=p.current)?void 0:t.value,l=r.split("\n").map((function(e){return e.trim()})),a=o.split("\n").map((function(e){return e.trim()})),i=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,s=Y()(i).format("YYYY/MM/DD [at] HH:mm:ss"),d=Y()(i).format("YYYY"),c=Y()(i).format("MM"),u=Y()(i).format("MM/DD"),h=Y()(i).format("YYYY/MM/DD"),x=Y()(i).format("DD"),y=Y()(i).format("HH:mm"),j=Y()(i).format("HH:mm:ss");if(""!==r&&""!==o){te(!0);try{var C=(0,H.collection)(m,D),w=(0,H.doc)(C,D),S=l.map((function(e,t){return{id:a[t],name:e}})),v={};v[g]=H.arrayUnion.apply(void 0,(0,n.default)(S)),yield(0,H.setDoc)(w,v,{merge:!0});var M={message:'"'+f+'" added: "'+We.text+'" added "'+f+'"(s).',timestamp:s,colorScheme:!0,keywords:[s.toLowerCase(),('"'+f+'" added: "'+We.text+'" added "'+f+'"(s).').toLowerCase(),(f+" added").toLowerCase(),('"'+f+'" added').toLowerCase(),"added".toLowerCase(),f.toLowerCase(),We.text.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),h.toLowerCase(),x.toLowerCase(),y.toLowerCase(),j.toLowerCase()]};fe(M),te(!1),je(),console.log("Data added to Firestore")}catch(P){console.error("Error adding data to Firestore:",P),te(!1)}}}));return function(){return e.apply(this,arguments)}}();return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(d.default,{flex:1,justifyContent:"center",alignItems:"flex-end",marginRight:1,children:de?(0,ne.jsx)(h.default,{color:"white"}):(0,ne.jsx)(E.default,{onPress:me,focusable:!1,children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(z.default,{name:"playlist-edit"}),size:5,color:"white"})})}),(0,ne.jsx)(i.Modal,{isOpen:P,onClose:xe,children:(0,ne.jsxs)(i.Modal.Content,{children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:t})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,ne.jsxs)(d.default,{w:"full",flexDir:"column",children:[(0,ne.jsx)(d.default,{alignItems:"flex-end",children:(0,ne.jsx)(x.default,{onPress:pe,children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(k.default,{name:"plus-circle"}),size:5,color:"#102A43"})})}),(0,ne.jsx)(d.default,{flex:1,borderWidth:1,borderColor:"#102A43",borderRadius:5,children:(0,ne.jsx)(J.default,{style:{alignContent:"center",flex:1},data:le,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item,r=e.drag;return(0,ne.jsxs)(d.default,{flex:1,bgColor:"rgba(16,42,67, 0.5)",borderBottomWidth:1,borderBottomColor:"warmGray.400",flexDir:"row",justifyContent:"center",alignItems:"center",children:[(0,ne.jsx)(x.default,{onPress:function(){return ue(t)},children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(W.default,{name:"minuscircle"}),size:4,color:"#102A43"})}),(0,ne.jsx)(s.default,{flex:1,textAlign:"center",color:"white",children:t.name}),(0,ne.jsx)(x.default,{onPressIn:r,children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(T.default,{name:"menu"}),size:4,color:"#102A43"})})]})},onDragEnd:(0,L.useCallback)((function(e){var t=e.data;return ae(t)}),[])})})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:xe,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"Close"}),(0,ne.jsx)(u.Button,{onPress:Ce,flex:1,size:"sm",borderRadius:5,children:"Save"})]})})]})}),(0,ne.jsx)(i.Modal,{isOpen:Z,onClose:we,children:(0,ne.jsxs)(i.Modal.Content,{children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Save Order?"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,ne.jsx)(s.default,{children:"Are you sure you want to save changes?"})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:we,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"No"}),(0,ne.jsx)(u.Button,{onPress:ge,flex:1,size:"sm",borderRadius:5,isLoading:!!ee,children:"Yes"})]})})]})}),(0,ne.jsx)(i.Modal,{isOpen:I,onClose:ye,initialFocusRef:p,size:"lg",children:(0,ne.jsxs)(i.Modal.Content,{children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsxs)(s.default,{color:"#102A43",bold:!0,children:["Add ",f]})}),(0,ne.jsxs)(c.default,{space:5,flex:1,margin:2,children:[(0,ne.jsxs)(w.default,{space:1,flex:1,children:[(0,ne.jsx)(s.default,{textAlign:"center",children:"Code"}),(0,ne.jsx)(C.default,{flex:2,textAlign:"center",w:"full",ref:p,multiline:!0,onChangeText:S,totalLines:8,placeholder:"Enter your data, separated by new lines"})]}),(0,ne.jsxs)(w.default,{space:1,flex:1,children:[(0,ne.jsx)(s.default,{textAlign:"center",children:"Name"}),(0,ne.jsx)(C.default,{flex:2,textAlign:"center",w:"full",ref:b,multiline:!0,onChangeText:j,totalLines:8,placeholder:"Enter your data, separated by new lines"})]})]}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:ye,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"Close"}),(0,ne.jsx)(u.Button,{onPress:Se,isLoading:!!ee,flex:1,size:"sm",borderRadius:5,children:"Add"})]})})]})}),(0,ne.jsx)(i.Modal,{isOpen:_,onClose:be,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"green.100",children:[(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"green.100",children:(0,ne.jsx)(s.default,{textAlign:"center",color:"#102A43",bold:!0,children:"\ud83d\ude0a\ud83d\ude0e Success! \ud83d\ude0e\ud83d\ude0a"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"green.200",borderLeftWidth:4,borderLeftColor:"green.600",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"green.600",bold:!0,children:"Added successfully!"}),(0,ne.jsx)(s.default,{color:"green.600",children:"Added successfully!"})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"green.100",children:(0,ne.jsx)(c.default,{space:5,flex:1,children:(0,ne.jsx)(u.Button,{colorScheme:"success",flex:"1",onPress:be,_text:{color:"white"},children:"Ok"})})})]})})]})},Te=function(e){var t=e.selectMakeForAddModelRef,r=e.selectMakeForModelRef,l=e.textAreaAddModel,f=e.makeData,p=(0,L.useState)(!1),b=(0,a.default)(p,2),j=b[0],w=b[1],S=(0,L.useState)(!1),D=(0,a.default)(S,2),v=D[0],M=D[1],P=(0,L.useState)(!1),A=(0,a.default)(P,2),F=A[0],B=A[1],I=(0,L.useState)(!1),R=(0,a.default)(I,2),O=R[0],V=R[1],_=(0,L.useState)(1),G=(0,a.default)(_,2),q=G[0],K=G[1],Z=(0,L.useState)(1),$=(0,a.default)(Z,2),X=$[0],Q=$[1],ee=(0,L.useState)([]),te=(0,a.default)(ee,2),re=te[0],oe=te[1],le=(0,L.useState)(!1),ae=(0,a.default)(le,2),ie=ae[0],se=ae[1],de=(0,L.useState)(!1),ce=(0,a.default)(de,2),ue=ce[0],fe=ce[1],he=(0,L.useState)(!1),ge=(0,a.default)(he,2),me=(ge[0],ge[1],(0,L.useState)(!1)),xe=(0,a.default)(me,2),pe=(xe[0],xe[1],(0,L.useState)(!1)),ye=(0,a.default)(pe,2),be=(ye[0],ye[1]),je=(0,L.useState)(!1),Ce=(0,a.default)(je,2),we=Ce[0],Se=Ce[1],De=(0,L.useState)(!1),ve=(0,a.default)(De,2),Me=ve[0],Pe=ve[1],Ae=function(){var e=(0,o.default)((function*(){var e;if("__NativebasePlaceholder__"!==(null==(e=r.current)?void 0:e.value)){var t,o,n=(0,H.doc)((0,H.collection)(U.projectExtensionFirestore,"Model"),null==(t=r.current)?void 0:t.value),l=yield(0,H.getDoc)(n);if(l.exists())oe((null==(o=l.data())?void 0:o.model)||[]);else oe([])}}));return function(){return e.apply(this,arguments)}}(),Le=(0,L.useCallback)((function(e){oe((function(t){return t.filter((function(t){return t!==e}))}))}),[]),Fe=function(){var e=(0,o.default)((function*(e){try{var t=(0,H.collection)(U.projectControlFirestore,"logs");yield(0,H.addDoc)(t,e),console.log("Document added successfully!")}catch(r){console.error("Error adding document:",r)}}));return function(t){return e.apply(this,arguments)}}(),Ee=(0,L.useCallback)((0,o.default)((function*(){var e,t;if(fe(!0),console.log(null==(e=r.current)?void 0:e.value),"__NativebasePlaceholder__"!==(null==(t=r.current)?void 0:t.value))try{var o,n,l;yield(0,H.updateDoc)((0,H.doc)((0,H.collection)(U.projectExtensionFirestore,"Model"),null==(o=r.current)?void 0:o.value),{model:re}),fe(!1);var a=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,i=Y()(a).format("YYYY/MM/DD [at] HH:mm:ss"),s=Y()(a).format("YYYY"),d=Y()(a).format("MM"),c=Y()(a).format("MM/DD"),u=Y()(a).format("YYYY/MM/DD"),f=Y()(a).format("DD"),h=Y()(a).format("HH:mm"),g=Y()(a).format("HH:mm:ss"),m={message:'Model updated: "'+We.text+'" updated the Model(s) for "'+(null==(n=r.current)?void 0:n.value)+'"',timestamp:i,colorScheme:!0,keywords:[i.toLowerCase(),('Model updated: "'+We.text+'" updated the Model(s) for "'+(null==(l=r.current)?void 0:l.value)+'"').toLowerCase(),"Model Update".toLowerCase(),"Model".toLowerCase(),"Update".toLowerCase(),r.current.value.toLowerCase(),We.text.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),f.toLowerCase(),h.toLowerCase(),g.toLowerCase()]};Fe(m),Ye()}catch(x){console.error(x),fe(!1),Ye()}else fe(!1)})),[U.projectExtensionFirestore,re]),Be=(0,L.useCallback)((function(){var e;Oe.text=null==(e=t.current)?void 0:e.value,Ae()}),[]),Ie=(0,L.useCallback)((function(){se(!1)}),[]),ke=(0,L.useCallback)((function(){Se(!0),B(!0),Ae(),be(!0)}),[]),Re=(0,L.useCallback)((function(){Se(!1),B(!1),be(!1),K((function(e){return e+1})),oe([])}),[]),Te=(0,L.useCallback)((function(){Se(!0),w(!0),B(!1),be(!1)}),[]),ze=(0,L.useCallback)((function(){ke(),w(!1),l.current.clear(),se(!0),be(!1),Q((function(e){return e+1}))}),[]),Ne=(0,L.useCallback)((function(){Se(!0),w(!1),B(!1),l.current.clear(),V(!0)}),[]),He=(0,L.useCallback)((function(){V(!1),ke(),be(!1)}),[]),Ve=(0,L.useCallback)((function(){var e;Se(!0),"__NativebasePlaceholder__"!==(null==(e=r.current)?void 0:e.value)&&(M(!0),B(!1),be(!1))}),[]),Ye=(0,L.useCallback)((function(){M(!1),ke(),be(!1)}),[]),Ue=function(){var e=(0,o.default)((function*(){var e,r=null==(e=l.current)?void 0:e.value,o=r.split("\n").map((function(e){return e.trim()})),a=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,i=Y()(a).format("YYYY/MM/DD [at] HH:mm:ss"),s=Y()(a).format("YYYY"),d=Y()(a).format("MM"),c=Y()(a).format("MM/DD"),u=Y()(a).format("YYYY/MM/DD"),f=Y()(a).format("DD"),h=Y()(a).format("HH:mm"),g=Y()(a).format("HH:mm:ss");if(""!==r){Pe(!0);try{var m,x,p,y=(0,H.collection)(U.projectExtensionFirestore,"Model"),b=(0,H.doc)(y,null==(m=t.current)?void 0:m.value);yield(0,H.setDoc)(b,{model:H.arrayUnion.apply(void 0,(0,n.default)(o))},{merge:!0});var j={message:'Model Added: "'+We.text+'" added Model(s) for "'+(null==(x=t.current)?void 0:x.value)+'" .',timestamp:i,colorScheme:!0,keywords:[i.toLowerCase(),('Model Added: "'+We.text+'" added Model(s) for "'+(null==(p=t.current)?void 0:p.value)+'" .').toLowerCase(),"Model Added".toLowerCase(),"Model".toLowerCase(),"Added".toLowerCase(),t.current.value.toLowerCase(),We.text.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),f.toLowerCase(),h.toLowerCase(),g.toLowerCase()]};Pe(!1),Fe(j),Ne(),console.log("Data added to Firestore")}catch(C){console.error("Error adding data to Firestore:",C),Pe(!1)}}}));return function(){return e.apply(this,arguments)}}();return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(d.default,{flex:1,justifyContent:"center",alignItems:"flex-end",marginRight:1,children:we?(0,ne.jsx)(h.default,{color:"white"}):(0,ne.jsx)(E.default,{focusable:!1,onPress:ke,children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(z.default,{name:"playlist-edit"}),size:5,color:"white"})})}),(0,ne.jsx)(i.Modal,{isOpen:F,onClose:Re,children:(0,ne.jsxs)(i.Modal.Content,{children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Rearrange/Add Model"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,ne.jsxs)(d.default,{w:"full",flexDir:"column",height:"f",children:[(0,ne.jsx)(d.default,{alignItems:"flex-end",children:(0,ne.jsx)(x.default,{onPress:Te,children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(k.default,{name:"plus-circle"}),size:5,color:"#102A43"})})}),(0,ne.jsx)(d.default,{children:(0,ne.jsx)(g.default,{ref:r,onValueChange:Be,accessibilityLabel:"Choose Make",placeholder:"Choose Make",_selectedItem:{bg:"teal.600",endIcon:(0,ne.jsx)(m.CheckIcon,{size:"5"})},children:f.map((function(e){return(0,ne.jsx)(g.default.Item,{label:e,value:e},e)}))},q)}),(0,ne.jsx)(d.default,{flex:1,borderWidth:1,borderColor:"#102A43",borderRadius:5,children:(0,ne.jsx)(J.default,{style:{alignContent:"center",flex:1},data:re,keyExtractor:function(e){return e},renderItem:function(e){var t=e.item,r=e.drag;return(0,ne.jsxs)(d.default,{flex:1,bgColor:"rgba(16, 42, 67, 0.5)",borderBottomWidth:1,borderBottomColor:"warmGray.400",flexDir:"row",justifyContent:"center",alignItems:"center",children:[(0,ne.jsx)(x.default,{onPress:function(){return Le(t)},children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(W.default,{name:"minuscircle"}),size:4,color:"#102A43"})}),(0,ne.jsx)(s.default,{flex:1,textAlign:"center",color:"white",children:t}),(0,ne.jsx)(x.default,{onPressIn:r,children:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(T.default,{name:"menu"}),size:4,color:"#102A43"})})]})},onDragEnd:(0,L.useCallback)((function(e){var t=e.data;return oe(t)}),[])})})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:Re,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"Close"}),(0,ne.jsx)(u.Button,{onPress:Ve,flex:1,size:"sm",borderRadius:5,children:"Save"})]})})]})}),(0,ne.jsx)(i.Modal,{isOpen:j,onClose:ze,initialFocusRef:t,children:(0,ne.jsxs)(i.Modal.Content,{children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Add Model"})}),(0,ne.jsxs)(i.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:[(0,ne.jsx)(g.default,{ref:t,onValueChange:Ie,accessibilityLabel:"Choose Make",placeholder:"Choose Make",_selectedItem:{bg:"teal.600",endIcon:(0,ne.jsx)(m.CheckIcon,{size:"5"})},children:f.map((function(e){return(0,ne.jsx)(g.default.Item,{label:e,value:e},e)}))},X),(0,ne.jsx)(C.default,{textAlign:"center",w:"full",ref:l,multiline:!0,onChangeText:function(){var e,t,r,o=null==(e=l.current)||null==(t=e.value)?void 0:t.toUpperCase();null==(r=l.current)||r.setNativeProps({text:o})},totalLines:4,placeholder:"Enter your data, separated by new lines",isDisabled:!!ie})]}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:ze,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"Close"}),(0,ne.jsx)(u.Button,{onPress:Ue,isLoading:!!Me,flex:1,size:"sm",borderRadius:5,children:"Add"})]})})]})}),(0,ne.jsx)(i.Modal,{isOpen:v,onClose:Ye,children:(0,ne.jsxs)(i.Modal.Content,{children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Save Model Order?"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,ne.jsx)(s.default,{children:"Are you sure you want to save changes?"})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:Ye,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"No"}),(0,ne.jsx)(u.Button,{onPress:Ee,flex:1,size:"sm",borderRadius:5,isLoading:!!ue,children:"Yes"})]})})]})}),(0,ne.jsx)(i.Modal,{isOpen:O,onClose:He,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"green.100",children:[(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"green.100",children:(0,ne.jsx)(s.default,{textAlign:"center",color:"#102A43",bold:!0,children:"\ud83d\ude0a\ud83d\ude0e Success! \ud83d\ude0e\ud83d\ude0a"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"green.200",borderLeftWidth:4,borderLeftColor:"green.600",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"green.600",bold:!0,children:"Model Added!"}),(0,ne.jsx)(s.default,{color:"green.600",children:"Model was successfully added! You can view it in the model list."})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"green.100",children:(0,ne.jsx)(c.default,{space:5,flex:1,children:(0,ne.jsx)(u.Button,{colorScheme:"success",flex:"1",onPress:He,_text:{color:"white"},children:"Ok"})})})]})})]})},ze={text:""},We={text:""},Ne={text:""},Oe={text:""},He={text:""},Ve={text:""},Ye={text:""},Ue={text:""},_e={text:""},Ge={text:""},qe={text:""},Je={text:"",id:""},Ke={text:"",id:""},Ze={text:"",id:""},$e={text:""},Xe={text:""},Qe={text:""},et=0,tt={SafetySystemAnBrSy:!1,SafetySystemDrAi:!1,SafetySystemPaAi:!1,SafetySystemSiAi:!1,ComfortAiCoFr:!1,ComfortAiCoRe:!1,ComfortAMFMRa:!1,ComfortAMFMSt:!1,ComfortCDPl:!1,ComfortCDCh:!1,ComfortCrSpCo:!1,ComfortDiSp:!1,ComfortDVDPl:!1,ComfortHDD:!1,ComfortNaSyGPS:!1,ComfortPoSt:!1,ComfortPrAuSy:!1,ComfortReKeSy:!1,ComfortTiStWh:!1,InteriorLeSe:!1,InteriorPoDoLo:!1,InteriorPoMi:!1,InteriorPoSe:!1,InteriorPoWi:!1,InteriorReWiDe:!1,InteriorReWiWi:!1,InteriorThRoSe:!1,InteriorTiGl:!1,ExteriorAlWh:!1,ExteriorPoSlDo:!1,ExteriorSuRo:!1,SellingPointsCuWh:!1,SellingPointsFuLo:!1,SellingPointsMaHiAv:!1,SellingPointsBrNeTi:!1,SellingPointsNoAcHi:!1,SellingPointsNoSmPrOw:!1,SellingPointsOnOwHi:!1,SellingPointsPeRaTi:!1,SellingPointsReBo:!1,SellingPointsTuEn:!1,SellingPointsUpAuSy:!1},rt=function(e){var t=e.label,r=e.onChange,o=e.variable,n=(0,L.useState)(o),l=(0,a.default)(n,2),i=l[0],c=l[1];return(0,ne.jsx)(E.default,{style:{flex:1,justifyContent:"center"},onPress:function(){c(!i),r(!i)},children:(0,ne.jsx)(d.default,{justifyContent:"center",alignItems:"center",borderRadius:3,bgColor:i?"#7b9cff":"white",margin:1,overflow:"hidden",padding:2,borderWidth:1,borderColor:i?"white":"muted.400",children:(0,ne.jsx)(s.default,{textAlign:"center",noOfLines:3,color:i?"white":"muted.400",children:t})})})};function ot(){var e=F.default.get("window").width,t=(0,Z.useDispatch)(),n=(0,Z.useSelector)((function(e){return e.loginName})),l=(0,L.useState)(!1),f=(0,a.default)(l,2),h=(f[0],f[1],(0,L.useState)("")),g=(0,a.default)(h,2),m=(g[0],g[1]),x=(0,L.useState)(""),j=(0,a.default)(x,2),w=(j[0],j[1],r(51745)),I=r(85228),T=(0,L.useState)(n),W=(0,a.default)(T,2),V=(W[0],W[1]),_=(0,oe.useNavigate)(),q=(0,L.useState)(F.default.get("window").width),J=(0,a.default)(q,2),X=(J[0],J[1],(0,L.useRef)());We.text=n;var te=(0,L.useRef)(null),re=(0,L.useRef)(null),le=(0,L.useRef)(null),se=(0,L.useRef)(null),ce=(0,L.useRef)(null),ue=(0,L.useRef)(null),pe=(0,L.useRef)(null),Se=(0,L.useRef)(null),De=(0,L.useRef)(null),ve=(0,L.useRef)(null),Le=(0,L.useRef)(null),Ee=(0,L.useRef)(null),Ie=(0,L.useRef)(null),Te=(0,L.useRef)(null),Oe=(0,L.useRef)(null),ot=(0,L.useRef)(null),nt=(0,L.useRef)(null),lt=(0,L.useRef)(null),at=(0,L.useRef)(null),it=(0,L.useRef)(null),st=(0,L.useRef)(null),dt=(0,L.useRef)(null),ct=(0,L.useRef)(null),ut=(0,L.useRef)(null),ft=(0,L.useRef)(null),ht=(0,L.useRef)(null),gt=(0,L.useRef)(null),mt=(0,L.useRef)(null),xt=(0,L.useRef)(null),pt=(0,L.useRef)(null),yt=(0,L.useRef)(null),bt=(0,L.useRef)(null),jt=(0,L.useRef)(null),Ct=(0,L.useRef)(null),wt=(0,L.useRef)(null),St=(0,L.useRef)(null),Dt=(0,L.useRef)(null),vt=(0,L.useRef)(null),Mt=(0,L.useRef)(null),Pt=(0,L.useRef)(null),At=(0,L.useRef)(null),Lt=(0,L.useRef)(null),Ft=(0,L.useRef)(null),Et=(0,L.useRef)(null),Bt=(0,L.useRef)(null),It=(0,L.useRef)(null),kt=(0,L.useRef)(null),Rt=(0,L.useRef)(null),Tt=(0,L.useRef)(null),zt=(0,L.useRef)(null),Wt=(0,L.useRef)(null),Nt=(0,L.useRef)(null),Ot=(0,L.useRef)(null),Ht=(0,Z.useSelector)((function(e){return e.paidToData})),Vt=(0,Z.useSelector)((function(e){return e.portData})),Yt=(0,Z.useSelector)((function(e){return e.isLoading})),Ut=(0,Z.useSelector)((function(e){return e.transmissionData})),_t=(0,Z.useSelector)((function(e){return e.fuelData})),Gt=(0,Z.useSelector)((function(e){return e.buyerData})),qt=(0,Z.useSelector)((function(e){return e.salesData})),Jt=(0,Z.useSelector)((function(e){return e.driveTypeData})),Kt=(0,Z.useSelector)((function(e){return e.bodyTypeData})),Zt=(0,Z.useSelector)((function(e){return e.stockStatusData})),$t=(0,Z.useSelector)((function(e){return e.exteriorColorData})),Xt=(0,Z.useSelector)((function(e){return e.jpyToUsd})),Qt=(0,Z.useSelector)((function(e){return e.currentYear})),er=Array.from({length:Qt-1970+1},(function(e,t){return Qt-t}));fe=er;var tr=["Left","Right"],rr=(0,L.useRef)(null),or=(0,L.useRef)(null),nr=(0,L.useRef)(null),lr=(0,L.useRef)(null),ar=(0,L.useState)("white"),ir=(0,a.default)(ar,2),sr=ir[0],dr=ir[1],cr=(0,L.useState)("muted.500"),ur=(0,a.default)(cr,2),fr=ur[0],hr=ur[1],gr=(0,L.useState)("white"),mr=(0,a.default)(gr,2),xr=mr[0],pr=mr[1],yr=(0,L.useState)("white"),br=(0,a.default)(yr,2),jr=br[0],Cr=br[1],wr=(0,L.useState)("white"),Sr=(0,a.default)(wr,2),Dr=Sr[0],vr=Sr[1],Mr=(0,L.useState)("white"),Pr=(0,a.default)(Mr,2),Ar=Pr[0],Lr=Pr[1],Fr=(0,L.useState)("white"),Er=(0,a.default)(Fr,2),Br=Er[0],Ir=Er[1],kr=(0,L.useState)("white"),Rr=(0,a.default)(kr,2),Tr=Rr[0],zr=Rr[1],Wr=(0,L.useState)("white"),Nr=(0,a.default)(Wr,2),Or=Nr[0],Hr=Nr[1],Vr=(0,L.useState)("white"),Yr=(0,a.default)(Vr,2),Ur=Yr[0],_r=Yr[1],Gr=(0,L.useState)("white"),qr=(0,a.default)(Gr,2),Jr=qr[0],Kr=qr[1],Zr=(0,L.useState)("white"),$r=(0,a.default)(Zr,2),Xr=$r[0],Qr=$r[1],eo=(0,L.useState)("white"),to=(0,a.default)(eo,2),ro=to[0],oo=to[1],no=(0,L.useState)("white"),lo=(0,a.default)(no,2),ao=lo[0],io=lo[1],so=(0,L.useState)("white"),co=(0,a.default)(so,2),uo=co[0],fo=co[1],ho=(0,L.useState)("white"),go=(0,a.default)(ho,2),mo=go[0],xo=go[1],po=(0,L.useState)("white"),yo=(0,a.default)(po,2),bo=yo[0],jo=yo[1],Co=(0,L.useState)("white"),wo=(0,a.default)(Co,2),So=wo[0],Do=wo[1],vo=(0,L.useState)("white"),Mo=(0,a.default)(vo,2),Po=Mo[0],Ao=Mo[1],Lo=(0,L.useState)("white"),Fo=(0,a.default)(Lo,2),Eo=Fo[0],Bo=Fo[1],Io=(0,L.useState)("white"),ko=(0,a.default)(Io,2),Ro=ko[0],To=ko[1],zo=(0,L.useState)("white"),Wo=(0,a.default)(zo,2),No=Wo[0],Oo=Wo[1],Ho=(0,L.useState)("white"),Vo=(0,a.default)(Ho,2),Yo=Vo[0],Uo=Vo[1],_o=(0,L.useState)("white"),Go=(0,a.default)(_o,2),qo=Go[0],Jo=Go[1],Ko=(0,L.useState)("white"),Zo=(0,a.default)(Ko,2),$o=Zo[0],Xo=Zo[1],Qo=(0,L.useState)("white"),en=(0,a.default)(Qo,2),tn=en[0],rn=en[1],on=(0,L.useState)("white"),nn=(0,a.default)(on,2),ln=nn[0],an=nn[1],sn=(0,L.useState)("white"),dn=(0,a.default)(sn,2),cn=dn[0],un=dn[1],fn=(0,L.useState)("white"),hn=(0,a.default)(fn,2),gn=hn[0],mn=hn[1],xn=(0,L.useRef)(null),pn=(0,L.useRef)(null),yn=(0,L.useRef)(null),bn=(0,L.useRef)(null),jn=(0,L.useRef)(null),Cn=(0,L.useRef)(null),wn=(0,L.useRef)(null),Sn=(0,L.useRef)(null),Dn=(0,L.useRef)(null),vn=(0,L.useRef)(null),Mn=(0,L.useRef)(null),Pn=(0,L.useRef)(null),An=(0,L.useRef)(null),Ln=(0,L.useRef)(null),Fn=(0,L.useRef)(null);(0,L.useEffect)((function(){Bn(),t((0,Q.setSupplyChainsCostsData)([])),t((0,Q.setDeleteImageVisible)(!0)),Je.id="",Je.text="",Ke.id="",Ke.text="",Ze.id="",Ze.text="",Ne.text="",He.text="",Ve.text="",Ye.text="",Ue.text="",_e.text="",Ge.text="",qe.text="",$e.text="",Xe.text="",Qe.text="",Object.keys(tt).forEach((function(e){tt[e]=!1})),console.log("Sample");var e=Pe();if(e){En(e),m(e)}}),[]);var En=function(){var e=(0,o.default)((function*(e){try{var r=(0,H.doc)(be,"accounts",e),o=yield(0,H.getDoc)(r);if(o.exists()){var n=o.data();n.type,n.name;t((0,Q.setLoginName)(n.name))}else console.log("Document does not exist")}catch(l){console.error("Error fetching field value:",l)}}));return function(t){return e.apply(this,arguments)}}(),Bn=(0,L.useCallback)((function(){t((0,Q.setSelectedImages)([])),he=[],t((0,Q.setIsAddPhotoVisible)(!0)),t((0,Q.setAddAnotherImages)(!1))}),[]),In=(0,L.useCallback)((function(){var e,t,r,o,n,l,a,i,s,d,c,u,f,h,g,m,x,p,y,b,j;zn(),Un(),null==(e=le.current)||e.clear(),null==(t=se.current)||t.clear(),null==(r=ce.current)||r.clear(),null==(o=ue.current)||o.clear(),null==(n=pe.current)||n.clear(),null==(l=ve.current)||l.clear(),null==(a=Le.current)||a.clear(),null==(i=Ie.current)||i.clear(),null==(s=Te.current)||s.clear(),null==(d=Oe.current)||d.clear(),null==(c=ot.current)||c.clear(),null==(u=lt.current)||u.clear(),null==(f=st.current)||f.clear(),null==(h=dt.current)||h.clear(),null==(g=ct.current)||g.clear(),null==(m=ut.current)||m.clear(),null==(x=pt.current)||x.clear(),null==(p=yt.current)||p.clear(),null==(y=bt.current)||y.clear(),jt.current.value="0.00",null==(b=Ct.current)||b.clear(),null==(j=wt.current)||j.clear(),Ne.text="",He.text="",Ve.text="",Ye.text="",Ue.text="",_e.text="",Ge.text="",qe.text="",Je.text="",Ke.text="",Ze.text="",Je.id="",Ke.id="",Ze.id="",$e.text="",Xe.text="",Qe.text="",dr("white"),pr("white"),Cr("white"),vr("white"),Lr("white"),Ir("white"),zr("white"),Hr("white"),_r("white"),Kr("white"),Qr("white"),oo("white"),io("white"),fo("white"),xo("white"),jo("white"),Do("white"),Ao("white"),Bo("white"),Oo("white"),To("white"),Uo("white"),Jo("white"),Xo("white"),rn("white"),an("white"),un("white"),mn("white"),hr("muted.500"),dr("white")}),[]),kn=(0,L.useCallback)((0,o.default)((function*(){var e=(0,G.ref)(Ae,""+ge);try{var t=he.map((function(e,t){return t.toString()})),r=yield(0,G.listAll)(e);yield Promise.all(r.items.filter((function(e){return!t.includes(e.name)})).map((function(e){return(0,G.deleteObject)(e)}))),yield Promise.all(he.map(function(){var e=(0,o.default)((function*(e,t){var r=e.uri,n=t.toString(),l=yield fetch(r),a=yield l.blob(),i=(document.createElement("canvas").getContext("2d"),new Image);i.src=URL.createObjectURL(a),i.onload=(0,o.default)((function*(){var e=document.createElement("canvas"),t=e.getContext("2d"),r=i.width,o=i.height;i.width>800&&(r=800,o=800*i.height/i.width),o>600&&(r=600*r/o,o=600),e.width=r,e.height=o,t.drawImage(i,0,0,r,o);i.height,i.width;var l=3*e.width/100;t.font="bold "+l+"px Arial",t.fillStyle="#fff",t.shadowColor="transparent",t.imageSmoothingEnabled=!0,t.lineWidth=2;var a="Real Motor Japan "+xe,s=t.measureText(a).width,d=(e.width-s)/2+2,c=e.height-20+2;t.shadowBlur=10,t.fillStyle="black",t.fillText(a,d,c),t.shadowBlur=2;var u=(e.width-s)/2,f=e.height-20;t.fillStyle="#fff",t.fillText(a,u,f);var h=yield new Promise((function(t){e.toBlob(t,"image/jpeg",.8)})),g=(0,G.ref)(Ae,ge+"/"+n);yield(0,G.uploadBytes)(g,h,{contentType:"image/jpeg"})}))}));return function(t,r){return e.apply(this,arguments)}}())),console.log("Images uploaded to folder "+ge)}catch(n){console.error("Error uploading images:",n)}})),[]),Rn=(0,L.useCallback)((0,o.default)((function*(){var e,r,n,l,a,i,s,d,c,u,f,h,g,m,x,p,y,b,j,C,w,S,D,v,M;t((0,Q.setLoadingModalVisible)(!0)),hr("muted.500"),pr("white"),Cr("white"),vr("white"),Lr("white"),Ir("white"),zr("white"),Hr("white"),_r("white"),Kr("white"),Qr("white"),oo("white"),io("white"),fo("white"),xo("white"),jo("white"),Do("white"),Ao("white"),Bo("white"),To("white"),Oo("white"),Uo("white"),Jo("white"),Xo("white"),rn("white"),an("white"),un("white"),mn("white"),dr("white");var P=""==Ne.text||""==He.text||""==Ve.text||""==Ye.text||""==Ue.text||""==_e.text||""==Ge.text||""==qe.text||""==Je.text||""==Ze.text||""==Ke.text||""==$e.text||""==Xe.text||""==Qe.text,A=""==(null==(e=Ee.current)?void 0:e.value)||""==(null==(r=Le.current)?void 0:r.value)||""==(null==(n=Ie.current)?void 0:n.value)||""==(null==(l=Te.current)?void 0:l.value)||""==(null==(a=ot.current)?void 0:a.value)||0==(null==(i=ot.current)?void 0:i.value)||""==(null==(s=lt.current)?void 0:s.value)||0==(null==(d=lt.current)?void 0:d.value)||""==(null==(c=st.current)?void 0:c.value)||""==(null==(u=dt.current)?void 0:u.value)||0==(null==(f=st.current)?void 0:f.value)||0==(null==(h=dt.current)?void 0:h.value)||0==(null==(g=ct.current)?void 0:g.value)||""==(null==(m=ct.current)?void 0:m.value)||""==(null==(x=pt.current)?void 0:x.value)||""==(null==(p=yt.current)?void 0:p.value)||""==(null==(y=bt.current)?void 0:y.value)||""==(null==(b=jt.current)?void 0:b.value)||0==(null==(j=pt.current)?void 0:j.value)||0==(null==(C=yt.current)?void 0:C.value)||0==(null==(w=bt.current)?void 0:w.value)||0==(null==(S=jt.current)?void 0:S.value)||""==(null==(D=wt.current)?void 0:D.value)||0==(null==(v=wt.current)?void 0:v.value)||""==(null==(M=le.current)?void 0:M.value),L=Object.values(tt).every((function(e){return!1===e}));if(console.log(A||P),A||P||L){var F,E,B,I,k,R,T,z,W,O,V,_,G,q,J,K,Z,$,X,ee,oe,ne;t((0,Q.setLoadingModalVisible)(!1)),xn.current.scrollIntoView({behavior:"smooth"}),L?(console.log("All features are false"),dr("danger.400")):console.log("At least one feature is true."),""==(null==(F=le.current)?void 0:F.value)&&(le.current.scrollIntoView({behavior:"smooth"}),hr("danger.400")),""==Xe.text&&(Ln.current.scrollIntoView({behavior:"smooth"}),un("danger.400")),""==Qe.text&&(Fn.current.scrollIntoView({behavior:"smooth"}),mn("danger.400")),""!=(null==(E=wt.current)?void 0:E.value)&&0!=(null==(B=wt.current)?void 0:B.value)||(wt.current.scrollIntoView({behavior:"smooth"}),an("danger.400")),""==$e.text&&(An.current.scrollIntoView({behavior:"smooth"}),rn("danger.400")),""!=(null==(I=bt.current)?void 0:I.value)&&0!=(null==(k=bt.current)?void 0:k.value)||(bt.current.scrollIntoView({behavior:"smooth"}),Xo("danger.400")),""!=(null==(R=yt.current)?void 0:R.value)&&0!=(null==(T=yt.current)?void 0:T.value)||(yt.current.scrollIntoView({behavior:"smooth"}),Jo("danger.400")),""!=(null==(z=pt.current)?void 0:z.value)&&0!=(null==(W=pt.current)?void 0:W.value)||(pt.current.scrollIntoView({behavior:"smooth"}),Uo("danger.400")),""==qe.text&&(Dn.current.scrollIntoView({behavior:"smooth"}),Ao("danger.400")),""!=(null==(O=dt.current)?void 0:O.value)&&0!=(null==(V=dt.current)?void 0:V.value)||(dt.current.scrollIntoView({behavior:"smooth"}),jo("danger.400")),""!=(null==(_=ct.current)?void 0:_.value)&&0!=(null==(G=ct.current)?void 0:G.value)||(ct.current.scrollIntoView({behavior:"smooth"}),Do("danger.400")),""==(null==(q=st.current)?void 0:q.value)&&(st.current.scrollIntoView({behavior:"smooth"}),xo("danger.400")),""==Ge.text&&(Sn.current.scrollIntoView({behavior:"smooth"}),fo("danger.400")),""==_e.text&&(wn.current.scrollIntoView({behavior:"smooth"}),io("danger.400")),""!=(null==(J=lt.current)?void 0:J.value)&&0!=(null==(K=lt.current)?void 0:K.value)||(lt.current.scrollIntoView({behavior:"smooth"}),oo("danger.400")),""==Ue.text&&(Cn.current.scrollIntoView({behavior:"smooth"}),Qr("danger.400")),""!=(null==(Z=ot.current)?void 0:Z.value)&&0!=(null==($=ot.current)?void 0:$.value)||(ot.current.scrollIntoView({behavior:"smooth"}),Kr("danger.400")),""==(null==(X=Te.current)?void 0:X.value)&&(Te.current.scrollIntoView({behavior:"smooth"}),_r("danger.400")),""==(null==(ee=Ie.current)?void 0:ee.value)&&(Ie.current.scrollIntoView({behavior:"smooth"}),Hr("danger.400")),""==(null==(oe=Le.current)?void 0:oe.value)&&(Le.current.scrollIntoView({behavior:"smooth"}),Ir("danger.400")),""==Ze.text&&(Mn.current.scrollIntoView({behavior:"smooth"}),To("danger.400")),""==Ke.text&&(Pn.current.scrollIntoView({behavior:"smooth"}),Oo("danger.400")),""==Je.text&&(vn.current.scrollIntoView({behavior:"smooth"}),Bo("danger.400")),""==Ye.text&&(jn.current.scrollIntoView({behavior:"smooth"}),Lr("danger.400")),""==Ve.text&&(bn.current.scrollIntoView({behavior:"smooth"}),vr("danger.400")),""==He.text&&(yn.current.scrollIntoView({behavior:"smooth"}),Cr("danger.400")),""==Ne.text&&(pn.current.scrollIntoView({behavior:"smooth"}),pr("danger.400")),""==(null==(ne=Ee.current)?void 0:ne.value)&&(Ee.current.scrollIntoView({behavior:"smooth"}),zr("danger.400"))}else{var de,ue,fe,ge,me,pe,be,je,Ce,we,Se,De,ve,Me,Pe,Ae,Fe,Be,ke,Re=(0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),ze=null==(de=Ee.current)?void 0:de.value,et=(0,H.doc)(Re,ze),rt=yield(0,H.getDoc)(et);t((0,Q.setLoadingModalVisible)(!0)),xe=null==(ue=Le.current)?void 0:ue.value;var nt,at=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,it=(Y()(at).format("YYYYMMDDHHmmss"),Y()(at).format("YYYY/MM/DD [at] HH:mm:ss")),ut=Y()(at).format("YYYY"),ft=Y()(at).format("MM"),ht=Y()(at).format("MM/DD"),gt=Y()(at).format("YYYY/MM/DD"),mt=Y()(at).format("DD"),xt=Y()(at).format("HH:mm"),Ct=Y()(at).format("HH:mm:ss"),St=(0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),Dt=(0,H.doc)(St,null==(fe=Ee.current)?void 0:fe.value),vt=(rt.data(),yield(0,H.getDoc)(Dt),[null==(ge=Le.current)?void 0:ge.value,null==(me=le.current)?void 0:me.value,null==(pe=Ee.current)?void 0:pe.value,Ve.text,Ne.text,He.text,null==(be=Ie.current)?void 0:be.value,Ne.text+" "+He.text,Ve.text+" "+Ne.text]),Mt={date:it,fobPrice:ce.current.value.replace(/,/g,""),changedBy:We.text},Pt=null==(je=ce.current)?void 0:je.value;ye!==Pt&&""!==Pt&&(nt=(0,H.arrayUnion)(Mt));var At=ae(ae({keywords:vt,imageCount:he.length,supplyChainsCostsData:ie},nt&&{fobHistory:nt}),{},{display:!1,photos:!1,stockID:null==(Ce=Ee.current)?void 0:Ce.value,make:Ne.text,model:He.text,regYear:Ve.text,regMonth:Ye.text,referenceNumber:null==(we=Le.current)?void 0:we.value,chassisNumber:null==(Se=Ie.current)?void 0:Se.value,modelCode:null==(De=Te.current)?void 0:De.value,engineCode:null==(ve=Oe.current)?void 0:ve.value,engineDisplacement:ot.current.value.replace(/,/g,""),steering:Ue.text,mileage:lt.current.value.replace(/,/g,""),transmission:_e.text,exteriorColor:Ge.text,numberOfSeats:null==(Me=st.current)?void 0:Me.value,doors:null==(Pe=dt.current)?void 0:Pe.value,purchasedPrice:ct.current.value.replace(/,/g,""),fuel:qe.text,port:Je.text,sales:Ke.text,buyer:Ze.text,portID:Je.id,salesID:Ke.id,buyerID:Ze.id,dimensionLength:pt.current.value.replace(/,/g,""),dimensionWidth:yt.current.value.replace(/,/g,""),dimensionHeight:bt.current.value.replace(/,/g,""),dimensionCubicMeters:jt.current.value.replace(/,/g,""),driveType:$e.text,weight:wt.current.value.replace(/,/g,""),bodyType:Xe.text,stockStatus:Qe.text,carName:null==(Ae=le.current)?void 0:Ae.value,carDescription:null==(Fe=se.current)?void 0:Fe.value,notes:null==(Be=te.current)?void 0:Be.value,memo:null==(ke=re.current)?void 0:ke.value,comfort:{ComfortAiCoFr:tt.ComfortAiCoFr,ComfortAiCoRe:tt.ComfortAiCoRe,ComfortAMFMRa:tt.ComfortAMFMRa,ComfortAMFMSt:tt.ComfortAMFMSt,ComfortCDPl:tt.ComfortCDPl,ComfortCDCh:tt.ComfortCDCh,ComfortCrSpCo:tt.ComfortCrSpCo,ComfortDiSp:tt.ComfortDiSp,ComfortDVDPl:tt.ComfortDVDPl,ComfortHDD:tt.ComfortHDD,ComfortNaSyGPS:tt.ComfortNaSyGPS,ComfortPoSt:tt.ComfortPoSt,ComfortPrAuSy:tt.ComfortPrAuSy,ComfortReKeSy:tt.ComfortReKeSy,ComfortTiStWh:tt.ComfortTiStWh},ComfortAiCoFr:tt.ComfortAiCoFr,ComfortAiCoRe:tt.ComfortAiCoRe,ComfortAMFMRa:tt.ComfortAMFMRa,ComfortAMFMSt:tt.ComfortAMFMSt,ComfortCDPl:tt.ComfortCDPl,ComfortCDCh:tt.ComfortCDCh,ComfortCrSpCo:tt.ComfortCrSpCo,ComfortDiSp:tt.ComfortDiSp,ComfortDVDPl:tt.ComfortDVDPl,ComfortHDD:tt.ComfortHDD,ComfortNaSyGPS:tt.ComfortNaSyGPS,ComfortPoSt:tt.ComfortPoSt,ComfortPrAuSy:tt.ComfortPrAuSy,ComfortReKeSy:tt.ComfortReKeSy,ComfortTiStWh:tt.ComfortTiStWh,fobPrice:ce.current.value.replace(/,/g,""),safetySystem:{SafetySystemAnBrSy:tt.SafetySystemAnBrSy,SafetySystemDrAi:tt.SafetySystemDrAi,SafetySystemPaAi:tt.SafetySystemPaAi,SafetySystemSiAi:tt.SafetySystemSiAi},SafetySystemAnBrSy:tt.SafetySystemAnBrSy,SafetySystemDrAi:tt.SafetySystemDrAi,SafetySystemPaAi:tt.SafetySystemPaAi,SafetySystemSiAi:tt.SafetySystemSiAi,interior:{InteriorLeSe:tt.InteriorLeSe,InteriorPoDoLo:tt.InteriorPoDoLo,InteriorPoMi:tt.InteriorPoMi,InteriorPoSe:tt.InteriorPoSe,InteriorPoWi:tt.InteriorPoWi,InteriorReWiDe:tt.InteriorReWiDe,InteriorReWiWi:tt.InteriorReWiWi,InteriorThRoSe:tt.InteriorThRoSe,InteriorTiGl:tt.InteriorTiGl},InteriorLeSe:tt.InteriorLeSe,InteriorPoDoLo:tt.InteriorPoDoLo,InteriorPoMi:tt.InteriorPoMi,InteriorPoSe:tt.InteriorPoSe,InteriorPoWi:tt.InteriorPoWi,InteriorReWiDe:tt.InteriorReWiDe,InteriorReWiWi:tt.InteriorReWiWi,InteriorThRoSe:tt.InteriorThRoSe,InteriorTiGl:tt.InteriorTiGl,exterior:{ExteriorAlWh:tt.ExteriorAlWh,ExteriorPoSlDo:tt.ExteriorPoSlDo,ExteriorSuRo:tt.ExteriorSuRo},ExteriorAlWh:tt.ExteriorAlWh,ExteriorPoSlDo:tt.ExteriorPoSlDo,ExteriorSuRo:tt.ExteriorSuRo,sellingPoints:{SellingPointsCuWh:tt.SellingPointsCuWh,SellingPointsFuLo:tt.SellingPointsFuLo,SellingPointsMaHiAv:tt.SellingPointsMaHiAv,SellingPointsBrNeTi:tt.SellingPointsBrNeTi,SellingPointsNoAcHi:tt.SellingPointsNoAcHi,SellingPointsNoSmPrOw:tt.SellingPointsNoSmPrOw,SellingPointsOnOwHi:tt.SellingPointsOnOwHi,SellingPointsPeRaTi:tt.SellingPointsPeRaTi,SellingPointsReBo:tt.SellingPointsReBo,SellingPointsTuEn:tt.SellingPointsTuEn,SellingPointsUpAuSy:tt.SellingPointsUpAuSy},SellingPointsCuWh:tt.SellingPointsCuWh,SellingPointsFuLo:tt.SellingPointsFuLo,SellingPointsMaHiAv:tt.SellingPointsMaHiAv,SellingPointsBrNeTi:tt.SellingPointsBrNeTi,SellingPointsNoAcHi:tt.SellingPointsNoAcHi,SellingPointsNoSmPrOw:tt.SellingPointsNoSmPrOw,SellingPointsOnOwHi:tt.SellingPointsOnOwHi,SellingPointsPeRaTi:tt.SellingPointsPeRaTi,SellingPointsReBo:tt.SellingPointsReBo,SellingPointsTuEn:tt.SellingPointsTuEn,SellingPointsUpAuSy:tt.SellingPointsUpAuSy});if(rt.exists())(0,H.updateDoc)(Dt,At).then((0,o.default)((function*(){try{var e,r,o,n;yield kn(),t((0,Q.setLoadingModalVisible)(!1)),t((0,Q.setIsUpdateSuccessModalOpen)(!0));try{yield(0,H.getDoc)(Dt);if(rt.exists()){var l=rt.data();if(l)if("dateAdded"in l){console.log("Date Update");var a={updatedDate:it};yield(0,H.updateDoc)(Dt,a)}else{console.log("Date Added");var i={dateAdded:it};yield(0,H.updateDoc)(Dt,i)}else{console.log("Date Added");var s={dateAdded:it};yield(0,H.updateDoc)(Dt,s)}}else console.log("Date Added")}catch(c){console.error("Error checking document:",c)}var d={message:'Vehicle Updated: "'+We.text+'" updated "'+(null==(e=le.current)?void 0:e.value)+'" with a reference number of "'+(null==(r=Le.current)?void 0:r.value)+'"',timestamp:it,colorScheme:!0,keywords:[it.toLowerCase(),Ee.current.value.toLowerCase(),('Vehicle Updated: "'+We.text+'" updated "'+(null==(o=le.current)?void 0:o.value)+'" with a reference number of "'+(null==(n=Le.current)?void 0:n.value)+'"').toLowerCase(),"Vehicle Updated".toLowerCase(),"Vehicle".toLowerCase(),"Updated".toLowerCase(),le.current.value.toLowerCase(),Le.current.value.toLowerCase(),We.text.toLowerCase(),ut.toLowerCase(),ft.toLowerCase(),ht.toLowerCase(),gt.toLowerCase(),mt.toLowerCase(),xt.toLowerCase(),Ct.toLowerCase()]};t((0,Q.setLoadingModalVisible)(!1)),Bn(),Tn(d),Wn(),console.log("Document updated successfully!")}catch(c){console.error("Error updating document:",c)}}))).catch((function(e){t((0,Q.setLoadingModalVisible)(!1)),console.error("Error updating document: ",e)}));else{var Lt=ae(ae({},At),{},{dateAdded:it});(0,H.setDoc)(Dt,Lt).then((0,o.default)((function*(){try{var e,r,o,n;yield kn(),t((0,Q.setLoadingModalVisible)(!1)),t((0,Q.setIsSuccessModalOpen)(!0));var l={message:'Vehicle Added: "'+We.text+'" added "'+(null==(e=le.current)?void 0:e.value)+'" with a reference number of "'+(null==(r=Le.current)?void 0:r.value)+'"',timestamp:it,colorScheme:!0,keywords:[it.toLowerCase(),Ee.current.value.toLowerCase(),('Vehicle Added: "'+We.text+'" added "'+(null==(o=le.current)?void 0:o.value)+'" with a reference number of "'+(null==(n=Le.current)?void 0:n.value)+'"').toLowerCase(),"Vehicle Added".toLowerCase(),"Vehicle".toLowerCase(),"Added".toLowerCase(),le.current.value.toLowerCase(),Le.current.value.toLowerCase(),We.text.toLowerCase(),ut.toLowerCase(),ft.toLowerCase(),ht.toLowerCase(),gt.toLowerCase(),mt.toLowerCase(),xt.toLowerCase(),Ct.toLowerCase()]};Bn(),Tn(l),Wn(),console.log("Document added successfully!")}catch(a){}}))).catch((function(e){t((0,Q.setLoadingModalVisible)(!1)),console.error("Error adding document: ",e)}))}}})),[]),Tn=function(){var e=(0,o.default)((function*(e){try{var t=(0,H.collection)(U.projectControlFirestore,"logs");yield(0,H.addDoc)(t,e),console.log("Document added successfully!")}catch(r){console.error("Error adding document:",r)}}));return function(t){return e.apply(this,arguments)}}(),zn=function(){et++,tt.SafetySystemAnBrSy=!1,tt.SafetySystemDrAi=!1,tt.SafetySystemPaAi=!1,tt.SafetySystemSiAi=!1,tt.ComfortAiCoFr=!1,tt.ComfortAiCoRe=!1,tt.ComfortAMFMRa=!1,tt.ComfortAMFMSt=!1,tt.ComfortCDPl=!1,tt.ComfortCDCh=!1,tt.ComfortCrSpCo=!1,tt.ComfortDiSp=!1,tt.ComfortDVDPl=!1,tt.ComfortHDD=!1,tt.ComfortNaSyGPS=!1,tt.ComfortPoSt=!1,tt.ComfortPrAuSy=!1,tt.ComfortReKeSy=!1,tt.ComfortTiStWh=!1,tt.InteriorLeSe=!1,tt.InteriorPoDoLo=!1,tt.InteriorPoMi=!1,tt.InteriorPoSe=!1,tt.InteriorPoWi=!1,tt.InteriorReWiDe=!1,tt.InteriorReWiWi=!1,tt.InteriorThRoSe=!1,tt.InteriorTiGl=!1,tt.ExteriorAlWh=!1,tt.ExteriorPoSlDo=!1,tt.ExteriorSuRo=!1,tt.SellingPointsCuWh=!1,tt.SellingPointsFuLo=!1,tt.SellingPointsMaHiAv=!1,tt.SellingPointsBrNeTi=!1,tt.SellingPointsNoAcHi=!1,tt.SellingPointsNoSmPrOw=!1,tt.SellingPointsOnOwHi=!1,tt.SellingPointsPeRaTi=!1,tt.SellingPointsReBo=!1,tt.SellingPointsTuEn=!1,tt.SellingPointsUpAuSy=!1},Wn=(0,L.useCallback)((function(){var e,r,o,n,l,a,i,s,d,c,u,f,h,g,m,x,p,y,b,j,C,w,S,D;zn(),Bn(),Un(),t((0,Q.setSupplyChainsCostsData)([])),ie=[],de="",ye="",null==(e=Ee.current)||e.clear(),null==(r=le.current)||r.clear(),null==(o=se.current)||o.clear(),null==(n=ce.current)||n.clear(),null==(l=ue.current)||l.clear(),null==(a=pe.current)||a.clear(),null==(i=ve.current)||i.clear(),null==(s=Le.current)||s.clear(),null==(d=Ie.current)||d.clear(),null==(c=Te.current)||c.clear(),null==(u=Oe.current)||u.clear(),null==(f=ot.current)||f.clear(),null==(h=lt.current)||h.clear(),null==(g=st.current)||g.clear(),null==(m=dt.current)||m.clear(),null==(x=ct.current)||x.clear(),null==(p=ut.current)||p.clear(),null==(y=pt.current)||y.clear(),null==(b=yt.current)||b.clear(),null==(j=bt.current)||j.clear(),jt.current.value="0.00",null==(C=Ct.current)||C.clear(),null==(w=wt.current)||w.clear(),null==(S=te.current)||S.clear(),null==(D=re.current)||D.clear(),Ne.text="",He.text="",Ve.text="",Ye.text="",Ue.text="",_e.text="",Ge.text="",qe.text="",Je.text="",Ke.text="",Ze.text="",Je.id="",Ke.id="",Ze.id="",$e.text="",Xe.text="",Qe.text="",dr("white"),pr("white"),Cr("white"),vr("white"),Lr("white"),Ir("white"),zr("white"),Hr("white"),_r("white"),Kr("white"),Qr("white"),oo("white"),io("white"),fo("white"),xo("white"),jo("white"),Do("white"),Ao("white"),Bo("white"),Oo("white"),To("white"),Uo("white"),Jo("white"),Xo("white"),rn("white"),an("white"),un("white"),mn("white"),hr("muted.500"),dr("white")}),[]),Nn=(F.default.get("window").width,function(e){var t=e.replace(/[^0-9]/g,"");if(t.startsWith("0"))return ce.current.value="",void ue.current.setNativeProps({text:""});var r=t.slice(0,9),o=r.replace(/\B(?=(\d{3})+(?!\d))/g,",");if(""!==o){var n=parseFloat(r)*Xt;if(isNaN(n))ce.current.value=o,ue.current.setNativeProps({text:""});else{var l=n.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,",");ce.current.value=o,ue.current.setNativeProps({text:l})}}else ce.current.value="",ue.current.setNativeProps({text:""})});(0,L.useEffect)((function(){var e;Nn(null==(e=ce.current)?void 0:e.value)}),[Xt]);var On=["01","02","03","04","05","06","07","08","09","10","11","12"],Hn=function(){var e,t,r,o,n,l,a=((parseFloat(null==(e=pt.current)||null==(t=e.value)?void 0:t.replace(/,/g,""))||0)*(parseFloat(null==(r=yt.current)||null==(o=r.value)?void 0:o.replace(/,/g,""))||0)*(parseFloat(null==(n=bt.current)||null==(l=n.value)?void 0:l.replace(/,/g,""))||0)/1e6).toFixed(2);jt.current.setNativeProps({text:a})},Vn=function(){var e,t=""+Je.id+(null==(e=Ee.current)?void 0:e.value)+Ke.id+"-"+Ze.id;Le.current.setNativeProps({text:t}),ze.text=t},Yn=function(){var e=Ve.text+" "+Ne.text+" "+He.text;le.current.setNativeProps({text:e})},Un=function(){rr.current.reset(),or.current.reset(),Se.current.reset(),De.current.reset(),nt.current.reset(),at.current.reset(),it.current.reset(),ft.current.reset(),ht.current.reset(),gt.current.reset(),mt.current.reset(),xt.current.reset(),St.current.reset(),Dt.current.reset()},_n=(0,L.useState)(!1),Gn=(0,a.default)(_n,2),qn=(Gn[0],Gn[1],(0,L.useCallback)((function(){t((0,Q.setIsSuccessModalOpen)(!1))}),[])),Jn=(0,L.useCallback)((function(){t((0,Q.setIsUpdateSuccessModalOpen)(!1))}),[]),Kn=B.default.create({container:{flex:1},image:{flex:1}});return(0,ne.jsxs)(v.NativeBaseProvider,{children:[(0,ne.jsxs)(d.default,{bgColor:"#A6BCFE",h:"100vh",w:"full",flexDirection:"column",children:[(0,ne.jsxs)(d.default,{px:"3",bgColor:"#7b9cff",height:54,position:"sticky",top:0,zIndex:999,flexDirection:"row",alignItems:"center",borderBottomWidth:2,borderBottomColor:"cyan.500",children:[(0,ne.jsx)($.default,{selectedScreen:me}),(0,ne.jsx)(d.default,{w:[0,0,0,850],h:[10,10,10,10],marginBottom:1.5,marginTop:1.5,paddingLeft:5,children:(0,ne.jsx)(ee.default,{source:{uri:w,priority:ee.default.priority.high},resizeMode:ee.default.resizeMode.stretch,style:Kn.image})}),(0,ne.jsx)(d.default,{w:[150,200,250,0],h:[6,8,10,10],marginBottom:1.5,marginTop:1.5,marginLeft:[3,3,3,10],children:(0,ne.jsx)(ee.default,{source:{uri:I,priority:ee.default.priority.high},resizeMode:ee.default.resizeMode.stretch,style:Kn.image})}),(0,ne.jsx)((function(e){var t=e.name,r=e.handleSignOut,o=(0,L.useState)(!1),n=(0,a.default)(o,2),l=n[0],i=n[1],c=function(){i(!l)};return(0,ne.jsx)(d.default,{w:[100,200,1020],h:[10,10,10],flex:1,children:(0,ne.jsx)(S.default,{direction:"row-reverse",children:(0,ne.jsx)(D.Popover,{isOpen:l,trigger:function(e){return(0,ne.jsxs)(s.default,ae(ae({color:"white",marginTop:[2,2,2],fontSize:[17,18,20],marginRight:[1,3,5]},e),{},{onPress:c,children:[(0,ne.jsx)(z.default,{name:"account",size:[20,25,30],color:"white"})," ",t," ",(0,ne.jsx)(R.default,{name:"caret-down",size:16,color:"white"})]}))},onClose:function(){return i(!l)},placement:"bottom right",trapFocus:!1,children:(0,ne.jsx)(D.Popover.Content,{backgroundColor:"#7B9CFF",children:(0,ne.jsx)(D.Popover.Body,{backgroundColor:"#7B9CFF",children:(0,ne.jsx)(u.Button,{_hover:{bgColor:"blueGray.500"},onPress:r,leftIcon:(0,ne.jsx)(z.default,{name:"logout",size:20,color:"white"}),bgColor:"transparent",children:"Logout"})})})})})})}),{name:n,handleSignOut:function(){(0,O.signOut)(U.projectControlAuth).then((function(){_("/Login"),m(""),V("")})).catch((function(){}))}})]}),(0,ne.jsx)(d.default,{flex:[1],flexDirection:"row",children:(0,ne.jsx)(d.default,{flex:1,flexGrow:1,minHeight:0,children:(0,ne.jsx)(b.ScrollView,{flex:1,contentContainerStyle:{flexGrow:1},children:(0,ne.jsx)(M.default,{visible:!0,initial:{opacity:0},animate:{opacity:1,transition:{duration:250}},children:(0,ne.jsxs)(d.default,{px:"3",bgColor:"#A6BCFE",height:"full",flexDir:"column",children:[(0,ne.jsx)(d.default,{bgColor:"#A6BCFE",w:"100%",margin:1,flexDirection:"column",paddingBottom:[10,10,10,0,0,0]}),(0,ne.jsx)(d.default,{bgColor:"#A6BCFE",w:"100%",margin:1,flexDirection:"column",children:(0,ne.jsxs)(d.default,{flexDir:["column","column","column","column","row","row"],height:"full",flex:1,display:e<1280?"none":"flex",children:[(0,ne.jsx)(d.default,{flexDir:"row",flex:1,children:(0,ne.jsx)(d.default,{margin:2,flex:1,flexDir:["column"],children:(0,ne.jsxs)(d.default,{borderColor:"white",borderWidth:1,ref:xn,children:[(0,ne.jsx)(d.default,{flex:1,bgColor:"#7b9cff",borderBottomColor:"white",borderBottomWidth:"1",children:(0,ne.jsx)(s.default,{color:"white",marginLeft:1,bold:!0,fontSize:20,width:"full",children:"Input Vehicle Specification"})}),(0,ne.jsx)(Be,{selectStockStatus:Dt,handleSetBordersWhite:function(){dr("white"),pr("white"),Cr("white"),vr("white"),Lr("white"),Ir("white"),zr("white"),Hr("white"),_r("white"),Kr("white"),Qr("white"),oo("white"),io("white"),fo("white"),xo("white"),jo("white"),Do("white"),Ao("white"),Bo("white"),Oo("white"),To("white"),Uo("white"),Jo("white"),Xo("white"),rn("white"),an("white"),un("white"),mn("white"),hr("muted.500"),dr("white")},handleClearIfError:In,handleClearToggleButton:zn,inputFobUsd:ue,years:er,monthNumbers:On,portData:Vt,salesData:qt,buyerData:Gt,steeringData:tr,transmissionData:Ut,exteriorColorData:$t,fuelData:_t,driveTypeData:Jt,bodyTypeData:Kt,selectPort:ht,selectSales:gt,selectBuyer:mt,inputRefNum:Le,inputChassis:Ie,inputModelCode:Te,inputEngineCode:Oe,inputEngineDis:ot,selectSteering:nt,inputMileage:lt,selectTransmission:at,selectExteriorColor:it,inputNumOfSeats:st,inputDoors:dt,inputPurchasedPrice:ct,selectFuel:ft,inputDimensionLength:pt,inputDimensionWidth:yt,inputDimensionHeight:bt,inputDimensionCubicMeters:jt,selectDriveType:xt,inputWeight:wt,selectBodyType:St,inputCarName:le,inputCarDesc:se,inputFobJpy:ce,selectRegYear:Se,selectRegMonth:De,setRefNumFromSelects:Vn,inputStockIDNumber:Ee,stockIDNumError:Tr,selectMakeForModelRef:nr,textAreaAddModel:Mt,selectMakeForAddModelRef:lr,handleAddMakeTextChange:function(){var e,t,r,o=null==(e=vt.current)||null==(t=e.value)?void 0:t.toUpperCase();null==(r=vt.current)||r.setNativeProps({text:o})},textAreaAddMake:vt,modelError:jr,makeError:xr,selectMakeBoxRef:pn,selectMakeRef:rr,selectModelRef:or,selectModelBoxRef:yn,setCarNameFromSelects:Yn,setCarNameFromSelectsModel:function(){var e=Ve.text+" "+Ne.text+" "+He.text;le.current.setNativeProps({text:e})},inputCarNotes:te,inputCarMemo:re,purchasedPriceError:So,handleInputPurchasedPriceChange:function(e){var t=e.replace(/[^0-9]/g,"").slice(0,9),r=Number(t).toLocaleString();ct.current.value=r}}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",children:[(0,ne.jsxs)(d.default,{flexDir:"row",bgColor:"#8096D7",flex:2,alignItems:"flex-start",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Registration Year & Month"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{ref:bn,bgColor:"white",flex:1,borderColor:Dr,borderWidth:1,children:(0,ne.jsx)(K.default,{ref:Se,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:er,onSelect:(0,L.useCallback)((function(e){Ve.text=e,Yn()}),[]),defaultButtonText:"-- Choose Year --",buttonTextAfterSelection:function(e){return e},renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e},searchPlaceHolder:"Year",searchInputStyle:{marginTop:1,flex:1,width:"100%"},disableAutoScroll:!0,search:!0})}),(0,ne.jsx)(d.default,{ref:jn,bgColor:"white",flex:1,borderColor:Ar,borderWidth:1,children:(0,ne.jsx)(K.default,{ref:De,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:On,onSelect:(0,L.useCallback)((function(e){Ye.text=e}),[]),defaultButtonText:"--Choose Month--",buttonTextAfterSelection:function(e){return e},renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e},searchPlaceHolder:"Month",searchInputStyle:{marginTop:1,flex:1,width:"100%",outlineStyle:"none"},disableAutoScroll:!0,search:!0})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{alignSelf:"center",flex:1,flexDir:"row",children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",fontSize:[14,14,12,12,16,18],children:" Port"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"}),(0,ne.jsx)(Re,{docName:"Port",handleAddTextChange:function(){var e,t=null==(e=Ft.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");Ft.current.setNativeProps({text:r})}},handleAddCodeTextChange:function(){var e,t,r,o=null==(e=Et.current)||null==(t=e.value)?void 0:t.toUpperCase();null==(r=Et.current)||r.setNativeProps({text:o})},textAreaAddCode:Et,textAreaAdd:Ft,title:"Port",dataName:"port",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Port",data:Vt})]}),(0,ne.jsx)(d.default,{ref:vn,bgColor:"white",flex:1,borderColor:Eo,borderWidth:1,children:(0,ne.jsx)(K.default,{ref:ht,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:Vt.map((function(e){return e})),onSelect:(0,L.useCallback)((function(e){Je.text=e.name,Je.id=e.id,Vn()}),[]),defaultButtonText:"-- Choose Port --",buttonTextAfterSelection:function(e){return e.name},renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e.name},searchPlaceHolder:" Search for Port",searchInputStyle:{marginTop:1,flex:1,width:"100%"},disableAutoScroll:!0,search:!0})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{alignSelf:"center",flex:1,flexDir:"row",children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",fontSize:[14,14,12,12,16,18],children:" Sales In Charge"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"}),(0,ne.jsx)(Re,{docName:"Sales",handleAddTextChange:function(){var e,t=null==(e=Bt.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");Bt.current.setNativeProps({text:r})}},handleAddCodeTextChange:function(){var e,t,r,o=null==(e=kt.current)||null==(t=e.value)?void 0:t.toUpperCase();null==(r=kt.current)||r.setNativeProps({text:o})},textAreaAddCode:kt,textAreaAdd:Bt,title:"Sales",dataName:"sales",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Sales",data:qt})]}),(0,ne.jsx)(d.default,{ref:Pn,bgColor:"white",flex:1,borderColor:No,borderWidth:1,children:(0,ne.jsx)(K.default,{ref:gt,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:qt.map((function(e){return e})),onSelect:(0,L.useCallback)((function(e){Ke.text=e.name,Ke.id=e.id,Vn()}),[]),defaultButtonText:"-- Choose Sales --",buttonTextAfterSelection:function(e){return e.name},renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e.name},searchPlaceHolder:" Search for Sales",searchInputStyle:{marginTop:1,flex:1,width:"100%"},disableAutoScroll:!0,search:!0})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{alignSelf:"center",flex:1,flexDir:"row",children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",fontSize:[14,14,12,12,16,18],children:" Buyer In Charge"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"}),(0,ne.jsx)(Re,{docName:"Buyer",handleAddTextChange:function(){var e,t=null==(e=It.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");It.current.setNativeProps({text:r})}},handleAddCodeTextChange:function(e){var t=e.replace(/[^0-9\n]/g,"");Rt.current.value=t},textAreaAddCode:Rt,textAreaAdd:It,title:"Buyer",dataName:"buyer",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add buyer",data:Gt})]}),(0,ne.jsx)(d.default,{ref:Mn,bgColor:"white",flex:1,borderColor:Ro,borderWidth:1,children:(0,ne.jsx)(K.default,{ref:mt,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:Gt.map((function(e){return e})),onSelect:(0,L.useCallback)((function(e){Ze.text=e.name,Ze.id=e.id,Vn()}),[]),defaultButtonText:"-- Choose Buyer --",buttonTextAfterSelection:function(e){return e.name},renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e.name},searchPlaceHolder:" Search for Buyer",searchInputStyle:{marginTop:1,flex:1,width:"100%"},disableAutoScroll:!0,search:!0})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{flexDir:"row",alignSelf:"center",flex:1,alignItems:"flex-start",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Reference Number"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:Br,borderWidth:1,children:(0,ne.jsx)(p.Input,{defaultValue:"",ref:Le,onChangeText:function(){var e,t,r,o=null==(e=Le.current)||null==(t=e.value)?void 0:t.toUpperCase();null==(r=Le.current)||r.setNativeProps({text:o}),Vn()},placeholder:" Reference Number"})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{flexDir:"row",alignSelf:"center",flex:1,alignItems:"flex-start",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Chassis / Frame Number"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:Or,borderWidth:1,children:(0,ne.jsx)(p.Input,{defaultValue:"",ref:Ie,onChangeText:function(){var e,t,r,o=null==(e=Ie.current)||null==(t=e.value)?void 0:t.toUpperCase();null==(r=Ie.current)||r.setNativeProps({text:o})},placeholder:" Chassis / Frame Number"})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{flexDir:"row",alignSelf:"center",flex:1,alignItems:"flex-start",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Model Code"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:Ur,borderWidth:1,children:(0,ne.jsx)(p.Input,{defaultValue:"",ref:Te,onChangeText:function(){var e,t,r,o=null==(e=Te.current)||null==(t=e.value)?void 0:t.toUpperCase();null==(r=Te.current)||r.setNativeProps({text:o})},placeholder:" Model Code"})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsx)(d.default,{flexDir:"row",alignSelf:"center",flex:1,alignItems:"flex-start",children:(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Engine Code"})}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:"white",borderWidth:1,children:(0,ne.jsx)(p.Input,{defaultValue:"",ref:Oe,onChangeText:function(){var e,t,r,o=null==(e=Oe.current)||null==(t=e.value)?void 0:t.toUpperCase();null==(r=Oe.current)||r.setNativeProps({text:o})},placeholder:" Engine Code"})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{flexDir:"row",alignSelf:"center",flex:1,alignItems:"flex-start",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Engine Displacement"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:Jr,borderWidth:1,children:(0,ne.jsxs)(P.InputGroup,{children:[(0,ne.jsx)(p.Input,{defaultValue:"",keyboardType:"numeric",ref:ot,onChangeText:function(e){var t=e.replace(/[^0-9]/g,"").slice(0,5),r=Number(t).toLocaleString();ot.current.value=r},flex:1,placeholder:" Engine Displacement"}),(0,ne.jsx)(A.InputRightAddon,{children:"cc"})]})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",children:[(0,ne.jsxs)(d.default,{bgColor:"#8096D7",flex:1,flexDir:"row",children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",fontSize:[14,14,12,12,16,18],children:" Steering"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"}),(0,ne.jsx)(d.default,{flex:1,justifyContent:"center",alignItems:"flex-end",marginRight:1})]}),(0,ne.jsx)(d.default,{ref:Cn,bgColor:"white",flex:1,borderColor:Xr,borderWidth:1,children:(0,ne.jsx)(K.default,{ref:nt,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:tr,onSelect:(0,L.useCallback)((function(e){Ue.text=e}),[]),defaultButtonText:"-- Choose Steering --",buttonTextAfterSelection:function(e){return e},renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e},searchPlaceHolder:" Search for Steering",searchInputStyle:{marginTop:1,flex:1,width:"100%"},disableAutoScroll:!0,search:!0})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{flexDir:"row",alignSelf:"center",bgColor:"#8096D7",flex:1,alignItems:"flex-start",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Mileage"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:ro,borderWidth:1,children:(0,ne.jsxs)(P.InputGroup,{children:[(0,ne.jsx)(p.Input,{defaultValue:"",keyboardType:"numeric",ref:lt,onChangeText:function(e){var t=e.replace(/[^0-9]/g,"").slice(0,6),r=Number(t).toLocaleString();lt.current.value=r},flex:1,placeholder:" Mileage"}),(0,ne.jsx)(A.InputRightAddon,{children:"km"})]})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",children:[(0,ne.jsxs)(d.default,{flexDir:"row",bgColor:"#8096D7",flex:1,children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",fontSize:[14,14,12,12,16,18],children:" Transmission"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"}),(0,ne.jsx)(ke,{docName:"Transmission",handleAddTextChange:function(){var e,t=null==(e=Pt.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");Pt.current.setNativeProps({text:r})}},textAreaAdd:Pt,title:"Transmission",dataName:"transmission",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Transmission",data:Ut})]}),(0,ne.jsx)(d.default,{ref:wn,bgColor:"white",flex:1,borderColor:ao,borderWidth:1,children:(0,ne.jsx)(K.default,{ref:at,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:Ut,onSelect:(0,L.useCallback)((function(e){_e.text=e}),[]),defaultButtonText:"-- Choose Transmission --",buttonTextAfterSelection:function(e){return e},renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e},searchPlaceHolder:" Search for Transmission",searchInputStyle:{marginTop:1,flex:1,width:"100%"},disableAutoScroll:!0,search:!0})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",children:[(0,ne.jsxs)(d.default,{bgColor:"#8096D7",flex:1,flexDir:"row",children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",fontSize:[14,14,12,12,16,18],children:" Exterior Color"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"}),(0,ne.jsx)(ke,{docName:"ExteriorColor",handleAddTextChange:function(){var e,t=null==(e=At.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");At.current.setNativeProps({text:r})}},textAreaAdd:At,title:"Exterior Color",dataName:"exteriorColor",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Transmission",data:Ut})]}),(0,ne.jsx)(d.default,{ref:Sn,bgColor:"white",flex:1,borderColor:uo,borderWidth:1,children:(0,ne.jsx)(K.default,{ref:it,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:$t,onSelect:(0,L.useCallback)((function(e){Ge.text=e}),[]),defaultButtonText:"-- Choose Exterior Color --",buttonTextAfterSelection:function(e){return e},renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e},searchPlaceHolder:" Search for Exterior Color",searchInputStyle:{marginTop:1,flex:1,width:"100%"},disableAutoScroll:!0,search:!0})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{flexDir:"row",alignSelf:"center",flex:1,alignItems:"flex-start",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Number of Seats"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:mo,borderWidth:1,children:(0,ne.jsx)(p.Input,{defaultValue:"",keyboardType:"numeric",ref:st,onChangeText:function(e){var t=e.replace(/[^0-9]/g,"").slice(0,3),r=Number(t).toLocaleString();st.current.value=r},placeholder:" Number of Seats"})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{flexDir:"row",alignSelf:"center",flex:1,alignItems:"flex-start",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Doors"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:bo,borderWidth:1,children:(0,ne.jsx)(p.Input,{defaultValue:"",keyboardType:"numeric",ref:dt,onChangeText:function(e){var t=e.replace(/[^0-9]/g,"").slice(0,2),r=Number(t).toLocaleString();dt.current.value=r},placeholder:" Doors"})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{alignSelf:"center",flex:1,flexDir:"row",children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",fontSize:[14,14,12,12,16,18],children:" Fuel"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"}),(0,ne.jsx)(ke,{docName:"Fuel",handleAddTextChange:function(){var e,t=null==(e=Lt.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");Lt.current.setNativeProps({text:r})}},textAreaAdd:Lt,title:"Fuel",dataName:"fuel",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Fuel",data:_t})]}),(0,ne.jsx)(d.default,{ref:Dn,bgColor:"white",flex:1,borderColor:Po,borderWidth:1,children:(0,ne.jsx)(K.default,{ref:ft,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:_t,onSelect:(0,L.useCallback)((function(e){qe.text=e}),[]),defaultButtonText:"-- Choose Fuel --",buttonTextAfterSelection:function(e){return e},renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e},searchPlaceHolder:" Search for Fuel",searchInputStyle:{marginTop:1,flex:1,width:"100%"},disableAutoScroll:!0,search:!0})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{flexDir:"row",bgColor:"#8096D7",alignSelf:"center",flex:[1,1,1,1,2,2],alignItems:"flex-start",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Dimension"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:Yo,borderWidth:1,children:(0,ne.jsxs)(P.InputGroup,{children:[(0,ne.jsx)(p.Input,{defaultValue:"",keyboardType:"numeric",ref:pt,onChangeText:function(e){var t=e.replace(/[^0-9.]/g,""),r=t.indexOf("."),o=(-1!==r?t.slice(0,r+1)+t.slice(r).replace(/\./g,""):t).slice(0,7).replace(/\B(?=(\d{3})+(?!\d))/g,",");pt.current.value=o,Hn()},flex:1,placeholder:"Length"}),(0,ne.jsx)(A.InputRightAddon,{children:"cm"})]})}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:qo,borderWidth:1,children:(0,ne.jsxs)(P.InputGroup,{children:[(0,ne.jsx)(p.Input,{defaultValue:"",keyboardType:"numeric",ref:yt,onChangeText:function(e){var t=e.replace(/[^0-9.]/g,""),r=t.indexOf("."),o=(-1!==r?t.slice(0,r+1)+t.slice(r).replace(/\./g,""):t).slice(0,7).replace(/\B(?=(\d{3})+(?!\d))/g,",");yt.current.value=o,Hn()},flex:1,placeholder:"Width"}),(0,ne.jsx)(A.InputRightAddon,{children:"cm"})]})}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:$o,borderWidth:1,children:(0,ne.jsxs)(P.InputGroup,{children:[(0,ne.jsx)(p.Input,{defaultValue:"",keyboardType:"numeric",ref:bt,onChangeText:function(e){var t=e.replace(/[^0-9.]/g,""),r=t.indexOf("."),o=(-1!==r?t.slice(0,r+1)+t.slice(r).replace(/\./g,""):t).slice(0,7).replace(/\B(?=(\d{3})+(?!\d))/g,",");bt.current.value=o,Hn()},flex:1,placeholder:"Height"}),(0,ne.jsx)(A.InputRightAddon,{children:"cm"})]})}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,children:(0,ne.jsxs)(P.InputGroup,{children:[(0,ne.jsx)(p.Input,{keyboardType:"numeric",ref:jt,defaultValue:"0.00",onChangeText:function(e){var t=e.replace(/[^0-9]/g,"").slice(0,6),r=Number(t).toLocaleString();jt.current.value=r,Hn()},bgColor:"muted.100",disabled:!0,editable:!1,flex:1,placeholder:"Cubic Meters"}),(0,ne.jsx)(A.InputRightAddon,{children:"m\xb3"})]})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",children:[(0,ne.jsxs)(d.default,{bgColor:"#8096D7",flex:1,flexDir:"row",children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",fontSize:[14,14,12,12,16,18],children:" Drive Type"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"}),(0,ne.jsx)(ke,{docName:"DriveType",handleAddTextChange:function(){var e,t=null==(e=Tt.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");Tt.current.setNativeProps({text:r})}},textAreaAdd:Tt,title:"Drive Type",dataName:"driveType",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Drive Type",data:Jt})]}),(0,ne.jsx)(d.default,{ref:An,bgColor:"white",flex:1,borderColor:tn,borderWidth:1,children:(0,ne.jsx)(K.default,{ref:xt,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:Jt,onSelect:(0,L.useCallback)((function(e){$e.text=e}),[]),defaultButtonText:"-- Choose Drive Type --",buttonTextAfterSelection:function(e){return e},renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e},searchPlaceHolder:" Search for Drive Type",searchInputStyle:{marginTop:1,flex:1,width:"100%"},disableAutoScroll:!0,search:!0})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{flexDir:"row",alignSelf:"center",flex:1,alignItems:"flex-start",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Weight"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:ln,borderWidth:1,children:(0,ne.jsxs)(P.InputGroup,{children:[(0,ne.jsx)(p.Input,{defaultValue:"",ref:wt,keyboardType:"numeric",onChangeText:function(e){var t=e.replace(/[^0-9]/g,"").slice(0,5),r=Number(t).toLocaleString();wt.current.value=r},flex:1,placeholder:" Weight"}),(0,ne.jsx)(A.InputRightAddon,{children:"kg"})]})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderBottomColor:"white",borderBottomWidth:"0",children:[(0,ne.jsxs)(d.default,{bgColor:"#8096D7",flex:1,flexDir:"row",children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",fontSize:[14,14,12,12,16,18],children:" Body Type"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"}),(0,ne.jsx)(ke,{docName:"BodyType",handleAddTextChange:function(){var e,t=null==(e=zt.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");zt.current.setNativeProps({text:r})}},textAreaAdd:zt,title:"Body Type",dataName:"bodyType",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Body Type",data:Kt})]}),(0,ne.jsx)(d.default,{ref:Ln,bgColor:"white",flex:1,borderColor:cn,borderWidth:1,children:(0,ne.jsx)(K.default,{ref:St,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:Kt,onSelect:(0,L.useCallback)((function(e){Xe.text=e}),[]),defaultButtonText:"-- Choose Body Type --",buttonTextAfterSelection:function(e){return e},renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e},searchPlaceHolder:" Search for Body Type",searchInputStyle:{marginTop:1,flex:1,width:"100%"},disableAutoScroll:!0,search:!0})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderTopColor:"white",borderTopWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsx)(d.default,{flexDir:"row",alignSelf:"center",flex:1,alignItems:"flex-start",children:(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Supply Chains Costs"})}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:"white",borderWidth:1,children:(0,ne.jsx)(Me,{handleAddExpenseNameTextChange:function(){var e,t=null==(e=Wt.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");Wt.current.setNativeProps({text:r})}},textAreaAddExpenseName:Wt,inputExpenseAmount:Ot,handleInputExpenseAmountChange:function(e){var t=e.replace(/[^0-9]/g,"").slice(0,6),r=Number(t).toLocaleString();Ot.current.value=r},handleAddPaidToTextChange:function(){var e,t=null==(e=Nt.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");Nt.current.setNativeProps({text:r})}},paidToData:Ht,inputCarNotes:te})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderTopColor:"white",borderTopWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{flexDir:"row",alignSelf:"center",flex:1,alignItems:"flex-start",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:[14,14,12,12,16,18],children:" Select Features"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{bgColor:"white",flex:1,borderColor:sr,borderWidth:1,children:(0,ne.jsx)((function(){var e=(0,L.useState)(!1),t=(0,a.default)(e,2),r=t[0],o=t[1],n=(0,L.useState)(!1),l=(0,a.default)(n,2),f=l[0],h=l[1],g=(0,L.useState)(et),m=(0,a.default)(g,2),x=(m[0],m[1]),p=function(){o(!1)},y=function(){h(!1)};return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(u.Button,{borderRadius:3,flex:1,onPress:function(){o(!0)},variant:"outline",_text:{color:"black"},leftIcon:(0,ne.jsx)(z.default,{name:"car-info",size:20,color:"black"}),children:"Select Features"}),(0,ne.jsx)(i.Modal,{isOpen:r,onClose:p,size:"full",useRNModal:!0,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"white",w:"80%",h:"80%",children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsxs)(b.ScrollView,{flex:1,flexDirection:"column",margin:10,children:[(0,ne.jsx)(d.default,{children:(0,ne.jsx)(s.default,{color:"black",bold:!0,fontSize:16,width:"full",children:" Safety System"})}),(0,ne.jsxs)(d.default,{flex:1,flexDir:"row",children:[(0,ne.jsx)(rt,{variable:tt.SafetySystemAnBrSy,label:"Anti-Lock Braking System (ABS)",onChange:function(e){return tt.SafetySystemAnBrSy=e}},"SafetySystemAnBrSy-"+et),(0,ne.jsx)(rt,{variable:tt.SafetySystemDrAi,label:"Driver Airbag",onChange:function(e){return tt.SafetySystemDrAi=e}},"SafetySystemDrAi-"+et),(0,ne.jsx)(rt,{variable:tt.SafetySystemPaAi,label:"Passenger Airbag",onChange:function(e){return tt.SafetySystemPaAi=e}},"SafetySystemPaAi-"+et),(0,ne.jsx)(rt,{variable:tt.SafetySystemSiAi,label:"Side Airbag",onChange:function(e){return tt.SafetySystemSiAi=e}},"SafetySystemSiAi-"+et)]}),(0,ne.jsx)(d.default,{children:(0,ne.jsx)(s.default,{color:"black",marginLeft:1,bold:!0,fontSize:16,width:"full",children:"Comfort"})}),(0,ne.jsxs)(d.default,{flex:1,flexDir:"row",children:[(0,ne.jsx)(rt,{variable:tt.ComfortAiCoFr,label:"Air Conditioner (Front)",onChange:function(e){return tt.ComfortAiCoFr=e}},"ComfortAiCoFr-"+et),(0,ne.jsx)(rt,{variable:tt.ComfortAiCoRe,label:"Air Conditioner (Rear)",onChange:function(e){return tt.ComfortAiCoRe=e}},"ComfortAiCoRe-"+et),(0,ne.jsx)(rt,{variable:tt.ComfortAMFMRa,label:"AM/FM Radio",onChange:function(e){return tt.ComfortAMFMRa=e}},"ComfortAMFMRa-"+et),(0,ne.jsx)(rt,{variable:tt.ComfortAMFMSt,label:"AM/FM Stereo",onChange:function(e){return tt.ComfortAMFMSt=e}},"ComfortAMFMSt-"+et)]}),(0,ne.jsxs)(d.default,{flex:1,flexDir:"row",children:[(0,ne.jsx)(rt,{variable:tt.ComfortCDPl,label:"CD Player",onChange:function(e){return tt.ComfortCDPl=e}},"ComfortCDPl-"+et),(0,ne.jsx)(rt,{variable:tt.ComfortCDCh,label:"CD Changer",onChange:function(e){return tt.ComfortCDCh=e}},"ComfortCDCh-"+et),(0,ne.jsx)(rt,{variable:tt.ComfortCrSpCo,label:"Cruise Speed Control",onChange:function(e){return tt.ComfortCrSpCo=e}},"ComfortCrSpCo-"+et),(0,ne.jsx)(rt,{variable:tt.ComfortDiSp,label:"Digital Speedometer",onChange:function(e){return tt.ComfortDiSp=e}},"ComfortDiSp-"+et)]}),(0,ne.jsxs)(d.default,{flex:1,flexDir:"row",children:[(0,ne.jsx)(rt,{variable:tt.ComfortDVDPl,label:"DVD Player",onChange:function(e){return tt.ComfortDVDPl=e}},"ComfortDVDPl-"+et),(0,ne.jsx)(rt,{variable:tt.ComfortHDD,label:"Hard Disk Drive",onChange:function(e){return tt.ComfortHDD=e}},"ComfortHDD-"+et),(0,ne.jsx)(rt,{variable:tt.ComfortNaSyGPS,label:"Navigation System (GPS)",onChange:function(e){return tt.ComfortNaSyGPS=e}},"ComfortNaSyGPS-"+et),(0,ne.jsx)(rt,{variable:tt.ComfortPoSt,label:"Power Steering",onChange:function(e){return tt.ComfortPoSt=e}},"ComfortPoSt-"+et)]}),(0,ne.jsxs)(d.default,{flex:1,flexDir:"row",children:[(0,ne.jsx)(rt,{variable:tt.ComfortPrAuSy,label:"Premium Audio System",onChange:function(e){return tt.ComfortPrAuSy=e}},"ComfortPrAuSy-"+et),(0,ne.jsx)(rt,{variable:tt.ComfortReKeSy,label:"Remote Keyless System",onChange:function(e){return tt.ComfortReKeSy=e}},"ComfortReKeSy-"+et),(0,ne.jsx)(rt,{variable:tt.ComfortTiStWh,label:"Tilt Steering Wheel",onChange:function(e){return tt.ComfortTiStWh=e}},"ComfortTiStWh-"+et),(0,ne.jsx)(E.default,{pressDuration:0,style:{flex:1,justifyContent:"center"},disabled:!0,children:(0,ne.jsx)(d.default,{justifyContent:"center",alignItems:"center",borderRadius:3,flex:1,disabled:!0,bgColor:"white",margin:1})})]}),(0,ne.jsx)(d.default,{children:(0,ne.jsx)(s.default,{color:"black",marginLeft:1,bold:!0,fontSize:16,width:"full",children:"Interior"})}),(0,ne.jsxs)(d.default,{flex:1,flexDir:"row",children:[(0,ne.jsx)(rt,{variable:tt.InteriorLeSe,label:"Leather Seats",onChange:function(e){return tt.InteriorLeSe=e}},"InteriorLeSe-"+et),(0,ne.jsx)(rt,{variable:tt.InteriorPoDoLo,label:"Power Door Locks",onChange:function(e){return tt.InteriorPoDoLo=e}},"InteriorPoDoLo-"+et),(0,ne.jsx)(rt,{variable:tt.InteriorPoMi,label:"Power Mirrors",onChange:function(e){return tt.InteriorPoMi=e}},"InteriorPoMi-"+et),(0,ne.jsx)(rt,{variable:tt.InteriorPoSe,label:"Power Seats",onChange:function(e){return tt.InteriorPoSe=e}},"InteriorPoSe-"+et)]}),(0,ne.jsxs)(d.default,{flex:1,flexDir:"row",children:[(0,ne.jsx)(rt,{variable:tt.InteriorPoWi,label:"Power Windows",onChange:function(e){return tt.InteriorPoWi=e}},"InteriorPoWi-"+et),(0,ne.jsx)(rt,{variable:tt.InteriorReWiDe,label:"Rear Window Defroster",onChange:function(e){return tt.InteriorReWiDe=e}},"InteriorReWiDe-"+et),(0,ne.jsx)(rt,{variable:tt.InteriorReWiWi,label:"Rear Window Wiper",onChange:function(e){return tt.InteriorReWiWi=e}},"InteriorReWiWi-"+et),(0,ne.jsx)(rt,{variable:tt.InteriorThRoSe,label:"Third Row Seats",onChange:function(e){return tt.InteriorThRoSe=e}},"InteriorThRoSe-"+et)]}),(0,ne.jsxs)(d.default,{flex:1,flexDir:"row",children:[(0,ne.jsx)(rt,{variable:tt.InteriorTiGl,label:"Tinted Glasses",onChange:function(e){return tt.InteriorTiGl=e}},"InteriorTiGl-"+et),(0,ne.jsx)(E.default,{pressDuration:0,style:{flex:1,justifyContent:"center"},disabled:!0,children:(0,ne.jsx)(d.default,{justifyContent:"center",alignItems:"center",borderRadius:3,flex:1,disabled:!0,bgColor:"white",margin:1})}),(0,ne.jsx)(E.default,{pressDuration:0,style:{flex:1,justifyContent:"center"},disabled:!0,children:(0,ne.jsx)(d.default,{justifyContent:"center",alignItems:"center",borderRadius:3,flex:1,disabled:!0,bgColor:"white",margin:1})}),(0,ne.jsx)(E.default,{pressDuration:0,style:{flex:1,justifyContent:"center"},disabled:!0,children:(0,ne.jsx)(d.default,{justifyContent:"center",alignItems:"center",borderRadius:3,flex:1,disabled:!0,bgColor:"white",margin:1})})]}),(0,ne.jsx)(d.default,{children:(0,ne.jsx)(s.default,{color:"black",marginLeft:1,bold:!0,fontSize:16,width:"full",children:"Exterior"})}),(0,ne.jsxs)(d.default,{flex:1,flexDir:"row",children:[(0,ne.jsx)(rt,{variable:tt.ExteriorAlWh,label:"Alloy Wheels",onChange:function(e){return tt.ExteriorAlWh=e}},"ExteriorAlWh-"+et),(0,ne.jsx)(rt,{variable:tt.ExteriorPoSlDo,label:"Power Sliding Door",onChange:function(e){return tt.ExteriorPoSlDo=e}},"ExteriorPoSlDo-"+et),(0,ne.jsx)(rt,{variable:tt.ExteriorSuRo,label:"Sunroof",onChange:function(e){return tt.ExteriorSuRo=e}},"ExteriorSuRo-"+et),(0,ne.jsx)(E.default,{pressDuration:0,style:{flex:1,justifyContent:"center"},disabled:!0,children:(0,ne.jsx)(d.default,{justifyContent:"center",alignItems:"center",borderRadius:3,flex:1,disabled:!0,bgColor:"white",margin:1})})]}),(0,ne.jsx)(d.default,{children:(0,ne.jsx)(s.default,{color:"black",marginLeft:1,bold:!0,fontSize:16,width:"full",children:"Selling Points"})}),(0,ne.jsxs)(d.default,{flex:1,flexDir:"row",children:[(0,ne.jsx)(rt,{variable:tt.SellingPointsCuWh,label:"Customized Wheels",onChange:function(e){return tt.SellingPointsCuWh=e}},"SellingPointsCuWh-"+et),(0,ne.jsx)(rt,{variable:tt.SellingPointsFuLo,label:"Fully Loaded",onChange:function(e){return tt.SellingPointsFuLo=e}},"SellingPointsFuLo-"+et),(0,ne.jsx)(rt,{variable:tt.SellingPointsMaHiAv,label:"Maintenance History Available",onChange:function(e){return tt.SellingPointsMaHiAv=e}},"SellingPointsMaHiAv-"+et),(0,ne.jsx)(rt,{variable:tt.SellingPointsBrNeTi,label:"Brand New Tires",onChange:function(e){return tt.SellingPointsBrNeTi=e}},"SellingPointsBrNeTi-"+et)]}),(0,ne.jsxs)(d.default,{flex:1,flexDir:"row",children:[(0,ne.jsx)(rt,{variable:tt.SellingPointsNoAcHi,label:"No Accident History",onChange:function(e){return tt.SellingPointsNoAcHi=e}},"SellingPointsNoAcHi-"+et),(0,ne.jsx)(rt,{variable:tt.SellingPointsNoSmPrOw,label:"Non-Smoking Previous Owner",onChange:function(e){return tt.SellingPointsNoSmPrOw=e}},"SellingPointsNoSmPrOw-"+et),(0,ne.jsx)(rt,{variable:tt.SellingPointsOnOwHi,label:"One Owner History",onChange:function(e){return tt.SellingPointsOnOwHi=e}},"SellingPointsOnOwHi-"+et),(0,ne.jsx)(rt,{variable:tt.SellingPointsPeRaTi,label:"Performance-rated Tires",onChange:function(e){return tt.SellingPointsPeRaTi=e}},"SellingPointsPeRaTi-"+et)]}),(0,ne.jsxs)(d.default,{flex:1,flexDir:"row",children:[(0,ne.jsx)(rt,{variable:tt.SellingPointsReBo,label:"Repainted Body",onChange:function(e){return tt.SellingPointsReBo=e}},"SellingPointsReBo-"+et),(0,ne.jsx)(rt,{variable:tt.SellingPointsTuEn,label:"Turbo Engine",onChange:function(e){return tt.SellingPointsTuEn=e}},"SellingPointsTuEn-"+et),(0,ne.jsx)(rt,{variable:tt.SellingPointsUpAuSy,label:"Upgraded Audio System",onChange:function(e){return tt.SellingPointsUpAuSy=e}},"SellingPointsUpAuSy-"+et),(0,ne.jsx)(E.default,{pressDuration:0,style:{flex:1,justifyContent:"center"},disabled:!0,children:(0,ne.jsx)(d.default,{justifyContent:"center",alignItems:"center",borderRadius:3,flex:1,disabled:!0,bgColor:"white",margin:1})})]})]}),(0,ne.jsxs)(c.default,{space:5,width:"full",justifyContent:"space-between",children:[(0,ne.jsx)(u.Button,{onPress:function(){h(!0)},colorScheme:"gray",size:"sm",borderRadius:5,margin:1,flex:1,children:"Clear"}),(0,ne.jsx)(d.default,{flex:2}),(0,ne.jsx)(u.Button,{onPress:p,colorScheme:"primary",size:"sm",borderRadius:5,margin:1,flex:1,children:"Ok"})]})]})}),(0,ne.jsx)(i.Modal,{isOpen:f,onClose:y,useRNModal:!0,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"amber.100",children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"amber.100",children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Clear"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"amber.200",borderLeftWidth:4,borderLeftColor:"amber.600",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"amber.600",bold:!0,children:"Warning!"}),(0,ne.jsx)(s.default,{color:"amber.600",children:"Are you sure you want to clear?"})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"amber.100",children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:y,colorScheme:"warmGray",flex:1,size:"sm",borderRadius:5,children:"No"}),(0,ne.jsx)(u.Button,{onPress:function(){zn(),x(et++),y()},flex:1,size:"sm",colorScheme:"amber",borderRadius:5,children:"Clear"})]})})]})})]})}),{})})]}),(0,ne.jsxs)(d.default,{flexDir:"row",borderTopColor:"white",borderTopWidth:"1",bgColor:"#8096D7",children:[(0,ne.jsxs)(d.default,{bgColor:"#8096D7",flex:1,flexDir:"row",children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",fontSize:[14,14,12,12,16,18],children:" Stock Status"}),(0,ne.jsx)(s.default,{color:"#D96437",fontSize:[14,14,12,12,16,18],children:" *"})]}),(0,ne.jsx)(d.default,{ref:Fn,bgColor:"white",flex:1,borderColor:gn,borderWidth:1,children:(0,ne.jsx)(K.default,{ref:Dt,buttonStyle:{flex:1,width:"100%",backgroundColor:"white",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,padding:4},buttonTextStyle:{textAlign:"left",color:"#424242",fontSize:12},dropdownStyle:{backgroundColor:"#FFFFFF",borderColor:"#E0E0E0",borderWidth:1,borderRadius:4,shadowColor:"#000000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},rowStyle:{backgroundColor:"#FFFFFF",paddingVertical:10,paddingHorizontal:15},rowTextStyle:{color:"#424242",fontSize:16},data:Zt,onSelect:(0,L.useCallback)((function(e){Qe.text=e}),[]),defaultButtonText:"-- Choose Stock Status --",buttonTextAfterSelection:function(e){return e},renderDropdownIcon:function(e){return(0,ne.jsx)(R.default,{name:e?"chevron-up":"chevron-down",color:"#424242",size:18})},rowTextForSelection:function(e){return e},searchPlaceHolder:" Search for Stock Status",searchInputStyle:{marginTop:1,flex:1,width:"100%"},disableAutoScroll:!0,search:!0})})]})]})})}),(0,ne.jsx)("br",{})," ",(0,ne.jsx)("br",{})," ",(0,ne.jsx)("br",{})," ",(0,ne.jsx)("br",{}),(0,ne.jsx)(d.default,{flex:1,bgColor:"#A6BCFE",w:"100%",margin:1,flexDirection:"column",paddingBottom:[10,10,10,0,0,0],children:(0,ne.jsx)(Fe,{dragSortableViewRef:X,handleClearImagesExtra:function(){t((0,Q.setSelectedImages)([])),he=[],t((0,Q.setIsAddPhotoVisible)(!0)),t((0,Q.setAddAnotherImages)(!1)),t((0,Q.setDeleteImageVisible)(!0))}})})]})}),(0,ne.jsx)(d.default,{flex:1,margin:1,flexDirection:"column",h:"full",display:["none","none","none","none","flex","flex"],children:(0,ne.jsxs)(d.default,{h:"full",w:"full",children:[(0,ne.jsxs)(c.default,{flex:1,children:[(0,ne.jsx)(p.Input,{ref:le,borderColor:fr,placeholder:"Car Name",margin:1,bgColor:"white",borderWidth:1,placeholderTextColor:"muted.400",flex:1}),(0,ne.jsx)(c.default,{flex:1,children:(0,ne.jsxs)(P.InputGroup,{flex:1,children:[(0,ne.jsx)(A.InputLeftAddon,{bgColor:"#7B9CFF",borderWidth:1,borderColor:"white",_text:{color:"white"},children:"Notes "}),(0,ne.jsx)(p.Input,{flex:1,ref:te,borderColor:fr,placeholder:"Note",bgColor:"white",borderWidth:1,placeholderTextColor:"muted.400"})]})})]}),(0,ne.jsxs)(c.default,{flex:2,children:[(0,ne.jsx)(C.default,{flex:1,ref:se,borderColor:"muted.500",bgColor:"white",placeholder:"Car Description / Salespoint",borderWidth:1,placeholderTextColor:"muted.400",margin:1}),(0,ne.jsx)(c.default,{marginTop:1,flex:1,children:(0,ne.jsxs)(P.InputGroup,{flex:1,children:[(0,ne.jsx)(A.InputLeftAddon,{bgColor:"#7B9CFF",borderWidth:1,borderColor:"white",_text:{color:"white"},color:"white",children:"Memo"}),(0,ne.jsx)(p.Input,{multiline:!0,flex:1,ref:re,borderColor:fr,placeholder:"Memo",bgColor:"white",borderWidth:1,placeholderTextColor:"muted.400"})]})})]}),(0,ne.jsxs)(c.default,{children:[(0,ne.jsx)(p.Input,{keyboardType:"numeric",flex:1,ref:ce,onChangeText:Nn,borderColor:"muted.500",bgColor:"white",InputLeftElement:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(k.default,{name:"yen"}),size:5,ml:"2",color:"muted.400"}),placeholder:"FOB Price",margin:1,borderWidth:1,placeholderTextColor:"muted.400"}),(0,ne.jsx)(p.Input,{disabled:!0,ref:ue,flex:1,borderColor:"muted.500",bgColor:"white",InputLeftElement:(0,ne.jsx)(y.default,{as:(0,ne.jsx)(k.default,{name:"dollar"}),size:5,ml:"2",color:"muted.400"}),placeholder:"0",margin:1,borderWidth:1,placeholderTextColor:"muted.400"})]})]})}),(0,ne.jsxs)(d.default,{w:"full",flexDir:"row",margin:1,paddingBottom:10,paddingTop:10,display:e<1280?"none":"flex",children:[(0,ne.jsx)((function(e){var t=e.handleClear,r=(0,L.useState)(!1),o=(0,a.default)(r,2),n=o[0],l=o[1],f=(0,L.useCallback)((function(){l(!0)}),[]),h=(0,L.useCallback)((function(){l(!1)}),[]);return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(u.Button,{borderRadius:3,flex:1,bgColor:"#D9D9D9",onPress:f,_text:{color:"muted.500"},_hover:{bgColor:"#f0eded"},children:"Clear"}),(0,ne.jsx)(i.Modal,{isOpen:n,onClose:h,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"amber.100",children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"amber.100",children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Clear"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"amber.200",borderLeftWidth:4,borderLeftColor:"amber.600",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"amber.600",bold:!0,children:"Warning!"}),(0,ne.jsx)(s.default,{color:"amber.600",children:"Are you sure you want to clear all inputs? This action will clear all the fields and cannot be undone!"})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"amber.100",children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:h,colorScheme:"warmGray",flex:1,size:"sm",borderRadius:5,children:"No"}),(0,ne.jsx)(u.Button,{onPress:function(){h(),t()},flex:1,size:"sm",colorScheme:"amber",borderRadius:5,children:"Clear"})]})})]})})]})}),{handleClear:Wn}),(0,ne.jsx)(u.Button,{borderRadius:3,flex:1,bgColor:"#A6BCFE",disabled:!0})," ",(0,ne.jsx)(u.Button,{flex:1,bgColor:"#A6BCFE",disabled:!0}),(0,ne.jsx)((function(e){var t=e.handleUpload,r=(0,L.useState)(!1),n=(0,a.default)(r,2),l=n[0],f=n[1],h=function(){f(!1)};return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(u.Button,{borderRadius:3,flex:1,onPress:function(){f(!0)},bgColor:"#7B9CFF",_hover:{bgColor:"#517cfc"},children:"Upload/Save"}),(0,ne.jsx)(i.Modal,{isOpen:l,onClose:h,children:(0,ne.jsxs)(i.Modal.Content,{bgColor:"white",children:[(0,ne.jsx)(i.Modal.CloseButton,{}),(0,ne.jsx)(i.Modal.Header,{borderBottomWidth:0,bgColor:"white",children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Upload/Save"})}),(0,ne.jsx)(i.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"gray.300",borderLeftWidth:4,borderLeftColor:"black",margin:5,children:(0,ne.jsxs)(d.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"black",bold:!0,children:"Attention!"}),(0,ne.jsx)(s.default,{color:"black",children:"Are you sure you want to upload/save? This action will upload a new vehicle to the list and can be edited later."})]})}),(0,ne.jsx)(i.Modal.Footer,{borderTopWidth:0,bgColor:"white",children:(0,ne.jsxs)(c.default,{space:5,flex:1,children:[(0,ne.jsx)(u.Button,{onPress:h,colorScheme:"warmGray",flex:1,size:"sm",borderRadius:5,children:"No"}),(0,ne.jsx)(u.Button,{isLoading:Yt,onPress:(0,o.default)((function*(){yield t(),h()})),flex:1,size:"sm",colorScheme:"primary",borderRadius:5,children:"Upload/Save"})]})})]})})]})}),{handleUpload:Rn})]})]})})})})})]}),(0,ne.jsx)(we,{}),(0,ne.jsx)(je,{onClose:Jn,headerText:"Vehicle Updated!",bodyText:"Vehicle was successfully updated!"}),(0,ne.jsx)(Ce,{onClose:qn,headerText:"Vehicle Added!",bodyText:"Vehicle was successfully added! You can view it in the vehicle list."})]})}},57702:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>gt});var o=r(36459),n=r(42982),l=r(15861),a=r(4942),i=r(70885),s=r(3559),d=r(71592),c=r(32535),u=r(24770),f=r(40013),h=r(74905),g=r(16886),m=r(48174),x=r(67942),p=r(20538),y=r(80410),b=r(68873),j=r(67221),C=r(93020),w=r(89526),S=r(46337),D=r(74333),v=r(81133),M=r(88521),P=r(99566),A=r(68576),L=r(43497),F=r(24637),E=r(97301),B=r(7132),I=(r(87026),r(32450)),k=r(65738),R=r(33034),T=r(55202),z=r(51223),W=r(51055),N=(r(14574),r(38615)),O=r(47673),H=r(31402),V=r(36105),Y=r.n(V),U=(r(51909),r(95634),r(48859)),_=r(69248),G=r(61620),q=r(26555),J=(r(96500),r(95212)),K=r(30083),Z=(r(76805),r(79552)),$=(r(86308),r(37050)),X=(r(53059),r(58775),r(19761),r(84419)),Q=r(72776),ee=r(42656),te=r(7484),re=r(900),oe=r.n(re),ne=r(34285),le=r(83277),ae=r(67557);function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}S.default.get("window").width;var de,ce,ue="CHAT MESSAGES",fe="",he="",ge="",me="",xe="",pe=[],ye="",be="",je="",Ce="",we=0,Se="",De="",ve={carData:{},cfs:"",placeOfDelivery:"",departureCountry:"",departurePort:"",salesPerson:"",discharge:{port:"",country:""},consignee:{sameAsBuyer:null,name:"",address:"",contactNumber:"",fax:"",email:""},notifyParty:{sameAsConsignee:null,name:"",address:"",contactNumber:"",fax:"",email:""},paymentDetails:{incoterms:"",inspectionIsChecked:null,inspectionName:"",warrantyIsCheck:null,warrantyAmount:0,fobPrice:0,freightPrice:0,insurancePrice:0,inspectionPrice:0,totalAmount:0,additionalName:[],additionalPrice:[]},bankInformations:{dueDate:"",issuingDate:"",bankAccount:{},paymentTerms:"",salesAgreement:""}},Me="",Pe="",Ae=(0,H.getFirestore)(),Le=function(){var e=U.projectControlAuth.currentUser;return e?e.email:null},Fe=function(e){var t="@realmotorjapan532288@".toString();return Q.AES.decrypt(e,t).toString(Q.enc.Utf8)},Ee=function(e){var t=e.data,o=(0,K.useSelector)((function(e){return e.selectedChatData}));t.findIndex((function(e){return o.stepIndicator.value<e.value}));return(0,ae.jsx)(v.default,{style:{flexDirection:"row",alignItems:"center",paddingTop:3},children:t.map((function(e,n){return(0,ae.jsxs)(v.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,ae.jsx)(s.Tooltip,{label:e.title,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(v.default,{style:{width:20,height:20,borderRadius:10,backgroundColor:o.stepIndicator.value<e.value?"#C1C1C1":"#abf7c7",justifyContent:"center"},children:o.stepIndicator.value<e.value?(0,ae.jsx)(q.default,{source:{uri:r(66516)("./chat_step_"+e.value+"_off.png"),priority:q.default.priority.normal},style:{tintColor:"rgba(128, 128, 128, 1)",width:15,height:15,alignSelf:"center"},resizeMode:q.default.resizeMode.stretch}):(0,ae.jsx)(q.default,{source:{uri:r(82049)("./chat_step_"+e.value+"_on.png"),priority:q.default.priority.normal},style:{tintColor:"rgba(128, 128, 128, 1)",width:15,height:15,alignSelf:"center"},resizeMode:q.default.resizeMode.stretch})})}),n<t.length-1&&(0,ae.jsx)(v.default,{style:{height:3,width:20,backgroundColor:o.stepIndicator.value<=e.value?"#C1C1C1":"#abf7c7"}})]},n)}))})},Be=[{title:"Negotiation",value:1},{title:"Issued Proforma Invoice",value:2},{title:"Order Item",value:3},{title:"Payment Confirmed",value:4},{title:"Shipping Schedule",value:5},{title:"Documents",value:6},{title:"Vehicle Received",value:7}],Ie=function(){var e=(0,K.useSelector)((function(e){return e.loadingModalVisible}));return(0,ae.jsx)(v.default,{style:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.5)",flex:1,display:e?"flex":"none",justifyContent:"center",alignItems:"center"},children:(0,ae.jsxs)(v.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:[(0,ae.jsx)(d.default,{size:"lg",color:"white"}),(0,ae.jsx)(c.default,{style:{color:"white"},children:"Loading, please wait!"})]})})},ke=function(e){var t=e.title,r=e.onPress,o=e.isActive,n=e.headerCount,l=o?{backgroundColor:"#E1EDF7"}:{},a=S.default.get("window").width,s=(0,w.useState)(!1),d=(0,i.default)(s,2),u=d[0],f=d[1];return(0,ae.jsxs)(F.default,{onHoverIn:function(){return f(!0)},onHoverOut:function(){return f(!1)},focusable:!1,onPress:r,style:se({backgroundColor:u?"#f2f2f2":"transparent",padding:12,marginVertical:a>1818?10:2,borderWidth:5,borderColor:"transparent",marginLeft:8,width:195,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:5},l),children:[(0,ae.jsx)(c.default,{color:o?"#0A78BE":"#1C2B33",fontSize:14,style:{fontWeight:o?700:400,alignSelf:"center",textAlign:"center"},children:t}),n]})},Re=function(e){var t=e.title,r=e.onPress,o=e.isActive,n=e.iconActive,l=e.iconNotActive,a=(0,w.useState)(!1),s=(0,i.default)(a,2),d=s[0],u=s[1];return(0,ae.jsxs)(F.default,{focusable:!1,variant:"ghost",onPress:r,onHoverIn:function(){return u(!0)},onHoverOut:function(){return u(!1)},style:{padding:5,width:100,margin:5,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:5,backgroundColor:o?"#E1EDF7":d?"#d7d7d9":"#ECEDF0"},children:[o?n:l,(0,ae.jsx)(c.default,{color:o?"#0A78BE":"#1C2B33",fontSize:14,style:{fontWeight:o?700:400,marginLeft:5},children:t})]})},Te=function(){return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsxs)(v.default,{style:{padding:12,alignItems:"flex-start",flexDirection:"row",backgroundColor:"white"},children:[(0,ae.jsx)(v.default,{style:{width:60,height:60,borderRadius:30,backgroundColor:"#e0e0e0",marginRight:12}}),(0,ae.jsxs)(v.default,{style:{flex:1},children:[Array.from({length:3}).map((function(e,t){return(0,ae.jsx)(v.default,{style:{height:10,backgroundColor:"#e0e0e0",marginBottom:6,width:"80%",borderRadius:4}},"text-"+t)})),(0,ae.jsx)(v.default,{style:{position:"absolute",right:10,height:10,backgroundColor:"#e0e0e0",marginBottom:6,width:"5%",borderRadius:4}})]})]})})},ze=function(e){var t=e.handleDeleteMessageTemplateClose,r=(0,K.useSelector)((function(e){return e.deleteMessageTemplateVisible})),o=U.projectControlAuth.currentUser?U.projectControlAuth.currentUser.email:"",n=ye,a=(0,w.useState)(!1),s=(0,i.default)(a,2),d=s[0],h=s[1],g=function(){t()},m=function(){var e=(0,l.default)((function*(e){var t=(0,H.doc)(U.projectControlFirestore,"MessageTemplate",o);h(!0);try{var r=yield(0,H.getDoc)(t);if(r.exists()){var n=(r.data().messageTemplate||[]).filter((function(t){return t.title!==e}));yield(0,H.updateDoc)(t,{messageTemplate:n}),console.log("Item successfully deleted"),h(!1),g()}else console.log("Document does not exist"),h(!1)}catch(l){console.error("Error deleting item: ",l),h(!1)}}));return function(t){return e.apply(this,arguments)}}();return(0,ae.jsx)(u.Modal,{isOpen:r,onClose:g,children:(0,ae.jsxs)(u.Modal.Content,{children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Header,{children:"Delete Message Template?"}),(0,ae.jsx)(u.Modal.Body,{children:(0,ae.jsx)(v.default,{style:{flex:1},children:(0,ae.jsx)(c.default,{style:{fontWeight:400},children:"Are you sure you want to delete the selected message template?"})})}),(0,ae.jsx)(u.Modal.Footer,{children:(0,ae.jsxs)(f.Button.Group,{variant:"ghost",space:"2",children:[(0,ae.jsx)(f.Button,{style:{width:80,height:36},onPress:g,variant:"solid",colorScheme:"warmGray",children:"Cancel"}),(0,ae.jsx)(f.Button,{isLoading:!!d,onPress:function(){return m(n)},style:{padding:16,height:36},variant:"solid",colorScheme:"error",children:"Delete"})]})})]})})},We=function(e){var t=e.setOriginalTitle,r=(e.addVisible,e.titleInputRef),o=e.valueInputRef,n=e.setAddVisible,l=e.item,a=e.textInputRef,s=e.setPopoverOpen,d=(0,w.useState)(!1),u=(0,i.default)(d,2),f=u[0],g=u[1],m=(0,w.useState)(!1),x=(0,i.default)(m,2),p=x[0],y=x[1],b=(0,w.useState)(!1),j=(0,i.default)(b,2),C=j[0],S=j[1],D=(0,w.useState)(!1),M=(0,i.default)(D,2),P=M[0],A=M[1],L=(0,w.useState)(!1),E=(0,i.default)(L,2),B=E[0],k=E[1],R=(0,w.useState)(null),T=(0,i.default)(R,2),z=(T[0],T[1],(0,w.useState)(null)),W=(0,i.default)(z,2),N=(W[0],W[1]),O=(0,K.useDispatch)();return(0,ae.jsxs)(F.default,{onPress:function(){return function(e){a.current.value=e.value,s(!1)}(l)},onHoverIn:function(){return g(!0)},onHoverOut:function(){return g(!1)},style:{padding:10,backgroundColor:f?"#f2f2f2":"transparent",flex:1,borderRadius:5},children:[(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"700",flex:1},numberOfLines:1,ellipsizeMode:"tail",children:l.title}),(0,ae.jsx)(h.Popover,{isOpen:B,onClose:function(){return k(!1)},trigger:function(e){return(0,ae.jsx)(F.default,se(se({},e),{},{onPress:function(){return k(!0)},onHoverIn:function(){return y(!0)},onHoverOut:function(){return y(!1)},style:{backgroundColor:p?"#dedede":"transparent",padding:5,justifyContent:"center",borderRadius:5},children:(0,ae.jsx)(I.default,{size:16,name:"dots-three-horizontal",color:"#171717"})}))},children:(0,ae.jsxs)(h.Popover.Content,{children:[(0,ae.jsx)(F.default,{onPress:function(){return function(e){n(!0),N(!0),k(!1),r.current.value=e.title,o.current.value=e.value,t(e.title)}(l)},onHoverIn:function(){return S(!0)},onHoverOut:function(){return S(!1)},style:{flex:1,width:50,backgroundColor:C?"#dedede":"white",padding:5},focusable:!1,children:(0,ae.jsx)(c.default,{children:"Edit"})}),(0,ae.jsx)(F.default,{onPress:function(){return e=l.title,O((0,$.setDeleteMessageTemplateVisible)(!0)),void(ye=e);var e},onHoverIn:function(){return A(!0)},onHoverOut:function(){return A(!1)},style:{flex:1,width:50,backgroundColor:P?"#dedede":"white",padding:5},focusable:!1,children:(0,ae.jsx)(c.default,{children:"Delete"})})]})})]}),(0,ae.jsx)(c.default,{style:{fontWeight:"400",fontSize:12},numberOfLines:1,ellipsizeMode:"tail",children:l.value})]})},Ne=function(e){var t=e.textInputRef,r=(0,K.useDispatch)(),o=(0,w.useState)(!1),n=(0,i.default)(o,2),a=n[0],s=n[1],u=(0,w.useState)(!1),f=(0,i.default)(u,2),g=f[0],m=f[1],x=(0,w.useState)(!1),p=(0,i.default)(x,2),y=p[0],b=p[1],j=(0,w.useState)(""),C=(0,i.default)(j,2),S=C[0],D=C[1],M=(0,w.useState)([]),A=(0,i.default)(M,2),E=A[0],B=A[1],I=(0,w.useState)(!1),R=(0,i.default)(I,2),T=R[0],z=R[1],W=(0,w.useState)(!1),N=(0,i.default)(W,2),O=N[0],V=N[1],Y=(0,w.useState)(!1),_=(0,i.default)(Y,2),G=_[0],q=_[1],J=(0,w.useState)(""),Z=(0,i.default)(J,2),X=Z[0],Q=Z[1],ee=(0,w.useState)(!1),te=(0,i.default)(ee,2),re=te[0],oe=te[1],ne=(0,w.useState)([]),le=(0,i.default)(ne,2),ie=le[0],de=le[1],ce=(0,w.useRef)(null),ue=(0,w.useRef)(null),fe=(0,w.useRef)(null),he=U.projectControlAuth.currentUser?U.projectControlAuth.currentUser.email:"",ge=function(){var e=(0,l.default)((function*(){oe(!0);var e=(0,H.doc)(U.projectControlFirestore,"MessageTemplate",he);try{var t,r,o=yield(0,H.getDoc)(e),n=[],l=null==(t=ue.current)?void 0:t.value,a=null==(r=fe.current)?void 0:r.value;if(l&&a){if(o.exists()){var i=(n=o.data().messageTemplate||[]).findIndex((function(e){return e.title===X}));-1!==i?n[i]={title:l,value:a}:n.push({title:l,value:a})}else console.log("Creating a new document"),n=[{title:l,value:a}];yield(0,H.setDoc)(e,{messageTemplate:n},{merge:!0}),console.log("Document successfully updated or created")}else console.log("Title or value is empty")}catch(s){console.error("Error updating or creating document: ",s)}finally{oe(!1),me()}}));return function(){return e.apply(this,arguments)}}(),me=function(){m(!1),z(!1),V(!1),q(!1),ue.current.clear(),fe.current.clear()};(0,w.useEffect)((function(){var e=(0,H.doc)(U.projectControlFirestore,"MessageTemplate",he),t=(0,H.onSnapshot)(e,(function(e){if(e.exists()){var t=e.data().messageTemplate;t.sort((function(e,t){var r=e.title.toUpperCase(),o=t.title.toUpperCase();return r<o?-1:r>o?1:0})),de(t)}else console.log("No such document!")}),(function(e){console.error("Error fetching document:",e)}));return function(){return t()}}),[y]);return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(ze,{handleDeleteMessageTemplateClose:function(){r((0,$.setDeleteMessageTemplateVisible)(!1))}}),(0,ae.jsx)(h.Popover,{isOpen:y,onClose:function(){b(!1),z(!1),m(!1)},initialFocusRef:ce,finalFocusRef:t,placement:"top",trigger:function(e){return(0,ae.jsx)(F.default,se(se({focusable:!1},e),{},{onPress:function(){return b(!0)},onHoverIn:function(){return s(!0)},onHoverOut:function(){return s(!1)},style:function(e){return[{bottom:0,right:100,position:"absolute",borderRadius:20,opacity:e.pressed?.5:1}]},children:(0,ae.jsx)(k.default,{name:"chatbox-ellipses-outline",size:24,color:a?"#0A78BE":"#C1C1C1"})}))},children:(0,ae.jsxs)(h.Popover.Content,{w:400,marginRight:10,children:[(0,ae.jsx)(h.Popover.Arrow,{}),(0,ae.jsxs)(v.default,{style:{display:T?"flex":"none"},children:[(0,ae.jsx)(h.Popover.Header,{backgroundColor:"white",children:(0,ae.jsx)(v.default,{style:{flexDirection:"row",flex:1},children:(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:16,flex:1},children:"Create a message template"})})}),(0,ae.jsxs)(h.Popover.Body,{backgroundColor:"white",height:250,children:[(0,ae.jsx)(c.default,{style:{fontWeight:700},children:"Title"}),(0,ae.jsx)(L.default,{ref:ue,placeholder:"Input Title",placeholderTextColor:"#9B9E9F",underlineColorAndroid:"transparent",style:{height:40,padding:10,outlineStyle:"none",borderWidth:1,borderColor:"#D9D9D9",borderRadius:5}}),(0,ae.jsx)("br",{}),(0,ae.jsx)(c.default,{style:{fontWeight:700},children:"Message"}),(0,ae.jsx)(L.default,{multiline:!0,ref:fe,placeholder:"Input Message",placeholderTextColor:"#9B9E9F",underlineColorAndroid:"transparent",style:{height:100,padding:10,outlineStyle:"none",borderWidth:1,borderColor:"#D9D9D9",borderRadius:5}})]}),(0,ae.jsx)(h.Popover.Footer,{backgroundColor:"white",children:(0,ae.jsxs)(v.default,{style:{height:30,flexDirection:"row",justifyContent:"center"},children:[(0,ae.jsx)(F.default,{onHoverIn:function(){return V(!0)},onHoverOut:function(){return V(!1)},onPress:me,style:{backgroundColor:O?"#DADADA":"white",width:60,borderRadius:5,padding:5,borderWidth:1,borderColor:"#DADDE1",marginHorizontal:5},children:(0,ae.jsx)(c.default,{style:{textAlign:"center",fontWeight:500},children:"Cancel"})}),(0,ae.jsx)(F.default,{onPress:ge,onHoverIn:function(){return q(!0)},onHoverOut:function(){return q(!1)},style:{backgroundColor:G?"#107a37":"#16A34A",width:60,borderRadius:5,padding:5,borderWidth:1,borderColor:"#DADDE1",marginHorizontal:5},children:re?(0,ae.jsx)(d.default,{animating:!0,size:"sm",color:"white"}):(0,ae.jsx)(c.default,{style:{textAlign:"center",color:"white",fontWeight:500},children:"Save"})})]})})]}),(0,ae.jsxs)(v.default,{style:{display:T?"none":"flex"},children:[(0,ae.jsx)(h.Popover.Header,{backgroundColor:"white",children:(0,ae.jsxs)(v.default,{style:{flexDirection:"row",flex:1},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:16,flex:1},children:"Message Template"}),(0,ae.jsx)(F.default,{focusable:!1,onPress:function(){return z(!0)},onHoverIn:function(){return m(!0)},onHoverOut:function(){return m(!1)},children:(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:16,color:"#1B81C2",textDecorationLine:g?"underline":"none"},children:"+ ADD"})})]})}),(0,ae.jsxs)(h.Popover.Body,{backgroundColor:"white",height:300,children:[(0,ae.jsx)(L.default,{ref:ce,placeholder:"Search",placeholderTextColor:"#9B9E9F",underlineColorAndroid:"transparent",style:{height:40,padding:10,outlineStyle:"none",borderWidth:1,borderColor:"#D9D9D9",borderRadius:5,marginBottom:5},keyboardType:"search",onChangeText:function(e){D(e);var t=ie.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())||t.value.toLowerCase().includes(e.toLowerCase())}));B(t)},value:S}),ie.length>0||E.length>0?(0,ae.jsx)(P.default,{style:{height:100,borderBottomLeftRadius:5},renderItem:function(e){var r=e.item;return(0,ae.jsx)(We,{setOriginalTitle:Q,addVisible:T,titleInputRef:ue,valueInputRef:fe,setAddVisible:z,item:r,textInputRef:t,setPopoverOpen:b})},keyExtractor:function(e){return e.title.toString()},data:S?E:ie}):(0,ae.jsx)(c.default,{style:{fontWeight:700,alignSelf:"center"},children:"No message template found"})]})]})]})})]})},Oe=function(e){var t=e.file,o=e.onRemove;if(!t)return null;var n;return(0,ae.jsxs)(v.default,{style:{flexDirection:"row",alignItems:"center",margin:5},children:[(n=t.type,n.includes("pdf")?(0,ae.jsx)(R.default,{name:"picture-as-pdf",size:24,color:"#FF0000"}):n.includes("msword")||n.includes("wordprocessingml")?(0,ae.jsx)(T.default,{name:"microsoft-word",size:24,color:"#2B579A"}):n.includes("vnd.ms-excel")||n.includes("spreadsheetml")||"text/csv"===n?(0,ae.jsx)(T.default,{name:"microsoft-excel",size:24,color:"#217346"}):n.includes("rar")||n.includes("x-rar-compressed")||n.includes("x-compressed")?(0,ae.jsx)(q.default,{source:{uri:r(25333),priority:q.default.priority.high},style:{width:24,height:24},resizeMode:q.default.resizeMode.cover}):(0,ae.jsx)(R.default,{name:"insert-drive-file",size:24,color:"black"})),(0,ae.jsx)(c.default,{style:{marginLeft:10},children:t.name}),(0,ae.jsx)(F.default,{onPress:o,children:(0,ae.jsx)(R.default,{name:"close",size:20,color:"black"})})]})},He=function(){var e=(0,K.useSelector)((function(e){return e.selectedChatData})),t=((0,K.useSelector)((function(e){return e.activeChatId})),(0,w.useState)(!1)),r=(0,i.default)(t,2),o=r[0],n=r[1],a=(0,w.useState)(null),s=(0,i.default)(a,2),c=s[0],u=s[1],f=(0,w.useState)(null),h=(0,i.default)(f,2),g=h[0],m=h[1],x=(0,w.useState)(null),p=(0,i.default)(x,2),y=p[0],b=p[1],j=(0,w.useState)(null),C=(0,i.default)(j,2),D=C[0],M=C[1],P=(0,w.useState)(null),A=(0,i.default)(P,2),E=A[0],I=A[1],T=(0,w.useState)(""),z=(0,i.default)(T,2),W=z[0],O=z[1],V=(0,w.useState)(!1),J=(0,i.default)(V,2),Z=J[0],$=J[1],X=(0,w.useState)(!1),Q=(0,i.default)(X,2),ee=Q[0],te=Q[1],re=(0,w.useState)(!1),oe=(0,i.default)(re,2),ne=oe[0],le=oe[1],ie=(0,w.useRef)(null),se=function(){M(null),b(null),O(null)},de=function(){u(null),m(null),I(null),O(null)},ce=function(){var e=(0,l.default)((function*(){var e=10485760;return"web"===B.default.OS?new Promise((function(t,r){var o=document.createElement("input");o.type="file",o.accept=".pdf, .doc, .docx, .xls, .xlsx, .rar",o.onchange=function(){var n=o.files[0];if(n){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/x-rar-compressed","application/x-compressed","text/csv"].includes(n.type))return alert("File type not allowed"),void r("File type not allowed");if(n.size>e)return alert("File size should be less than 10MB"),void r("File size should be less than 10MB");se();var l=new FileReader;l.onload=function(e){I(e.target.result),t(n),u(n),m({name:n.name,type:n.type}),O(n.name),ie.current.focus()},l.onerror=function(e){r(e)},l.readAsDataURL(n)}},o.click()})):new Promise((function(t,r){(0,_.launchImageLibrary)({mediaType:"photo"},(function(o){if(o.didCancel)r("User cancelled image picker");else if(o.errorCode)r(o.errorMessage);else{var n=o.assets[0];if(!n.type.startsWith("image/"))return r("Only image files are allowed"),void alert("Only image files are allowed");if(n.fileSize>e)return r("File size should be less than 10MB"),void alert("File size should be less than 10MB");var l=n.uri,a=n.fileName||"Unknown name";t({uri:l,name:a}),M(l),console.log("File name: "+a)}}))}))}));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,l.default)((function*(){var e=10485760;return"web"===B.default.OS?new Promise((function(t,r){var o=document.createElement("input");o.type="file",o.accept="image/*",o.onchange=function(){var n=o.files[0];if(n){if(!n.type.startsWith("image/"))return r("Only image files are allowed"),void alert("Only image files are allowed");if(n.size>e)return r("File size should be less than 10MB"),void alert("File size should be less than 10MB");de();var l=new FileReader;l.readAsDataURL(n),l.onload=function(){t({dataUrl:l.result,name:n.name}),M(l.result),O(n.name),console.log("File name: "+n.name)},b(n),l.onerror=function(e){return r(e)}}},o.click()})):new Promise((function(t,r){(0,_.launchImageLibrary)({mediaType:"photo"},(function(o){if(o.didCancel)r("User cancelled image picker");else if(o.errorCode)r(o.errorMessage);else{var n=o.assets[0];if(!n.type.startsWith("image/"))return r("Only image files are allowed"),void alert("Only image files are allowed");if(n.fileSize>e)return r("File size should be less than 10MB"),void alert("Only image files are allowed");var l=n.uri,a=n.fileName||"Unknown name";t({uri:l,name:a}),M(l),console.log("File name: "+a)}}))}))}));return function(){return e.apply(this,arguments)}}(),fe=function(){var t=(0,l.default)((function*(){var t;le(!0);var r=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,o=Y()(r).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),n=Y()(r).format("MMDDYYYYHHmmss.SSS"),l=U.projectControlAuth.currentUser?U.projectControlAuth.currentUser.email:"",a=null==(t=ie.current)?void 0:t.value;ie.current.clear(),ie.current.focus(),de();var i=(0,G.getStorage)(U.projectExtensionFirebase);if(E)try{var s=null;if(E){var d=(0,G.ref)(i,"ChatFiles/"+e.id+"/C-HUB_"+n+"/"+W),u=yield(0,G.uploadBytes)(d,c);s=yield(0,G.getDownloadURL)(u.ref)}yield(0,H.addDoc)((0,H.collection)(U.projectExtensionFirestore,"chats",e.id,"messages"),{text:a.trim(),sender:l,timestamp:o,ip:Se,ipCountry:De,file:{name:W,type:"attachment",url:s}}),yield(0,H.updateDoc)((0,H.doc)(U.projectExtensionFirestore,"chats",e.id),{lastMessageSender:l,lastMessage:"Sent an attachment",lastMessageDate:o,customerRead:!1,read:!0,readBy:[l]}),le(!1)}catch(f){console.error("Error adding document: ",f)}else le(!1)}));return function(){return t.apply(this,arguments)}}(),he=function(){var t=(0,l.default)((function*(){var t;le(!0);var r,o=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,n=Y()(o).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),l=Y()(o).format("MMDDYYYYHHmmss.SSS"),a=U.projectControlAuth.currentUser?U.projectControlAuth.currentUser.email:"",i=null==(t=ie.current)?void 0:t.value,s=(0,G.getStorage)(U.projectExtensionFirebase);if(D){ie.current.clear(),ie.current.focus(),se();try{var d=null;if(D){var c=yield(r=y,new Promise((function(e,t){var o=new FileReader;o.readAsDataURL(r),o.onload=function(o){var n=new Image;n.src=o.target.result,n.onload=function(){var t=document.createElement("canvas"),o=t.getContext("2d"),l=n.width,a=n.height;l>a?l>800&&(a*=800/l,l=800):a>800&&(l*=800/a,a=800),t.width=l,t.height=a,o.drawImage(n,0,0,l,a),t.toBlob((function(t){e(new File([t],r.name,{type:"image/jpeg",lastModified:Date.now()}))}),"image/jpeg",.7)},n.onerror=function(e){return t(e)}},o.onerror=function(e){return t(e)}}))),u=(0,G.ref)(s,"ChatFiles/"+e.id+"/C-HUB_"+l+"/"+W),f=yield(0,G.uploadBytes)(u,c);d=yield(0,G.getDownloadURL)(f.ref)}yield(0,H.addDoc)((0,H.collection)(U.projectExtensionFirestore,"chats",e.id,"messages"),{text:i.trim(),sender:a,timestamp:n,ip:Se,ipCountry:De,file:{name:W,type:"image",url:d}}),yield(0,H.updateDoc)((0,H.doc)(U.projectExtensionFirestore,"chats",e.id),{lastMessageSender:a,lastMessage:"Sent an image",lastMessageDate:n,customerRead:!1,read:!0,readBy:[a]}),le(!1)}catch(h){console.error("Error adding document: ",h)}}else le(!1)}));return function(){return t.apply(this,arguments)}}(),ge=function(){var t=(0,l.default)((function*(){var t;le(!0);var r=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,o=Y()(r).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),n=(Y()(r).format("YYYY"),Y()(r).format("MM"),Y()(r).format("MM/DD"),Y()(r).format("YYYY/MM/DD"),Y()(r).format("DD"),Y()(r).format("HH:mm"),Y()(r).format("HH:mm:ss"),null==(t=ie.current)?void 0:t.value);if(ie.current.clear(),ie.current.focus(),""!==n){var l=U.projectControlAuth.currentUser?U.projectControlAuth.currentUser.email:"";try{yield(0,H.addDoc)((0,H.collection)(U.projectExtensionFirestore,"chats",e.id,"messages"),{text:n.trim(),sender:l,timestamp:o,ip:Se,ipCountry:De}),yield(0,H.updateDoc)((0,H.doc)(U.projectExtensionFirestore,"chats",e.id),{lastMessageSender:l,lastMessage:n,lastMessageDate:o,customerRead:!1,read:!0,readBy:[l]}),le(!1)}catch(a){console.error("Error adding document: ",a)}}else le(!1)}));return function(){return t.apply(this,arguments)}}(),me=S.default.get("window").width,xe=function(){null!==D&&he(),null!==E?fe():ge()};return(0,ae.jsxs)(v.default,{style:{width:"98%",flexDirection:"row",borderWidth:1,borderColor:"#D9D9D9",borderRadius:10},children:[(0,ae.jsxs)(v.default,{style:{flexDirection:"column",flex:1},children:[E&&(0,ae.jsx)(Oe,{file:g,onRemove:de}),D&&(0,ae.jsxs)(v.default,{style:{position:"relative",width:70,height:70,borderRadius:5,overflow:"hidden",borderWidth:1,borderColor:"#DADDE1",margin:2},children:[(0,ae.jsx)(q.default,{source:{uri:D},style:{width:"100%",height:"100%",borderRadius:10},resizeMode:q.default.resizeMode.cover}),(0,ae.jsx)(F.default,{onPress:se,style:{position:"absolute",top:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.6)",borderRadius:12},children:(0,ae.jsx)(R.default,{name:"close",size:20,color:"black"})})]}),(0,ae.jsxs)(v.default,{style:{flexDirection:"row"},children:[(0,ae.jsx)(v.default,{style:{marginHorizontal:5,marginTop:5},children:(0,ae.jsx)(q.default,{source:{uri:"https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FRMJ%20Round.jpg?alt=media&token=90d7f2fe-d9cd-4a6f-9a6b-bc39fe2b33b2",priority:q.default.priority.high},style:{width:30,height:30,borderRadius:15},resizeMode:q.default.resizeMode.cover})}),(0,ae.jsx)(L.default,{ref:ie,multiline:!0,placeholder:"Send a message...",placeholderTextColor:"#9B9E9F",onKeyPress:function(e){me>=768&&("Enter"!==e.nativeEvent.key||e.nativeEvent.shiftKey||(e.preventDefault(),xe()))},style:{outlineStyle:"none",width:"100%",height:80,alignSelf:"center",padding:10}}),(0,ae.jsx)(F.default,{focusable:!1,onPress:function(){return ne?null:xe()},onHoverIn:function(){return n(!0)},onHoverOut:function(){return n(!1)},style:function(e){var t=e.pressed;return[{padding:10,top:20,right:10,position:"absolute",borderRadius:20,backgroundColor:o?"#e8f4ff":"transparent",opacity:t?.5:1}]},children:ne?(0,ae.jsx)(d.default,{animating:!0,size:"sm",color:"#95BCF9"}):(0,ae.jsx)(R.default,{name:"send",size:24,color:"#95BCF9"})})]})]}),(0,ae.jsx)(F.default,{onHoverIn:function(){return $(!0)},onHoverOut:function(){return $(!1)},style:function(e){return[{padding:10,bottom:-10,right:125,position:"absolute",borderRadius:20,opacity:e.pressed?.5:1}]},onPress:ue,children:(0,ae.jsx)(k.default,{name:"image-outline",size:24,color:Z?"#0A78BE":"#C1C1C1"})}),(0,ae.jsx)(F.default,{onHoverIn:function(){return te(!0)},onHoverOut:function(){return te(!1)},style:function(e){return[{padding:10,bottom:-9,right:155,position:"absolute",borderRadius:20,opacity:e.pressed?.5:1}]},onPress:ce,children:(0,ae.jsx)(R.default,{name:"attach-file",size:24,color:ee?"#0A78BE":"#C1C1C1"})}),(0,ae.jsx)(Ne,{textInputRef:ie})]})},Ve=function(e){var t=e.item,o=e.onPress,n=e.isActive,a=e.messageUnread,d=e.formattedDate,u=(e.chatListData,(0,w.useState)(null)),f=(0,i.default)(u,2),h=f[0],g=f[1],m=(0,w.useState)(null),x=(0,i.default)(m,2),p=(x[0],x[1],(0,w.useState)("")),y=(0,i.default)(p,2),b=y[0],j=y[1],C=(0,w.useState)(""),S=(0,i.default)(C,2),D=S[0],M=S[1],P=(0,K.useDispatch)(),A=(0,w.useState)(!1),L=(0,i.default)(A,2),E=L[0],B=L[1],I=(0,w.useState)(!1),k=(0,i.default)(I,2),T=(k[0],k[1],(0,w.useState)(!1)),z=(0,i.default)(T,2),W=z[0],N=z[1],O=(0,w.useState)({}),V=(0,i.default)(O,2),Y=(V[0],V[1]),_=t.carData&&t.carData.carName?t.carData.carName:t.vehicle&&t.vehicle.carName?t.vehicle.carName:"",J=function(){var e=(0,l.default)((function*(){P((0,$.setActiveChatId)("")),P((0,$.setChatMessagesData)([])),P((0,$.setSelectedChatData)([]));var e=(0,H.doc)(U.projectExtensionFirestore,"chats",t.id);try{yield(0,H.updateDoc)(e,{read:!1})}catch(r){console.error("Error updating document: ",r)}}));return function(){return e.apply(this,arguments)}}();(0,w.useEffect)((function(){var e=t.carData&&t.carData.stockID?t.carData.stockID:t.vehicle&&t.vehicle.carId?t.vehicle.carId:"",r=(0,G.getStorage)(U.projectExtensionFirebase),o=(0,G.ref)(r,e+"/0");(0,G.getDownloadURL)(o).then((function(e){g(e)})).catch((function(e){e.code,g("https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FNo%20Car%20Image%20Found.png?alt=media&token=de86488c-73a6-4c04-811c-bc508a11123a")}));var n=t.participants.customer,l=(0,H.doc)(U.projectExtensionFirestore,"accounts",n),a=(0,H.onSnapshot)(l,(function(e){if(e.exists()){var t=e.data();Y(t||{}),j(t.textFirst?t.textFirst:""),M(t.textLast?t.textLast:"")}else console.log("Document not found")}),(function(e){console.error("Error fetching document: ",e)}));return function(){return a()}}),[]);var Z=!h||null==h||""==h||void 0==h||!t,X=r(82049)("./chat_step_"+t.stepIndicator.value+"_on.png"),Q=r(66516)("./chat_step_"+t.stepIndicator.value+"_off.png");return Z?(0,ae.jsx)(Te,{}):(0,ae.jsxs)(F.default,{onHoverIn:function(){N(!0)},onHoverOut:function(){N(!1)},focusable:!1,style:{padding:12,alignItems:"flex-start",flexDirection:"row",backgroundColor:n||W?"#f2f2f2":"white",borderLeftColor:n?"#0A9FDC":"transparent",borderRightColor:n?"#0A9FDC":"transparent",borderLeftWidth:2,borderRightWidth:2},onPress:function(){o(),me=b||"",xe=D||"",ge=h||"",P((0,$.setCarImageUrl)(h||"")),_,N(!1),B(!1)},children:[(0,ae.jsx)(v.default,{style:{width:"20%",justifyContent:"center"},children:h?(0,ae.jsx)(q.default,{source:{uri:h,priority:q.default.priority.normal},style:{width:60,height:60,borderRadius:30},resizeMode:q.default.resizeMode.stretch}):(0,ae.jsx)(v.default,{style:{width:60,height:60,borderRadius:30,backgroundColor:"#e0e0e0",marginRight:12}})}),(0,ae.jsxs)(v.default,{style:{flex:1},children:[W&&t.read?null:(0,ae.jsx)(c.default,{style:{fontSize:12,position:"absolute",right:10,color:a?"#0A78BE":"#90949C",fontWeight:a?700:400},children:d}),(0,ae.jsx)(c.default,{numberOfLines:1,ellipsizeMode:"tail",style:{fontSize:14,width:"70%",overflow:"hidden",fontWeight:a?700:400,color:a?"#1C2B33":"#586369"},children:_}),(0,ae.jsx)(c.default,{numberOfLines:1,ellipsizeMode:"tail",style:{fontSize:14,width:"80%",overflow:"hidden",flex:1,fontWeight:a?700:400,color:a?"#1C2B33":"#586369"},children:b+" "+D}),(0,ae.jsx)(c.default,{numberOfLines:1,ellipsizeMode:"tail",style:{fontSize:12,width:"80%",overflow:"hidden",flex:1,fontWeight:a?700:400,color:a?"#0A78BE":"#90949c"},children:t.lastMessageSender==t.participants.customer?t.lastMessage?t.lastMessage:"No message found":t.lastMessage?"Sales: "+t.lastMessage:"Sales: No message found"}),t.read?(0,ae.jsx)(q.default,{source:{uri:Q,priority:q.default.priority.normal},style:{tintColor:"rgba(128, 128, 128, 1)",width:22,height:20,position:"absolute",right:10,bottom:0},resizeMode:q.default.resizeMode.stretch}):(0,ae.jsx)(q.default,{source:{uri:X,priority:q.default.priority.normal},style:{tintColor:"rgba(128, 128, 128, 1)",width:22,height:20,position:"absolute",right:10,bottom:0},resizeMode:q.default.resizeMode.stretch}),(0,ae.jsx)(c.default,{numberOfLines:1,ellipsizeMode:"tail",style:{position:"absolute",right:0,top:10,padding:10,alignSelf:"center",fontSize:12,overflow:"hidden",flex:1,fontWeight:a?700:400,color:a?"#FF0000":"#90949c"},children:t.invoiceNumber&&t.stepIndicator.value>2?t.invoiceNumber:""}),W&&t.read&&(0,ae.jsx)(s.Tooltip,{label:"Mark as unread",placement:"right",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(F.default,{focusable:!1,onHoverIn:function(){N(!0),B(!0)},onHoverOut:function(){B(!1)},onPress:J,style:{position:"absolute",right:0,top:-10,padding:10,alignSelf:"center"},children:(0,ae.jsx)(R.default,{name:"mark-as-unread",size:22,color:E?"#1B81C2":"#BABABA"})})})]})]})},Ye=function(e){var t=e.unreadButtonValue,r=e.activeButtonValue,o=(0,K.useSelector)((function(e){return e.selectedChatData})),a=((0,K.useSelector)((function(e){return e.selectedCustomerData})),(0,K.useSelector)((function(e){return e.chatListData}))),s=((0,K.useSelector)((function(e){return e.chatListLastVisible})),(0,K.useSelector)((function(e){return e.activeChatId}))),u=(0,K.useSelector)((function(e){return e.loadMoreLoading})),f=(0,K.useSelector)((function(e){return e.noMoreData})),h=((0,w.useRef)(null),(0,K.useDispatch)()),g=(0,w.useState)(""),m=(0,i.default)(g,2),x=(m[0],m[1]),p=(0,le.useParams)().chatId,y=(0,le.useNavigate)(),b=function(){var e=(0,l.default)((function*(){var e=(0,H.doc)(U.projectExtensionFirestore,"chats",s),t=(U.projectControlAuth.currentUser,U.projectControlAuth.currentUser?U.projectControlAuth.currentUser.email:"");if(""!==t)try{yield(0,H.updateDoc)(e,{read:!0,readBy:(0,H.arrayUnion)(t)})}catch(r){console.error("Error updating document: ",r),y("/devadmin/chat-messages")}}));return function(){return e.apply(this,arguments)}}();(0,w.useEffect)((function(){p&&setTimeout((function(){var e=Fe(p).toString().split("_"),t=e[1],r=e[e.length-1],n=o.carData&&o.carData.stockID?o.carData.stockID:o.vehicle&&o.vehicle.carId?o.vehicle.carId:"",l=(0,G.getStorage)(U.projectExtensionFirebase),a=(0,G.ref)(l,t+"/0");if(console.log("Folder Name: ",n),(0,G.getDownloadURL)(a).then((function(e){x(e),ge=e,h((0,$.setCarImageUrl)(e))})).catch((function(e){e.code,x("https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FNo%20Car%20Image%20Found.png?alt=media&token=de86488c-73a6-4c04-811c-bc508a11123a")})),o){null==(i=o.participants)||i.customer;var i,s=(0,H.doc)(U.projectExtensionFirestore,"accounts",r),d=(0,H.onSnapshot)(s,(function(e){if(e.exists()){var t=e.data();h((0,$.setSelectedCustomerData)(t||{})),me=t.textFirst?t.textFirst:"",xe=t.textLast?t.textLast:"",console.log("Name: "+t.textFirst+" "+t.textLast)}else console.log("Document not found")}),(function(e){console.error("Error fetching document: ",e)}));return function(){return d()}}}),1);var e=function(){if(s){h((0,$.setChatMessagesData)([])),h((0,$.setChatMessageBoxLoading)(!0)),b();try{var e=(0,H.doc)(U.projectExtensionFirestore,"chats",s),t=(0,H.collection)(e,"messages"),r=(0,H.query)(t,(0,H.orderBy)("timestamp","desc"),(0,H.limit)(10)),o=(0,H.onSnapshot)(e,(function(e){if(e.exists()){var t=se(se({},e.data()),{},{id:e.id});if(h((0,$.setSelectedChatData)(t)),t.invoiceNumber||""==t.invoiceNumber){var r=(0,H.doc)(U.projectExtensionFirestore,"IssuedInvoice",t.invoiceNumber),o=(0,H.onSnapshot)(r,(function(e){if(e.exists()){var t=se(se({},e.data()),{},{id:e.id});h((0,$.setInvoiceData)(t||{}))}else console.log("No Invoice Yet"),h((0,$.setInvoiceData)({}))}));return function(){o()}}h((0,$.setInvoiceData)({})),console.log("No Invoice Yet")}})),n=(0,H.onSnapshot)(r,(function(e){var t=[];e.forEach((function(e){var r=e.data(),o=r.timestamp?r.timestamp.toString():null;t.push(se(se({id:e.id},r),{},{timestamp:o}))})),h((0,$.setChatMessagesData)(t)),h((0,$.setChatMessageBoxLoading)(!1)),ce=e.docs[e.docs.length-1]}));return function(){o(),n()}}catch(l){console.error("Error setting up real-time messages: ",l)}}}();return function(){e&&e()}}),[s]),(0,w.useEffect)((function(){if(p){var e=Fe(p).toString();setTimeout((function(){console.log(e),h((0,$.setActiveChatId)(e))}),1)}}),[p]);var j=function(){var e=(0,l.default)((function*(e,t){var r=function(e){var t="@realmotorjapan532288@".toString();return Q.AES.encrypt(e,t).toString()}(t),o=encodeURIComponent(r);y("/devadmin/chat-messages/"+o),h((0,$.setActiveChatId)(t)),he=e,t}));return function(t,r){return e.apply(this,arguments)}}();(0,w.useEffect)((function(){h((0,$.setActiveChatId)(""))}),[t]);return a.length<1?(0,ae.jsx)(v.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,ae.jsx)(c.default,{style:{fontWeight:700,alignSelf:"center"},children:t?"No unread messages to show":"No messages to show"})}):(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)(P.default,{style:{height:100,borderBottomLeftRadius:5},renderItem:function(e){var t=e.item,r=t.id===s,o=!t.read,n=function(e){var t=new Date,r=e.replace(" at ","T").replace(/\//g,"-"),o=new Date(r),n=new Date(t.getFullYear(),t.getMonth(),t.getDate());if(new Date(o.getFullYear(),o.getMonth(),o.getDate()).getTime()===n.getTime())return"This day";var l=new Date;return l.setDate(l.getDate()-l.getDay()+(0===l.getDay()?-6:1)),l.setHours(0,0,0,0),o>=l&&o<n?o.toLocaleDateString("en-US",{weekday:"short"}):o>=new Date((new Date).getFullYear(),0,1)?o.toLocaleDateString("en-US",{month:"short",day:"numeric"}):o.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}(t.lastMessageDate);return(0,ae.jsx)(Ve,{chatListData:a,item:t,onPress:function(){return j(t.participants.customer,t.id)},isActive:r,messageUnread:o,formattedDate:n})},keyExtractor:function(e){return e.id.toString()},data:a,initialNumToRender:1,maxToRenderPerBatch:10,windowSize:21,onEndReachedThreshold:.05,removeClippedSubviews:!0,ListFooterComponent:function(){return(0,ae.jsx)(ae.Fragment,{children:!f&&(0,ae.jsx)(v.default,{style:{paddingVertical:20,borderTopWidth:1,borderColor:"#DADDE1",height:60},children:u&&(0,ae.jsx)(d.default,{animating:!0,size:"sm",color:"#7B9CFF"})})})},onEndReached:function(){var e;if(h((0,$.setLoadMoreLoading)(!0)),!de)return console.log("No more data to load or globalLastVisible is undefined"),void setTimeout((function(){h((0,$.setLoadMoreLoading)(!1)),h((0,$.setNoMoreData)(!0))}),0);if(a.length>=10?1==t?0==r?""===fe?(h((0,$.setLoadMoreLoading)(!0)),h((0,$.setNoMoreData)(!1)),e=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("read","==",!1),(0,H.orderBy)("lastMessageDate","desc"),(0,H.startAfter)(de),(0,H.limit)(10))):(h((0,$.setLoadMoreLoading)(!0)),h((0,$.setNoMoreData)(!1)),e=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("read","==",!1),(0,H.where)("keywords","array-contains",fe.toUpperCase()),(0,H.orderBy)("lastMessageDate","desc"),(0,H.startAfter)(de),(0,H.limit)(10))):""===fe?(h((0,$.setLoadMoreLoading)(!0)),h((0,$.setNoMoreData)(!1)),e=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("read","==",!1),(0,H.where)("stepIndicator.value","==",r),(0,H.orderBy)("lastMessageDate","desc"),(0,H.startAfter)(de),(0,H.limit)(10))):(h((0,$.setLoadMoreLoading)(!0)),h((0,$.setNoMoreData)(!1)),e=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("stepIndicator.value","==",r),(0,H.where)("read","==",!1),(0,H.where)("keywords","array-contains",fe.toUpperCase()),(0,H.orderBy)("lastMessageDate","desc"),(0,H.startAfter)(de),(0,H.limit)(10))):0==r?""===fe?(h((0,$.setLoadMoreLoading)(!0)),h((0,$.setNoMoreData)(!1)),e=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.orderBy)("lastMessageDate","desc"),(0,H.startAfter)(de),(0,H.limit)(10))):(h((0,$.setLoadMoreLoading)(!0)),h((0,$.setNoMoreData)(!1)),e=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("keywords","array-contains",fe.toUpperCase()),(0,H.orderBy)("lastMessageDate","desc"),(0,H.startAfter)(de),(0,H.limit)(10))):""===fe?(h((0,$.setLoadMoreLoading)(!0)),h((0,$.setNoMoreData)(!1)),e=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("stepIndicator.value","==",r),(0,H.orderBy)("lastMessageDate","desc"),(0,H.startAfter)(de),(0,H.limit)(10))):(h((0,$.setLoadMoreLoading)(!0)),h((0,$.setNoMoreData)(!1)),e=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("stepIndicator.value","==",r),(0,H.where)("keywords","array-contains",fe.toUpperCase()),(0,H.orderBy)("lastMessageDate","desc"),(0,H.startAfter)(de),(0,H.limit)(10))):(h((0,$.setNoMoreData)(!0)),h((0,$.setLoadMoreLoading)(!1))),a.length<10)setTimeout((function(){h((0,$.setLoadMoreLoading)(!1)),h((0,$.setNoMoreData)(!0))}),0);else try{return(0,H.onSnapshot)(e,(function(e){if(e.empty)return console.log("No more data to load"),void setTimeout((function(){h((0,$.setLoadMoreLoading)(!1)),h((0,$.setNoMoreData)(!0)),de=null}),0);var t=[];e.forEach((function(e){t.push(se({id:e.id},e.data()))})),setTimeout((function(){h((0,$.setChatListData)([].concat((0,n.default)(a),t))),h((0,$.setLoadMoreLoading)(!1)),de=e.docs[e.docs.length-1]}),0)}))}catch(o){console.error("Error fetching data from Firebase:",o),setTimeout((function(){return h((0,$.setLoadMoreLoading)(!1))}),0)}}})})},Ue=function(e){e.lastVisible,e.setLastVisible;var t=e.unreadButtonValue,r=e.activeButtonValue,n=(0,w.useRef)(null),a=(0,w.useState)(""),s=(0,i.default)(a,2),d=s[0],c=s[1],u=(0,w.useState)(""),f=(0,i.default)(u,2),h=f[0],g=f[1],m=(0,K.useDispatch)(),x=function(){var e=(0,l.default)((function*(e){var l,a;(0,o.default)(e);var i=null==(l=n.current)?void 0:l.value;1==t?0==r?""===i?(a=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("read","==",!1),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)),m((0,$.setLoadingModalVisible)(!1))):a=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("read","==",!1),(0,H.where)("keywords","array-contains",i.toUpperCase()),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):""===i?(a=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("read","==",!1),(0,H.where)("stepIndicator.value","==",r),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)),m((0,$.setLoadingModalVisible)(!1))):a=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("stepIndicator.value","==",r),(0,H.where)("read","==",!1),(0,H.where)("keywords","array-contains",i.toUpperCase()),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):0==r?""===i?(a=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)),m((0,$.setLoadingModalVisible)(!1))):a=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("keywords","array-contains",i.toUpperCase()),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):""===i?(a=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("stepIndicator.value","==",r),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)),m((0,$.setLoadingModalVisible)(!1))):a=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("stepIndicator.value","==",r),(0,H.where)("keywords","array-contains",i.toUpperCase()),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10));try{var s=(0,H.onSnapshot)(a,(function(e){var t=[];e.forEach((function(e){t.push(se({id:e.id},e.data()))})),m((0,$.setChatListData)(t)),de=e.docs[e.docs.length-1]}));return function(){s&&s()}}catch(d){console.error("Error fetching data from Firebase:",d)}}));return function(t){return e.apply(this,arguments)}}();(0,w.useEffect)((function(){c(""),m((0,$.setChatListSearchText)("")),fe="",n.current.value="",g(!1)}),[r,t]);return(0,ae.jsxs)(v.default,{style:{flexDirection:"row",alignItems:"center",width:"100%",alignSelf:"center",borderWidth:1,borderColor:"#D9D9D9",borderRadius:5,margin:10},children:[(0,ae.jsx)(L.default,{ref:n,onSubmitEditing:function(){var e;""!==(null==(e=n.current)?void 0:e.value)?(m((0,$.setChatListSearchText)(n.current.value.trim())),c(n.current.value.trim()),fe=n.current.value.trim()):(c(""),fe="",""==d&&(m((0,$.setChatListSearchText)("")),x()))},placeholder:"Search",placeholderTextColor:"#9B9E9F",underlineColorAndroid:"transparent",style:{flex:1,height:40,padding:10,outlineStyle:"none"},onChangeText:function(){return g(!0)},keyboardType:"search"}),h?(0,ae.jsx)(F.default,{focusable:!1,onPress:function(){n.current.clear(),g(!1),""!==d&&(c(""),m((0,$.setChatListSearchText)("")),m((0,$.setActiveChatId)("")),fe="")},style:function(e){return[{borderRadius:10,marginRight:10,opacity:e.pressed?.5:1,backgroundColor:e.hovered?"#ddd":"transparent"}]},children:(0,ae.jsx)(R.default,{name:"close",size:20,color:"#000"})}):null]})},_e=function(){var e=(0,w.useState)(!1),t=(0,i.default)(e,2),r=t[0],o=t[1],n=(0,w.useState)(!1),s=(0,i.default)(n,2),d=s[0],f=s[1],h=(0,w.useState)(!1),g=(0,i.default)(h,2),m=g[0],x=g[1],p=function(){o(!1)},y=(0,w.useRef)(null),b=(0,w.useRef)(null),j=(0,w.useRef)(null),C=(0,w.useRef)(null),S=(0,w.useRef)(null),D=(0,w.useRef)(null),M=function(){var e=(0,l.default)((function*(){var e,t,r,o,n,l,i=(0,H.doc)(U.projectExtensionFirestore,"DataForInvoice","BankAccounts"),s=null==(e=y.current)?void 0:e.value,d={bankName:s,branchName:null==(t=b.current)?void 0:t.value,swiftCode:null==(r=j.current)?void 0:r.value,address:null==(o=C.current)?void 0:o.value,accountHolder:null==(n=S.current)?void 0:n.value,accountNumberValue:null==(l=D.current)?void 0:l.value};try{yield(0,H.updateDoc)(i,(0,a.default)({},s,d)),console.log("Element added to the array field"),p()}catch(c){console.error("Error adding element to the array",c)}}));return function(){return e.apply(this,arguments)}}();return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(F.default,{onPress:function(){o(!0)},style:{alignSelf:"center",marginHorizontal:5,marginTop:3},children:(0,ae.jsx)(z.default,{name:"plus-circle",size:25,color:"#16A34A"})}),(0,ae.jsx)(u.Modal,{isOpen:r,onClose:p,useRNModal:!0,children:(0,ae.jsxs)(u.Modal.Content,{children:[(0,ae.jsx)(u.Modal.Header,{children:"Add Bank Account"}),(0,ae.jsx)(u.Modal.Body,{children:(0,ae.jsxs)(v.default,{style:{height:"100%",flex:1},children:[(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(c.default,{style:{width:"35%",fontWeight:700,margin:3},children:"Bank Name:"}),(0,ae.jsx)(L.default,{ref:y,placeholderTextColor:"#9B9E9F",placeholder:"Bank Name",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(c.default,{style:{width:"35%",fontWeight:700,margin:3},children:"Branch Name:"}),(0,ae.jsx)(L.default,{ref:b,placeholderTextColor:"#9B9E9F",placeholder:"Branch Name",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(c.default,{style:{width:"35%",fontWeight:700,margin:3},children:"SWIFTCODE:"}),(0,ae.jsx)(L.default,{ref:j,placeholderTextColor:"#9B9E9F",placeholder:"SWIFTCODE",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(c.default,{style:{width:"35%",fontWeight:700,margin:3},children:"Address:"}),(0,ae.jsx)(L.default,{ref:C,placeholderTextColor:"#9B9E9F",placeholder:"Address",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(c.default,{style:{width:"35%",fontWeight:700,margin:3},children:"Account Holder:"}),(0,ae.jsx)(L.default,{ref:S,placeholderTextColor:"#9B9E9F",placeholder:"Account Holder",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(c.default,{style:{width:"35%",fontWeight:700,margin:3},children:"Account Number:"}),(0,ae.jsx)(L.default,{ref:D,placeholderTextColor:"#9B9E9F",placeholder:"Account Number",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]})]})}),(0,ae.jsx)(u.Modal.Footer,{children:(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,ae.jsx)(F.default,{style:{width:100,padding:5,borderRadius:3,backgroundColor:d?"#686868":"#525252"},onHoverIn:function(){return f(!0)},onHoverOut:function(){return f(!1)},onPress:p,children:(0,ae.jsx)(c.default,{style:{fontWeight:500,textAlign:"center",color:"white"},children:"Cancel"})}),(0,ae.jsx)(F.default,{onPress:M,style:{width:100,padding:5,borderRadius:3,backgroundColor:m?"#1B8B5A":"#16A34A"},onHoverIn:function(){return x(!0)},onHoverOut:function(){return x(!1)},children:(0,ae.jsx)(c.default,{style:{fontWeight:500,textAlign:"center",color:"white"},children:"Add"})})]})})]})})]})},Ge=function(){var e=(0,K.useSelector)((function(e){return e.currentDate})),t=(0,K.useSelector)((function(e){return e.invoiceData})),r=(0,w.useState)(""),o=(0,i.default)(r,2),n=o[0],l=o[1],s=(0,w.useState)({}),d=(0,i.default)(s,2),f=d[0],h=d[1],x=(0,w.useState)(t&&Object.keys(t).length>0&&t.bankInformations.bankAccount.bankName?t.bankInformations.bankAccount.bankName:"SUMITOMO MITSUI BANKING CORPORATION"),p=(0,i.default)(x,2),y=p[0],b=p[1],j=(0,w.useRef)(null);(0,w.useRef)(null);(0,w.useEffect)((function(){if(e){var r,o=new Date(e),n=o.getDay();5===n?o.setDate(o.getDate()+3):6===n?o.setDate(o.getDate()+2):o.setDate(o.getDate()+1);var a=o.toISOString().split("T")[0];l(t&&Object.keys(t).length>0&&t.bankInformations.dueDate?t.bankInformations.dueDate:a),ve.bankInformations.dueDate=t&&Object.keys(t).length>0&&t.bankInformations.dueDate?t.bankInformations.dueDate:a,ve.bankInformations.paymentTerms=t&&Object.keys(t).length>0&&t.bankInformations.paymentTerms?t.bankInformations.paymentTerms:null==(r=j.current)?void 0:r.value,ve.bankInformations.issuingDate=t&&Object.keys(t).length>0&&t.bankInformations.issuingDate?t.bankInformations.issuingDate:e}!function(){var e=(0,H.doc)(U.projectExtensionFirestore,"DataForInvoice","BankAccounts");(0,H.onSnapshot)(e,(function(e){if(e.exists()){var t=e.data(),r={};Object.entries(t).forEach((function(e){var t=(0,i.default)(e,2),o=(t[0],t[1]);o.bankName&&(r[o.bankName]=o)})),console.log(r),h(r),ve.bankInformations.bankAccount=r["SUMITOMO MITSUI BANKING CORPORATION"],console.log(r["SUMITOMO MITSUI BANKING CORPORATION"])}else console.log("No such document!")}),(function(e){console.error("Error fetching document",e)}))}()}),[e]);return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"20%",fontWeight:700,margin:3},children:"Due Date:"}),(0,ae.jsx)((function(e){var t=e.selectedDate,r=e.setSelectedDate,o=(e.currentDate,(0,w.useState)(!1)),n=(0,i.default)(o,2),l=n[0],s=n[1],d=function(){s(!0)},c=function(){s(!1)};return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(F.default,{style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"},onPress:d,children:(0,ae.jsx)(L.default,{value:t,onFocus:d})}),(0,ae.jsxs)(u.Modal,{isOpen:l,onClose:c,useRNModal:!0,children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Content,{children:(0,ae.jsx)(v.default,{style:{height:"100%",flex:1},children:(0,ae.jsx)(Z.Calendar,{onDayPress:(0,w.useCallback)((function(e){r(e.dateString),e.dateString,ve.bankInformations.dueDate=e.dateString,c()}),[]),markedDates:(0,a.default)({},t,{selected:!0,disableTouchEvent:!0,selectedDotColor:"#7b9cff"}),renderArrow:function(e){return"left"===e?(0,ae.jsx)(R.default,{name:"arrow-back-ios",color:"#7b9cff"}):(0,ae.jsx)(R.default,{name:"arrow-forward-ios",color:"#7b9cff"})},enableSwipeMonths:!0,initialDate:t,showSixWeeks:!0})})})]})]})}),{currentDate:e,selectedDate:n,setSelectedDate:l})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2,marginVertical:10},children:[(0,ae.jsx)(c.default,{style:{width:"20%",fontWeight:700,margin:3},children:"Bank Account: "}),(0,ae.jsx)(g.default,{selectedValue:y,onValueChange:function(e){var t=f[e];b(e),ve.bankInformations.bankAccount=t},bgColor:"#FAFAFA",accessibilityLabel:"Choose Country",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,ae.jsx)(m.CheckIcon,{})},height:9,width:300,style:{marginLeft:10,marginRight:10,paddingLeft:1},children:Object.keys(f).map((function(e){return(0,ae.jsx)(g.default.Item,{label:e,value:e},e)}))}),(0,ae.jsx)(_e,{})]}),(0,ae.jsxs)(v.default,{style:{flex:3,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"20%",fontWeight:700,margin:3},children:"Payment Terms:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.bankInformations.paymentTerms=e},ref:j,multiline:!0,defaultValue:t&&Object.keys(t).length>0&&t.bankInformations.paymentTerms?t.bankInformations.paymentTerms:"Full payment via Telegraphic Transfer (T/T) required before the due date.",placeholderTextColor:"#9B9E9F",placeholder:"Email",style:{width:"60%",height:75,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]})]})},qe=function(){var e=(0,K.useSelector)((function(e){return e.selectedChatData})),t=(0,K.useSelector)((function(e){return e.invoiceData})),r=(0,w.useRef)(null),o=(0,w.useRef)(null),n=(0,w.useRef)(null),l=(0,w.useRef)(null),a=(0,w.useState)("0"),s=(0,i.default)(a,2),d=s[0],u=s[1],f=(0,w.useState)(t&&Object.keys(t).length>0&&t.paymentDetails.incoterms?t.paymentDetails.incoterms:e.insurance?"CIF":"C&F"),h=(0,i.default)(f,2),p=h[0],y=h[1],b=(0,w.useState)(t&&Object.keys(t).length>0&&t.paymentDetails.inspectionIsChecked?t.paymentDetails.inspectionIsChecked:e.inspection),j=(0,i.default)(b,2),C=j[0],S=j[1],D=(0,w.useState)(t&&Object.keys(t).length>0&&t.paymentDetails.inspectionName?t.paymentDetails.inspectionName:e.inspectionName),M=(0,i.default)(D,2),P=M[0],A=(M[1],(0,w.useState)(t&&Object.keys(t).length>0&&t.paymentDetails.warrantyIsCheck?t.paymentDetails.warrantyIsCheck:e.warranty)),F=(0,i.default)(A,2),E=F[0],B=(F[1],t&&Object.keys(t).length>0&&t.paymentDetails.warrantyPrice&&t.paymentDetails.warrantyPrice&&t.paymentDetails.warrantyPrice,(0,w.useRef)(null)),I=(0,w.useRef)(null),k=function(e){var t=Number(e.replace(/,/g,""));return isNaN(t)?0:t},R=function(){var e,t,a,i,s=k(null==(e=r.current)?void 0:e.value),d=k(null==(t=o.current)?void 0:t.value),c=k(null==(a=n.current)?void 0:a.value),f=k(null==(i=l.current)?void 0:i.value),h=pe.reduce((function(e,t){return e+k(t)}),0),g=Math.round(s+d+c+f+h).toLocaleString();u(g),ve.paymentDetails.totalAmount=g};(0,w.useEffect)((function(){var e,n,a;B.current.value=t&&Object.keys(t).length>0&&t.paymentDetails.additionalName?t.paymentDetails.additionalName.join("\n"):"",I.current.value=t&&Object.keys(t).length>0&&t.paymentDetails.additionalPrice?t.paymentDetails.additionalPrice.join("\n"):"",ve.paymentDetails.incoterms=t&&Object.keys(t).length>0&&t.paymentDetails.incoterms?t.paymentDetails.incoterms:p,ve.paymentDetails.inspectionIsChecked=t&&Object.keys(t).length>0&&t.paymentDetails.inspectionIsChecked?t.paymentDetails.inspectionIsChecked:C,ve.paymentDetails.inspectionName=t&&Object.keys(t).length>0&&t.paymentDetails.inspectionName?t.paymentDetails.inspectionName:P,ve.paymentDetails.inspectionPrice=t&&Object.keys(t).length>0&&t.paymentDetails.inspectionPrice?t.paymentDetails.inspectionPrice:C?300:0,ve.paymentDetails.warrantyIsCheck=t&&Object.keys(t).length>0&&t.paymentDetails.warrantyIsCheck?t.paymentDetails.warrantyIsCheck:E,ve.paymentDetails.fobPrice=t&&Object.keys(t).length>0&&t.paymentDetails.fobPrice?t.paymentDetails.fobPrice:null==(e=r.current)?void 0:e.value,ve.paymentDetails.freightPrice=t&&Object.keys(t).length>0&&t.paymentDetails.freightPrice?t.paymentDetails.freightPrice:null==(n=o.current)?void 0:n.value,ve.paymentDetails.insurancePrice=t&&Object.keys(t).length>0&&t.paymentDetails.insurancePrice?t.paymentDetails.insurancePrice:"CIF"==p?null==(a=l.current)?void 0:a.value:0,ve.paymentDetails.additionalPrice=t&&Object.keys(t).length>0&&t.paymentDetails.additionalPrice?t.paymentDetails.additionalPrice:[],ve.paymentDetails.additionalName=t&&Object.keys(t).length>0&&t.paymentDetails.additionalName?t.paymentDetails.additionalName:[],pe=t&&Object.keys(t).length>0&&t.paymentDetails.additionalPrice?t.paymentDetails.additionalPrice:[],R()}),[]),(0,w.useEffect)((function(){n.current.value=t&&Object.keys(t).length>0&&t.paymentDetails.inspectionPrice&&1==t.paymentDetails.inspectionPrice?t.paymentDetails.inspectionPrice:C?300:0,R()}),[C]),(0,w.useEffect)((function(){l.current.value=t&&Object.keys(t).length>0&&t.paymentDetails.insurancePrice&&"CIF"==t.paymentDetails.incoterms?t.paymentDetails.insurancePrice:"CIF"==p?50:0,o.current.value=t&&Object.keys(t).length>0&&t.paymentDetails.freightPrice?t.paymentDetails.freightPrice:"FOB"==p?0:T,R()}),[p]),(0,w.useEffect)((function(){R()}),[E]);var T=((e.m3?e.m3:e.carData&&e.carData.dimensionCubicMeters?e.carData.dimensionCubicMeters:0)*Number(e.freightPrice)).toFixed(2),z=(((e.fobPrice?e.fobPrice:(e.carData&&e.carData.fobPrice?e.carData.fobPrice:0)*(e.jpyToUsd?e.jpyToUsd:e.currency&&e.currency.jpyToUsd?e.currency.jpyToUsd:0))+parseFloat(T)).toFixed(2),(e.fobPrice?e.fobPrice:(e.carData&&e.carData.fobPrice?e.carData.fobPrice:0)*(e.jpyToUsd?e.jpyToUsd:e.currency&&e.currency.jpyToUsd?e.currency.jpyToUsd:0)).toFixed(2));return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(v.default,{style:{flex:1,flexDirection:"row",margin:2,alignSelf:"center"},children:(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:16,margin:3,color:"#16A34A"},children:"Payment Details"})}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Incoterms:"}),(0,ae.jsxs)(g.default,{selectedValue:p,onValueChange:function(e){return y(e)},bgColor:"#FAFAFA",accessibilityLabel:"Choose Country",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,ae.jsx)(m.CheckIcon,{})},height:9,style:{marginLeft:10,marginRight:10,paddingLeft:1},children:[(0,ae.jsx)(g.default.Item,{label:"C&F",value:"C&F"},"C&F"),(0,ae.jsx)(g.default.Item,{label:"CIF",value:"CIF"},"CIF"),(0,ae.jsx)(g.default.Item,{label:"FOB",value:"FOB"},"FOB")]}),(0,ae.jsx)(c.default,{style:{fontWeight:700,margin:3},children:"Rate: "}),(0,ae.jsx)(c.default,{style:{fontWeight:700,margin:3,color:"#16A34A"},children:e.currency&&e.currency.usdToJpy?Number(e.currency.usdToJpy).toFixed(2):"0.00"})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2,marginTop:10},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Inspection:"}),(0,ae.jsx)(x.Checkbox,{isChecked:C,onChange:function(e){S(e),ve.paymentDetails.inspectionIsChecked=e},style:{margin:2,borderColor:"#0A9FDC"},size:"sm",_text:{fontWeight:700}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"FOB Price:"}),(0,ae.jsx)(c.default,{style:{fontWeight:700,margin:1,paddingTop:1},children:"$"}),(0,ae.jsx)(L.default,{onChangeText:function(e){var t=e.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1");r.current.value=t,ve.paymentDetails.fobPrice=t,R()},ref:r,defaultValue:t&&Object.keys(t).length>0?t.paymentDetails.fobPrice:"FOB"==p?0:z,placeholderTextColor:"#9B9E9F",placeholder:"FOB Price",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Freight:"}),(0,ae.jsx)(c.default,{style:{fontWeight:700,margin:1,paddingTop:1},children:"$"}),(0,ae.jsx)(L.default,{onChangeText:function(e){var t=e.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1");o.current.value=t,ve.paymentDetails.freightPrice=t,R()},ref:o,defaultValue:T,placeholderTextColor:"#9B9E9F",placeholder:"Freight",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2,display:"CIF"==p?"flex":"none"},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Insurance:"}),(0,ae.jsx)(c.default,{style:{fontWeight:700,margin:1,paddingTop:1},children:"$"}),(0,ae.jsx)(L.default,{onChangeText:function(e){var t=e.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1");l.current.value=t,ve.paymentDetails.insurancePrice=t,R()},ref:l,defaultValue:50,placeholderTextColor:"#9B9E9F",placeholder:"Insurance",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2,display:C?"flex":"none"},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Inspection:"}),(0,ae.jsx)(c.default,{style:{fontWeight:700,margin:1,paddingTop:1},children:"$"}),(0,ae.jsx)(L.default,{onChangeText:function(e){var t=e.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1");n.current.value=t,ve.paymentDetails.inspectionPrice=t,R()},ref:n,placeholderTextColor:"#9B9E9F",placeholder:"Inspection ["+e.inspectionName+"]",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}}),(0,ae.jsx)(c.default,{style:{fontWeight:700,margin:3,color:"#16A34A"},children:"["+e.inspectionName+"]"})]}),(0,ae.jsxs)(v.default,{style:{flex:3,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Additional:"}),(0,ae.jsx)(L.default,{ref:B,onChangeText:function(e){B.current.value=e;var t=e.split("\n");ve.paymentDetails.additionalName=t},multiline:!0,placeholderTextColor:"#9B9E9F",placeholder:"Name",style:{width:"60%",height:75,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}}),(0,ae.jsx)(L.default,{ref:I,onChangeText:function(e){var t=e.split("\n").map((function(e){var t=e.replace(/[^0-9.]/g,""),r=t.split(".");return r.length>2&&(t=r[0]+"."+r[1]),t}));I.current.value=t.join("\n"),pe=t,ve.paymentDetails.additionalPrice=t,R()},multiline:!0,placeholderTextColor:"#9B9E9F",placeholder:"Price",style:{width:"60%",height:75,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsx)(v.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center"}}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2,alignItems:"center"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,margin:3},children:"Total Amount:"}),(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:18,margin:3,color:"#FF0000"},children:"$"+d})]})]})},Je=function(){var e=(0,K.useSelector)((function(e){return e.selectedChatData})),t=(0,K.useSelector)((function(e){return e.invoiceData})),r=(0,w.useState)([]),o=(0,i.default)(r,2),n=o[0],a=(o[1],(0,w.useState)({})),s=(0,i.default)(a,2),d=s[0],c=s[1],u=(0,w.useState)([]),f=(0,i.default)(u,2),h=f[0],x=f[1],p=(0,w.useState)(""),y=(0,i.default)(p,2),b=y[0],j=y[1],C=(0,w.useState)(t&&Object.keys(t).length>0?t.discharge.country:e.country),S=(0,i.default)(C,2),D=S[0],v=(S[1],(0,w.useState)(t&&Object.keys(t).length>0?t.discharge.port:e.port)),M=(0,i.default)(v,2),P=M[0],A=M[1];return(0,w.useEffect)((function(){console.log(t&&Object.keys(t).length>0?t.discharge.port:e.port);var r=function(){var e=(0,l.default)((function*(){var e=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","PortsDoc");try{var t=yield(0,H.getDoc)(e);if(t.exists()){var r=t.data(),o=Object.keys(r).map((function(e){return se({name:e.replace(/_/g,".")},r[e])})).sort((function(e,t){return e.sortOrder-t.sortOrder}));x(o)}else console.log("No such document!")}catch(n){console.error("Error fetching document:",n)}}));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,l.default)((function*(){var e=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","PortsDoc");try{var t=yield(0,H.getDoc)(e);if(t.exists()){var r=t.data();c(r)}else console.log("No such document!")}catch(o){console.error("Error fetching document:",o)}}));return function(){return e.apply(this,arguments)}}();r(),o(),ve.discharge.port=t&&Object.keys(t).length>0&&t.discharge.port?t.discharge.port:P,ve.discharge.country=t&&Object.keys(t).length>0&&t.discharge.country?t.discharge.country:b}),[]),(0,w.useEffect)((function(){var e=n.find((function(e){return e.name===D}));e&&e.nearestPorts?x(e.nearestPorts):x([])}),[D,n]),(0,w.useEffect)((function(){var e=d[P];e&&e.country?(j(e.country),ve.discharge.country=e.country):(j(""),console.log("Not found"))}),[P,d]),(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)(g.default,{selectedValue:P,onValueChange:function(e){A(e),ve.discharge.port=e},bgColor:"#FAFAFA",accessibilityLabel:"Choose Port",placeholder:"Select port",_selectedItem:{bg:"teal.600",endIcon:(0,ae.jsx)(m.CheckIcon,{})},style:{marginLeft:10,marginRight:10,paddingLeft:1},children:h.map((function(e,t){return(0,ae.jsx)(g.default.Item,{label:e.name,value:e.name},t)}))})})},Ke=function(){var e=(0,K.useSelector)((function(e){return e.selectedChatData})),t=(0,K.useSelector)((function(e){return e.invoiceData})),r=(0,w.useState)(t&&Object.keys(t).length>0?t.salesPerson:e.carData&&e.carData.sales?e.carData.sales:""),o=(0,i.default)(r,2),n=o[0],l=o[1],a=(0,K.useSelector)((function(e){return e.salesData}));return(0,w.useEffect)((function(){ve.salesPerson=t&&Object.keys(t).length>0&&t.salesPerson?t.salesPerson:e.carData&&e.carData.sales?e.carData.sales:""}),[]),(0,ae.jsx)(g.default,{selectedValue:n,onValueChange:function(e){l(e),ve.salesPerson=e},bgColor:"#FAFAFA",accessibilityLabel:"---",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,ae.jsx)(m.CheckIcon,{})},style:{marginLeft:10,marginRight:10,paddingLeft:1},children:a.map((function(e){return(0,ae.jsx)(g.default.Item,{label:e.name,value:e.name},e.id)}))})},Ze=function(){var e=(0,K.useSelector)((function(e){return e.selectedChatData})),t=(0,K.useSelector)((function(e){return e.invoiceData})),r=(0,K.useSelector)((function(e){return e.portData})),o=((0,K.useSelector)((function(e){return e.salesData})),(0,w.useState)(t&&Object.keys(t).length>0?t.departurePort:e.carData&&e.carData.port?e.carData.port:"")),n=(0,i.default)(o,2),l=n[0],a=n[1];return(0,w.useEffect)((function(){ve.departurePort=t&&Object.keys(t).length>0&&t.departurePort?t.departurePort:e.carData&&e.carData.port?e.carData.port:"",ve.departureCountry=t&&Object.keys(t).length>0&&t.departureCountry?t.departureCountry:"Japan"}),[]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(g.default,{selectedValue:"Japan",onValueChange:function(e){ve.departureCountry=e},bgColor:"#FAFAFA",flex:1,accessibilityLabel:"---",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,ae.jsx)(m.CheckIcon,{})},style:{marginLeft:10,marginRight:10,paddingLeft:1},children:(0,ae.jsx)(g.default.Item,{label:"Japan",value:"Japan"},"Japan")}),(0,ae.jsx)(g.default,{selectedValue:l,onValueChange:function(e){a(e),ve.departurePort=e},bgColor:"#FAFAFA",flex:1,accessibilityLabel:"---",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,ae.jsx)(m.CheckIcon,{})},style:{marginLeft:10,marginRight:10,paddingLeft:1},children:r.map((function(e){return(0,ae.jsx)(g.default.Item,{label:e.name,value:e.name},e.id)}))})]})},$e=function(e){e.accountData,e.setAccountData;var t=(0,K.useSelector)((function(e){return e.invoiceData})),r=(0,w.useState)(!(t&&Object.keys(t).length>0)||t.notifyParty.sameAsConsignee),o=(0,i.default)(r,2),n=o[0],l=o[1],a=(0,w.useRef)(null),s=(0,w.useRef)(null),d=(0,w.useRef)(null),u=(0,w.useRef)(null),f=(0,w.useRef)(null),h=(0,w.useRef)(null),g=(0,w.useRef)(null);return(0,w.useEffect)((function(){var e,r,o,l,i,c,m;a.current.value=t&&Object.keys(t).length>0&&t.notifyParty.name?t.notifyParty.name:"",s.current.value=t&&Object.keys(t).length>0&&t.notifyParty.address?t.notifyParty.address:"",d.current.value=t&&Object.keys(t).length>0&&t.notifyParty.city?t.notifyParty.city:"",u.current.value=t&&Object.keys(t).length>0&&t.notifyParty.country?t.notifyParty.country:"",f.current.value=t&&Object.keys(t).length>0&&t.notifyParty.contactNumber?t.notifyParty.contactNumber:"",h.current.value=t&&Object.keys(t).length>0&&t.notifyParty.fax?t.notifyParty.fax:"",g.current.value=t&&Object.keys(t).length>0&&t.notifyParty.email?t.notifyParty.email:"",ve.notifyParty.name=t&&Object.keys(t).length>0&&t.notifyParty.name?t.notifyParty.name:null==(e=a.current)?void 0:e.value,ve.notifyParty.address=t&&Object.keys(t).length>0&&t.notifyParty.address?t.notifyParty.address:null==(r=s.current)?void 0:r.value,ve.notifyParty.city=t&&Object.keys(t).length>0&&t.notifyParty.city?t.notifyParty.city:null==(o=d.current)?void 0:o.value,ve.notifyParty.country=t&&Object.keys(t).length>0&&t.notifyParty.country?t.notifyParty.country:null==(l=u.current)?void 0:l.value,ve.notifyParty.contactNumber=t&&Object.keys(t).length>0&&t.notifyParty.contactNumber?t.notifyParty.contactNumber:null==(i=f.current)?void 0:i.value,ve.notifyParty.fax=t&&Object.keys(t).length>0&&t.notifyParty.fax?t.notifyParty.fax:null==(c=h.current)?void 0:c.value,ve.notifyParty.email=t&&Object.keys(t).length>0&&t.notifyParty.email?t.notifyParty.email:null==(m=g.current)?void 0:m.value,ve.notifyParty.sameAsConsignee=t&&Object.keys(t).length>0&&t.notifyParty.sameAsConsignee?t.notifyParty.sameAsConsignee:n}),[]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(v.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center"}}),(0,ae.jsx)(v.default,{style:{flex:1,flexDirection:"row",margin:2,alignSelf:"center"},children:(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:16,margin:3,color:"#FF0000"},children:"Notify Party"})}),(0,ae.jsx)(v.default,{style:{flex:1,flexDirection:"row",margin:5},children:(0,ae.jsx)(x.Checkbox,{isChecked:n,onChange:function(e){l(e),ve.consignee.sameAsBuyer=e},style:{margin:2,borderColor:"#0A9FDC"},size:"sm",_text:{fontWeight:700},children:"Same as consignee"})}),(0,ae.jsxs)(v.default,{style:{display:n?"none":"flex"},children:[(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Name:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.notifyParty.name=e},ref:a,disabled:n,placeholderTextColor:"#9B9E9F",placeholder:"Name",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Address:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.notifyParty.address=e},ref:s,disabled:n,placeholderTextColor:"#9B9E9F",placeholder:"Address",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"City:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.notifyParty.city=e},ref:d,disabled:n,placeholderTextColor:"#9B9E9F",placeholder:"City",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Country:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.notifyParty.country=e},ref:u,disabled:n,placeholderTextColor:"#9B9E9F",placeholder:"Country",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:3,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Contact Number:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.notifyParty.contactNumber=e},ref:f,disabled:n,multiline:!0,placeholderTextColor:"#9B9E9F",placeholder:"Contact Number",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:75,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"FAX:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.notifyParty.fax=e},ref:h,disabled:n,placeholderTextColor:"#9B9E9F",placeholder:"FAX",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Email:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.notifyParty.email=e},ref:g,disabled:n,placeholderTextColor:"#9B9E9F",placeholder:"Email",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]})]}),(0,ae.jsx)(v.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center"}})]})},Xe=function(){var e=(0,K.useSelector)((function(e){return e.selectedChatData})),t=(0,K.useSelector)((function(e){return e.invoiceData})),r=(0,w.useState)(!(t&&Object.keys(t).length>0)||t.consignee.sameAsBuyer),o=(0,i.default)(r,2),n=o[0],a=o[1],s=(0,w.useState)({}),d=(0,i.default)(s,2),u=d[0],f=d[1],h=(0,w.useRef)(null),g=(0,w.useRef)(null),m=(0,w.useRef)(null),p=(0,w.useRef)(null),y=(0,w.useRef)(null),b=(0,w.useRef)(null),j=(0,w.useRef)(null);return(0,w.useEffect)((function(){var r=function(){var r=(0,l.default)((function*(){if(e.participants||!e.participants.customer){var r=(0,H.doc)(U.projectExtensionFirestore,"accounts",e.participants.customer);try{var o=yield(0,H.getDoc)(r);if(o.exists()){var l=o.data();f(o.data()),h.current.value=t&&Object.keys(t).length>0&&t.consignee.name?t.consignee.name:(l.textFirst?l.textFirst:"")+" "+(l.textLast?l.textLast:""),g.current.value=t&&Object.keys(t).length>0&&t.consignee.address?t.consignee.address:(l.textStreet?l.textStreet:"")+" "+(l.textZip?l.textZip:""),m.current.value=t&&Object.keys(t).length>0&&t.consignee.city?t.consignee.city:""+(l.city?l.city:""),p.current.value=t&&Object.keys(t).length>0&&t.consignee.country?t.consignee.country:""+(l.country?l.country:""),y.current.value=t&&Object.keys(t).length>0&&t.consignee.contactNumber?t.consignee.contactNumber:""+(l.textPhoneNumber?l.textPhoneNumber:""),b.current.value=t&&Object.keys(t).length>0&&t.consignee.fax?t.consignee.fax:""+(l.fax?l.fax:""),j.current.value=t&&Object.keys(t).length>0&&t.consignee.email?t.consignee.email:""+(l.textEmail?l.textEmail:""),ve.consignee.name=t&&Object.keys(t).length>0&&t.consignee.name?t.consignee.name:(l.textFirst?l.textFirst:"")+" "+(l.textLast?l.textLast:""),ve.consignee.address=t&&Object.keys(t).length>0&&t.consignee.address?t.consignee.address:(l.textStreet?l.textStreet:"")+" "+(l.textZip?l.textZip:""),ve.consignee.city=t&&Object.keys(t).length>0&&t.consignee.city?t.consignee.city:""+(l.city?l.city:""),ve.consignee.country=t&&Object.keys(t).length>0&&t.consignee.country?t.consignee.country:""+(l.country?l.country:""),ve.consignee.contactNumber=t&&Object.keys(t).length>0&&t.consignee.contactNumber?t.consignee.contactNumber:""+(l.textPhoneNumber?l.textPhoneNumber:""),ve.consignee.fax=t&&Object.keys(t).length>0&&t.consignee.fax?t.consignee.fax:""+(l.fax?l.fax:""),ve.consignee.email=t&&Object.keys(t).length>0&&t.consignee.email?t.consignee.email:""+(l.textEmail?l.textEmail:""),ve.consignee.sameAsBuyer=t&&Object.keys(t).length>0&&t.consignee.sameAsBuyer?t.consignee.sameAsBuyer:n}else console.log("No such document!"),f(null)}catch(a){console.error("Error fetching document:",a)}}}));return function(){return r.apply(this,arguments)}}();r()}),[]),(0,w.useEffect)((function(){n&&(h.current.value=(u.textFirst?u.textFirst:"")+" "+(u.textLast?u.textLast:""),g.current.value=(u.textStreet?u.textStreet:"")+" "+(u.textZip?u.textZip:""),m.current.value=""+(u.city?u.city:""),p.current.value=""+(u.country?u.country:""),y.current.value=""+(u.textPhoneNumber?u.textPhoneNumber:""),b.current.value=""+(u.fax?u.fax:""),j.current.value=""+(u.textEmail?u.textEmail:""))}),[n]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(v.default,{style:{flex:1,flexDirection:"row",margin:2,alignSelf:"center"},children:(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:16,margin:3,color:"#0A78BE"},children:"Consignee"})}),(0,ae.jsx)(v.default,{style:{flex:1,flexDirection:"row",margin:5},children:(0,ae.jsx)(x.Checkbox,{isChecked:n,onChange:function(e){ve.consignee.sameAsBuyer=e,a(e)},style:{margin:2,borderColor:"#0A9FDC"},size:"sm",_text:{fontWeight:700},children:"Same as buyer"})}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Name:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.consignee.name=e},ref:h,disabled:n,placeholderTextColor:"#9B9E9F",placeholder:"Name",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Address:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.consignee.address=e},ref:g,disabled:n,placeholderTextColor:"#9B9E9F",placeholder:"Address",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"City:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.consignee.city=e},ref:m,disabled:n,placeholderTextColor:"#9B9E9F",placeholder:"City",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Country:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.consignee.country=e},ref:p,disabled:n,placeholderTextColor:"#9B9E9F",placeholder:"Country",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:3,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Contact Number:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.consignee.contactNumber=e},ref:y,disabled:n,multiline:!0,placeholderTextColor:"#9B9E9F",placeholder:"Contact Number",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:75,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"FAX:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.consignee.fax=e},ref:b,disabled:n,placeholderTextColor:"#9B9E9F",placeholder:"FAX",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Email:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){ve.consignee.email=e},ref:j,disabled:n,placeholderTextColor:"#9B9E9F",placeholder:"Email",style:{backgroundColor:n?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsx)($e,{accountData:u,setAccountData:f})]})},Qe=function(){var e=(0,K.useDispatch)(),t=(0,K.useSelector)((function(e){return e.invoiceData})),r=(0,K.useSelector)((function(e){return e.selectedChatData})),o=(0,K.useSelector)((function(e){return e.selectedCustomerData})),a=(0,w.useState)(!1),s=(0,i.default)(a,2),f=s[0],h=s[1],g=(0,w.useState)(!1),m=(0,i.default)(g,2),x=m[0],y=m[1],b=t.paymentDetails.totalAmount,j=parseFloat(b.replace(/,/g,"")),C=(0,w.useRef)(null),S=function(){var e=(0,l.default)((function*(){var e=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,t=Y()(e).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),o=(Y()(e).format("YYYY"),Y()(e).format("MM"),Y()(e).format("MM/DD"),Y()(e).format("YYYY/MM/DD"),Y()(e).format("DD"),Y()(e).format("HH:mm"),Y()(e).format("HH:mm:ss"),U.projectControlAuth.currentUser?U.projectControlAuth.currentUser.email:"");try{yield(0,H.addDoc)((0,H.collection)(U.projectExtensionFirestore,"chats",r.id,"messages"),{text:"Full Payment Received\n\nDear Customer,\n\nI hope this message finds you well. \n\nWe are writing to confirm that we have received your full payment. \n\nThank you for settling your account promptly.\n\nShould you have any further questions or require assistance, please feel free to contact us.\n                \nBest regards,\nReal Motor Japan",sender:o,timestamp:t,messageType:"InputPayment",ip:Se,ipCountry:De}),yield(0,H.updateDoc)((0,H.doc)(U.projectExtensionFirestore,"chats",r.id),{lastMessageSender:o,lastMessage:"Full Payment Received\n\nDear Customer,\n\nI hope this message finds you well. \n\nWe are writing to confirm that we have received your full payment. \n                \nThank you for settling your account promptly.\n                \nShould you have any further questions or require assistance, please feel free to contact us.\n                                \nBest regards,\nReal Motor Japan",lastMessageDate:t,customerRead:!1,read:!0,readBy:[o]})}catch(n){console.error("Error adding document: ",n)}}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=(0,l.default)((function*(e){var t=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,o=Y()(t).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),n=(Y()(t).format("YYYY"),Y()(t).format("MM"),Y()(t).format("MM/DD"),Y()(t).format("YYYY/MM/DD"),Y()(t).format("DD"),Y()(t).format("HH:mm"),Y()(t).format("HH:mm:ss"),U.projectControlAuth.currentUser?U.projectControlAuth.currentUser.email:"");try{yield(0,H.addDoc)((0,H.collection)(U.projectExtensionFirestore,"chats",r.id,"messages"),{text:"Dear Customer,\n\nGood day! \n\nWe're writing to inform you about your account with us at Real Motor Japan.\n                \nYou have an extra overbalance in your account.\n\nAmount: $"+e+"\n                \nFeel free to contact us if you have any questions. We're here to help.\n                \nBest regards,\nReal Motor Japan",sender:n,timestamp:o,messageType:"InputPayment",ip:Se,ipCountry:De}),yield(0,H.updateDoc)((0,H.doc)(U.projectExtensionFirestore,"chats",r.id),{lastMessageSender:n,lastMessage:"Dear Customer,\n\nGood day! \n                \nWe're writing to inform you about your account with us at Real Motor Japan.\n                                \nYou have an extra overbalance in your account.\n                \nAmount: $"+e+"\n                                \nFeel free to contact us if you have any questions. We're here to help.\n                                \nBest regards,\nReal Motor Japan",lastMessageDate:o,customerRead:!1,read:!0,readBy:[n]})}catch(l){console.error("Error adding document: ",l)}}));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=(0,l.default)((function*(e,t){var o=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,n=Y()(o).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),l=(Y()(o).format("YYYY"),Y()(o).format("MM"),Y()(o).format("MM/DD"),Y()(o).format("YYYY/MM/DD"),Y()(o).format("DD"),Y()(o).format("HH:mm"),Y()(o).format("HH:mm:ss"),U.projectControlAuth.currentUser?U.projectControlAuth.currentUser.email:"");try{yield(0,H.addDoc)((0,H.collection)(U.projectExtensionFirestore,"chats",r.id,"messages"),{text:"\ud83c\udf1f Payment Confirmation Alert \ud83c\udf1f\n\nDear Customer! \ud83d\udc4b\n\nWe're thrilled to inform you that your recent payment has been successfully reflected in our bank account.\n\nYour prompt and efficient transaction is greatly appreciated! \ud83c\udf89\n\n\ud83d\udd0d Payment Details:\n\nAmount: $"+e+"\nTransaction Date: "+t+"\n\nYour account and services are now fully up-to-date. If you have any further questions or require assistance, feel free to reach out.\n\nThank you for your continued trust in us.\nLooking forward to serving you more in the future! \ud83d\ude0a\n\nBest regards,\nReal Motor Japan",sender:l,timestamp:n,messageType:"InputPayment",ip:Se,ipCountry:De}),yield(0,H.updateDoc)((0,H.doc)(U.projectExtensionFirestore,"chats",r.id),{lastMessageSender:l,lastMessage:"\ud83c\udf1f Payment Confirmation Alert \ud83c\udf1f\n\nDear Customer! \ud83d\udc4b\n\nWe're thrilled to inform you that your recent payment has been successfully reflected in our bank account.\n\nYour prompt and efficient transaction is greatly appreciated! \ud83c\udf89\n\n\ud83d\udd0d Payment Details:\n\nAmount: $"+e+"\nTransaction Date: "+t+"\n\nYour account and services are now fully up-to-date. If you have any further questions or require assistance, feel free to reach out.\n\nThank you for your continued trust in us.\nLooking forward to serving you more in the future! \ud83d\ude0a\n\nBest regards,\nReal Motor Japan",lastMessageDate:n,customerRead:!1,read:!0,readBy:[l]})}catch(a){console.error("Error adding document: ",a)}}));return function(t,r){return e.apply(this,arguments)}}(),P=function(){var n=(0,l.default)((function*(){y(!0);var n=t.paymentDetails.totalAmount?t.paymentDetails.totalAmount.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1")-B:"",l=(0,H.doc)(U.projectExtensionFirestore,"chats",r.id),a=(0,H.doc)(U.projectExtensionFirestore,"accounts",r.participants.customer),i=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,s=Y()(i).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),d=[{value:C.current.value,date:s}],c=[{value:C.current.value,date:s,vehicleRef:r.carData.referenceNumber,vehicleName:r.carData.carName}],u=C.current.value,f=Number(u),h=f.toLocaleString(),g=function(e){return new Promise((function(t){return setTimeout(t,e)}))};if(""!==u&&"0"!==u)try{if(u.startsWith("-"))console.error("Negative value entered");else{if(yield M(h,s),yield g(10),f>=n){if(yield S(),yield g(10),f>n){var m=f-n;m>0&&(yield D(o.overBalance?o.overBalance+m:""),yield g(10),yield(0,H.updateDoc)(a,{overBalance:(0,H.increment)(m)}))}yield(0,H.updateDoc)(l,{"stepIndicator.value":4,"stepIndicator.status":"Payment Confirmed"})}else console.log("Partial payment received");yield(0,H.updateDoc)(l,{payments:H.arrayUnion.apply(void 0,d)}),yield(0,H.updateDoc)(a,{paymentsHistory:H.arrayUnion.apply(void 0,c)})}}catch(x){console.error("Error processing payment: ",x)}finally{y(!1),e((0,$.setTransactionModalVisible)(!1))}else y(!1)}));return function(){return n.apply(this,arguments)}}();function E(e){var t=e.replace(" at "," "),r=new Date(t);if(isNaN(r.getTime()))return console.error("Invalid Date:",e),"Invalid Date";var o=r.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()],l=r.getDate().toString().padStart(2,"0"),a=r.getHours(),i=a>=12?"pm":"am";return o+" "+n+" "+l+" at "+(a=(a%=12)||12)+":"+r.getMinutes().toString().padStart(2,"0")+i}var B=r.payments?r.payments.reduce((function(e,t){var r=Number(t.value);return e+(isNaN(r)?0:r)}),0):0,I=Number(B)<Number(t.paymentDetails.totalAmount.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"))?Number(B).toLocaleString():t.paymentDetails.totalAmount;return(0,ae.jsxs)(v.default,{style:{flex:1},children:[(0,ae.jsxs)(v.default,{style:{marginLeft:5},children:[(0,ae.jsx)(c.default,{style:{fontWefight:700,fontSize:14},children:"Total Paid:"}),(0,ae.jsx)(p.default,{w:"300",shadow:2,value:Number(B),max:j,_filledTrack:{bg:"lime.500"}}),(0,ae.jsxs)(c.default,{style:{fontWeight:700,fontSize:14,color:"#FF0000"},children:["$",I,(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:14,color:"#8D7777"},children:" out of "}),(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:14,color:"#16A34A"},children:"$"+t.paymentDetails.totalAmount})]})]}),(0,ae.jsx)(v.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center",margin:2}}),(0,ae.jsx)(v.default,{style:{marginLeft:5},children:(0,ae.jsx)(F.default,{onPress:function(){h(!0)},style:{width:"fit-content"},children:(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:14,color:"#0A78BE"},underline:!0,selectable:!1,children:"Payments History"})})}),(0,ae.jsx)(v.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center",margin:2}}),(0,ae.jsxs)(v.default,{style:{marginLeft:5,marginTop:5},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:14},children:"Input Amount:"}),(0,ae.jsxs)(v.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:18},children:"$"}),(0,ae.jsx)(L.default,{ref:C,placeholderTextColor:"#9B9E9F",placeholder:"Input Amount",style:{height:35,width:300,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"},onChangeText:function(e){var t=e.replace(/[^0-9.-]/g,"").replace(/(.)\-/g,"$1").replace(/^-(?=\-)/,"").replace(/(\..*)\./g,"$1");C.current.value=t}})]}),(0,ae.jsx)(F.default,{onPress:function(){var e=t.paymentDetails.totalAmount.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1")-B;C.current.value=e},style:{width:"fit-content"},children:(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:14,color:"#16A34A"},underline:!0,selectable:!1,children:"Complete Payment"})})]}),(0,ae.jsx)(v.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center",margin:2}}),(0,ae.jsx)(v.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",margin:5},children:(0,ae.jsx)(v.default,{style:{flex:1,backgroundColor:"#16A34A",borderRadius:5,padding:5},children:x?(0,ae.jsx)(d.default,{size:"sm",color:"white"}):(0,ae.jsx)(F.default,{onPress:function(){return P()},children:(0,ae.jsx)(c.default,{style:{alignSelf:"center",color:"white"},children:"Confirm"})})})}),(0,ae.jsx)((function(e){var t=e.historyModalVisible,r=e.handleHistoryModalClose,o=e.payments,l=(0,n.default)(o).sort((function(e,t){var r=e.date;return t.date-r}));return(0,ae.jsx)(u.Modal,{isOpen:t,onClose:r,useRNModal:!0,children:(0,ae.jsxs)(u.Modal.Content,{style:{backgroundColor:"white",borderRadius:10},children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Header,{style:{textAlign:"center",fontSize:18,fontWeight:"bold",color:"#333"},children:"Payment History"}),(0,ae.jsx)(u.Modal.Body,{children:(0,ae.jsx)(A.default,{style:{flex:1,paddingHorizontal:15,maxHeight:500},children:l.length>0?l.map((function(e,t){return(0,ae.jsxs)(v.default,{style:{marginBottom:15,backgroundColor:"#F8F9FF",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:2,elevation:3,padding:15,borderBottomWidth:1,borderBottomColor:"#eee"},children:[(0,ae.jsxs)(c.default,{style:{fontSize:14,fontWeight:"bold",color:"black",marginBottom:5},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",color:"#0A78BE"},children:"Date: "}),(0,ae.jsx)(c.default,{style:{color:"#333"},children:E(l[l.length-1-t].date)})]}),(0,ae.jsxs)(c.default,{style:{fontSize:14,fontWeight:"bold",color:"black",marginBottom:5},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",color:"#0A78BE"},children:"Value: "}),(0,ae.jsxs)(c.default,{style:{color:Number(l[l.length-1-t].value).toLocaleString().startsWith("-")?"#FF0000":"#16A34A"},children:["$",Number(l[l.length-1-t].value).toLocaleString()]})]})]},t)})):(0,ae.jsx)(c.default,{style:{fontWeight:"bold",alignSelf:"center"},italic:!0,children:"No history to show"})})})]})})}),{historyModalVisible:f,handleHistoryModalClose:function(){h(!1)},payments:r.payments?r.payments:[]})]})},et=function(){var e=(0,K.useDispatch)(),t=(0,K.useSelector)((function(e){return e.selectedChatData})),r=(0,K.useSelector)((function(e){return e.invoiceData})),o=(0,K.useSelector)((function(e){return e.currentDate})),n=(0,w.useState)(!1),a=(0,i.default)(n,2),s=a[0],u=(a[1],(0,w.useState)(!1)),f=(0,i.default)(u,2),h=f[0],g=f[1],m=(0,w.useRef)(null),x=(0,w.useRef)(null),p="@realmotorjapan532288@".toString(),y=function(){var e=(0,l.default)((function*(){var e=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,r=Y()(e).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),o=(Y()(e).format("YYYY"),Y()(e).format("MM"),Y()(e).format("MM/DD"),Y()(e).format("YYYY/MM/DD"),Y()(e).format("DD"),Y()(e).format("HH:mm"),Y()(e).format("HH:mm:ss"),U.projectControlAuth.currentUser?U.projectControlAuth.currentUser.email:"");try{yield(0,H.addDoc)((0,H.collection)(U.projectExtensionFirestore,"chats",t.id,"messages"),{text:"Issued Invoice",sender:o,timestamp:r,messageType:"IssuedInvoice",ip:Se,ipCountry:De}),yield(0,H.updateDoc)((0,H.doc)(U.projectExtensionFirestore,"chats",t.id),{lastMessageSender:o,lastMessage:"Issued Invoice",lastMessageDate:r,customerRead:!1,read:!0,readBy:[o]})}catch(n){console.error("Error adding document: ",n)}}));return function(){return e.apply(this,arguments)}}(),b=function(){var r=(0,l.default)((function*(){g(!0);var r=o.split("-")[0].slice(-2),n=(0,H.collection)(U.projectExtensionFirestore,"IssuedInvoice");try{var l=yield(0,H.getDocs)(n),a=0;l.forEach((function(e){var t=e.id;if(t.startsWith(r)){var o=parseInt(t.substring(2),10);o>a&&(a=o)}}));var i=""+r+(a+1),s=(0,H.doc)(U.projectExtensionFirestore,"IssuedInvoice",i),d=(0,H.doc)(U.projectExtensionFirestore,"chats",t.id),c=function(e,t){var r=(0,Q.HmacSHA256)(e,t);return Q.enc.Hex.stringify(r)}(i,p);if(t.invoiceNumber){var u=(0,H.doc)(U.projectExtensionFirestore,"IssuedInvoice",t.invoiceNumber);yield(0,H.setDoc)(u,se(se({},ve),{},{carData:t.carData}),{merge:!0}),1==t.stepIndicator.value&&(yield(0,H.updateDoc)(d,{"stepIndicator.status":"Issue Proforma Invoice","stepIndicator.value":2})),y(),g(!1),e((0,$.setTransactionModalVisible)(!1))}else yield(0,H.setDoc)(s,se(se({},ve),{},{cryptoNumber:c,carData:t.carData})),yield(0,H.updateDoc)(d,{keywords:(0,H.arrayUnion)(i),invoiceNumber:i,"stepIndicator.status":"Issue Proforma Invoice","stepIndicator.value":2}),y(),g(!1),e((0,$.setTransactionModalVisible)(!1))}catch(f){console.error("Error creating document: ",f)}}));return function(){return r.apply(this,arguments)}}();return(0,w.useEffect)((function(){var e,t;ve.cfs=r&&Object.keys(r).length>0&&r.cfs?r.cfs:null==(e=m.current)?void 0:e.value,ve.placeOfDelivery=r&&Object.keys(r).length>0&&r.placeOfDelivery?r.placeOfDelivery:null==(t=x.current)?void 0:t.value}),[]),(0,ae.jsxs)(A.default,{style:{flex:1,maxHeight:500},children:[(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,margin:3},children:"CFS:"}),(0,ae.jsx)(L.default,{defaultValue:r&&Object.keys(r).length>0&&r.cfs?r.cfs:"",ref:m,placeholderTextColor:"#9B9E9F",placeholder:"Input CFS (Optional)",style:{height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"},onChangeText:function(e){return ve.cfs=e}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,margin:3},children:"Place of Delivery:"}),(0,ae.jsx)(L.default,{defaultValue:r&&Object.keys(r).length>0&&r.placeOfDelivery?r.placeOfDelivery:"",ref:x,placeholderTextColor:"#9B9E9F",placeholder:"Place of Delivery (Optional)",style:{height:25,width:200,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"},onChangeText:function(e){return ve.placeOfDelivery=e}})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:5,alignItems:"center"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,margin:3},children:"Port of Departure:"}),(0,ae.jsx)(Ze,{})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:5},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,margin:3},children:"Sales Person:"}),(0,ae.jsx)(Ke,{})]}),(0,ae.jsx)(v.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center",margin:5}}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,margin:3},children:"Port of Discharge:"}),(0,ae.jsx)(Je,{})]}),(0,ae.jsx)(v.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center",margin:5}}),(0,ae.jsx)(Xe,{}),(0,ae.jsx)(qe,{}),(0,ae.jsx)(v.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center"}}),(0,ae.jsx)(Ge,{}),(0,ae.jsx)(v.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center",margin:2}}),(0,ae.jsx)(v.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",margin:5},children:(0,ae.jsx)(v.default,{style:{flex:1,backgroundColor:s?"#145A32":"#16A34A",borderRadius:5,padding:5},children:h?(0,ae.jsx)(d.default,{size:"sm",color:"white"}):(0,ae.jsx)(F.default,{onPress:function(){return b()},children:(0,ae.jsx)(c.default,{style:{alignSelf:"center",color:"white"},children:"Confirm"})})})})]})},tt=function(){var e=(0,K.useSelector)((function(e){return e.selectedChatData})),t=(0,K.useSelector)((function(e){return e.invoiceData})),r=(0,w.useState)(0),o=(0,i.default)(r,2),n=o[0],a=o[1],s=(0,w.useState)(0),d=(0,i.default)(s,2),f=d[0],h=d[1],g=(0,w.useState)(!1),m=(0,i.default)(g,2),x=m[0],p=m[1],y=(0,w.useState)(!1),b=(0,i.default)(y,2),j=b[0],C=b[1],S=(0,w.useState)(0),D=(0,i.default)(S,2),M=D[0],P=D[1],A=(0,w.useRef)(null),E=(0,w.useState)({}),B=(0,i.default)(E,2),I=(B[0],B[1],(0,w.useState)(0)),R=(0,i.default)(I,2),T=(R[0],R[1],(0,w.useState)("")),z=(0,i.default)(T,2),W=z[0],N=z[1],O=function(){var r=(0,l.default)((function*(){var r=t.discharge.port,o=e.freightOrigPrice;if(r===W||o)console.log("No need to fetch new data");else{var n=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","PortsDoc");try{var l=yield(0,H.getDoc)(n);if(l.exists()){var a,i=l.data();void 0!==(null==(a=i[r])?void 0:a.kobePrice)?("Nagoya"==t.departurePort?yield(0,H.updateDoc)((0,H.doc)(U.projectExtensionFirestore,"chats",e.id),{freightOrigPrice:i[r].nagoyaPrice}):"Yokohama"==t.departurePort?yield(0,H.updateDoc)((0,H.doc)(U.projectExtensionFirestore,"chats",e.id),{freightOrigPrice:i[r].yokohamaPrice}):"Kyushu"==t.departurePort?yield(0,H.updateDoc)((0,H.doc)(U.projectExtensionFirestore,"chats",e.id),{freightOrigPrice:i[r].kyushuPrice}):"Kobe"==t.departurePort&&(yield(0,H.updateDoc)((0,H.doc)(U.projectExtensionFirestore,"chats",e.id),{freightOrigPrice:i[r].kobePrice})),N(r)):console.log("Port data not found for the given port")}else console.log("No such document!")}catch(s){console.error("Error fetching document:",s)}}}));return function(){return r.apply(this,arguments)}}(),V=1e4,Y=1e4,_=15e3,G=Number(e.carData&&e.carData.purchasedPrice?e.carData.purchasedPrice:0),q=Number(G).toLocaleString("en-US",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}),J=Number(V),Z=Number(J).toLocaleString("en-US",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}),$=Number(Y),X=Number($).toLocaleString("en-US",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}),Q=Number(_),ee=Number(Q).toLocaleString("en-US",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}),te=Number(e.carData&&e.carData.dimensionCubicMeters?e.carData.dimensionCubicMeters:0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),re=Number(e&&e.freightOrigPrice?e.freightOrigPrice:0),oe=Number(re).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),ne=Number(re*te),le=Number(re*te).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),ie=Number(ne*e.currency.usdToJpy),se=Number(ie).toLocaleString("en-US",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}),de=G+J+$+Q+n+ie,ce=Number(de).toLocaleString("en-US",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}),ue=de*e.currency.jpyToUsd,fe=ue.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}),he=(e.m3?e.m3:e.carData&&e.carData.dimensionCubicMeters?e.carData.dimensionCubicMeters:0)*Number(e.freightPrice),ge=(e.fobPrice?e.fobPrice:(e.carData&&e.carData.fobPrice?e.carData.fobPrice:0)*(e.jpyToUsd?e.jpyToUsd:e.currency&&e.currency.jpyToUsd?e.currency.jpyToUsd:0))+he,me=Math.round(t&&t.paymentDetails&&t.paymentDetails.totalAmount?Number(t.paymentDetails.totalAmount.replace(/,/g,"")):ge),xe=function(){var e,t=function(e){var t=Number(e.replace(/,/g,""));return isNaN(t)?0:t}(null==(e=A.current)?void 0:e.value),r=Math.round(t-ue);P(r)};return(0,w.useEffect)((function(){if(e.carData&&e.carData.supplyChainsCostsData){var t=e.carData.supplyChainsCostsData.map((function(e){var t=e[Object.keys(e)[0]];return parseFloat(t.amount.replace(",",""))||0})).reduce((function(e,t){return e+t}),0),r=t.toLocaleString("en-US",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0});a(t),h(r)}}),[]),(0,w.useEffect)((function(){var t=e.freightOrigPrice;x&&!t&&O()}),[x]),(0,w.useEffect)((function(){if(0!==n||""!==n){var e=Math.round(me-ue);P(e)}}),[n]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)(F.default,{onPress:function(){p(!0),A.current.value=me,xe()},focusable:!1,variant:"ghost",onHoverIn:function(){return C(!0)},onHoverOut:function(){return C(!1)},style:{marginTop:3,paddingVertical:3,paddingHorizontal:5,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:5,backgroundColor:j?"#4c555c":"#6e7a83"},children:[(0,ae.jsx)(k.default,{size:15,color:"white",name:"calculator"}),(0,ae.jsx)(c.default,{style:{textAlign:"center",color:"white",fontWeight:"bold"},children:"Profit Calculator"})]}),(0,ae.jsx)(u.Modal,{isOpen:x,onClose:function(){p(!1)},initialFocusRef:A,size:"lg",children:(0,ae.jsxs)(u.Modal.Content,{children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Header,{children:"Profit Calculator"}),(0,ae.jsxs)(u.Modal.Body,{style:{flexDirection:"row",backgroundColor:"#fafafa"},children:[(0,ae.jsxs)(v.default,{style:{flex:1,borderRightWidth:1,borderRightColor:"#DADDE1"},children:[(0,ae.jsxs)(v.default,{style:{marginBottom:10,borderWidth:1,borderColor:"#DADDE1",borderRadius:5,marginRight:3,padding:3,backgroundColor:"white"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",marginVertical:5,fontSize:20,lineHeight:14},children:"Profit (Yen):"}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"700",fontSize:18,color:Number(M*e.currency.usdToJpy)<0?"#FF0000":"#8D7777"},children:""+Number(M*e.currency.usdToJpy).toLocaleString("en-US",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0})})]}),(0,ae.jsxs)(v.default,{style:{marginBottom:10,borderWidth:1,borderColor:"#DADDE1",borderRadius:5,marginRight:3,padding:3,backgroundColor:"white"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",marginVertical:5,fontSize:20,lineHeight:14},children:"Profit (US Dollars):"}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"700",fontSize:18,color:Number(M)<0?"#FF0000":"#16A34A"},children:""+Number(M).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})})]}),(0,ae.jsxs)(v.default,{style:{marginBottom:10,borderWidth:1,borderColor:"#DADDE1",borderRadius:5,marginRight:3,padding:3,backgroundColor:"white"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",marginVertical:5,fontSize:20,lineHeight:14},children:"Profit (Percentage):"}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"700",fontSize:18,color:Number(M*e.currency.usdToJpy/G*100)<=10.5?"#FF0000":"#336699"},children:Number(M*e.currency.usdToJpy/G*100).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})+"%"})]}),(0,ae.jsxs)(v.default,{style:{marginBottom:10,borderWidth:1,borderColor:"#DADDE1",borderRadius:5,marginRight:3,padding:3,backgroundColor:"#6E7A83"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",marginVertical:5,fontSize:20,lineHeight:14,color:"white"},children:"Price to calculate:"}),(0,ae.jsx)(L.default,{onChangeText:function(e){var t=e.replace(/[^0-9]/g,"");A.current.value=t,xe()},defaultValue:me,ref:A,placeholderTextColor:"#9B9E9F",placeholder:"Input Price",style:{backgroundColor:"white",height:25,margin:2,padding:1,borderRadius:4,borderWidth:1,borderColor:"white",outlineStyle:"none",fontSize:18,fontWeight:"700"}})]})]}),(0,ae.jsxs)(v.default,{style:{flex:1,marginLeft:3},children:[(0,ae.jsxs)(v.default,{style:{marginBottom:10,borderWidth:1,borderColor:"#DADDE1",borderRadius:5,marginRight:3,padding:3,backgroundColor:"white"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",marginVertical:5,fontSize:16,lineHeight:14},children:"Purchased Price:"}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"400",fontSize:14,lineHeight:14},children:""+q})]}),(0,ae.jsxs)(v.default,{style:{marginBottom:10,borderWidth:1,borderColor:"#DADDE1",borderRadius:5,marginRight:3,padding:3,backgroundColor:"white"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",marginVertical:5,fontSize:16,lineHeight:14},children:"Auction Fee:"}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"400",fontSize:14,lineHeight:14},children:""+Z})]}),(0,ae.jsxs)(v.default,{style:{marginBottom:10,borderWidth:1,borderColor:"#DADDE1",borderRadius:5,marginRight:3,padding:3,backgroundColor:"white"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",marginVertical:5,fontSize:16,lineHeight:14},children:"Transport Fee:"}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"400",fontSize:14,lineHeight:14},children:""+X})]}),(0,ae.jsxs)(v.default,{style:{marginBottom:10,borderWidth:1,borderColor:"#DADDE1",borderRadius:5,marginRight:3,padding:3,backgroundColor:"white"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",marginVertical:5,fontSize:16,lineHeight:14},children:"Shipping Agent Fee:"}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"400",fontSize:14,lineHeight:14},children:""+ee})]}),(0,ae.jsxs)(v.default,{style:{marginBottom:10,borderWidth:1,borderColor:"#DADDE1",borderRadius:5,marginRight:3,padding:3,backgroundColor:"white"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",marginVertical:5,fontSize:16,lineHeight:14},children:"Supply Chains Costs:"}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"400",fontSize:14,lineHeight:14},children:""+f})]}),(0,ae.jsxs)(v.default,{style:{marginBottom:10,borderWidth:1,borderColor:"#DADDE1",borderRadius:5,marginRight:3,padding:3,backgroundColor:"white"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",marginVertical:5,fontSize:16,lineHeight:14},children:"Cubic Meter:"}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"400",fontSize:14,lineHeight:14},children:""+te})]}),(0,ae.jsxs)(v.default,{style:{marginBottom:10,borderWidth:1,borderColor:"#DADDE1",borderRadius:5,marginRight:3,padding:3,backgroundColor:"white"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",marginVertical:5,fontSize:16,lineHeight:14},children:"Cost per Cubic Meter:"}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"400",fontSize:14,lineHeight:14},children:oe+" x "+te}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"700",fontSize:14,lineHeight:14,color:"#16A34A"},children:""+le}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"700",fontSize:14,lineHeight:14,color:"#8D7777"},children:""+se})]}),(0,ae.jsxs)(v.default,{style:{marginBottom:10,borderWidth:1,borderColor:"#DADDE1",borderRadius:5,marginRight:3,padding:3,backgroundColor:"white"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",marginVertical:5,fontSize:20,lineHeight:14},children:"Total:"}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"700",fontSize:18,color:"#8D7777"},children:""+ce}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"700",fontSize:18,color:"#16A34A"},children:""+fe})]})]})]})]})})]})},rt=function(){var e=(0,K.useDispatch)(),t=(0,K.useSelector)((function(e){return e.selectedChatData})),o=(0,K.useSelector)((function(e){return e.previewInvoiceVisible})),n=(0,K.useSelector)((function(e){return e.invoiceData})),a=(0,w.useState)(!1),s=(0,i.default)(a,2),f=s[0],h=s[1],g=S.default.get("window").width,m=(0,w.useRef)(null),x=(0,w.useState)(""),p=(0,i.default)(x,2),b=(p[0],p[1],(0,w.useState)("")),j=(0,i.default)(b,2),C=j[0],D=j[1],M=(0,w.useState)(ge),P=(0,i.default)(M,2),L=P[0],E=P[1],k=(0,w.useState)(0),R=(0,i.default)(k,2),z=(R[0],R[1]),W=(0,w.useState)(0),N=(0,i.default)(W,2),O=N[0],H=N[1];function V(e){var t=0;if(e.carData){["interior","exterior","safetySystem","comfort","sellingPoints"].forEach((function(r){e.carData[r]&&(t+=Object.values(e.carData[r]).filter((function(e){return!0===e})).length)}))}return t}(0,w.useEffect)((function(){o&&H(O+1)}),[o]),(0,w.useEffect)((function(){var e=function(){var e=(0,l.default)((function*(){try{if(m.current){var e=yield(0,ee.captureRef)(m,{format:"jpg",quality:1,result:"base64",width:2108,height:2981.7999999999997});D("data:image/jpeg;base64,"+e);var t=V(n);z(t)}}catch(r){console.error("Error capturing view:",r)}}));return function(){return e.apply(this,arguments)}}(),t=function(){var e=(0,l.default)((function*(e){try{var t=yield fetch(e);if(!t.ok)throw new Error("HTTP error! status: "+t.status);var r=yield t.blob();return new Promise((function(e,t){var o=new FileReader;o.onloadend=function(){return e(o.result)},o.onerror=t,o.readAsDataURL(r)}))}catch(o){return console.error("Fetch error:",o.message),null}}));return function(t){return e.apply(this,arguments)}}();if(t(ge).then((function(e){E(e)})),e(),g<960){var r=function(){var e=(0,l.default)((function*(){try{if(m.current){var e=yield(0,ee.captureRef)(m,{format:"jpg",quality:1,result:"base64",width:2108,height:2981.7999999999997});D("data:image/jpeg;base64,"+e);var t=V(n);z(t)}}catch(r){console.error("Error capturing view:",r)}}));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,l.default)((function*(e){try{var t=yield fetch(e);if(!t.ok)throw new Error("HTTP error! status: "+t.status);var r=yield t.blob();return new Promise((function(e,t){var o=new FileReader;o.onloadend=function(){return e(o.result)},o.onerror=t,o.readAsDataURL(r)}))}catch(o){return console.error("Fetch error:",o.message),null}}));return function(t){return e.apply(this,arguments)}}();o(ge).then((function(e){E(e)})),r()}}),[m.current,L]);var Y=function(){var e=(0,l.default)((function*(){try{return"data:image/jpeg;base64,"+(yield(0,ee.captureRef)(m,{format:"jpg",quality:1,result:"base64",width:2232,height:3157.2000000000003}))}catch(e){console.error("Error capturing view:",e)}}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=(0,l.default)((function*(){var e=m.current;if(e){var r=(yield oe()(e,{scale:1})).toDataURL("image/jpeg",.9),o=new te.default({orientation:"portrait",unit:"mm",format:"a4"}),l=o.getImageProperties(r),a=210*l.height/l.width;o.addImage(r,"JPEG",0,0,210,a,void 0,"FAST",0,{imageCompression:"JPEG",imageQuality:1}),t.stepIndicator.value<3?o.save("Proforma Invoice ("+n.carData.carName+" ["+n.carData.referenceNumber+"]) (A4 Paper Size).pdf"):o.save("Invoice No. "+n.id+" (A4 Paper Size).pdf")}else console.error("No element to capture")}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,l.default)((function*(){var e=yield Y();e&&(yield U(e))}));return function(){return e.apply(this,arguments)}}();if(n&&Object.keys(n).length>0){var G=n.bankInformations.issuingDate,q=n.bankInformations.dueDate,J=new Date(G),Z=new Date(q),X={year:"numeric",month:"long",day:"numeric"};be=J.toLocaleDateString(void 0,X),je=Z.toLocaleDateString(void 0,X)}return(0,ae.jsxs)(ae.Fragment,{children:[" ",n&&Object.keys(n).length>0&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(F.default,{onPress:function(){e((0,$.setPreviewInvoiceVisible)(!0))},focusable:!1,variant:"ghost",onHoverIn:function(){return h(!0)},onHoverOut:function(){return h(!1)},style:{marginTop:3,paddingVertical:3,paddingHorizontal:5,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:5,backgroundColor:f?"#0772ad":"#0A8DD5"},children:t.invoiceNumber&&t.stepIndicator.value>2?(0,ae.jsx)(c.default,{style:{fontWeight:700,color:"white"},children:"Preview Invoice No. "+t.invoiceNumber}):(0,ae.jsx)(c.default,{style:{fontWeight:700,color:"white"},children:"Preview Invoice"})}),(0,ae.jsxs)(u.Modal,{isOpen:o,onClose:function(){e((0,$.setPreviewInvoiceVisible)(!1)),D("")},size:"full",useRNModal:!0,children:[(0,ae.jsxs)(v.default,{style:{flexDirection:"row",margin:2},children:[(0,ae.jsxs)(F.default,{onPress:function(){C&&L&&_()},style:{justifyContent:"center",flexDirection:"row",padding:5,borderRadius:5,backgroundColor:"#16A34A"},children:[(0,ae.jsx)(T.default,{size:20,name:"download",color:"white"}),(0,ae.jsx)(c.default,{style:{color:"white"},children:"Download as PDF"})]}),(0,ae.jsxs)(F.default,{onPress:function(){C&&L&&("web"===B.default.OS?window.open().document.write('\n                <style>\n                    body {\n                        margin: 0;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        height: 100vh;\n                        overflow: hidden;\n                    }\n                    img {\n                        width: 595px;\n                        height: 842px;\n                        object-fit: contain;\n                        transition: transform 0.25s ease;\n                        cursor: zoom-in; /* Set cursor to magnifying glass */\n                    }\n                    .zoomed {\n                        transform: scale(3);\n                        transform-origin: center;\n                        cursor: zoom-out; /* Change cursor to indicate zooming out */\n                    }\n                </style>\n                <img id="zoomableImage" src="'+C+"\" alt=\"Base64 Image\" draggable=\"false\" />\n                <script>\n                    const image = document.getElementById('zoomableImage');\n    \n                    image.addEventListener('mousedown', function(e) {\n                        const rect = this.getBoundingClientRect();\n                        const x = e.clientX - rect.left;\n                        const y = e.clientY - rect.top;\n    \n                        // Set the transform origin to the mouse position\n                        this.style.transformOrigin = `${x}px ${y}px`;\n                        this.classList.add('zoomed');\n                    });\n    \n                    document.addEventListener('mouseup', function() {\n                        image.classList.remove('zoomed');\n                    });\n                <\/script>\n            "):console.log("This feature is only available in a web environment"))},style:{position:"absolute",top:-2,right:-380,flexDirection:"row",padding:5,borderRadius:5,backgroundColor:"#0A8DD5"},children:[(0,ae.jsx)(I.default,{size:20,name:"images",color:"white"}),(0,ae.jsx)(c.default,{style:{color:"white"},children:"View Image"})]})]}),(0,ae.jsx)(u.Modal.CloseButton,{}),o&&(0,ae.jsxs)(A.default,{style:{maxHeight:g<960?480:720,maxWidth:g<960?320:900},children:[(0,ae.jsx)(v.default,{style:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"white",zIndex:999,flex:1,alignItems:"center"},children:C&&L?(0,ae.jsx)(y.default,{source:{uri:C},style:{marginTop:5,width:g<960?320:595,height:g<960?480:842,resizeMode:"stretch",borderWidth:1,borderColor:"#DADDE1"}}):(0,ae.jsx)(d.default,{size:"lg",color:"#0A9FDC",style:{alignSelf:"center",paddingTop:249.9020480854853}})}),""!==L&&(0,ae.jsxs)(v.default,{ref:m,style:{width:2480,height:3508,backgroundColor:"white",zIndex:1},children:[(0,ae.jsx)(v.default,{style:{position:"absolute",left:118.69017632241814,top:118.70347284060551},children:(0,ae.jsx)(y.default,{source:r(28899),style:{width:296.72544080604536,height:265.52092609082814,resizeMode:"stretch"}})}),(0,ae.jsx)(v.default,{style:{position:"absolute",alignSelf:"center",top:249.9020480854853},children:t.stepIndicator.value<3?(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:78.08564231738035},children:"PROFORMA INVOICE"}):(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:78.08564231738035},children:"INVOICE"})}),(0,ae.jsx)(v.default,{style:{position:"absolute",right:118.69017632241814,top:118.70347284060551},children:t.stepIndicator.value<3?null:(0,ae.jsx)(ne.default,{value:n.cryptoNumber,size:249.87405541561714,color:"black",backgroundColor:"white"})}),(0,ae.jsx)(v.default,{style:{position:"absolute",right:377.9345088161209,top:106.20837043633125},children:t.stepIndicator.value<3?null:(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:43.727959697733},children:"Invoice No. RMJ-"+n.id})}),t.stepIndicator.value<3?(0,ae.jsxs)(v.default,{style:{position:"absolute",right:118.69017632241814,top:106.20837043633125},children:[(0,ae.jsxs)(v.default,{style:{flexDirection:"row",alignSelf:"flex-end"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:43.727959697733},children:"Issuing Date: "}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:43.727959697733},children:""+be})]}),(0,ae.jsxs)(v.default,{style:{flexDirection:"row",alignSelf:"flex-end"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:43.727959697733,color:"#F00A0A"},children:"Valid Until: "}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:43.727959697733},children:""+je})]})]}):(0,ae.jsxs)(v.default,{style:{position:"absolute",right:377.9345088161209,top:153.06500445235974,flexDirection:"row"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:43.727959697733},children:"Issuing Date: "}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:43.727959697733},children:""+be})]}),(0,ae.jsxs)(v.default,{style:{position:"absolute",left:124.93702770780857,top:418.5859305431879,maxWidth:937.0277078085643},children:[(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:49.97481108312343,borderBottomWidth:3,width:"fit-content",marginBottom:5},children:"Shipper"}),(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:43.727959697733,lineHeight:43.727959697733},children:"Real Motor Japan (YANAGISAWA HD CO.,LTD)"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:43.727959697733,marginTop:20,lineHeight:43.727959697733},children:"26-2 Takara Tsutsumi-cho Toyota City, Aichi Prefecture, Japan, 473-0932"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:43.727959697733,marginTop:20,lineHeight:43.727959697733},children:"FAX: +81565850606"}),(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:43.727959697733,marginTop:20,lineHeight:43.727959697733},children:"Shipped From:"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:43.727959697733,lineHeight:43.727959697733},children:n.departurePort+", "+n.departureCountry}),(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:43.727959697733,marginTop:20,lineHeight:43.727959697733},children:"Shipped To:"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:43.727959697733,lineHeight:43.727959697733},children:n.discharge.port+", "+n.discharge.country}),n.placeOfDelivery&&""!==n.placeOfDelivery?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:43.727959697733,marginTop:20,lineHeight:43.727959697733},children:"Place of Delivery:"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:43.727959697733,lineHeight:43.727959697733},children:""+n.placeOfDelivery})]}):null,n.cfs&&""!==n.cfs?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:43.727959697733,marginTop:20,lineHeight:43.727959697733},children:"CFS:"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:43.727959697733,lineHeight:43.727959697733},children:""+n.cfs})]}):null,(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",width:2233.249370277078},children:[(0,ae.jsxs)(v.default,{style:{flex:1,width:874.55919395466},children:[(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:56.221662468513856,borderBottomWidth:3,borderBottomColor:"#0A78BE",width:"fit-content",marginBottom:5,color:"#0A78BE",marginTop:78.09439002671415},children:"Buyer Information"}),(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:49.97481108312343,lineHeight:43.727959697733},children:""+n.consignee.name}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:49.97481108312343,marginTop:20,lineHeight:43.727959697733},children:""+n.consignee.address}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:49.97481108312343,marginTop:20,lineHeight:43.727959697733},children:""+n.consignee.email}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:49.97481108312343,marginTop:20,lineHeight:43.727959697733},children:""+n.consignee.contactNumber}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:49.97481108312343,marginTop:20,lineHeight:43.727959697733},children:"FAX: "+(""==n.consignee.fax?"N/A":n.consignee.fax)})]}),(0,ae.jsxs)(v.default,{style:{flex:1,paddingLeft:62.468513853904284,width:874.55919395466},children:[(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:56.221662468513856,borderBottomWidth:3,borderBottomColor:"#FF0000",width:"fit-content",marginBottom:5,color:"#FF0000",marginTop:78.09439002671415},children:"Notify Party"}),1==n.notifyParty.sameAsConsignee?(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:49.97481108312343},children:"Same as consignee / buyer"}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:49.97481108312343,lineHeight:43.727959697733},children:""+n.notifyParty.name}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:49.97481108312343,marginTop:20,lineHeight:43.727959697733},children:""+n.notifyParty.address}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:49.97481108312343,marginTop:20,lineHeight:43.727959697733},children:""+n.notifyParty.email}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:49.97481108312343,marginTop:20,lineHeight:43.727959697733},children:""+n.notifyParty.contactNumber}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:49.97481108312343,marginTop:20,lineHeight:43.727959697733},children:"FAX: "+(""==n.notifyParty.fax?"N/A":n.notifyParty.fax)})]})]})]})]}),t.stepIndicator.value<3?(0,ae.jsx)(v.default,{style:{position:"absolute",right:118.69017632241814,top:406.0908281389136,borderWidth:3,width:1343.0730478589421,borderColor:"#FF5C00",height:606.0124666073018},children:(0,ae.jsxs)(v.default,{style:{flex:1,alignItems:"center",justifyContent:"center",flexDirection:"row"},children:[(0,ae.jsx)(I.default,{size:156.1712846347607,name:"warning",color:"#FF0000"}),(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:37.48110831234257,color:"#FF0000",marginLeft:62.468513853904284},children:"Bank Information will be provided after placing an order."})]})}):(0,ae.jsxs)(v.default,{style:{position:"absolute",right:118.69017632241814,top:406.0908281389136,borderWidth:3,width:1343.0730478589421,borderColor:"#1ABA3D"},children:[(0,ae.jsx)(v.default,{style:{flex:1,alignItems:"center"},children:(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:43.727959697733,color:"#114B33"},children:"Bank Information"})}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",marginHorizontal:15.617128463476071,marginBottom:15.61887800534283},children:[(0,ae.jsxs)(v.default,{style:{flex:1,marginRight:156.1712846347607},children:[(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:43.727959697733,borderBottomWidth:3,width:"fit-content",marginBottom:2},children:"Bank Account"}),(0,ae.jsxs)(c.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733,marginTop:9.371326803205699},children:["Bank Name: ",(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+n.bankInformations.bankAccount.bankName})]}),(0,ae.jsxs)(c.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733,marginTop:9.371326803205699},children:["Branch Name: ",(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+n.bankInformations.bankAccount.branchName})]}),(0,ae.jsxs)(c.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733,marginTop:9.371326803205699},children:["SWIFTCODE: ",(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+n.bankInformations.bankAccount.swiftCode})]}),(0,ae.jsxs)(c.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733,marginTop:9.371326803205699},children:["Address: ",(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+n.bankInformations.bankAccount.address})]}),(0,ae.jsxs)(c.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733,marginTop:9.371326803205699},children:["Name of Account Holder: ",(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+n.bankInformations.bankAccount.accountHolder})]}),(0,ae.jsxs)(c.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733,marginTop:9.371326803205699},children:["Account Number: ",(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+n.bankInformations.bankAccount.accountNumberValue})]})]}),(0,ae.jsxs)(v.default,{style:{flex:1},children:[(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:43.727959697733,borderBottomWidth:3,width:"fit-content",marginBottom:2},children:"Payment Terms"}),(0,ae.jsxs)(c.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Terms: ",(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+n.bankInformations.paymentTerms})]}),(0,ae.jsxs)(v.default,{style:{paddingTop:93.71326803205699},children:[(0,ae.jsx)(c.default,{style:{fontWeight:750,fontSize:43.727959697733,borderBottomWidth:3,width:"fit-content",marginBottom:2,color:"#F00A0A",borderBottomColor:"#F00A0A"},children:"Payment Due"}),(0,ae.jsxs)(c.default,{style:{fontWeight:750,fontSize:37.48110831234257,color:"#F00A0A",lineHeight:43.727959697733},children:["Due Date: ",(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,color:"black",lineHeight:43.727959697733},children:""+je})]})]})]})]})]}),(0,ae.jsxs)(v.default,{style:{position:"absolute",left:118.69017632241814,top:n.placeOfDelivery&&n.cfs||""!==n.placeOfDelivery&&""!==n.cfs?1802.4185218165628:1677.46749777382,width:2242.6196473551636,borderWidth:3.123425692695214,borderColor:"#C2E2F4",alignSelf:"center"},children:[(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(v.default,{style:{flex:2,justifyContent:"center"},children:(0,ae.jsx)(c.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center",color:"#008AC6"},children:"Description"})}),(0,ae.jsx)(v.default,{style:{flex:2,justifyContent:"center"},children:(0,ae.jsx)(c.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center",color:"#008AC6"},children:"Notes"})}),(0,ae.jsx)(v.default,{style:{flex:1,justifyContent:"center"},children:(0,ae.jsx)(c.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center",color:"#008AC6"},children:"Quantity"})}),(0,ae.jsx)(v.default,{style:{flex:2,justifyContent:"center"},children:(0,ae.jsx)(c.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center",color:"#008AC6"},children:"Amount"})})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(v.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:5},children:(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:"FOB"})}),(0,ae.jsx)(v.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2},children:(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:"$"+Math.round(Number(n.paymentDetails.fobPrice)).toLocaleString("en-US",{useGrouping:!0})})})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(v.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:5},children:(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:"Freight"})}),(0,ae.jsx)(v.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2},children:(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:"$"+Math.round(Number(n.paymentDetails.freightPrice)).toLocaleString("en-US",{useGrouping:!0})})})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsxs)(v.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:5,flexDirection:"row"},children:[n.paymentDetails.inspectionIsChecked&&("C&F"==n.paymentDetails.incoterms||"FOB"==n.paymentDetails.incoterms)&&(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:n.paymentDetails.inspectionIsChecked?"Inspection ["+n.paymentDetails.inspectionName+"]":" "}),n.paymentDetails.inspectionIsChecked&&"CIF"==n.paymentDetails.incoterms&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:n.paymentDetails.inspectionIsChecked?"Inspection ["+n.paymentDetails.inspectionName+"]":" "}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:"CIF"==n.paymentDetails.incoterms?" + Insurance":" "})]}),!n.paymentDetails.inspectionIsChecked&&"CIF"==n.paymentDetails.incoterms&&(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:"CIF"==n.paymentDetails.incoterms?"Insurance":" "}),!n.paymentDetails.inspectionIsChecked&&("C&F"==n.paymentDetails.incoterms||"FOB"==n.paymentDetails.incoterms)&&(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699},children:" "})]}),(0,ae.jsxs)(v.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2},children:[n.paymentDetails.inspectionIsChecked&&("C&F"==n.paymentDetails.incoterms||"FOB"==n.paymentDetails.incoterms)&&(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:n.paymentDetails.inspectionIsChecked?"$"+Number(n.paymentDetails.inspectionPrice).toLocaleString("en-US",{useGrouping:!0}).split(".")[0]:" "}),n.paymentDetails.inspectionIsChecked&&"CIF"==n.paymentDetails.incoterms&&(0,ae.jsxs)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:[n.paymentDetails.inspectionIsChecked?"$"+Number(n.paymentDetails.inspectionPrice).toLocaleString("en-US",{useGrouping:!0}).split(".")[0]:" ",(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699},children:"CIF"===n.paymentDetails.incoterms?" + $"+Number(n.paymentDetails.insurancePrice).toLocaleString("en-US",{useGrouping:!0}).split(".")[0]:" "})]}),!n.paymentDetails.inspectionIsChecked&&"CIF"==n.paymentDetails.incoterms&&(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:"CIF"==n.paymentDetails.incoterms?"$"+Number(n.paymentDetails.insurancePrice).toLocaleString("en-US",{useGrouping:!0}).split(".")[0]:" "})]})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(v.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:5,flexDirection:"row"},children:n.paymentDetails.additionalName&&n.paymentDetails.additionalName.length>0&&(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:n.paymentDetails.additionalName&&n.paymentDetails.additionalName.length>0?""+n.paymentDetails.additionalName.join(" + "):" "})}),(0,ae.jsx)(v.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2},children:(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:n.paymentDetails.additionalPrice&&n.paymentDetails.additionalPrice.length>0?n.paymentDetails.additionalPrice.map((function(e){return"$"+parseFloat(e).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).slice(1)})).join(" + "):" "})})]}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(v.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2,flexDirection:"row",paddingVertical:6.247551202137132},children:n.carData&&n.carData.carName?(0,ae.jsxs)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center",marginLeft:6.246851385390428},children:["Used Vehicle\n",(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:n.carData.carName+"\n"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:n.carData.chassisNumber+"\n"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:n.carData.exteriorColor+"\n"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:Number(n.carData.engineDisplacement).toLocaleString("en-US")+" cc\n"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:Number(n.carData.mileage).toLocaleString("en-US")+" km\n"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:n.carData.fuel+"\n"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:n.carData.transmission+"\n"})]}):(0,ae.jsx)(c.default,{children:" "})}),(0,ae.jsx)(v.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2,flexDirection:"row",justifyContent:"center"},children:n.paymentDetails&&n.paymentDetails.incoterms&&n.discharge.port&&n.discharge?(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:n.paymentDetails.incoterms+" "+n.discharge.port}):(0,ae.jsx)(c.default,{children:" "})}),(0,ae.jsx)(v.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:1,flexDirection:"row",justifyContent:"center"},children:n.carData&&n.carData.carName?(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:"1"}):(0,ae.jsx)(c.default,{children:" "})}),(0,ae.jsx)(v.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2,justifyContent:"center",flexDirection:"row"},children:n.paymentDetails&&n.paymentDetails.totalAmount?(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsxs)(c.default,{style:{fontWeight:700,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,color:"#008AC6",marginRight:31.234256926952142,top:159.3125556544969,left:156.1712846347607,position:"absolute"},children:["Total",(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center",color:"#00720B",marginLeft:15.617128463476071},children:"$"+n.paymentDetails.totalAmount})]})}):(0,ae.jsx)(c.default,{children:" "})})]})]}),(0,ae.jsxs)(v.default,{style:{position:"absolute",left:118.69017632241814,top:2577.114870881567,width:1093.1989924433249},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:37.48110831234257,lineHeight:43.73285841495993},children:"Payment Information:"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.73285841495993},children:"The customer is responsible for the bank charges incurred when the T/T (Telegraphic Transfer) is paid."}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.73285841495993,marginBottom:15.61887800534283},children:"No warranty service is provided on used vehicles."}),(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:37.48110831234257,lineHeight:43.73285841495993},children:"Conditions for order cancellation:"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.73285841495993},children:"(1) Order Cancellation Penalty: If the order is canceled after payment, a penalty of USD 220 will apply."}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.73285841495993,marginBottom:15.61887800534283},children:"(2) Non-refund: Payment for vehicles purchased through pre-delivery inspection is non-refundable."}),(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:37.48110831234257,lineHeight:43.73285841495993},children:"Intermediary Banking Information:"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.73285841495993},children:"Bank Name: SUMITOMO MITSUI BANKING CORPORATION (NEW YORK BRANCH)."}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.73285841495993},children:"Swift code: SMBCUS33"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.73285841495993},children:"Address: 277 Park Avenue"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.73285841495993},children:"City: New York, NY"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.73285841495993},children:"Postal Code: 10172"}),(0,ae.jsx)(c.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.73285841495993,marginBottom:15.61887800534283},children:"Country: United States"})]}),t.stepIndicator.value<3?null:(0,ae.jsxs)(v.default,{style:{position:"absolute",right:121.81360201511336,top:2608.352626892253,width:937.0277078085643},children:[(0,ae.jsxs)(v.default,{style:{width:937.0277078085643,alignItems:"center",paddingBottom:249.9020480854853},children:[(0,ae.jsx)(y.default,{source:r(29556),style:{width:862.0654911838791,height:253.02582368655388,resizeMode:"contain",alignSelf:"center",marginBottom:0}}),(0,ae.jsx)(v.default,{style:{borderBottomWidth:3.123775601068566,borderColor:"black",width:"100%"}}),(0,ae.jsx)(c.default,{italic:!0,style:{fontWeight:700,fontSize:49.97481108312343},children:"Real Motor Japan"})]}),(0,ae.jsxs)(v.default,{style:{width:937.0277078085643,alignItems:"center",paddingBottom:15.61887800534283},children:[(0,ae.jsx)(v.default,{style:{borderBottomWidth:3.123775601068566,borderColor:"black",width:"100%"}}),(0,ae.jsx)(c.default,{italic:!0,style:{fontWeight:700,fontSize:49.97481108312343},children:"Your Signature"})]})]})]})]})]})]})]})},ot=function(){var e=(0,w.useState)(!1),t=(0,i.default)(e,2),r=t[0],o=t[1],n=(0,w.useState)(!1),s=(0,i.default)(n,2),f=s[0],h=s[1],g=(0,w.useState)(!1),m=(0,i.default)(g,2),x=m[0],p=m[1],y=(0,w.useState)(""),b=(0,i.default)(y,2),j=b[0],C=b[1],S=(0,w.useState)(!1),D=(0,i.default)(S,2),M=D[0],P=D[1],A=(0,K.useSelector)((function(e){return e.currentDate})),L=(0,K.useSelector)((function(e){return e.selectedChatData})),E=(0,w.useState)(!1),B=(0,i.default)(E,2),I=B[0],k=B[1],T=((0,K.useSelector)((function(e){return e.invoiceData})),(0,K.useDispatch)(),function(){k(!1)}),W=function(){var e=(0,l.default)((function*(){try{yield V(),T()}catch(e){}}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,l.default)((function*(){var e=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,t=Y()(e).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),r=(Y()(e).format("YYYY"),Y()(e).format("MM"),Y()(e).format("MM/DD"),Y()(e).format("YYYY/MM/DD"),Y()(e).format("DD"),Y()(e).format("HH:mm"),Y()(e).format("HH:mm:ss"),U.projectControlAuth.currentUser?U.projectControlAuth.currentUser.email:"");try{yield(0,H.addDoc)((0,H.collection)(U.projectExtensionFirestore,"chats",L.id,"messages"),{text:"The due date has been changed to "+(j?new Date(j).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):"Invalid Date"),sender:r,timestamp:t,ip:Se,ipCountry:De}),yield(0,H.updateDoc)((0,H.doc)(U.projectExtensionFirestore,"chats",L.id),{lastMessageSender:r,lastMessage:"The due date has been changed to "+(j?new Date(j).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):"Invalid Date"),lastMessageDate:t,customerRead:!1,read:!0,readBy:[r]})}catch(o){console.error("Error adding document: ",o)}}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,l.default)((function*(){var e=(0,H.doc)(U.projectExtensionFirestore,"IssuedInvoice",L.invoiceNumber);P(!0);try{yield(0,H.updateDoc)(e,{"bankInformations.dueDate":j}),yield O(),P(!1),console.log("Document successfully updated")}catch(t){console.error("Error updating document: ",t)}}));return function(){return e.apply(this,arguments)}}();return(0,w.useEffect)((function(){if(A){var e=new Date(A),t=e.getDay();5===t?e.setDate(e.getDate()+3):6===t?e.setDate(e.getDate()+2):e.setDate(e.getDate()+1);var r=e.toISOString().split("T")[0];C(r)}}),[]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)(F.default,{focusable:!1,variant:"ghost",onPress:function(){k(!0)},onHoverIn:function(){return o(!0)},onHoverOut:function(){return o(!1)},style:{marginTop:3,paddingVertical:3,paddingHorizontal:5,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:5,backgroundColor:r?"#a8720a":"#D38F0D"},children:[(0,ae.jsx)(z.default,{name:"calendar-plus-o",size:15,color:"white"}),(0,ae.jsx)(c.default,{color:"white",style:{fontWeight:700,marginLeft:5},children:"Extend Due Date"})]}),(0,ae.jsx)(u.Modal,{isOpen:I,onClose:T,useRNModal:!0,children:(0,ae.jsxs)(u.Modal.Content,{children:[(0,ae.jsx)(u.Modal.Header,{children:"Extend Due Date"}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(c.default,{style:{width:"20%",fontWeight:700,margin:3},children:"Due Date:"}),(0,ae.jsx)((function(e){var t=e.selectedDate,r=e.setSelectedDate,o=(e.currentDate,(0,w.useState)(!1)),n=(0,i.default)(o,2),l=n[0],s=n[1],d=function(){s(!1)};return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(F.default,{style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"},onPress:function(){s(!0)},children:(0,ae.jsx)(c.default,{style:{flex:1},children:t})}),(0,ae.jsxs)(u.Modal,{isOpen:l,onClose:d,useRNModal:!0,children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Content,{children:(0,ae.jsx)(v.default,{style:{height:"100%",flex:1},children:(0,ae.jsx)(Z.Calendar,{onDayPress:(0,w.useCallback)((function(e){r(e.dateString),e.dateString,ve.bankInformations.dueDate=e.dateString,d()}),[]),markedDates:(0,a.default)({},t,{selected:!0,disableTouchEvent:!0,selectedDotColor:"#7b9cff"}),renderArrow:function(e){return"left"===e?(0,ae.jsx)(R.default,{name:"arrow-back-ios",color:"#7b9cff"}):(0,ae.jsx)(R.default,{name:"arrow-forward-ios",color:"#7b9cff"})},enableSwipeMonths:!0,initialDate:t,showSixWeeks:!0})})})]})]})}),{currentDate:A,selectedDate:j,setSelectedDate:C})]}),(0,ae.jsx)(u.Modal.Footer,{children:(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",justifyContent:"space-between"},children:[(0,ae.jsx)(F.default,{focusable:!1,variant:"ghost",onPress:T,onHoverIn:function(){return p(!0)},onHoverOut:function(){return p(!1)},style:{marginTop:3,paddingVertical:3,alignItems:"center",justifyContent:"center",borderRadius:5,backgroundColor:x?"#3F3F46":"#52525B",flex:1},children:(0,ae.jsx)(c.default,{color:"white",style:{fontWeight:700},children:"Cancel"})}),(0,ae.jsx)(v.default,{style:{flex:1}}),(0,ae.jsx)(F.default,{onPress:W,focusable:!1,variant:"ghost",onHoverIn:function(){return h(!0)},onHoverOut:function(){return h(!1)},disabled:M,style:{marginTop:3,paddingVertical:3,alignItems:"center",justifyContent:"center",borderRadius:5,backgroundColor:f?"#0f7534":"#16A34A",flex:1},children:M?(0,ae.jsx)(d.default,{size:"sm",color:"white"}):(0,ae.jsx)(c.default,{color:"white",style:{fontWeight:700},children:"Confirm"})})]})})]})})]})},nt=function(){var e=(0,K.useSelector)((function(e){return e.transactionModalVisible})),t=(0,K.useDispatch)();return(0,ae.jsx)(u.Modal,{isOpen:e,onClose:function(){t((0,$.setTransactionModalVisible)(!1))},size:"lg",useRNModal:!0,children:e&&(0,ae.jsxs)(u.Modal.Content,{children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Header,{style:{borderBottomWidth:2,borderColor:"#0A9FDC"},children:Ce}),1==we||2==we&&(0,ae.jsx)(et,{}),3==we&&(0,ae.jsx)(Qe,{})]})})},lt=function(e){var t=e.title,o=e.buttonValue,n=e.transactionValue,l=e.colorHoverIn,a=e.colorHoverOut,s=(0,w.useState)(!1),d=(0,i.default)(s,2),u=d[0],f=d[1],h=((0,K.useSelector)((function(e){return e.invoiceData})),(0,K.useDispatch)());return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsxs)(F.default,{focusable:!1,variant:"ghost",onPress:function(){h((0,$.setTransactionModalVisible)(!0)),Ce=t,we=n},onHoverIn:function(){return f(!0)},onHoverOut:function(){return f(!1)},style:{marginTop:3,paddingVertical:3,paddingHorizontal:5,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:5,backgroundColor:u?l:a},children:[(0,ae.jsx)(q.default,{source:{uri:r(82049)("./chat_step_"+o+"_on.png"),priority:q.default.priority.normal},style:{tintColor:"rgba(128, 128, 128, 1)",width:15,height:15,alignSelf:"center"},resizeMode:q.default.resizeMode.stretch}),(0,ae.jsx)(c.default,{color:"white",style:{fontWeight:700,marginLeft:5},children:t})]})})},at=function(){var e=(0,w.useState)(!1),t=(0,i.default)(e,2),r=t[0],o=t[1],l=(0,K.useSelector)((function(e){return e.selectedCustomerData})),a=l.paymentsHistory?(0,n.default)(l.paymentsHistory).sort((function(e,t){var r=new Date(e.date);return new Date(t.date)-r})):[],s=(0,w.useState)(a.slice(0,5)),f=(0,i.default)(s,2),h=f[0],g=f[1],m=(0,w.useState)(!1),x=(0,i.default)(m,2),p=x[0],y=x[1];function b(e){var t=e.replace(" at "," "),r=new Date(t);if(isNaN(r.getTime()))return console.error("Invalid Date:",e),"Invalid Date";var o=r.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()],l=r.getDate().toString().padStart(2,"0"),a=r.getHours(),i=a>=12?"pm":"am";return o+" "+n+" "+l+" at "+(a=(a%=12)||12)+":"+r.getMinutes().toString().padStart(2,"0")+i}return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(F.default,{onPress:function(){g(a.slice(0,5)),o(!0)},children:(0,ae.jsx)(c.default,{style:{fontSize:14,color:"#0A78BE",textAlign:"center"},underline:!0,children:"View Payments History"})}),(0,ae.jsx)(u.Modal,{isOpen:r,onClose:function(){o(!1)},useRNModal:!0,children:(0,ae.jsxs)(u.Modal.Content,{style:{backgroundColor:"white",borderRadius:10},children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Header,{style:{backgroundColor:"white",textAlign:"center",fontSize:18,fontWeight:"bold",color:"#333"},children:"Payment History"}),(0,ae.jsx)(u.Modal.Body,{children:(0,ae.jsxs)(A.default,{style:{flex:1,paddingHorizontal:15,maxHeight:500},onScroll:function(e){(function(e){var t=e.layoutMeasurement,r=e.contentOffset,o=e.contentSize;return t.height+r.y>=o.height-20})(e.nativeEvent)&&function(){if(!p){y(!0);var e=a.slice(h.length,h.length+5);setTimeout((function(){g([].concat((0,n.default)(h),(0,n.default)(e))),y(!1)}),500)}}()},scrollEventThrottle:400,children:[Array.isArray(a)&&a.length>0?h.map((function(e,t){return(0,ae.jsxs)(v.default,{style:{marginBottom:15,backgroundColor:"#F8F9FF",borderRadius:10,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:2,elevation:3,padding:15,borderBottomWidth:1,borderBottomColor:"#eee"},children:[(0,ae.jsxs)(c.default,{style:{fontSize:14,fontWeight:"bold",color:"black",marginBottom:5},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",color:"#0A78BE"},children:"Date: "}),(0,ae.jsx)(c.default,{style:{color:"#333"},children:b(a[a.length-1-t].date)})]}),(0,ae.jsxs)(c.default,{style:{fontSize:14,fontWeight:"bold",color:"black",marginBottom:5},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",color:"#0A78BE"},children:"Value: "}),(0,ae.jsxs)(c.default,{style:{color:Number(a[a.length-1-t].value).toLocaleString().startsWith("-")?"#FF0000":"#16A34A"},children:["$",Number(a[a.length-1-t].value).toLocaleString()]})]}),(0,ae.jsxs)(c.default,{style:{fontSize:14,fontWeight:"bold",color:"black",marginBottom:5},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",color:"#0A78BE"},children:"Vehicle Name: "}),(0,ae.jsx)(c.default,{style:{color:"#333"},children:a[a.length-1-t].vehicleName})]}),(0,ae.jsxs)(c.default,{style:{fontSize:14,fontWeight:"bold",color:"black",marginBottom:5},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",color:"#0A78BE"},children:"Reference Number: "}),(0,ae.jsx)(c.default,{style:{color:"#333"},children:a[a.length-1-t].vehicleRef})]})]},t)})):(0,ae.jsx)(c.default,{style:{fontWeight:"bold",alignSelf:"center"},italic:!0,children:"No history to show"}),(0,ae.jsx)(v.default,{style:{height:20},children:p&&(0,ae.jsx)(d.default,{size:"sm",color:"#7B9CFF"})})]})})]})})]})},it=function(){var e=(0,w.useState)(!1),t=(0,i.default)(e,2),r=t[0],o=t[1],n=(0,K.useSelector)((function(e){return e.selectedCustomerData})),l=n.paymentsHistory?n.paymentsHistory.reduce((function(e,t){var r=Number(t.value);return e+(isNaN(r)?0:r)}),0):0;return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(F.default,{onPress:function(){o(!0)},style:{width:"fit-content"},children:(0,ae.jsx)(c.default,{style:{fontWeight:700},underline:!0,children:me+" "+xe})}),(0,ae.jsx)(u.Modal,{isOpen:r,onClose:function(){o(!1)},size:"lg",children:(0,ae.jsx)(u.Modal.Content,{background:"white",children:(0,ae.jsxs)(u.Modal.Body,{children:[(0,ae.jsx)(v.default,{style:{flex:1,alignItems:"center"},children:(0,ae.jsxs)(v.default,{style:{borderRadius:10,backgroundColor:"#F8F9FF",width:440,alignItems:"center",paddingBottom:15},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",fontSize:26,color:"#0A78BE"},selectable:!0,children:me+" "+xe}),(0,ae.jsx)(c.default,{style:{fontSize:14,color:"#6F6F6F",width:"45%",textAlign:"center"},selectable:!0,children:n.textZip+", "+n.textStreet+", "+n.city+", "+n.country}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row",paddingTop:20,justifyContent:"center"},children:[(0,ae.jsx)(c.default,{style:{fontSize:14,color:"#6F6F6F",textAlign:"center"},selectable:!0,children:""+n.textPhoneNumber}),(0,ae.jsx)(v.default,{style:{height:"100%",width:2,backgroundColor:"#DCDCDC",marginHorizontal:10}}),(0,ae.jsx)(X.default,{linkDefault:!0,linkStyle:{color:"#8A64F6",fontSize:14},children:(0,ae.jsx)(c.default,{style:{textAlign:"center"},selectable:!0,children:n.textEmail})})]})]})}),(0,ae.jsxs)(v.default,{style:{width:440,justifyContent:"center",alignItems:"center",marginTop:50,flexDirection:"row",alignSelf:"center"},children:[(0,ae.jsxs)(v.default,{style:{flex:1,alignItems:"center"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",fontSize:24,color:"#009922",textAlign:"center"},selectable:!0,children:"$"+l.toLocaleString("en-US")}),(0,ae.jsx)(c.default,{style:{fontWeight:"bold",fontSize:16,color:"#5E4343",textAlign:"center"},children:"Total Payment"}),(0,ae.jsx)(at,{})]}),(0,ae.jsxs)(v.default,{style:{flex:1,alignItems:"center"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",fontSize:24,color:"#990000",textAlign:"center"},selectable:!0,children:"$"+(n.overBalance?Number(n.overBalance).toLocaleString("en-US"):0)}),(0,ae.jsx)(c.default,{style:{fontWeight:"bold",fontSize:16,color:"#5E4343",textAlign:"center"},children:"Overbalance"}),(0,ae.jsx)(c.default,{style:{fontSize:14,color:"transparent",textAlign:"center"},underline:!0,children:"-----"})]}),(0,ae.jsxs)(v.default,{style:{flex:1,alignItems:"center"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:"bold",fontSize:24,color:"#0029A3",textAlign:"center"},selectable:!0,children:"11"}),(0,ae.jsx)(c.default,{style:{fontWeight:"bold",fontSize:16,color:"#5E4343",textAlign:"center"},children:"Transactions"}),(0,ae.jsx)(F.default,{children:(0,ae.jsx)(c.default,{style:{fontSize:14,color:"#0A78BE",textAlign:"center"},underline:!0,children:"View Transactions"})})]})]})]})})})]})},st=function(){var e=(0,K.useSelector)((function(e){return e.activeChatId})),t=(0,K.useSelector)((function(e){return e.selectedChatData})),r=(0,K.useSelector)((function(e){return e.invoiceData})),o=(0,K.useSelector)((function(e){return e.carImageUrl})),n=(0,K.useDispatch)(),l=(0,w.useState)(0),a=(0,i.default)(l,2),s=a[0],d=a[1],u=(t.fobPrice&&t.jpyToUsd&&t.m3&&t.freightPrice,(t.m3?t.m3:t.carData&&t.carData.dimensionCubicMeters?t.carData.dimensionCubicMeters:0)*Number(t.freightPrice)),f=(t.fobPrice?t.fobPrice:(t.carData&&t.carData.fobPrice?t.carData.fobPrice:0)*(t.jpyToUsd?t.jpyToUsd:t.currency&&t.currency.jpyToUsd?t.currency.jpyToUsd:0))+u,h=t.fobPrice?t.fobPrice:(t.carData&&t.carData.fobPrice?t.carData.fobPrice:0)*(t.jpyToUsd?t.jpyToUsd:t.currency&&t.currency.jpyToUsd?t.currency.jpyToUsd:0),g=t.carData&&t.carData.carName?t.carData.carName:t.vehicle&&t.vehicle.carName?t.vehicle.carName:"",m=u/t.currency.jpyToUsd;return(0,w.useEffect)((function(){d(s+1),n((0,$.setChatMessageBoxLoading)(!1))}),[e]),(0,ae.jsxs)(v.default,{style:{flex:1,alignSelf:"flex-start",flexDirection:"row"},children:[o?(0,ae.jsx)(q.default,{source:{uri:o,priority:q.default.priority.normal},style:{width:60,height:60,borderRadius:30,alignSelf:"center",margin:10},resizeMode:q.default.resizeMode.stretch}):(0,ae.jsx)(v.default,{style:{width:60,height:60,borderRadius:30,alignSelf:"center",backgroundColor:"#e0e0e0",marginRight:10}}),(0,ae.jsxs)(v.default,{style:{alignSelf:"center",paddingRight:10},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,color:"#0A78BE"},children:g}),(0,ae.jsx)(it,{}),(0,ae.jsx)(v.default,{style:{flexDirection:"row"},children:(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:700,fontSize:12,paddingTop:0,marginLeft:1,color:"#8D7777"},children:t.carData&&t.carData.referenceNumber?t.carData.referenceNumber:"Chassis N/A"})}),(0,ae.jsx)(Ee,{data:Be})]}),(0,ae.jsxs)(v.default,{style:{alignSelf:"center",justifyContent:"center",paddingLeft:10},children:[(0,ae.jsx)(v.default,{style:{flexDirection:"row"},children:(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:700,fontSize:12,paddingTop:0,marginLeft:2},children:t.carData&&t.carData.chassisNumber?t.carData.chassisNumber:"Chassis N/A"})}),(0,ae.jsx)(v.default,{style:{flexDirection:"row"},children:(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:700,fontSize:12,paddingTop:0,marginLeft:2},children:t.carData&&t.carData.modelCode?t.carData.modelCode:"Model Code N/A"})}),(0,ae.jsx)(v.default,{style:{flexDirection:"row"},children:(0,ae.jsxs)(c.default,{selectable:!0,style:{fontWeight:700,fontSize:12,paddingTop:0,marginLeft:2},children:[t.carData&&t.carData.mileage?Number(t.carData.mileage).toLocaleString("en-US"):"Mileage N/A"," km"]})}),(0,ae.jsx)(v.default,{style:{flexDirection:"row"},children:(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:700,fontSize:12,paddingTop:0,marginLeft:2},children:t.carData&&t.carData.fuel?t.carData.fuel:"Fuel N/A"})}),(0,ae.jsx)(v.default,{style:{flexDirection:"row"},children:(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:700,fontSize:12,paddingTop:0,marginLeft:2},children:t.carData&&t.carData.transmission?t.carData.transmission:"Transmission N/A"})})]}),(0,ae.jsxs)(v.default,{style:{alignSelf:"center",justifyContent:"center",paddingLeft:15},children:[(0,ae.jsxs)(v.default,{style:{flexDirection:"row"},children:[(0,ae.jsx)(c.default,{style:{fontSize:18},bold:!0,children:"Total Price: "}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontSize:18,color:"#16A34A",textAlign:"right"},bold:!0,children:"$"+Number(f).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}),(0,ae.jsxs)(c.default,{selectable:!0,style:{fontWeight:400,fontSize:12,color:"#8D7777",paddingTop:4,marginLeft:2},children:["(","\xa5"+Number(f/(t&&t.jpyToUsd?Number(t.jpyToUsd):t&&t.currency&&t.currency.jpyToUsd?t.currency.jpyToUsd:0)).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),")"]})]}),(0,ae.jsxs)(v.default,{style:{flexDirection:"row"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700},children:"FOB Price: "}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:700,color:"#8D7777",textAlign:"right"},children:""+Number(h).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})}),(0,ae.jsxs)(c.default,{selectable:!0,style:{fontWeight:400,fontSize:12,color:"#8D7777",paddingTop:2,marginLeft:2},children:["(",""+(t.fobPrice?t.fobPrice:Number(t.carData&&t.carData.fobPrice?t.carData.fobPrice:0)).toLocaleString("en-US",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}),")"]})]}),(0,ae.jsxs)(v.default,{style:{flexDirection:"row"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700},children:"Freight Price: "}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:700,color:"#8D7777",textAlign:"right"},children:""+Number(u).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})}),(0,ae.jsxs)(c.default,{selectable:!0,style:{fontWeight:400,fontSize:12,color:"#8D7777",paddingTop:2,marginLeft:2},children:["(",""+(t.freightPrice?m:Number(t.carData&&t.carData.freightPrice?m:0)).toLocaleString("en-US",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}),")"]})]}),(0,ae.jsx)(v.default,{style:{flexDirection:"row"},children:(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:700,textAlign:"right"},children:t.country&&t.port?t.country+" / "+t.port:"N/A"})}),(0,ae.jsx)(v.default,{style:{flexDirection:"row"},children:(0,ae.jsxs)(c.default,{style:{fontWeight:700,color:"#16A34A"},children:[t.insurance?"CIF":"C&F",t.inspection?" + Inpection["+t.inspectionName+"]":""]})})]}),(0,ae.jsxs)(v.default,{style:{paddingLeft:10,paddingRight:10,paddingTop:2},children:[(1==t.stepIndicator.value||2==t.stepIndicator.value)&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(tt,{}),(0,ae.jsx)(lt,{title:1==t.stepIndicator.value?"Issue Proforma Invoice":2==t.stepIndicator.value?"Update Invoice":"",colorHoverIn:"#0f7534",colorHoverOut:"#16A34A",transactionValue:2,buttonValue:2,iconActive:(0,ae.jsx)(W.default,{name:"file-invoice-dollar",color:"#1C2B33",size:14})},"Issue Proforma Invoice"),(0,ae.jsx)(rt,{}),(0,ae.jsxs)(v.default,{style:{flexDirection:"row"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:18},children:"Final Price: "}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:700,fontSize:18,color:"#FF0000",textAlign:"right"},children:"$"+(r&&r.paymentDetails&&r.paymentDetails.totalAmount?Number(r.paymentDetails.totalAmount.replace(/,/g,"")):0).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}),(0,ae.jsxs)(c.default,{selectable:!0,style:{fontWeight:400,fontSize:12,color:"#8D7777",paddingTop:4,marginLeft:2},children:["(","\xa5"+(r&&r.paymentDetails&&r.paymentDetails.totalAmount&&t&&t.currency&&t.currency.jpyToUsd?Number(r.paymentDetails.totalAmount.replace(/,/g,""))/Number(t.currency.jpyToUsd):0).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),")"]})]})]}),3==t.stepIndicator.value&&(0,ae.jsxs)(v.default,{style:{flexDirection:"row",paddingRight:10,paddingTop:2},children:[(0,ae.jsxs)(v.default,{style:{paddingLeft:10},children:[(0,ae.jsx)(tt,{}),(0,ae.jsx)(lt,{title:"Input Payment",colorHoverOut:"#FF0000",colorHoverIn:"#800101",transactionValue:3,buttonValue:4,iconActive:(0,ae.jsx)(W.default,{name:"file-invoice-dollar",color:"#1C2B33",size:14})},"Input Payment"),(0,ae.jsx)(rt,{}),(0,ae.jsxs)(v.default,{style:{flexDirection:"row"},children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:18},children:"Final Price: "}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:700,fontSize:18,color:"#FF0000",textAlign:"right"},children:"$"+(r&&r.paymentDetails&&r.paymentDetails.totalAmount?Number(r.paymentDetails.totalAmount.replace(/,/g,"")):0).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}),(0,ae.jsxs)(c.default,{selectable:!0,style:{fontWeight:400,fontSize:12,color:"#8D7777",paddingTop:4,marginLeft:2},children:["(","\xa5"+(r&&r.paymentDetails&&r.paymentDetails.totalAmount&&t&&t.currency&&t.currency.jpyToUsd?Number(r.paymentDetails.totalAmount.replace(/,/g,""))/Number(t.currency.jpyToUsd):0).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),")"]})]})]}),(0,ae.jsxs)(v.default,{style:{paddingLeft:10},children:[(0,ae.jsx)(lt,{title:1==t.stepIndicator.value?"Issue Proforma Invoice":"Update Invoice",colorHoverIn:"#0f7534",colorHoverOut:"#16A34A",transactionValue:2,buttonValue:2,iconActive:(0,ae.jsx)(W.default,{name:"file-invoice-dollar",color:"#1C2B33",size:14})},"Issue Proforma Invoice"),(0,ae.jsx)(ot,{}),(0,ae.jsx)(v.default,{style:{flexDirection:"row"},children:r&&r.bankInformations&&r.bankInformations.dueDate&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(c.default,{style:{fontWeight:700,fontSize:14},children:"Due Date: "}),(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:700,fontSize:14,textAlign:"right",color:"#FF0000"},children:r.bankInformations.dueDate?new Date(r.bankInformations.dueDate).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):"Invalid Date"})]})})]})]})]}),(0,ae.jsx)(nt,{})]})},dt=function(e){e.userEmail;var t=e.handleReadByListModalClose,r=(0,K.useSelector)((function(e){return e.readByListModalVisible})),o=(0,K.useSelector)((function(e){return e.selectedChatData})),l=U.projectControlAuth.currentUser?U.projectControlAuth.currentUser.email:"";return(0,ae.jsx)(u.Modal,{isOpen:r,onClose:function(){return t()},useRNModal:!0,size:"xs",children:(0,ae.jsxs)(u.Modal.Content,{borderRadius:0,style:{padding:15,backgroundColor:"#f8f8f8",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Header,{style:{fontSize:22,fontWeight:"600",textAlign:"center",color:"#333"},children:"Read List"}),(0,ae.jsx)(u.Modal.Body,{children:o.readBy.length>0?(0,ae.jsx)(A.default,{style:{maxHeight:250,borderRadius:10},children:(0,n.default)(o.readBy).sort((function(e,t){return e===l?-1:t===l?1:0})).map((function(e){return(0,ae.jsxs)(v.default,{style:{flexDirection:"row",alignItems:"center",marginVertical:8,borderBottomWidth:.5,borderColor:"#ddd",paddingBottom:8},children:[(0,ae.jsx)(z.default,{name:"user-circle",size:24,color:"#4A90E2",style:{marginRight:12}}),(0,ae.jsx)(c.default,{style:{flex:1,color:"#555"},children:l===e?"You":e})]},e)}))}):(0,ae.jsx)(c.default,{style:{textAlign:"center",color:"grey",fontSize:16},children:"No one has read this message yet."})})]})})},ct=function(e){var t=e.isVisible,r=e.onClose,o=e.imageUrl;return(0,ae.jsx)(u.Modal,{isOpen:t,onClose:r,size:"full",useRNModal:!0,children:(0,ae.jsxs)(u.Modal.Content,{style:{backgroundColor:"rgba(0, 0, 0, 0.5)",width:"80%",height:"80%",alignSelf:"center",justifyContent:"center"},children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(q.default,{source:{uri:o,priority:q.default.priority.normal},style:{width:"100%",height:"100%",borderRadius:10},resizeMode:q.default.resizeMode.contain})]})})},ut=function(e){var t=e.url,r=(e.printComponent,(0,w.useState)(!1)),o=(0,i.default)(r,2),n=o[0],a=o[1],d=(0,w.useState)(!1),c=(0,i.default)(d,2);c[0],c[1];return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)(s.Tooltip,{label:"Download",openDelay:200,bgColor:"white",_text:{color:"#1C2B33"},children:(0,ae.jsx)(F.default,{style:{marginRight:8,borderRadius:16,width:32,height:32,justifyContent:"center",alignItems:"center",backgroundColor:n?"#424649":"transparent"},onPress:(0,l.default)((function*(){yield E.default.openURL(t)})),onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},children:(0,ae.jsx)(T.default,{name:"download",size:20,color:"#F1F1F1"})})})})},ft=function(){var e=(0,K.useDispatch)(),t=(0,K.useSelector)((function(e){return e.selectedFileUrl})),r=(0,K.useSelector)((function(e){return e.pdfViewerModalVisible})),o=(0,w.useState)(0),n=(0,i.default)(o,2),l=n[0],a=n[1],s=(0,w.useState)(!0),c=(0,i.default)(s,2),f=c[0],h=c[1],g=function(){h(!1)};return(0,w.useEffect)((function(){var r=setTimeout((function(){f&&(console.log("Iframe is taking too long to load. Attempting to reload."),console.log("Current URL:",t),console.log("Current Global URL:",Me),(0,$.setIsLoading)(!1),a((function(e){return e+1})),e((0,$.setSelectedFileUrl)(Me)))}),5e3);return function(){return clearTimeout(r)}}),[f]),(0,ae.jsx)(u.Modal,{isOpen:r,onClose:function(){e((0,$.setPdfViewerModalVisible)(!1)),e((0,$.setSelectedFileUrl)("")),h(!0),Pe="",Me=""},size:"xl",children:(0,ae.jsx)(u.Modal.Content,{children:"pdf"!==Pe?(0,ae.jsxs)(ae.Fragment,{children:[f&&(0,ae.jsx)(v.default,{style:{top:0,bottom:0,left:0,right:0,position:"absolute",justifyContent:"center",alignItems:"center",height:"700px"},children:(0,ae.jsx)(d.default,{animating:!0,size:"lg",color:"#7B9CFF"})}),""!==t&&(0,ae.jsxs)(ae.Fragment,{children:[!f&&(0,ae.jsx)(v.default,{style:{flexDirection:"row",width:"100%",height:57,borderRadius:0,backgroundColor:"#323639",justifyContent:"flex-end",alignItems:"center"},children:(0,ae.jsx)(ut,{url:Me,printComponent:function(){var e=window.open("https://docs.google.com/viewer?url="+encodeURIComponent(t)+"&embedded=true","_blank");e.focus(),e.print()}})}),(0,ae.jsx)("iframe",{src:"https://docs.google.com/viewer?url="+encodeURIComponent(t)+"&embedded=true",id:"documentIframe",style:{width:"100%",height:"700px"},title:"Document Viewer",onLoad:function(){g()}},l)]})]}):(0,ae.jsxs)(ae.Fragment,{children:[f&&(0,ae.jsx)(v.default,{style:{top:0,bottom:0,left:0,right:0,position:"absolute",justifyContent:"center",alignItems:"center",height:"700px"},children:(0,ae.jsx)(d.default,{animating:!0,size:"lg",color:"#7B9CFF"})}),""!==t&&(0,ae.jsx)("iframe",{src:t,style:{width:"100%",height:"700px"},title:"PDF Viewer",onLoad:g})]})})})},ht=function(e){var t=e.activeButtonValue,o=e.userEmail,a=((0,K.useSelector)((function(e){return e.chatListData})),(0,K.useSelector)((function(e){return e.chatMessagesData}))),u=(0,K.useSelector)((function(e){return e.selectedChatData})),f=(0,K.useSelector)((function(e){return e.activeChatId})),h=(0,K.useSelector)((function(e){return e.loadMoreMessagesLoading})),g=(0,K.useSelector)((function(e){return e.noMoreMessagesData})),m=(0,w.useState)(!1),x=(0,i.default)(m,2),p=x[0],y=x[1],b=(0,w.useRef)(),j=(0,w.useState)(null),C=(0,i.default)(j,2),A=C[0],L=C[1],B=(0,w.useState)(null),z=(0,i.default)(B,2),W=z[0],N=z[1],O=(0,w.useState)(!1),V=(0,i.default)(O,2),Y=V[0],_=V[1],G=(S.default.get("window").width,S.default.get("window").height,function(){L(null)}),J=(0,K.useDispatch)(),Z=(0,w.useState)(u.read),X=(0,i.default)(Z,2),Q=(X[0],X[1],function(){J((0,$.setReadByListModalVisible)(!0))}),ee=(0,w.useRef)(new M.default.Value(0)).current;(0,w.useEffect)((function(){M.default.loop(M.default.sequence([M.default.timing(ee,{toValue:1,duration:2e3,useNativeDriver:!1}),M.default.timing(ee,{toValue:0,duration:2e3,useNativeDriver:!1})])).start()}),[ee]);var te=ee.interpolate({inputRange:[0,.25,.5,.75,1],outputRange:["rgb(255, 100, 100)","rgb(100, 255, 100)","rgb(100, 100, 255)","rgb(255, 255, 100)","rgb(255, 100, 255)"]}),re=function(){var e=(0,l.default)((function*(){var e;if(J((0,$.setLoadMoreMessagesLoading)(!0)),J((0,$.setNoMoreMessagesData)(!1)),ce){J((0,$.setLoadMoreMessagesLoading)(!0)),J((0,$.setNoMoreMessagesData)(!1)),e=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats",u.id,"messages"),(0,H.orderBy)("timestamp","desc"),(0,H.startAfter)(ce),(0,H.limit)(10));try{return(0,H.onSnapshot)(e,(function(e){if(e.empty)return console.log("No more data to load"),void setTimeout((function(){J((0,$.setLoadMoreMessagesLoading)(!1)),J((0,$.setNoMoreMessagesData)(!0)),ce=null}),0);var t=[];e.forEach((function(e){t.push(se({id:e.id},e.data()))})),setTimeout((function(){J((0,$.setChatMessagesData)([].concat((0,n.default)(a),t))),J((0,$.setLoadMoreMessagesLoading)(!1)),ce=e.docs[e.docs.length-1]}),0)}))}catch(t){console.error("Error fetching data from Firebase:",t),setTimeout((function(){return J((0,$.setLoadMoreMessagesLoading)(!1))}),0)}}else J((0,$.setLoadMoreMessagesLoading)(!1)),J((0,$.setNoMoreMessagesData)(!0))}));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=(0,l.default)((function*(){var e=U.projectControlAuth.currentUser?U.projectControlAuth.currentUser.email:"",t=(0,H.doc)(U.projectExtensionFirestore,"chats",f);if(""!==e)try{yield(0,H.updateDoc)(t,{read:!0,readBy:(0,H.arrayUnion)(e)})}catch(r){console.error("Error updating document: ",r)}}));return function(){return e.apply(this,arguments)}}();(0,w.useEffect)((function(){f==u.id&&(u.stepIndicator.value!==t&&0!==t?(J((0,$.setChatMessagesData)([])),J((0,$.setActiveChatId)(""))):oe())}),[u]);var ne=function(){J((0,$.setPreviewInvoiceVisible)(!0))},le=function(e){var t=e.match(/(\d{4})\/(\d{2})\/(\d{2}) at (\d{2}):(\d{2}):(\d{2})/);if(!t)return e;var r=new Date(t[1],t[2]-1,t[3],t[4],t[5],t[6]),o=r.getHours(),n=o%12||12,l=o>=12?"PM":"AM";return r.getFullYear().toString().substr(-2)+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()]+" "+r.getDate()+", "+n+":"+r.getMinutes().toString().padStart(2,"0")+" "+l},ie=function(e){var t=e.split("@");return(0,i.default)(t,1)[0]},de=function(e,t){var r=new RegExp("(https?:\\/\\/[^\\s]+)","g"),o=t.split(r);return o.map((function(t,r){var o=t.length>30&&!t.includes(" ")?function(e,t){for(var r="";e.length>0;)r+=e.substring(0,t)+"\u200b",e=e.substring(t);return r}(t,30):t;return fe(t)?(0,ae.jsx)(F.default,{onPress:function(){return e=t,void E.default.canOpenURL(e).then((function(t){t?E.default.openURL(e):console.log("Don't know how to open URI: "+e)}));var e},children:(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"400",color:e?"black":"white",fontSize:16,flexShrink:1,textDecorationLine:"underline",flexWrap:"wrap"},children:o})},r):(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:"400",color:e?"black":"white",fontSize:16,flexShrink:1,flexWrap:"wrap"},children:o},r)}))},ue=function(e){var t=24,o=e.toLowerCase();return o.endsWith(".pdf")?(0,ae.jsx)(R.default,{name:"picture-as-pdf",size:t,color:"white"}):o.endsWith(".docx")||o.endsWith(".doc")?(0,ae.jsx)(T.default,{name:"microsoft-word",size:t,color:"white"}):o.endsWith(".xlsx")||o.endsWith(".xls")||o.endsWith(".csv")?(0,ae.jsx)(T.default,{name:"microsoft-excel",size:t,color:"white"}):o.endsWith(".rar")||o.endsWith(".zip")?(0,ae.jsx)(q.default,{source:{uri:r(25333),priority:q.default.priority.high},style:{width:t,height:t},resizeMode:q.default.resizeMode.cover}):(0,ae.jsx)(R.default,{name:"insert-drive-file",size:t,color:"black"})},fe=function(e){return new RegExp("^(http://www\\.|https://www\\.|http://|https://)[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(/.*)?$").test(e)};return a.length>0?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(P.default,{style:{height:100},ref:b,data:a,renderItem:function(e){var t=e.item,r=e.index,o=t.sender===he,n=0===r,l=A===r;return(0,ae.jsxs)(v.default,{style:{flexDirection:o?"row":"row-reverse",width:"100%",alignSelf:o?"flex-start":"flex-end",marginVertical:4,maxWidth:"60%"},children:["IssuedInvoice"==t.messageType&&(0,ae.jsxs)(v.default,{style:{flexDirection:"column",alignItems:"flex-end",flex:1},children:[(0,ae.jsxs)(v.default,{style:{flexDirection:o?"row":"row-reverse",flex:1},children:[(0,ae.jsx)(M.default.View,{style:{padding:7,flex:1,borderRadius:20,backgroundColor:o?"#EFEFEF":"#0A7CFF",marginRight:o?0:10,borderWidth:3,borderColor:te},children:(0,ae.jsx)(F.default,{onPress:ne,children:(0,ae.jsx)(c.default,{underline:!0,selectable:!0,style:{fontWeight:400,color:o?"black":"white",fontSize:16},children:t.text.trim()})})}),n&&u.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Already read by the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(k.default,{name:"mail-open",size:20,color:"#1B81C2"})})}),n&&!u.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Message sent to the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(k.default,{name:"mail",size:20,color:"#1B81C2"})})}),n&&u.readBy.length>0&&(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(F.default,{focusable:!1,onHoverIn:function(){return y(!0)},onHoverOut:function(){return y(!1)},onPress:Q,children:(0,ae.jsx)(I.default,{name:"eye",size:20,color:p?"#c5d1ce":"#75A99C"})})})]}),(0,ae.jsx)(c.default,{style:{fontWeight:"300",color:"gray",fontSize:11,marginTop:4,marginBottom:4,marginLeft:o?15:0,marginRight:o?0:15},selectable:!0,children:o?le(t.timestamp)+(t.ip?" - "+t.ip+(t.ipCountry?" - "+t.ipCountry:""):""):le(t.timestamp)+" - "+ie(t.sender)+(t.ip?" - "+t.ip:"")+(t.ipCountry?" - "+t.ipCountry:"")})]}),"InputPayment"==t.messageType&&(0,ae.jsxs)(v.default,{style:{flexDirection:"column",alignItems:"flex-end",flex:1},children:[(0,ae.jsxs)(v.default,{style:{flexDirection:o?"row":"row-reverse",flex:1},children:[(0,ae.jsx)(M.default.View,{style:{padding:7,flex:1,borderRadius:20,backgroundColor:o?"#EFEFEF":"#0A7CFF",marginRight:o?0:10,borderWidth:3,borderColor:te},children:(0,ae.jsx)(c.default,{selectable:!0,style:{fontWeight:400,color:o?"black":"white",fontSize:16},children:t.text.trim()})}),n&&u.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Already read by the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(k.default,{name:"mail-open",size:20,color:"#1B81C2"})})}),n&&!u.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Message sent to the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(k.default,{name:"mail",size:20,color:"#1B81C2"})})}),n&&u.readBy.length>0&&(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(F.default,{focusable:!1,onHoverIn:function(){return y(!0)},onHoverOut:function(){return y(!1)},onPress:Q,children:(0,ae.jsx)(I.default,{name:"eye",size:20,color:p?"#c5d1ce":"#75A99C"})})})]}),(0,ae.jsx)(c.default,{style:{fontWeight:"300",color:"gray",fontSize:11,marginTop:4,marginBottom:4,marginLeft:o?15:0,marginRight:o?0:15},selectable:!0,children:o?le(t.timestamp)+(t.ip?" - "+t.ip+(t.ipCountry?" - "+t.ipCountry:""):""):le(t.timestamp)+" - "+ie(t.sender)+(t.ip?" - "+t.ip:"")+(t.ipCountry?" - "+t.ipCountry:"")})]}),!t.messageType&&t.file&&"attachment"==t.file.type&&(0,ae.jsxs)(v.default,{style:{flexDirection:"column",alignItems:o?"flex-start":"flex-end",flex:1},children:[t.text&&""!==t.text&&(0,ae.jsx)(v.default,{style:{marginBottom:5,padding:10,borderRadius:20,backgroundColor:o?"#EFEFEF":"#0A7CFF",marginLeft:o?10:0,marginRight:o?0:10,flexShrink:1},children:de(o,t.text.trim())}),(0,ae.jsxs)(v.default,{style:{flexDirection:o?"row":"row-reverse",flex:1},children:[(0,ae.jsx)(v.default,{style:{flexDirection:o?"row":"row-reverse",flex:1},children:(0,ae.jsx)(v.default,{style:{marginBottom:5,padding:10,borderRadius:20,backgroundColor:o?"#EFEFEF":"#0A7CFF",marginLeft:o?10:0,marginRight:o?0:10,flexShrink:1},children:(0,ae.jsxs)(F.default,{onPress:function(){t.file.name.endsWith(".pdf")?(Pe="pdf",J((0,$.setPdfViewerModalVisible)(!0)),J((0,$.setSelectedFileUrl)(t.file.url)),Me=t.file.url):(Pe="not-pdf",J((0,$.setPdfViewerModalVisible)(!0)),J((0,$.setSelectedFileUrl)(t.file.url)),Me=t.file.url)},style:{flexDirection:"row"},children:[(0,ae.jsx)(v.default,{style:{marginRight:5},children:ue(t.file.name)}),(0,ae.jsx)(c.default,{underline:!0,selectable:!0,style:{fontWeight:400,color:o?"black":"white",fontSize:16},children:t.file.name.trim()})]})})}),n&&u.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Already read by the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(k.default,{name:"mail-open",size:20,color:"#1B81C2"})})}),n&&!u.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Message sent to the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(k.default,{name:"mail",size:20,color:"#1B81C2"})})}),n&&u.readBy.length>0&&(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(F.default,{focusable:!1,onHoverIn:function(){return y(!0)},onHoverOut:function(){return y(!1)},onPress:Q,children:(0,ae.jsx)(I.default,{name:"eye",size:20,color:p?"#c5d1ce":"#75A99C"})})})]}),(0,ae.jsx)(c.default,{style:{fontWeight:"300",color:"gray",fontSize:11,marginTop:4,marginBottom:4,marginLeft:o?15:0,marginRight:o?0:15},selectable:!0,children:o?le(t.timestamp)+(t.ip?" - "+t.ip+(t.ipCountry?" - "+t.ipCountry:""):""):le(t.timestamp)+" - "+ie(t.sender)+(t.ip?" - "+t.ip:"")+(t.ipCountry?" - "+t.ipCountry:"")})]}),!t.messageType&&t.file&&"image"==t.file.type&&(0,ae.jsxs)(v.default,{style:{flexDirection:"column",alignItems:o?"flex-start":"flex-end",flex:1},children:[t.text&&""!==t.text&&(0,ae.jsx)(v.default,{style:{marginBottom:5,padding:10,borderRadius:20,backgroundColor:o?"#EFEFEF":"#0A7CFF",marginLeft:o?10:0,marginRight:o?0:10,flexShrink:1},children:de(o,t.text.trim())}),(0,ae.jsxs)(v.default,{style:{flexDirection:o?"row":"row-reverse",flex:1},children:[(0,ae.jsx)(v.default,{style:{flexDirection:o?"row":"row-reverse",flex:1},children:(0,ae.jsx)(v.default,{style:{padding:0,borderRadius:10,marginLeft:o?10:0,marginRight:o?0:10,flexShrink:1},children:(0,ae.jsxs)(F.default,{onMouseEnter:function(){return function(e){L(e)}(r)},onMouseLeave:G,onPress:function(){return function(e){N(e),_(!0)}(r)},style:{position:"relative",width:250,height:250,alignSelf:"center"},children:[(0,ae.jsx)(q.default,{source:{uri:t.file.url,priority:q.default.priority.normal},style:{width:"100%",height:"100%",borderRadius:10,borderWidth:1,borderColor:"#DADDE1"},resizeMode:q.default.resizeMode.contain}),l&&(0,ae.jsx)(v.default,{style:se(se({},D.default.absoluteFillObject),{},{backgroundColor:"rgba(0, 0, 0, 0.1)",borderRadius:10})})]})})}),n&&u.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Already read by the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(k.default,{name:"mail-open",size:20,color:"#1B81C2"})})}),n&&!u.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Message sent to the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(k.default,{name:"mail",size:20,color:"#1B81C2"})})}),n&&u.readBy.length>0&&(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(F.default,{focusable:!1,onHoverIn:function(){return y(!0)},onHoverOut:function(){return y(!1)},onPress:Q,children:(0,ae.jsx)(I.default,{name:"eye",size:20,color:p?"#c5d1ce":"#75A99C"})})})]}),(0,ae.jsx)(c.default,{style:{fontWeight:"300",color:"gray",fontSize:11,marginTop:4,marginBottom:4,marginLeft:o?15:0,marginRight:o?0:15},selectable:!0,children:o?le(t.timestamp)+(t.ip?" - "+t.ip+(t.ipCountry?" - "+t.ipCountry:""):""):le(t.timestamp)+" - "+ie(t.sender)+(t.ip?" - "+t.ip:"")+(t.ipCountry?" - "+t.ipCountry:"")})]}),!t.messageType&&!t.file&&(0,ae.jsxs)(v.default,{style:{flexDirection:"column",alignItems:o?"flex-start":"flex-end",flex:1},children:[(0,ae.jsxs)(v.default,{style:{flexDirection:o?"row":"row-reverse",flex:1},children:[(0,ae.jsx)(v.default,{style:{flexDirection:o?"row":"row-reverse",flex:1},children:(0,ae.jsx)(v.default,{style:{padding:10,borderRadius:20,backgroundColor:o?"#EFEFEF":"#0A7CFF",marginLeft:o?10:0,marginRight:o?0:10,flexShrink:1},children:de(o,t.text.trim())})}),n&&u.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Already read by the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(k.default,{name:"mail-open",size:20,color:"#1B81C2"})})}),n&&!u.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Message sent to the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(k.default,{name:"mail",size:20,color:"#1B81C2"})})}),n&&u.readBy.length>0&&(0,ae.jsx)(v.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(F.default,{focusable:!1,onHoverIn:function(){return y(!0)},onHoverOut:function(){return y(!1)},onPress:Q,children:(0,ae.jsx)(I.default,{name:"eye",size:20,color:p?"#c5d1ce":"#75A99C"})})})]}),(0,ae.jsx)(c.default,{style:{fontWeight:"300",color:"gray",fontSize:11,marginTop:4,marginBottom:4,marginLeft:o?15:0,marginRight:o?0:15},selectable:!0,children:o?le(t.timestamp)+(t.ip?" - "+t.ip+(t.ipCountry?" - "+t.ipCountry:""):""):le(t.timestamp)+" - "+ie(t.sender)+(t.ip?" - "+t.ip:"")+(t.ipCountry?" - "+t.ipCountry:"")})]})]})},keyExtractor:function(e){return e.id},initialNumToRender:10,maxToRenderPerBatch:10,windowSize:500,onEndReachedThreshold:.05,ListFooterComponent:function(){return(0,ae.jsx)(ae.Fragment,{children:!g&&(0,ae.jsx)(v.default,{style:{paddingVertical:20,height:60},children:h&&(0,ae.jsx)(d.default,{animating:!0,size:"sm",color:"#7B9CFF"})})})},onEndReached:re,inverted:!0}),null!==W&&(0,ae.jsx)(ct,{isVisible:Y,onClose:function(){_(!1),N(null)},imageUrl:a[W].file.url}),(0,ae.jsx)(dt,{userEmail:o,handleReadByListModalClose:function(){J((0,$.setReadByListModalVisible)(!1))}})]}):null};function gt(){var e=(0,le.useNavigate)(),t=(0,w.useState)(""),r=(0,i.default)(t,2),o=r[0],n=r[1],a=((0,K.useSelector)((function(e){return e.chatListData})),(0,K.useSelector)((function(e){return e.activeChatId})),(0,K.useSelector)((function(e){return e.chatMessageBoxLoading}))),s=(0,K.useSelector)((function(e){return e.chatListSearchText})),u=(0,K.useSelector)((function(e){return e.chatMessagesData})),g=(0,K.useSelector)((function(e){return e.loginName})),m=(0,w.useState)(g),x=(0,i.default)(m,2),p=(x[0],x[1]),y=S.default.get("window").width,M=(0,w.useState)("All messages"),P=(0,i.default)(M,2),L=P[0],F=P[1],E=(0,w.useState)(0),B=(0,i.default)(E,2),I=B[0],z=B[1],W=(0,w.useState)(""),V=(0,i.default)(W,2),Y=V[0],_=V[1],G=(0,w.useState)(!1),Z=(0,i.default)(G,2),X=Z[0],Q=Z[1],ee=(0,w.useState)(!1),te=(0,i.default)(ee,2),re=te[0],oe=te[1],ne=(0,w.useState)(null),ie=(0,i.default)(ne,2),ce=ie[0],fe=ie[1],he=(0,w.useState)(0),ge=(0,i.default)(he,2),me=ge[0],xe=ge[1],pe=(0,K.useDispatch)();(0,w.useEffect)((function(){var e=function(){var e=(0,l.default)((function*(){try{var e=(yield N.default.get("https://api.ipify.org?format=json")).data.ip;if(Se=e,e){var t=(yield N.default.get("https://ipapi.co/"+e+"/json/")).data.country_name;De=t}}catch(r){console.error("Error fetching IP data:",r)}}));return function(){return e.apply(this,arguments)}}(),t=(0,H.collection)(U.projectExtensionFirestore,"chats"),r=(0,H.query)(t,(0,H.where)("read","==",!1),(0,H.limit)(10)),o=(0,H.onSnapshot)(r,(function(t){xe(t.size),e()}),(function(e){console.error("Error fetching documents: ",e)}));return function(){return o()}}),[]);var ye=function(e,t){L==e||(F(e),z(t),_(""),Q(!1),pe((0,$.setActiveChatId)("")),pe((0,$.setLoadMoreLoading)(!1)),pe((0,$.setNoMoreData)(!1)))};(0,w.useEffect)((function(){var e;pe((0,$.setChatMessagesData)([])),pe((0,$.setChatMessageBoxLoading)(!1)),pe((0,$.setActiveChatId)(""));e=function(){var e=s.toUpperCase();return X?0===I?""===e?(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("read","==",!1),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("read","==",!1),(0,H.where)("keywords","array-contains",e),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):""===e?(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("read","==",!1),(0,H.where)("stepIndicator.value","==",I),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("stepIndicator.value","==",I),(0,H.where)("read","==",!1),(0,H.where)("keywords","array-contains",e),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):re?0===I?""===e?(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("read","==",!0),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("read","==",!0),(0,H.where)("keywords","array-contains",e),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):""===e?(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("read","==",!0),(0,H.where)("stepIndicator.value","==",I),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("stepIndicator.value","==",I),(0,H.where)("read","==",!0),(0,H.where)("keywords","array-contains",e),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):0===I?""===e?(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("keywords","array-contains",e),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):""===e?(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("stepIndicator.value","==",I),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10)):(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"chats"),(0,H.where)("stepIndicator.value","==",I),(0,H.where)("keywords","array-contains",e),(0,H.orderBy)("lastMessageDate","desc"),(0,H.limit)(10))}();var t=(0,H.onSnapshot)(e,(function(e){var t=[];e.forEach((function(e){t.push(se({id:e.id},e.data()))})),pe((0,$.setChatListData)(t)),de=e.docs[e.docs.length-1],pe((0,$.setNoMoreData)(!1)),pe((0,$.setLoadMoreLoading)(!1)),pe((0,$.setLoadingModalVisible)(!1))}),(function(e){console.error("Error fetching data from Firebase:",e)}));return function(){t&&t()}}),[X,re,I,s]),(0,w.useEffect)((function(){return U.projectControlAuth.onAuthStateChanged((function(t){t||e("/login")}))}),[]);var be=function(t){t.exists()?t.data().active||(0,O.signOut)(U.projectControlAuth).then((function(){e("/login")})).catch((function(e){console.error("Error signing out:",e)})):(0,O.signOut)(U.projectControlAuth).then((function(){e("/login")})).catch((function(e){console.error("Error signing out:",e)}))};(0,w.useEffect)((function(){var t=function(){var t,r=null==(t=U.projectControlAuth.currentUser)?void 0:t.email;if(r){var o=(0,H.doc)(Ae,"accounts",r);return(0,H.onSnapshot)(o,be)}return function(){e("/login")}}();return function(){t()}}),[]),(0,w.useEffect)((function(){var e=Le();e&&(Ce(e),n(e),je(e))}),[]);var je=function(e){},Ce=function(){var e=(0,l.default)((function*(e){try{var t=(0,H.doc)(Ae,"accounts",e);yield(0,H.getDoc)(t);(0,H.onSnapshot)(t,(function(e){if(e.exists()){var t=e.data(),r=(t.type,t.name);pe((0,$.setLoginName)(r))}}))}catch(r){console.error("Error fetching field value:",r)}}));return function(t){return e.apply(this,arguments)}}(),we=D.default.create({container:{flex:1},image:{flex:1}});return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsxs)(C.NativeBaseProvider,{children:[(0,ae.jsxs)(v.default,{style:{backgroundColor:"#A6BCFE",height:"100%",width:"100%",flexDirection:"column"},bgColor:"#A6BCFE",h:"100vh",w:"full",flexDirection:"column",children:[(0,ae.jsxs)(b.default,{px:"3",bgColor:"#7b9cff",height:54,position:"sticky",top:0,zIndex:999,flexDirection:"row",alignItems:"center",borderBottomWidth:2,borderBottomColor:"cyan.500",children:[(0,ae.jsx)(J.default,{selectedScreen:ue}),(0,ae.jsx)(b.default,{w:y<=960?0:850,h:[10,10,10,10],marginBottom:1.5,marginTop:1.5,paddingLeft:5,children:(0,ae.jsx)(q.default,{source:{uri:"https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20FULL.png?alt=media&token=79ed34a5-f960-4154-b4e8-897b0f3248d4",priority:q.default.priority.high},resizeMode:q.default.resizeMode.stretch,style:we.image})}),(0,ae.jsx)(b.default,{w:y<=960?120:0,h:y<=960?6:10,marginBottom:1.5,marginTop:1.5,marginLeft:[3,3,3,10],children:(0,ae.jsx)(q.default,{source:{uri:"https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20HALF.png?alt=media&token=7ce6aef2-0527-40c7-b1ce-e47079e144df",priority:q.default.priority.high},resizeMode:q.default.resizeMode.stretch,style:we.image})}),(0,ae.jsx)((function(e){var t=e.name,r=e.handleSignOut,o=(0,w.useState)(!1),n=(0,i.default)(o,2),l=n[0],a=n[1],s=function(){a(!l)};return(0,ae.jsx)(b.default,{w:[100,200,1020],h:[10,10,10],flex:1,children:(0,ae.jsx)(j.default,{direction:"row-reverse",children:(0,ae.jsx)(h.Popover,{isOpen:l,trigger:function(e){return(0,ae.jsxs)(c.default,se(se({color:"white",marginTop:[2,2,2],fontSize:[17,18,20],marginRight:[1,3,5]},e),{},{onPress:s,children:[(0,ae.jsx)(T.default,{name:"account",size:[20,25,30],color:"white"})," ",t," ",(0,ae.jsx)(k.default,{name:"caret-down",size:16,color:"white"})]}))},onClose:function(){return a(!l)},placement:"bottom right",trapFocus:!1,children:(0,ae.jsx)(h.Popover.Content,{backgroundColor:"#7B9CFF",children:(0,ae.jsx)(h.Popover.Body,{backgroundColor:"#7B9CFF",children:(0,ae.jsx)(f.Button,{_hover:{bgColor:"blueGray.500"},onPress:r,leftIcon:(0,ae.jsx)(T.default,{name:"logout",size:20,color:"white"}),bgColor:"transparent",children:"Logout"})})})})})})}),{name:g,handleSignOut:function(){U.projectControlAuth.currentUser?(0,O.signOut)(U.projectControlAuth).then((function(){e("/login"),n(""),p("")})).catch((function(){})):(console.log("No user signed in to sign out"),e("/login"))}})]}),(0,ae.jsx)(v.default,{style:{flex:1,flexDirection:"row"},flex:[1],flexDirection:"row",children:(0,ae.jsx)(v.default,{style:{flex:1,backgroundColor:"#A6BCFE",height:"100%"},children:(0,ae.jsxs)(v.default,{style:{flex:1,margin:10},children:[(0,ae.jsx)(v.default,{style:{borderBottomWidth:1,borderColor:"#DADDE1",width:"100%",backgroundColor:"white",height:60,borderTopLeftRadius:5,borderTopRightRadius:5},children:(0,ae.jsx)(v.default,{style:{flex:1,flexDirection:"row"},children:(0,ae.jsx)(v.default,{style:{flex:1,flexDirection:"row"},children:(0,ae.jsxs)(A.default,{scrollEnabled:!0,horizontal:!0,children:[(0,ae.jsx)(ke,{title:"All messages",onPress:function(){return ye("All messages",0)},isActive:"All messages"===L,headerCount:me>0?(0,ae.jsx)(v.default,{style:{backgroundColor:"#FF0000",borderRadius:100,width:20,height:20,marginLeft:10,justifyContent:"center",alignItems:"center"},children:(0,ae.jsx)(c.default,{style:{color:"white",fontWeight:700,fontSize:14},children:me>9?"9+":me})}):(0,ae.jsx)(ae.Fragment,{})},"All messages"),(0,ae.jsx)(ke,{title:"Negotiation",onPress:function(){return ye("Negotiation",1)},isActive:"Negotiation"===L},"Negotiation"),(0,ae.jsx)(ke,{title:"Issued Proforma Invoice",onPress:function(){return ye("Issued Proforma Invoice",2)},isActive:"Issued Proforma Invoice"===L},"Issued Proforma Invoice"),(0,ae.jsx)(ke,{title:"Order Item",onPress:function(){return ye("Order Item",3)},isActive:"Order Item"===L},"Order Item"),(0,ae.jsx)(ke,{title:"Payment Confirmed",onPress:function(){return ye("Payment Confirmed",4)},isActive:"Payment Confirmed"===L},"Payment Confirmed"),(0,ae.jsx)(ke,{title:"Shipping Schedule",onPress:function(){return ye("Shipping Schedule",5)},isActive:"Shipping Schedule"===L},"Shipping Schedule"),(0,ae.jsx)(ke,{title:"Documents",onPress:function(){return ye("Documents",6)},isActive:"Documents"===L},"Documents"),(0,ae.jsx)(ke,{title:"Vehicle Received",onPress:function(){return ye("Vehicle Received",7)},isActive:"Vehicle Received"===L},"Vehicle Received")]})})})}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsxs)(v.default,{children:[(0,ae.jsx)(v.default,{style:{flex:1,maxWidth:380,minWidth:380,borderRightWidth:1,borderColor:"#DADDE1",maxHeight:100,minHeight:100,backgroundColor:"white"},children:(0,ae.jsxs)(v.default,{style:{flex:1,paddingHorizontal:10},children:[(0,ae.jsx)(Ue,{lastVisible:ce,setLastVisible:fe,unreadButtonValue:X,activeButtonValue:I}),(0,ae.jsxs)(v.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(Re,{title:"Unread ",onPress:function(){return e="Unread",_((function(t){return t===e?"":e})),Q((function(e){return!e})),void oe(!1);var e},isActive:"Unread"===Y,iconActive:(0,ae.jsx)(R.default,{name:"mark-email-unread",color:"#0A78BE",size:16}),iconNotActive:(0,ae.jsx)(R.default,{name:"mark-email-unread",color:"#1C2B33",size:16})},"Unread"),(0,ae.jsx)(Re,{title:"Read ",onPress:function(){return e="Read",_((function(t){return t===e?"":e})),oe((function(e){return!e})),void Q(!1);var e},isActive:"Read"===Y,iconActive:(0,ae.jsx)(R.default,{name:"mark-email-read",color:"#0A78BE",size:16}),iconNotActive:(0,ae.jsx)(R.default,{name:"mark-email-read",color:"#1C2B33",size:16})},"Read")]})]})}),(0,ae.jsx)(v.default,{style:{flex:1,maxWidth:380,minWidth:380,borderRightWidth:1,borderColor:"#DADDE1",backgroundColor:"white",borderBottomLeftRadius:5},children:(0,ae.jsx)(Ye,{unreadButtonValue:X,activeButtonValue:I})})]}),a?(0,ae.jsx)(v.default,{style:{flex:1,backgroundColor:"white",justifyContent:"center",alignItems:"center"},children:(0,ae.jsx)(d.default,{animating:!0,size:"lg",color:"#7B9CFF"})}):(0,ae.jsxs)(v.default,{style:{flex:1},children:[(0,ae.jsx)(v.default,{style:{flex:1,minHeight:90,maxHeight:y<1281?130:125,borderBottomWidth:1,borderColor:"#DADDE1",backgroundColor:"white",justifyContent:"center"},children:(0,ae.jsx)(A.default,{scrollEnabled:!0,horizontal:!0,children:u.length<1?null:(0,ae.jsx)(st,{})})}),(0,ae.jsxs)(v.default,{style:{flex:1,borderColor:"#DADDE1",backgroundColor:"white",borderBottomRightRadius:5,paddingBottom:5},children:[(0,ae.jsxs)(v.default,{style:{flex:1},children:[(0,ae.jsx)(ht,{activeButtonValue:I,userEmail:o}),(0,ae.jsx)(ft,{})]}),(0,ae.jsx)(v.default,{style:{maxHeight:180,justifyContent:"flex-end",alignItems:"center"},children:u.length<1?null:(0,ae.jsx)(He,{})})]})]})]})]})})})]}),(0,ae.jsx)(Ie,{})]})})}},19941:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Le});var o=r(42982),n=r(15861),l=r(4942),a=r(70885),i=r(32535),s=r(40013),d=r(71592),c=r(68873),u=r(16650),f=r(24770),h=r(15352),g=r(67849),m=r(79731),x=r(91320),p=r(16886),y=r(48174),b=r(67221),j=r(74905),C=r(93020),w=r(86561),S=r(89526),D=r(46337),v=r(71451),M=r(74333),P=r(81133),A=r(99566),L=r(68576),F=r(37504),E=r(43497),B=(r(87026),r(33034)),I=r(55202),k=r(51223),R=r(42640),T=r(32450),z=r(65738),W=r(53059),N=(r(14574),r(38615)),O=r(47673),H=r(31402),V=r(36105),Y=r.n(V),U=(r(51909),r(95634),r(48859)),_=(r(69248),r(61620),r(26555)),G=r(96500),q=r(95212),J=r(30083),K=r(76805),Z=(r(79552),r(86308),r(37050)),$=r(58546),X=(r(58775),r(19761),r(83277)),Q=r(67557);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var re=D.default.get("window"),oe=(re.width,"FREIGHT"),ne={text:""},le="countries",ae="",ie="",se="",de=(0,H.getFirestore)(),ce=function(){var e=U.projectControlAuth.currentUser;return e?e.email:null},ue=function(e){var t=e.modalAddOpen,r=(0,S.useState)(""),o=(0,a.default)(r,2),n=o[0],l=o[1],d=(0,S.useState)(!1),c=(0,a.default)(d,2),u=c[0],f=c[1],h=(0,S.useState)([]),g=(0,a.default)(h,2),m=g[0],x=g[1],p=(0,S.useRef)(null);(0,S.useEffect)((function(){var e=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","PortsDoc"),t=(0,H.onSnapshot)(e,(function(e){if(e.exists()){var t=e.data(),r=Object.keys(t).map((function(e){return te({ports:e.replace(/_/g,".")},t[e])})).sort((function(e,t){return e.sortOrder-t.sortOrder}));x(r)}else console.log("No such document!")}),(function(e){console.error("Error fetching countries: ",e)}));return function(){return t()}}),[]);var y=m.filter((function(e){return e.ports.toLowerCase().includes(n.toLowerCase().trim())||e.country.toLowerCase().includes(n.toLowerCase().trim())}));return(0,S.useEffect)((function(){p.current.focus()}),[u]),(0,S.useEffect)((function(){p.current.focus(),f(!1),se=""}),[t]),(0,Q.jsxs)(P.default,{style:{flex:1,width:"100%"},children:[(0,Q.jsx)(s.Button,{title:"Show Dropdown",onPress:function(){f(!u)},bgColor:"#102A43",style:{borderWidth:1},flex:1,children:(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",justifyContent:"space-between"},children:[(0,Q.jsx)(i.default,{style:{color:"white",flex:1,alignSelf:"flex-start"},children:se?se.ports:"Select Port"}),(0,Q.jsx)(B.default,{style:{alignSelf:"flex-end"},name:u?"keyboard-arrow-up":"keyboard-arrow-down",color:"white",size:22})]})}),(0,Q.jsxs)(P.default,{style:{display:u?"flex":"none"},children:[(0,Q.jsx)(E.default,{ref:p,style:{outlineStyle:"none",padding:10,borderWidth:1,borderColor:"#102A43",flex:1},placeholder:"Search...",value:n,onChangeText:function(e){return l(e)}}),(0,Q.jsx)(A.default,{style:{height:150,width:"100%",borderWidth:1,borderColor:"#102A43",borderRadius:5},data:y,renderItem:function(e){var t=e.item;return(0,Q.jsx)(v.default,{style:{padding:10,borderBottomWidth:1,borderBottomColor:"#ccc",width:"100%",backgroundColor:"#85929F"},onPress:function(){se=t,l(""),f(!1)},children:(0,Q.jsx)(i.default,{style:{color:"white"},children:t.ports})})},keyExtractor:function(e){return e.ports.toString()}})]})]})},fe=function(){var e=(0,J.useSelector)((function(e){return e.loadingModalVisible}));return(0,Q.jsx)(P.default,{style:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.5)",flex:1,display:e?"flex":"none",justifyContent:"center",alignItems:"center"},children:(0,Q.jsxs)(P.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:[(0,Q.jsx)(d.default,{size:"lg",color:"white"}),(0,Q.jsx)(i.default,{style:{color:"white"},children:"Loading, please wait!"})]})})},he=function(){var e=(0,n.default)((function*(e){try{var t=(0,H.collection)(U.projectControlFirestore,"logs");yield(0,H.addDoc)(t,e),console.log("Document added successfully!")}catch(r){console.error("Error adding document:",r)}}));return function(t){return e.apply(this,arguments)}}(),ge=function(e){var t=e.headerText,r=e.data,x=e.title,p=e.dataName,y=e.databaseInit,b=e.textAreaAdd,j=e.handleAddTextChange,C=e.docName,w=e.collectionName,D=(e.handleFirstModalClose,e.handleFirstModalOpen,(0,S.useState)(!1)),M=(0,a.default)(D,2),P=M[0],A=M[1],L=(0,S.useState)(!1),F=(0,a.default)(L,2),E=F[0],B=F[1],z=(0,S.useState)(!1),W=(0,a.default)(z,2),O=W[0],V=W[1],U=(0,S.useState)(!1),_=(0,a.default)(U,2),G=_[0],q=_[1],J=(0,S.useState)(!1),Z=(0,a.default)(J,2),$=Z[0],X=Z[1],ee=(0,S.useState)(r),te=(0,a.default)(ee,2),re=te[0],oe=te[1],le=(0,S.useState)(!1),ae=(0,a.default)(le,2),ie=ae[0],se=ae[1],de=(0,S.useCallback)((function(e){oe((function(t){return t.filter((function(t){return t!==e}))}))}),[]),ce=(0,S.useCallback)((0,n.default)((function*(){var e,t=(0,H.doc)((0,H.collection)(y,w),C),r=yield(0,H.getDoc)(t);r.exists()&&oe((null==(e=r.data())?void 0:e[p])||[])})),[y,re]),ue=(0,S.useCallback)((0,n.default)((function*(){X(!0);var e=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,t=Y()(e).format("YYYY/MM/DD [at] HH:mm:ss"),r=Y()(e).format("YYYY"),o=Y()(e).format("MM"),n=Y()(e).format("MM/DD"),a=Y()(e).format("YYYY/MM/DD"),i=Y()(e).format("DD"),s=Y()(e).format("HH:mm"),d=Y()(e).format("HH:mm:ss");try{yield(0,H.updateDoc)((0,H.doc)((0,H.collection)(y,w),C),(0,l.default)({},p,re)),X(!1),A(!0),q(!1);var c={message:'"'+x+'" updated: "'+ne.text+'" updated "'+x+'"',timestamp:t,colorScheme:!0,keywords:[t.toLowerCase(),('"'+x+'" updated: "'+ne.text+'" updated "'+x+'"').toLowerCase(),(x+" updated").toLowerCase(),('"'+x+'" updated').toLowerCase(),"updated".toLowerCase(),x.toLowerCase(),ne.text.toLowerCase(),r.toLowerCase(),o.toLowerCase(),n.toLowerCase(),a.toLowerCase(),i.toLowerCase(),s.toLowerCase(),d.toLowerCase()]};he(c)}catch(u){X(!1),je(),console.error(u)}})),[y,re,p,C]),fe=(0,S.useCallback)((function(){se(!0),ce(),A(!0)}),[P,ie]),ge=(0,S.useCallback)((0,n.default)((function*(){A(!1),se(!1)})),[P,ie]),me=(0,S.useCallback)((function(){B(!0),ge(),se(!0)}),[]),xe=(0,S.useCallback)((function(){var e;B(!1),fe(),null==(e=b.current)||e.clear()}),[E]),pe=(0,S.useCallback)((function(){V(!1),fe()}),[O]),ye=(0,S.useCallback)((function(){V(!0),ge(),B(!1),se(!0)}),[O,E,ie]),be=(0,S.useCallback)((function(){q(!0),A(!1),se(!0)}),[G,P,ie]),je=(0,S.useCallback)((function(){q(!1),A(!0)}),[G,P]),Ce=function(){var e=(0,n.default)((function*(){var e,t=null==(e=b.current)?void 0:e.value,r=t.split("\n").map((function(e){return e.trim()})),n=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,a=Y()(n).format("YYYY/MM/DD [at] HH:mm:ss"),i=Y()(n).format("YYYY"),s=Y()(n).format("MM"),d=Y()(n).format("MM/DD"),c=Y()(n).format("YYYY/MM/DD"),u=Y()(n).format("DD"),f=Y()(n).format("HH:mm"),h=Y()(n).format("HH:mm:ss");if(""!==t){X(!0);try{var g=(0,H.collection)(y,w),m=(0,H.doc)(g,C);yield(0,H.setDoc)(m,(0,l.default)({},p,H.arrayUnion.apply(void 0,(0,o.default)(r))),{merge:!0});var j={message:'"'+x+'" added: "'+ne.text+'" added "'+x+'"(s).',timestamp:a,colorScheme:!0,keywords:[a.toLowerCase(),('"'+x+'" added: "'+ne.text+'" added "'+x+'"(s).').toLowerCase(),(x+" added").toLowerCase(),('"'+x+'" added').toLowerCase(),"added".toLowerCase(),x.toLowerCase(),ne.text.toLowerCase(),i.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),f.toLowerCase(),h.toLowerCase()]};he(j),X(!1),ye(),console.log("Data added to Firestore")}catch(S){console.error("Error adding data to Firestore:",S),X(!1)}}}));return function(){return e.apply(this,arguments)}}();return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(c.default,{justifyContent:"center",alignItems:"flex-start",marginRight:1,children:ie?(0,Q.jsx)(d.default,{color:"white",size:20}):(0,Q.jsx)(v.default,{onPress:fe,children:(0,Q.jsx)(u.default,{as:(0,Q.jsx)(I.default,{name:"playlist-edit"}),size:5,color:"white"})})}),(0,Q.jsx)(f.Modal,{isOpen:P,onClose:ge,children:(0,Q.jsxs)(f.Modal.Content,{children:[(0,Q.jsx)(f.Modal.CloseButton,{}),(0,Q.jsx)(f.Modal.Header,{borderBottomWidth:0,children:(0,Q.jsx)(i.default,{color:"#102A43",bold:!0,children:t})}),(0,Q.jsx)(f.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,Q.jsxs)(c.default,{w:"full",flexDir:"column",children:[(0,Q.jsx)(c.default,{alignItems:"flex-end",children:(0,Q.jsx)(h.default,{onPress:me,children:(0,Q.jsx)(u.default,{as:(0,Q.jsx)(k.default,{name:"plus-circle"}),size:5,color:"#102A43"})})}),(0,Q.jsx)(c.default,{flex:1,borderWidth:1,borderColor:"#102A43",borderRadius:5,children:(0,Q.jsx)(K.default,{style:{alignContent:"center",flex:1},data:re,keyExtractor:function(e){return e},renderItem:function(e){var t=e.item,r=e.drag;return(0,Q.jsxs)(c.default,{flex:1,bgColor:"rgba(16,42,67, 0.5)",borderBottomWidth:1,borderBottomColor:"warmGray.400",flexDir:"row",justifyContent:"center",alignItems:"center",children:[(0,Q.jsx)(h.default,{onPress:function(){return de(t)},children:(0,Q.jsx)(u.default,{as:(0,Q.jsx)(R.default,{name:"minuscircle"}),size:4,color:"#102A43"})}),(0,Q.jsx)(i.default,{flex:1,textAlign:"center",color:"white",children:t}),(0,Q.jsx)(h.default,{onPressIn:r,children:(0,Q.jsx)(u.default,{as:(0,Q.jsx)(T.default,{name:"menu"}),size:4,color:"#102A43"})})]})},onDragEnd:(0,S.useCallback)((function(e){var t=e.data;return oe(t)}),[])})})]})}),(0,Q.jsx)(f.Modal.Footer,{borderTopWidth:0,children:(0,Q.jsxs)(g.default,{space:5,flex:1,children:[(0,Q.jsx)(s.Button,{onPress:ge,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"Close"}),(0,Q.jsx)(s.Button,{onPress:be,flex:1,size:"sm",borderRadius:5,children:"Save"})]})})]})}),(0,Q.jsx)(f.Modal,{isOpen:G,onClose:je,children:(0,Q.jsxs)(f.Modal.Content,{children:[(0,Q.jsx)(f.Modal.CloseButton,{}),(0,Q.jsx)(f.Modal.Header,{borderBottomWidth:0,children:(0,Q.jsx)(i.default,{color:"#102A43",bold:!0,children:"Save Order?"})}),(0,Q.jsx)(f.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,Q.jsx)(i.default,{children:"Are you sure you want to save changes?"})}),(0,Q.jsx)(f.Modal.Footer,{borderTopWidth:0,children:(0,Q.jsxs)(g.default,{space:5,flex:1,children:[(0,Q.jsx)(s.Button,{onPress:je,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"No"}),(0,Q.jsx)(s.Button,{onPress:ue,flex:1,size:"sm",borderRadius:5,isLoading:!!$,children:"Yes"})]})})]})}),(0,Q.jsx)(f.Modal,{isOpen:E,onClose:xe,initialFocusRef:b,children:(0,Q.jsxs)(f.Modal.Content,{children:[(0,Q.jsx)(f.Modal.CloseButton,{}),(0,Q.jsx)(f.Modal.Header,{borderBottomWidth:0,children:(0,Q.jsxs)(i.default,{color:"#102A43",bold:!0,children:["Add ",x]})}),(0,Q.jsx)(f.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,Q.jsx)(m.default,{textAlign:"center",w:"full",ref:b,multiline:!0,onChangeText:j,totalLines:4,placeholder:"Enter your data, separated by new lines"})}),(0,Q.jsx)(f.Modal.Footer,{borderTopWidth:0,children:(0,Q.jsxs)(g.default,{space:5,flex:1,children:[(0,Q.jsx)(s.Button,{onPress:xe,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"Close"}),(0,Q.jsx)(s.Button,{onPress:Ce,isLoading:!!$,flex:1,size:"sm",borderRadius:5,children:"Add"})]})})]})}),(0,Q.jsx)(f.Modal,{isOpen:O,onClose:pe,children:(0,Q.jsxs)(f.Modal.Content,{bgColor:"green.100",children:[(0,Q.jsx)(f.Modal.Header,{borderBottomWidth:0,bgColor:"green.100",children:(0,Q.jsx)(i.default,{textAlign:"center",color:"#102A43",bold:!0,children:"\ud83d\ude0a\ud83d\ude0e Success! \ud83d\ude0e\ud83d\ude0a"})}),(0,Q.jsx)(f.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"green.200",borderLeftWidth:4,borderLeftColor:"green.600",margin:5,children:(0,Q.jsxs)(c.default,{flex:1,children:[(0,Q.jsx)(i.default,{color:"green.600",bold:!0,children:"Added successfully!"}),(0,Q.jsx)(i.default,{color:"green.600",children:"Added successfully!"})]})}),(0,Q.jsx)(f.Modal.Footer,{borderTopWidth:0,bgColor:"green.100",children:(0,Q.jsx)(g.default,{space:5,flex:1,children:(0,Q.jsx)(s.Button,{colorScheme:"success",flex:"1",onPress:pe,_text:{color:"white"},children:"Ok"})})})]})})]})},me=function(){var e=D.default.get("window").width,t=(0,J.useDispatch)(),r=(0,S.useState)(le),o=(0,a.default)(r,2),n=o[0],l=o[1],s=function(e){e!==n&&t((0,Z.setLoadingModalVisible)(!0)),t((0,Z.setSelectedButton)(e)),l(e)};return(0,Q.jsxs)(P.default,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center",width:e>=960?"50%":"90%"},children:[(0,Q.jsxs)(v.default,{onPress:function(){return s("countries")},style:{borderRadius:5,flex:1,padding:10,margin:10,borderWidth:1,borderColor:"white",backgroundColor:"countries"===n?"#0642F4":"transparent",flexDirection:"row"},children:[(0,Q.jsx)(B.default,{name:"flag",size:20,color:"countries"===n?"white":"black"}),(0,Q.jsx)(i.default,{style:{color:"countries"===n?"white":"black",fontWeight:"bold",marginLeft:5},children:"Countries"})]}),(0,Q.jsxs)(v.default,{onPress:function(){return s("ports")},style:{borderRadius:5,flex:1,padding:10,margin:10,borderWidth:1,borderColor:"white",backgroundColor:"ports"===n?"#0642F4":"transparent",flexDirection:"row"},children:[(0,Q.jsx)(B.default,{name:"directions-boat",size:20,color:"ports"===n?"white":"black"}),(0,Q.jsx)(i.default,{style:{color:"ports"===n?"white":"black",fontWeight:"bold",marginLeft:5},children:"Ports"})]})]})},xe=function(e){e.defaultValue;var t=e.portCode,r=e.page,o=e.searchQuery,s=(0,S.useState)(""),d=(0,a.default)(s,2),c=d[0],u=d[1],f=(0,J.useSelector)((function(e){return e.methodData})),h=(0,J.useDispatch)(),g=(0,x.useToast)(),m="",b=function(){var e=(0,n.default)((function*(e,t){var r=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","PortsDoc");h((0,Z.setLoadingModalVisible)(!0));var o=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,n=Y()(o).format("YYYY/MM/DD [at] HH:mm:ss"),a=Y()(o).format("YYYY"),s=Y()(o).format("MM"),d=Y()(o).format("MM/DD"),u=Y()(o).format("YYYY/MM/DD"),f=Y()(o).format("DD"),x=Y()(o).format("HH:mm");if(""!==t&&"__NativeBasePlaceHolder__"!==t){var p=e.replace(/\./g,"_")+".method";try{if(m==c)h((0,Z.setLoadingModalVisible)(!1));else{yield(0,H.updateDoc)(r,(0,l.default)({},p,t)),h((0,Z.setLoadingModalVisible)(!1));var y={message:'Method Updated: "'+ne.text+'" updated "'+e+'" method to "'+t+'"',timestamp:n,colorScheme:!0,keywords:[n.toLowerCase(),('Method Updated: "'+ne.text+'" updated "'+e+'" inspection to "'+t+'"').toLowerCase(),"Method".toLowerCase(),"Method Updated".toLowerCase(),"Updated".toLowerCase(),e.toLowerCase(),t.toLowerCase(),ne.text.toLowerCase(),a.toLowerCase(),s.toLowerCase(),d.toLowerCase(),u.toLowerCase(),f.toLowerCase(),x.toLowerCase()]};he(y),g.show({render:function(){return(0,Q.jsx)(P.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,Q.jsx)(i.default,{style:{color:"white"},children:"Method updated successfully"})})}}),console.log("Method updated successfully")}}catch(b){console.error("Error updating method:",b)}}else h((0,Z.setLoadingModalVisible)(!1))}));return function(t,r){return e.apply(this,arguments)}}();return(0,S.useEffect)((function(){var e=t.replace(/\./g,"_"),r=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","PortsDoc"),o=(0,H.onSnapshot)(r,(function(t){if(t.exists()){var r=t.data()[e];if(r&&r.method){var o=r.method;u(o),m=o}else u("__NativeBasePlaceHolder__")}else console.log("No such document!")}),(function(e){console.error("Error getting document: ",e)}));return function(){return o()}}),[r,o]),(0,Q.jsxs)(P.default,{style:{flexDirection:"row",width:"100%"},children:[(0,Q.jsx)(p.default,{selectedValue:c,onValueChange:function(e){u(e)},bgColor:"white",flex:1,accessibilityLabel:"---",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,Q.jsx)(y.CheckIcon,{})},children:f.map((function(e){return(0,Q.jsx)(p.default.Item,{label:e,value:e},e)}))}),(0,Q.jsx)(F.default,{onPress:function(){return b(t,c)},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})]})},pe=function(e){var t=e.width,r=(e.defaultValue,e.countryCode),o=e.page,s=e.searchQuery,d=(0,S.useState)(""),c=(0,a.default)(d,2),u=c[0],f=c[1],h=(0,J.useSelector)((function(e){return e.inspectionIsRequiredData})),g=(0,J.useDispatch)(),m=(0,x.useToast)(),b="",j=function(){var e=(0,n.default)((function*(e,t){var r=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","CountriesDoc");g((0,Z.setLoadingModalVisible)(!0));var o=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,n=Y()(o).format("YYYY/MM/DD [at] HH:mm:ss"),a=Y()(o).format("YYYY"),s=Y()(o).format("MM"),d=Y()(o).format("MM/DD"),c=Y()(o).format("YYYY/MM/DD"),f=Y()(o).format("DD"),h=Y()(o).format("HH:mm");if(""!==t){var x=e.replace(/\./g,"_")+".inspectionIsRequired";try{if(b==u)g((0,Z.setLoadingModalVisible)(!1));else{yield(0,H.updateDoc)(r,(0,l.default)({},x,t)),g((0,Z.setLoadingModalVisible)(!1));var p={message:'Inspection Updated: "'+ne.text+'" updated "'+e+'" inspection to "'+t+'"',timestamp:n,colorScheme:!0,keywords:[n.toLowerCase(),('Inspection Updated: "'+ne.text+'" updated "'+e+'" inspection to "'+t+'"').toLowerCase(),"Inspection".toLowerCase(),"Inspection Updated".toLowerCase(),"Updated".toLowerCase(),e.toLowerCase(),t.toLowerCase(),ne.text.toLowerCase(),a.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),f.toLowerCase(),h.toLowerCase()]};he(p),m.show({render:function(){return(0,Q.jsx)(P.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,Q.jsx)(i.default,{style:{color:"white"},children:"Inspection updated successfully"})})}}),console.log("Inspection updated successfully")}}catch(y){console.error("Error updating inspection:",y)}}else g((0,Z.setLoadingModalVisible)(!1))}));return function(t,r){return e.apply(this,arguments)}}();return(0,S.useEffect)((function(){var e=r.replace(/\./g,"_"),t=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","CountriesDoc"),o=(0,H.onSnapshot)(t,(function(t){if(t.exists()){var r=t.data()[e];if(r&&r.inspectionIsRequired){var o=r.inspectionIsRequired;f(o),b=o}}else console.log("No such document!")}),(function(e){console.error("Error getting document: ",e)}));return function(){return o()}}),[o,s]),(0,Q.jsxs)(P.default,{style:{flexDirection:"row",width:t},children:[(0,Q.jsx)(p.default,{selectedValue:u,onValueChange:function(e){f(e)},bgColor:"white",flex:1,accessibilityLabel:"---",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,Q.jsx)(y.CheckIcon,{})},children:h.map((function(e){return(0,Q.jsx)(p.default.Item,{label:e,value:e},e)}))}),(0,Q.jsx)(F.default,{onPress:function(){return j(r,u)},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})]})},ye=function(e){var t=e.width,r=(e.defaultValue,e.countryCode),o=e.page,s=e.searchQuery,d=(0,S.useState)(""),c=(0,a.default)(d,2),u=c[0],f=c[1],h=(0,J.useSelector)((function(e){return e.inspectionNameData})),g=(0,J.useDispatch)(),m=(0,x.useToast)(),b="",j=function(){var e=(0,n.default)((function*(e,t){var r=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","CountriesDoc");g((0,Z.setLoadingModalVisible)(!0));var o=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,n=Y()(o).format("YYYY/MM/DD [at] HH:mm:ss"),a=Y()(o).format("YYYY"),s=Y()(o).format("MM"),d=Y()(o).format("MM/DD"),c=Y()(o).format("YYYY/MM/DD"),f=Y()(o).format("DD"),h=Y()(o).format("HH:mm");if(""!==t){var x=e.replace(/\./g,"_")+".inspectionName";try{if(b==u)g((0,Z.setLoadingModalVisible)(!1));else{yield(0,H.updateDoc)(r,(0,l.default)({},x,t)),g((0,Z.setLoadingModalVisible)(!1));var p={message:'Inspection Name Updated: "'+ne.text+'" updated "'+e+'" inspection name to "'+t+'"',timestamp:n,colorScheme:!0,keywords:[n.toLowerCase(),('Inspection Name Updated: "'+ne.text+'" updated "'+e+'" inspection name to "'+t+'"').toLowerCase(),"Inspection Name".toLowerCase(),"Inspection".toLowerCase(),"Inspection Name Updated".toLowerCase(),"Name".toLowerCase(),"Updated".toLowerCase(),t.toLowerCase(),e.toLowerCase(),ne.text.toLowerCase(),a.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),f.toLowerCase(),h.toLowerCase()]};he(p),m.show({render:function(){return(0,Q.jsx)(P.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,Q.jsx)(i.default,{style:{color:"white"},children:"Inspection Name updated successfully"})})}}),console.log("Inspection Name updated successfully")}}catch(y){console.error("Error updating inspection:",y)}}else g((0,Z.setLoadingModalVisible)(!1))}));return function(t,r){return e.apply(this,arguments)}}();return(0,S.useEffect)((function(){var e=r.replace(/\./g,"_"),t=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","CountriesDoc"),o=(0,H.onSnapshot)(t,(function(t){if(t.exists()){var r=t.data()[e];if(r&&r.inspectionName){var o=r.inspectionName;f(o),b=o}else f("__NativeBasePlaceHolder__"),b="__NativeBasePlaceHolder__"}else console.log("No such document!")}),(function(e){console.error("Error getting document: ",e)}));return function(){return o()}}),[o,s]),(0,Q.jsxs)(P.default,{style:{flexDirection:"row",width:t},children:[(0,Q.jsx)(p.default,{selectedValue:u,onValueChange:function(e){f(e)},bgColor:"white",flex:1,accessibilityLabel:"---",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,Q.jsx)(y.CheckIcon,{})},children:h.map((function(e){return(0,Q.jsx)(p.default.Item,{label:e,value:e},e)}))}),(0,Q.jsx)(F.default,{onPress:function(){return j(r,u)},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})]})},be=function(){var e=(0,n.default)((function*(e,t,r){var o=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","PortsDoc"),n=(0,l.default)({},e,{country:t,sortOrder:r,method:""});try{yield(0,H.setDoc)(o,n,{merge:!0}),console.log("Country added/updated successfully!")}catch(a){console.error("Error adding/updating country: ",a)}}));return function(t,r,o){return e.apply(this,arguments)}}(),je=function(){var e=(0,n.default)((function*(e,t,r,o){var n=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","CountriesDoc"),a=(0,l.default)({},e,{inspectionIsRequired:t,inspectionName:r,sortOrder:o});try{yield(0,H.setDoc)(n,a,{merge:!0}),console.log("Country added/updated successfully!")}catch(i){console.error("Error adding/updating country: ",i)}}));return function(t,r,o,n){return e.apply(this,arguments)}}(),Ce=function(e){var t=e.handleAddCountryModalClose,r=(0,J.useSelector)((function(e){return e.addCountryModalVisible})),o=((0,J.useSelector)((function(e){return e.inspectionIsRequiredData})),(0,J.useSelector)((function(e){return e.inspectionNameData})),(0,S.useRef)(null)),l=((0,S.useRef)(null),(0,S.useRef)(null),(0,J.useDispatch)()),c=(0,x.useToast)(),u=(0,S.useState)(!1),h=(0,a.default)(u,2),g=h[0],m=h[1],p=function(){var e=(0,n.default)((function*(){var e,t;m(!0);var r=null==(e=o.current)?void 0:e.value,n=r.replace(/\./g,"_"),a=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,s=Y()(a).format("YYYY/MM/DD [at] HH:mm:ss"),d=Y()(a).format("YYYY"),u=Y()(a).format("MM"),f=Y()(a).format("MM/DD"),h=Y()(a).format("YYYY/MM/DD"),g=Y()(a).format("DD"),x=Y()(a).format("HH:mm");if(""!==(null==(t=o.current)?void 0:t.value))try{yield je(n,"Not-Required","",999);var p={message:'Country Added: "'+ne.text+'" added country "'+r+'" for Freight.',timestamp:s,colorScheme:!0,keywords:[s.toLowerCase(),('Country Added: "'+ne.text+'" added country "'+r+'" for Freight.').toLowerCase(),"Country".toLowerCase(),"Country Added".toLowerCase(),"Added".toLowerCase(),"Freight".toLowerCase(),r.toLowerCase(),ne.text.toLowerCase(),d.toLowerCase(),u.toLowerCase(),f.toLowerCase(),h.toLowerCase(),g.toLowerCase(),x.toLowerCase()]};he(p),c.show({render:function(){return(0,Q.jsx)(P.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,Q.jsx)(i.default,{style:{color:"white"},children:"Country added successfully!"})})}}),l((0,Z.setAddCountryModalVisible)(!1)),m(!1)}catch(y){console.error(y)}else m(!1)}));return function(){return e.apply(this,arguments)}}();return(0,Q.jsx)(f.Modal,{isOpen:r,onClose:function(){t(),o.current.value=""},size:"md",children:(0,Q.jsxs)(f.Modal.Content,{children:[(0,Q.jsx)(f.Modal.CloseButton,{}),(0,Q.jsx)(f.Modal.Header,{style:{backgroundColor:"#7B9CFF"},children:(0,Q.jsx)(i.default,{color:"white",fontSize:20,bold:!0,children:"Add Country"})}),(0,Q.jsx)(f.Modal.Body,{children:(0,Q.jsxs)(P.default,{style:{marginVertical:5},children:[(0,Q.jsx)(P.default,{style:{backgroundColor:"#7B9CFF",flex:1},children:(0,Q.jsx)(i.default,{bold:!0,color:"white",marginLeft:1,children:"Country"})}),(0,Q.jsx)(E.default,{ref:o,onChangeText:function(){return function(e){var t=e.current.value,r=t.replace(/[^a-zA-Z0-9. ]/g,"");t!==r&&e.current.setNativeProps({text:r})}(o)},style:{outlineStyle:"none",flex:1,padding:5,backgroundColor:"white",borderBottomLeftRadius:5,borderBottomRightRadius:5,placeholderTextColor:"#ACADA3",borderColor:"#D4D4D4",borderWidth:1},placeholder:"Input Country"})]})}),(0,Q.jsx)(f.Modal.Footer,{children:(0,Q.jsxs)(s.Button.Group,{variant:"solid",space:"2",children:[(0,Q.jsx)(s.Button,{colorScheme:"gray",onPress:function(){t(),o.current.value=""},children:"Cancel"}),g?(0,Q.jsx)(d.default,{size:"lg",color:"#16A34A"}):(0,Q.jsx)(s.Button,{colorScheme:"success",onPress:p,children:"Add"})]})})]})})},we=function(){var e=(0,J.useSelector)((function(e){return e.selectedButton}));return"countries"===e?(0,Q.jsx)(ve,{}):"ports"===e?(0,Q.jsx)(Ae,{}):void 0},Se=function(e){var t=e.handleAddPortsForCountriesModalClose,r=(e.handleAddPortsForCountriesModalOpen,(0,J.useSelector)((function(e){return e.addPortsForCountriesModalVisible}))),c=((0,J.useSelector)((function(e){return e.countryPortsData})),(0,S.useState)([])),h=(0,a.default)(c,2),m=h[0],p=h[1],y=(0,S.useState)(!1),b=(0,a.default)(y,2),j=(b[0],b[1],(0,S.useState)(!1)),C=(0,a.default)(j,2),w=C[0],D=C[1],M=(0,S.useState)(!1),A=(0,a.default)(M,2),L=(A[0],A[1],(0,S.useState)(!1)),F=(0,a.default)(L,2),E=(F[0],F[1],(0,S.useState)(!1)),B=(0,a.default)(E,2),I=B[0],z=B[1],W=(0,S.useState)(!1),O=(0,a.default)(W,2),V=(O[0],O[1]),_=(0,J.useDispatch)(),G=(0,x.useToast)();(0,S.useEffect)((function(){var e=ie.replace(/\./g,"_"),t=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","CountriesDoc"),r=(0,H.onSnapshot)(t,(function(t){if(t.exists()){var r=t.data()[e];if(r&&r.nearestPorts){var o=r.nearestPorts;p(o)}else p([])}else console.log("No such document!")}),(function(e){console.error("Error getting document: ",e)}));return function(){return r()}}),[r]);var q=(0,S.useCallback)((function(e){p((function(t){return t.filter((function(t){return t!==e}))}))}),[]),$=(0,S.useCallback)((function(){D(!0),t(),V(!0)}),[]),X=(0,S.useCallback)((function(){D(!1),_((0,Z.setAddPortsForCountriesModalVisible)(!0))}),[]),ee=function(){var e=(0,n.default)((function*(e){var r=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","CountriesDoc");z(!0);var n=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,a=Y()(n).format("YYYY/MM/DD [at] HH:mm:ss"),s=Y()(n).format("YYYY"),d=Y()(n).format("MM"),c=Y()(n).format("MM/DD"),u=Y()(n).format("YYYY/MM/DD"),f=Y()(n).format("DD"),h=Y()(n).format("HH:mm");if(""!==se.ports){var g=ie.replace(/\./g,"_"),m=g+".nearestPorts";try{var x=yield(0,H.getDoc)(r);if(x.exists()){var p,y=(null==(p=x.data()[g])?void 0:p.nearestPorts)||[];if(y.includes(se.ports))console.log("Port already exists in the nearest ports list"),z(!1);else{yield(0,H.updateDoc)(r,(0,l.default)({},m,[].concat((0,o.default)(y),[se.ports])));var b={message:'Nearest Ports Added: "'+ne.text+'" added "'+se.ports+'" port to "'+ie+'"',timestamp:a,colorScheme:!0,keywords:[a.toLowerCase(),('Nearest Ports Added: "'+ne.text+'" added "'+se.ports+'" port to "'+ie+'"').toLowerCase(),"Nearest Ports".toLowerCase(),"Nearest".toLowerCase(),"Nearest Ports Added".toLowerCase(),"Ports".toLowerCase(),"Added".toLowerCase(),se.ports.toLowerCase(),ie.toLowerCase(),ne.text.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),f.toLowerCase(),h.toLowerCase()]};he(b),t(),G.show({render:function(){return(0,Q.jsx)(P.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,Q.jsx)(i.default,{style:{color:"white"},children:"Nearest Ports added successfully"})})}}),console.log("Nearest Ports added successfully"),z(!1),X()}}else console.log("No such document!"),z(!1)}catch(j){console.error("Error updating inspection:",j),z(!1)}}else _((0,Z.setLoadingModalVisible)(!1)),console.log(e)}));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=(0,n.default)((function*(e){var r=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","CountriesDoc");z(!0);var o=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,n=Y()(o).format("YYYY/MM/DD [at] HH:mm:ss"),a=Y()(o).format("YYYY"),s=Y()(o).format("MM"),d=Y()(o).format("MM/DD"),c=Y()(o).format("YYYY/MM/DD"),u=Y()(o).format("DD"),f=Y()(o).format("HH:mm");if(""!==e){var h=ie.replace(/\./g,"_")+".nearestPorts";try{yield(0,H.updateDoc)(r,(0,l.default)({},h,e)),_((0,Z.setLoadingModalVisible)(!1));var g={message:'Nearest Ports Updated: "'+ne.text+'" updated "'+ie+'" nearest ports',timestamp:n,colorScheme:!0,keywords:[n.toLowerCase(),('Nearest Ports Updated: "'+ne.text+'" updated "'+ie+'" nearest ports').toLowerCase(),"Nearest Ports".toLowerCase(),"Nearest".toLowerCase(),"Nearest Ports Updated".toLowerCase(),"Ports".toLowerCase(),"Updated".toLowerCase(),ie.toLowerCase(),ne.text.toLowerCase(),a.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),f.toLowerCase()]};he(g),t(),G.show({render:function(){return(0,Q.jsx)(P.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,Q.jsx)(i.default,{style:{color:"white"},children:"Nearest Ports updated successfully"})})}}),console.log("Nearest Ports updated successfully"),z(!1)}catch(m){console.error("Error updating inspection:",m),z(!1)}}else _((0,Z.setLoadingModalVisible)(!1)),console.log(e)}));return function(t){return e.apply(this,arguments)}}();return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(f.Modal,{isOpen:r,onClose:t,children:(0,Q.jsxs)(f.Modal.Content,{children:[(0,Q.jsx)(f.Modal.CloseButton,{}),(0,Q.jsx)(f.Modal.Header,{borderBottomWidth:0,children:(0,Q.jsxs)(i.default,{color:"#102A43",bold:!0,children:["Manage ports for ",ie]})}),(0,Q.jsx)(f.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,Q.jsxs)(P.default,{style:{width:"100%"},children:[(0,Q.jsx)(P.default,{style:{alignItems:"flex-end"},children:(0,Q.jsx)(v.default,{onPress:$,children:(0,Q.jsx)(u.default,{as:(0,Q.jsx)(k.default,{name:"plus-circle"}),size:5,color:"#102A43"})})}),(0,Q.jsx)(P.default,{style:{flex:1,borderWidth:1,borderColor:"#102A43",borderRadius:5},children:(0,Q.jsx)(K.default,{style:{alignContent:"center",flex:1},data:m,keyExtractor:function(e){return e},renderItem:function(e){var t=e.item,r=e.drag;return(0,Q.jsxs)(P.default,{style:{flex:1,backgroundColor:"rgba(16,42,67, 0.5)",borderBottomWidth:1,borderBottomColor:"#A8A29E",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[(0,Q.jsx)(v.default,{onPress:function(){return q(t)},children:(0,Q.jsx)(u.default,{as:(0,Q.jsx)(R.default,{name:"minuscircle"}),size:4,color:"#102A43"})}),(0,Q.jsx)(i.default,{flex:1,textAlign:"center",color:"white",children:t}),(0,Q.jsx)(v.default,{onPressIn:r,children:(0,Q.jsx)(u.default,{as:(0,Q.jsx)(T.default,{name:"menu"}),size:4,color:"#102A43"})})]})},onDragEnd:(0,S.useCallback)((function(e){var t=e.data;return p(t)}),[])})})]})}),(0,Q.jsx)(f.Modal.Footer,{borderTopWidth:0,children:(0,Q.jsxs)(g.default,{space:5,flex:1,children:[(0,Q.jsx)(s.Button,{onPress:t,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"Close"}),I?(0,Q.jsx)(s.Button,{flex:1,size:"sm",borderRadius:5,colorScheme:"success",disabled:!0,children:(0,Q.jsx)(d.default,{size:18,color:"white",flex:1,borderRadius:5})}):(0,Q.jsx)(s.Button,{onPress:function(){return te(m)},flex:1,size:"sm",borderRadius:5,colorScheme:"success",children:"Save"})]})})]})}),(0,Q.jsx)(f.Modal,{isOpen:w,onClose:X,children:(0,Q.jsxs)(f.Modal.Content,{children:[(0,Q.jsx)(f.Modal.CloseButton,{}),(0,Q.jsx)(f.Modal.Header,{borderBottomWidth:0,children:(0,Q.jsxs)(i.default,{color:"#102A43",bold:!0,children:["Add Ports for ",ie]})}),(0,Q.jsx)(f.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,Q.jsx)(ue,{modalAddOpen:w})}),(0,Q.jsx)(f.Modal.Footer,{borderTopWidth:0,children:(0,Q.jsxs)(g.default,{space:5,flex:1,children:[(0,Q.jsx)(s.Button,{onPress:X,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"Close"}),(0,Q.jsx)(s.Button,{onPress:function(){return ee()},isLoading:!!I,flex:1,size:"sm",borderRadius:5,colorScheme:"success",children:"Add"})]})})]})})]})},De=function(e){var t=e.handleDeleteCountryModalClose,r=(0,J.useSelector)((function(e){return e.deleteCountryModalVisible})),o=(0,S.useState)(!1),s=(0,a.default)(o,2),c=s[0],u=s[1],h=function(){var e=(0,n.default)((function*(){u(!0);var e=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","CountriesDoc"),r=ie.replace(/\./g,"_"),o=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,n=Y()(o).format("YYYY/MM/DD [at] HH:mm:ss"),a=Y()(o).format("YYYY"),i=Y()(o).format("MM"),s=Y()(o).format("MM/DD"),d=Y()(o).format("YYYY/MM/DD"),c=Y()(o).format("DD"),f=Y()(o).format("HH:mm");(0,H.updateDoc)(e,(0,l.default)({},r,(0,H.deleteField)())).then((function(){console.log("Field deleted successfully"),t(),u(!1);var e={message:'Country Deleted: "'+ne.text+'" deleted country "'+ie+'" for Freight.',timestamp:n,colorScheme:!1,keywords:[n.toLowerCase(),('Country Deleted: "'+ne.text+'" deleted country "'+ie+'" for Freight.').toLowerCase(),"Country".toLowerCase(),"Country Deleted".toLowerCase(),"Deleted".toLowerCase(),"Freight".toLowerCase(),ie.toLowerCase(),ne.text.toLowerCase(),a.toLowerCase(),i.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),f.toLowerCase()]};he(e)})).catch((function(e){console.error("Error deleting field: ",e)}))}));return function(){return e.apply(this,arguments)}}();return(0,Q.jsx)(f.Modal,{isOpen:r,onClose:t,children:(0,Q.jsxs)(f.Modal.Content,{children:[(0,Q.jsx)(f.Modal.CloseButton,{}),(0,Q.jsx)(f.Modal.Header,{children:"Delete Country?"}),(0,Q.jsx)(f.Modal.Body,{children:"Are you sure you want to delete the selected country?"}),(0,Q.jsx)(f.Modal.Footer,{children:(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row"},children:[(0,Q.jsx)(v.default,{style:{flex:1,backgroundColor:"#525252",padding:5,borderRadius:5,margin:5},onPress:t,children:(0,Q.jsx)(i.default,{style:{color:"white",alignSelf:"center"},children:"No"})}),c?(0,Q.jsx)(v.default,{style:{flex:1,backgroundColor:"#DC2626",padding:5,borderRadius:5,margin:5},children:(0,Q.jsx)(d.default,{size:18,color:"white"})}):(0,Q.jsx)(v.default,{style:{flex:1,backgroundColor:"#DC2626",padding:5,borderRadius:5,margin:5},onPress:h,children:(0,Q.jsx)(i.default,{style:{color:"white",alignSelf:"center"},children:"Yes"})})]})})]})})},ve=function(){var e=(0,J.useDispatch)(),t=[10,20,50],r=(0,J.useSelector)((function(e){return e.inspectionIsRequiredData})),o=(0,J.useSelector)((function(e){return e.inspectionNameData})),s=(0,S.useState)([]),d=(0,a.default)(s,2),c=d[0],u=d[1],f=(0,S.useState)(0),h=(0,a.default)(f,2),g=h[0],m=h[1],p=(0,S.useState)(t[0]),y=(0,a.default)(p,2),b=y[0],j=y[1],C=(0,S.useState)(""),M=(0,a.default)(C,2),A=M[0],L=M[1],I=(0,S.useState)([]),k=(0,a.default)(I,2),T=(k[0],k[1]),z=(0,S.useRef)(null),O=(0,S.useRef)([]),V=(0,x.useToast)(),_=(0,S.useRef)(null),G=(0,S.useRef)(null),q=D.default.get("window").width;(0,S.useEffect)((function(){m(0)}),[b]);var K=(0,S.useMemo)((function(){return c.filter((function(e){return e.country.toLowerCase().includes(A.toLowerCase())||e.inspectionName.toLowerCase().includes(A.toLowerCase())||e.inspectionIsRequired.toLowerCase().includes(A.toLowerCase())||e.sortOrder.toString().includes(A)}))}),[A,c]),X=(0,S.useMemo)((function(){var e=g*b,t=e+b;return K.slice(e,t)}),[g,b,A,c,K]),ee=(0,W.debounce)((function(){var e;L(null==(e=z.current)?void 0:e.value)}),50),re=g*b,oe=Math.min(re+b,c.length);(0,S.useEffect)((function(){var t=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","CountriesDoc");e((0,Z.setLoadingModalVisible)(!0));var r=(0,H.onSnapshot)(t,(function(t){if(t.exists()){var r=t.data(),o=Object.keys(r).map((function(e){return te({country:e.replace(/_/g,".")},r[e])})).sort((function(e,t){return e.sortOrder-t.sortOrder}));u(o),T(o),e((0,Z.setLoadingModalVisible)(!1))}else console.log("No such document!")}),(function(e){console.error("Error fetching countries: ",e)}));return function(){return r()}}),[]);var le=function(){e((0,Z.setAddCountryModalVisible)(!0))},ae=function(){e((0,Z.setAddCountryModalVisible)(!1))},se=function(t,r){e((0,Z.setAddPortsForCountriesModalVisible)(!0)),e((0,Z.setCountryPortsData)(t)),ie=r},de=function(){e((0,Z.setAddPortsForCountriesModalVisible)(!1))};(0,S.useEffect)((function(){X.forEach((function(e){O.current[e.country].value=e.sortOrder?e.sortOrder:0}))}),[X,q]);var ce=function(){var t=(0,n.default)((function*(t,r,o){var n=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,a=Y()(n).format("YYYY/MM/DD [at] HH:mm:ss"),s=Y()(n).format("YYYY"),d=Y()(n).format("MM"),c=Y()(n).format("MM/DD"),u=Y()(n).format("YYYY/MM/DD"),f=Y()(n).format("DD"),h=Y()(n).format("HH:mm"),g=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","CountriesDoc");if(e((0,Z.setLoadingModalVisible)(!0)),""!==r){var m=t.replace(/\./g,"_")+".sortOrder";try{yield(0,H.updateDoc)(g,(0,l.default)({},m,r));var x={message:'Sort Order Updated: "'+ne.text+'" updated "'+t+'" sort order to "'+r+'".',timestamp:a,colorScheme:!0,keywords:[a.toLowerCase(),('Sort Order Updated: "'+ne.text+'" updated "'+t+'" sort order to "'+r+'"').toLowerCase(),"Sort".toLowerCase(),"Sort Order".toLowerCase(),"Sort Order Updated".toLowerCase(),"Order Updated".toLowerCase(),"Order".toLowerCase(),"Updated".toLowerCase(),t.toLowerCase(),ne.text.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),f.toLowerCase(),h.toLowerCase()]};V.show({render:function(){return(0,Q.jsx)(P.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,Q.jsx)(i.default,{style:{color:"white"},children:"Sort order updated successfully!"})})}}),he(x),e((0,Z.setLoadingModalVisible)(!1)),console.log("Sort order updated successfully")}catch(p){console.error("Error updating sort order:",p)}}else e((0,Z.setLoadingModalVisible)(!1))}));return function(e,r,o){return t.apply(this,arguments)}}(),ue=function(e,t){var r=e.replace(/[^0-9]/g,"").slice(0,3);O.current[t.country].value=r},fe=function(t){e((0,Z.setDeleteCountryModalVisible)(!0)),ie=t},me=function(){e((0,Z.setDeleteCountryModalVisible)(!1))},xe=function(){var t=(0,n.default)((function*(t,r,o){var n=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","CountriesDoc");e((0,Z.setLoadingModalVisible)(!0));var a=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,s=Y()(a).format("YYYY/MM/DD [at] HH:mm:ss"),d=Y()(a).format("YYYY"),c=Y()(a).format("MM"),u=Y()(a).format("MM/DD"),f=Y()(a).format("YYYY/MM/DD"),h=Y()(a).format("DD"),g=Y()(a).format("HH:mm");if(""!==t){var m=o.replace(/\./g,"_")+".insurance";try{if(r==t)e((0,Z.setLoadingModalVisible)(!1));else{yield(0,H.updateDoc)(n,(0,l.default)({},m,t)),e((0,Z.setLoadingModalVisible)(!1));var x={message:'Insurance Updated: "'+ne.text+'" updated "'+o+'" insurance to "'+t+'"',timestamp:s,colorScheme:!0,keywords:[s.toLowerCase(),('Insurance Updated: "'+ne.text+'" updated "'+o+'" insurance to "'+t+'"').toLowerCase(),"Insurance".toLowerCase(),"Inspection".toLowerCase(),"Insurance Updated".toLowerCase(),"Updated".toLowerCase(),t.toString().toLowerCase(),o.toLowerCase(),ne.text.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),f.toLowerCase(),h.toLowerCase(),g.toLowerCase()]};he(x),V.show({render:function(){return(0,Q.jsx)(P.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,Q.jsx)(i.default,{style:{color:"white"},children:"Insurance updated successfully"})})}}),console.log("Insurance updated successfully")}}catch(p){console.error("Error updating inspection:",p)}}else e((0,Z.setLoadingModalVisible)(!1))}));return function(e,r,o){return t.apply(this,arguments)}}();return(0,Q.jsx)(Q.Fragment,{children:q>=1280?(0,Q.jsxs)(P.default,{style:{flex:1},children:[(0,Q.jsx)(P.default,{style:{padding:10},children:(0,Q.jsx)(E.default,{ref:z,onSubmitEditing:ee,style:{outlineStyle:"none",padding:10,backgroundColor:"white",borderRadius:5,placeholderTextColor:"#ACADA3"},placeholder:"Search",returnKeyType:"search",autoCapitalize:"none"})}),(0,Q.jsx)(P.default,{style:{paddingHorizontal:10,paddingTop:0,paddingBottom:0,alignItems:"flex-start"},children:(0,Q.jsxs)(v.default,{onPress:le,style:{borderRadius:5,padding:10,borderWidth:1,borderColor:"white",backgroundColor:"#16A34A",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,Q.jsx)(B.default,{name:"add",size:20,color:"white"}),(0,Q.jsx)(i.default,{style:{color:"white",fontWeight:"bold",marginLeft:5},children:"Add Country"})]})}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row",justifyContent:"space-between",borderBottomWidth:1,borderBottomColor:"#E4E4E7",backgroundColor:"#0642F4",padding:10,borderRadius:5,marginTop:10},children:[(0,Q.jsx)(P.default,{style:{flex:1,padding:2},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Country"})}),(0,Q.jsx)(P.default,{style:{flex:q<1700?2:1,padding:2},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Sort Order"})}),(0,Q.jsxs)(P.default,{style:{flex:q<1700?2:1,padding:2,flexDirection:"row"},children:[(0,Q.jsx)(ge,{collectionName:"CustomerCountryPort",docName:"InspectionIsRequiredDoc",handleAddTextChange:function(){var e,t=null==(e=_.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");_.current.setNativeProps({text:r})}},textAreaAdd:_,title:"Inspection",dataName:"inspectionIsRequiredData",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Inspection",data:r}),(0,Q.jsx)(i.default,{flex:1,style:{color:"white"},bold:!0,children:"Inspection"})]}),(0,Q.jsxs)(P.default,{style:{flex:q<1700?2:1,padding:2,flexDirection:"row"},children:[(0,Q.jsx)(ge,{collectionName:"CustomerCountryPort",docName:"InspectionNameDoc",handleAddTextChange:function(){var e,t=null==(e=G.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");G.current.setNativeProps({text:r})}},textAreaAdd:G,title:"Inspection Name",dataName:"inspectionNameData",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Inspection",data:o}),(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Inspection Name"})]}),(0,Q.jsx)(P.default,{style:{flex:1,padding:2},children:(0,Q.jsx)(i.default,{style:{color:"white",alignSelf:"center"},bold:!0,children:"Insurance"})}),(0,Q.jsx)(P.default,{style:{flex:q<1700?2:1,padding:2},children:(0,Q.jsx)(i.default,{style:{color:"white",alignSelf:"center"},bold:!0,children:"Nearest Port"})}),(0,Q.jsx)(P.default,{style:{flex:1,padding:2,justifyContent:"center",alignItems:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Operate"})})]}),(0,Q.jsxs)(w.default,{margin:[0,0,0,1,1,1],children:[X.map((function(e,t){return(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7",backgroundColor:"#BFDBFE",paddingVertical:10},children:[(0,Q.jsx)(i.default,{style:{flex:1,marginHorizontal:5},selectable:!0,children:e.country}),(0,Q.jsxs)(P.default,{style:{flex:q<1700?2:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:5},children:[(0,Q.jsx)(E.default,{ref:function(t){return O.current[e.country]=t},style:{outlineStyle:"none",padding:5,width:"20%",backgroundColor:"white",borderLeftColor:"#E4E4E7",borderLeftWidth:1},onSubmitEditing:function(){return ce(e.country,O.current[e.country].value,O)},onChangeText:function(t){return ue(t,e)}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return ce(e.country,O.current[e.country].value,O)},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]}),(0,Q.jsx)(P.default,{style:{flex:q<1700?2:1,marginHorizontal:5},children:(0,Q.jsx)(pe,{width:"70%",defaultValue:e.inspectionIsRequired,countryCode:e.country,page:g,searchQuery:A})}),(0,Q.jsx)(P.default,{style:{flex:q<1700?2:1,marginHorizontal:5},children:(0,Q.jsx)(ye,{width:"70%",defaultValue:e.inspectionName,countryCode:e.country,page:g,searchQuery:A})}),(0,Q.jsx)(P.default,{style:{flex:1,marginHorizontal:5,justifyContent:"center",alignItems:"center"},children:(0,Q.jsx)($.default,{size:25,fillColor:"#0642F4",unfillColor:"#FFFFFF",innerIconStyle:{borderWidth:2},textStyle:{fontFamily:"JosefinSans-Regular"},isChecked:!!e.insurance&&e.insurance,onPress:function(t){return xe(t,!!e.insurance&&e.insurance,e.country)}})}),(0,Q.jsx)(P.default,{style:{flexDirection:"row",flex:q<1700?2:1,marginHorizontal:5},children:(0,Q.jsxs)(v.default,{onPress:function(){return se(e.nearestPorts?e.nearestPorts:[],e.country)},style:{flex:1,backgroundColor:"#0891B2",padding:5,borderRadius:5,flexDirection:"row",justifyContent:"center",alignItems:"center",margin:5},children:[(0,Q.jsx)(B.default,{name:"directions-boat",size:20,color:"white"}),(0,Q.jsx)(i.default,{style:{alignSelf:"center",color:"white",marginLeft:3},children:"View Ports"})]})}),(0,Q.jsx)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,justifyContent:"center",alignItems:"center"},children:(0,Q.jsx)(P.default,{style:{borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return fe(e.country)},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#DC2626",borderRadius:5,padding:10,alignSelf:"center",height:"100%",justifyContent:"center",alignItems:"center"},children:(0,Q.jsx)(R.default,{name:"delete",color:"white",size:22})})})})]},t)})),(0,Q.jsx)(w.default.Pagination,{page:g,numberOfPages:Math.ceil(K.length/b),onPageChange:function(e){return m(e)},label:re+1+"-"+oe+" of "+K.length,optionsPerPage:t,itemsPerPage:b,setItemsPerPage:j,showFastPagination:!0,optionsLabel:"Rows per page"})]}),(0,Q.jsx)(Ce,{handleAddCountryModalClose:ae}),(0,Q.jsx)(Se,{handleAddPortsForCountriesModalClose:de,handleAddPortsForCountriesModalOpen:se}),(0,Q.jsx)(De,{handleDeleteCountryModalClose:me})]}):(0,Q.jsxs)(P.default,{style:{flex:1},children:[(0,Q.jsx)(P.default,{style:{padding:10},children:(0,Q.jsx)(E.default,{ref:z,onSubmitEditing:ee,style:{outlineStyle:"none",padding:10,backgroundColor:"white",borderRadius:5,placeholderTextColor:"#ACADA3"},placeholder:"Search",returnKeyType:"search",autoCapitalize:"none"})}),(0,Q.jsx)(P.default,{style:{paddingHorizontal:10,paddingTop:0,paddingBottom:0,alignItems:"flex-start"},children:(0,Q.jsxs)(v.default,{onPress:le,style:{borderRadius:5,padding:10,borderWidth:1,borderColor:"white",backgroundColor:"#16A34A",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,Q.jsx)(B.default,{name:"add",size:20,color:"white"}),(0,Q.jsx)(i.default,{style:{color:"white",fontWeight:"bold",marginLeft:5},children:"Add Country"})]})}),(0,Q.jsxs)(w.default,{margin:[0,0,0,1,1,1],children:[X.map((function(e,t){return(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"column",borderWidth:1,borderColor:"#E4E4E7",backgroundColor:"#BFDBFE",margin:10},children:[(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Country"})}),(0,Q.jsx)(P.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsx)(i.default,{selectable:!0,style:{marginLeft:3},children:e.country})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Sort Order"})}),(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:[(0,Q.jsx)(E.default,{ref:function(t){return O.current[e.country]=t},style:{outlineStyle:"none",padding:5,width:"100%",backgroundColor:"white",borderLeftColor:"#E4E4E7",borderLeftWidth:1},onSubmitEditing:function(){return ce(e.country,O.current[e.country].value,O)},onChangeText:function(t){return ue(t,e)}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return ce(e.country,O.current[e.country].value,O)},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Inspection"})}),(0,Q.jsx)(P.default,{style:{flex:1,justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsx)(pe,{width:"100%",defaultValue:e.inspectionIsRequired,countryCode:e.country,page:g,searchQuery:A})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Inspection Name"})}),(0,Q.jsx)(P.default,{style:{flex:1,justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsx)(ye,{width:"100%",defaultValue:e.inspectionName,countryCode:e.country,page:g,searchQuery:A})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Insurance"})}),(0,Q.jsx)(P.default,{style:{flex:1,justifyContent:"center",alignItems:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsx)($.default,{size:25,fillColor:"#0642F4",unfillColor:"#FFFFFF",innerIconStyle:{borderWidth:2},textStyle:{fontFamily:"JosefinSans-Regular"},isChecked:!!e.insurance&&e.insurance,onPress:function(t){return xe(t,!!e.insurance&&e.insurance,e.country)}})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Nearest Port"})}),(0,Q.jsx)(P.default,{style:{flex:1,justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsx)(P.default,{style:{flexDirection:"row",flex:1,marginHorizontal:5},children:(0,Q.jsxs)(v.default,{onPress:function(){return se(e.nearestPorts?e.nearestPorts:[],e.country)},style:{flex:1,backgroundColor:"#0891B2",padding:5,borderRadius:5,flexDirection:"row",justifyContent:"center",alignItems:"center",margin:5},children:[(0,Q.jsx)(B.default,{name:"directions-boat",size:20,color:"white"}),(0,Q.jsx)(i.default,{style:{alignSelf:"center",color:"white",marginLeft:3},children:"View Ports"})]})})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Operate"})}),(0,Q.jsx)(P.default,{style:{flex:1,justifyContent:"center"},children:(0,Q.jsx)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3},children:(0,Q.jsx)(P.default,{style:{flex:1,borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return fe(e.country)},underlayColor:"rgba(22, 163, 74, 0.3)",style:{flex:1,backgroundColor:"#DC2626",padding:5,borderRadius:5,flexDirection:"row",justifyContent:"center",alignItems:"center",margin:6},children:(0,Q.jsx)(R.default,{name:"delete",color:"white",size:22})})})})})]})]},t)})),(0,Q.jsx)(w.default.Pagination,{page:g,numberOfPages:Math.ceil(K.length/b),onPageChange:function(e){return m(e)},label:re+1+"-"+oe+" of "+K.length,optionsPerPage:t,itemsPerPage:b,setItemsPerPage:j,showFastPagination:!0,optionsLabel:"Rows per page"})]}),(0,Q.jsx)(Ce,{handleAddCountryModalClose:ae}),(0,Q.jsx)(Se,{handleAddPortsForCountriesModalClose:de,handleAddPortsForCountriesModalOpen:se}),(0,Q.jsx)(De,{handleDeleteCountryModalClose:me})]})})},Me=function(e){var t=e.handleAddPortModalClose,r=(0,J.useSelector)((function(e){return e.addPortModalVisible})),o=(0,S.useRef)(null),l=(0,S.useRef)(null),c=(0,J.useDispatch)(),u=(0,x.useToast)(),h=(0,S.useState)(!1),g=(0,a.default)(h,2),m=g[0],p=g[1],y=function(){var e=(0,n.default)((function*(){var e,t;if(p(!0),""!==(null==(e=o.current)?void 0:e.value)&&""!==(null==(t=l.current)?void 0:t.value)){null==(r=l.current)||r.value;var r,n,a=null==(n=o.current)?void 0:n.value,s=a.replace(/\./g,"_"),d=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,f=Y()(d).format("YYYY/MM/DD [at] HH:mm:ss"),h=Y()(d).format("YYYY"),g=Y()(d).format("MM"),m=Y()(d).format("MM/DD"),x=Y()(d).format("YYYY/MM/DD"),y=Y()(d).format("DD"),b=Y()(d).format("HH:mm");try{var j;yield be(s,null==(j=l.current)?void 0:j.value,9999);var C={message:'Port Added: "'+ne.text+'" added port "'+a+'" for Freight.',timestamp:f,colorScheme:!0,keywords:[f.toLowerCase(),('Port Added: "'+ne.text+'" added port "'+a+'" for Freight.').toLowerCase(),"Port".toLowerCase(),"Port Added".toLowerCase(),"Added".toLowerCase(),"Freight".toLowerCase(),a.toLowerCase(),ne.text.toLowerCase(),h.toLowerCase(),g.toLowerCase(),m.toLowerCase(),x.toLowerCase(),y.toLowerCase(),b.toLowerCase()]};he(C),u.show({render:function(){return(0,Q.jsx)(P.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,Q.jsx)(i.default,{style:{color:"white"},children:"Port added successfully!"})})}}),c((0,Z.setAddPortModalVisible)(!1)),p(!1)}catch(w){console.error(w)}}else p(!1)}));return function(){return e.apply(this,arguments)}}(),b=function(e){var t=e.current.value,r=t.replace(/[^a-zA-Z0-9. ]/g,"");t!==r&&e.current.setNativeProps({text:r})};return(0,Q.jsx)(f.Modal,{isOpen:r,onClose:function(){t(),o.current.value=""},size:"md",children:(0,Q.jsxs)(f.Modal.Content,{children:[(0,Q.jsx)(f.Modal.CloseButton,{}),(0,Q.jsx)(f.Modal.Header,{style:{backgroundColor:"#7B9CFF"},children:(0,Q.jsx)(i.default,{color:"white",fontSize:20,bold:!0,children:"Add Port"})}),(0,Q.jsx)(f.Modal.Body,{children:(0,Q.jsxs)(P.default,{style:{marginVertical:5},children:[(0,Q.jsx)(P.default,{style:{backgroundColor:"#7B9CFF",flex:1},children:(0,Q.jsx)(i.default,{bold:!0,color:"white",marginLeft:1,children:"Port"})}),(0,Q.jsx)(E.default,{ref:o,onChangeText:function(){return b(o)},style:{outlineStyle:"none",flex:1,padding:5,backgroundColor:"white",borderBottomLeftRadius:5,borderBottomRightRadius:5,placeholderTextColor:"#ACADA3",borderColor:"#D4D4D4",borderWidth:1},placeholder:"Input Port"}),(0,Q.jsx)(P.default,{style:{backgroundColor:"#7B9CFF",flex:1,marginTop:10},children:(0,Q.jsx)(i.default,{bold:!0,color:"white",marginLeft:1,children:"Country"})}),(0,Q.jsx)(E.default,{ref:l,onChangeText:function(){return b(l)},style:{outlineStyle:"none",flex:1,padding:5,backgroundColor:"white",borderBottomLeftRadius:5,borderBottomRightRadius:5,placeholderTextColor:"#ACADA3",borderColor:"#D4D4D4",borderWidth:1},placeholder:"Input Country"})]})}),(0,Q.jsx)(f.Modal.Footer,{children:(0,Q.jsxs)(s.Button.Group,{variant:"solid",space:"2",children:[(0,Q.jsx)(s.Button,{colorScheme:"gray",onPress:function(){t(),o.current.value=""},children:"Cancel"}),m?(0,Q.jsx)(d.default,{size:"lg",color:"#16A34A"}):(0,Q.jsx)(s.Button,{colorScheme:"success",onPress:y,children:"Add"})]})})]})})},Pe=function(e){var t=e.handleDeletePortModalClose,r=(0,J.useSelector)((function(e){return e.deletePortModalVisible})),o=(0,S.useState)(!1),s=(0,a.default)(o,2),c=s[0],u=s[1],h=function(){var e=(0,n.default)((function*(){u(!0);var e=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","PortsDoc"),r=ae.replace(/\./g,"_"),o=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,n=Y()(o).format("YYYY/MM/DD [at] HH:mm:ss"),a=Y()(o).format("YYYY"),i=Y()(o).format("MM"),s=Y()(o).format("MM/DD"),d=Y()(o).format("YYYY/MM/DD"),c=Y()(o).format("DD"),f=Y()(o).format("HH:mm");(0,H.updateDoc)(e,(0,l.default)({},r,(0,H.deleteField)())).then((function(){console.log("Field deleted successfully"),t(),u(!1);var e={message:'Port Deleted: "'+ne.text+'" deleted port "'+ae+'" for Freight.',timestamp:n,colorScheme:!1,keywords:[n.toLowerCase(),('Port Deleted: "'+ne.text+'" deleted port "'+ae+'" for Freight.').toLowerCase(),"Port".toLowerCase(),"Port Deleted".toLowerCase(),"Deleted".toLowerCase(),"Freight".toLowerCase(),ae.toLowerCase(),ne.text.toLowerCase(),a.toLowerCase(),i.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),f.toLowerCase()]};he(e)})).catch((function(e){console.error("Error deleting field: ",e)}))}));return function(){return e.apply(this,arguments)}}();return(0,Q.jsx)(f.Modal,{isOpen:r,onClose:t,children:(0,Q.jsxs)(f.Modal.Content,{children:[(0,Q.jsx)(f.Modal.CloseButton,{}),(0,Q.jsx)(f.Modal.Header,{children:"Delete Port?"}),(0,Q.jsx)(f.Modal.Body,{children:"Are you sure you want to delete the selected port?"}),(0,Q.jsx)(f.Modal.Footer,{children:(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row"},children:[(0,Q.jsx)(v.default,{style:{flex:1,backgroundColor:"#525252",padding:5,borderRadius:5,margin:5},onPress:t,children:(0,Q.jsx)(i.default,{style:{color:"white",alignSelf:"center"},children:"No"})}),c?(0,Q.jsx)(v.default,{style:{flex:1,backgroundColor:"#DC2626",padding:5,borderRadius:5,margin:5},children:(0,Q.jsx)(d.default,{size:18,color:"white"})}):(0,Q.jsx)(v.default,{style:{flex:1,backgroundColor:"#DC2626",padding:5,borderRadius:5,margin:5},onPress:h,children:(0,Q.jsx)(i.default,{style:{color:"white",alignSelf:"center"},children:"Yes"})})]})})]})})},Ae=function(){var e=(0,J.useDispatch)(),t=(0,J.useSelector)((function(e){return e.methodData})),r=(0,x.useToast)(),o=(0,S.useState)([]),s=(0,a.default)(o,2),d=s[0],c=s[1],u=(0,S.useState)(0),f=(0,a.default)(u,2),h=f[0],g=f[1],m=[10,20,50],p=(0,S.useState)(m[0]),y=(0,a.default)(p,2),b=y[0],j=y[1],C=(0,S.useState)(""),M=(0,a.default)(C,2),A=M[0],L=M[1],I=(0,S.useRef)(null),k=(0,S.useRef)(null),T=(0,S.useRef)([]),z=(0,S.useRef)([]),O=(0,S.useRef)([]),V=(0,S.useRef)([]),_=(0,S.useRef)([]),G=(0,S.useRef)([]),q=(0,S.useRef)([]),K=(0,S.useState)({}),$=(0,a.default)(K,2),X=($[0],$[1],D.default.get("window").width),ee=function(e,t){var r=e.replace(/[^0-9]/g,"").slice(0,3);T.current[t.ports].value=r},re=function(e,t){var r=e.replace(/[^0-9]/g,"").slice(0,4);z.current[t.ports].value=r},oe=function(){var t=(0,n.default)((function*(t,o,n,a,s){var d=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,c=Y()(d).format("YYYY/MM/DD [at] HH:mm:ss"),u=Y()(d).format("YYYY"),f=Y()(d).format("MM"),h=Y()(d).format("MM/DD"),g=Y()(d).format("YYYY/MM/DD"),m=Y()(d).format("DD"),x=Y()(d).format("HH:mm"),p=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","PortsDoc");if(e((0,Z.setLoadingModalVisible)(!0)),""!==o){var y=t.replace(/\./g,"_")+"."+s;try{yield(0,H.updateDoc)(p,(0,l.default)({},y,o));var b={message:a+' Updated: "'+ne.text+'" updated "'+t+'" '+a+' to "'+o+'".',timestamp:c,colorScheme:!0,keywords:[c.toLowerCase(),(a+' Updated: "'+ne.text+'" updated "'+t+'" '+a+' to "'+o+'"').toLowerCase(),"Sort".toLowerCase(),(""+a).toLowerCase(),(a+" Updated").toLowerCase(),"Updated".toLowerCase(),t.toLowerCase(),ne.text.toLowerCase(),u.toLowerCase(),f.toLowerCase(),h.toLowerCase(),g.toLowerCase(),m.toLowerCase(),x.toLowerCase()]};r.show({render:function(){return(0,Q.jsx)(P.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,Q.jsxs)(i.default,{style:{color:"white"},children:[a," updated successfully!"]})})}}),he(b),e((0,Z.setLoadingModalVisible)(!1)),console.log(a+" updated successfully")}catch(j){console.error("Error updating "+a+":",j)}}else e((0,Z.setLoadingModalVisible)(!1))}));return function(e,r,o,n,l){return t.apply(this,arguments)}}();(0,S.useEffect)((function(){g(0)}),[b]);var le=(0,S.useMemo)((function(){return d.filter((function(e){return e.country.toLowerCase().includes(A.toLowerCase())||e.ports.toLowerCase().includes(A.toLowerCase())||e.sortOrder.toString().includes(A)}))}),[A,d]),ie=(0,S.useMemo)((function(){var e=h*b,t=e+b;return le.slice(e,t)}),[h,b,A,d,le]),se=(0,W.debounce)((function(){var e;L(null==(e=I.current)?void 0:e.value)}),50),de=h*b,ce=Math.min(de+b,d.length);(0,S.useEffect)((function(){var t=(0,H.doc)(U.projectExtensionFirestore,"CustomerCountryPort","PortsDoc");e((0,Z.setLoadingModalVisible)(!0));var r=(0,H.onSnapshot)(t,(function(t){if(t.exists()){var r=t.data(),o=Object.keys(r).map((function(e){return te({ports:e.replace(/_/g,".")},r[e])})).sort((function(e,t){return e.sortOrder-t.sortOrder}));c(o),e((0,Z.setLoadingModalVisible)(!1))}else console.log("No such document!"),e((0,Z.setLoadingModalVisible)(!1))}),(function(e){console.error("Error fetching countries: ",e)}));return function(){return r()}}),[]);(0,S.useEffect)((function(){ie.forEach((function(e){q.current[e.ports].value=e.memo?e.memo:"",T.current[e.ports].value=e.sortOrder?e.sortOrder:0,z.current[e.ports].value=e.profitPrice?e.profitPrice:0,O.current[e.ports].value=e.nagoyaPrice?e.nagoyaPrice:0,V.current[e.ports].value=e.yokohamaPrice?e.yokohamaPrice:0,_.current[e.ports].value=e.kyushuPrice?e.kyushuPrice:0,G.current[e.ports].value=e.kobePrice?e.kobePrice:0}))}),[ie]);var ue=function(){e((0,Z.setAddPortModalVisible)(!0))},fe=function(){e((0,Z.setAddPortModalVisible)(!1))},me=function(t){e((0,Z.setDeletePortModalVisible)(!0)),ae=t},pe=function(){e((0,Z.setDeletePortModalVisible)(!1))};return(0,Q.jsx)(Q.Fragment,{children:X>=1280?(0,Q.jsxs)(P.default,{style:{flex:1},children:[(0,Q.jsx)(P.default,{style:{padding:10},children:(0,Q.jsx)(E.default,{ref:I,onSubmitEditing:se,style:{outlineStyle:"none",padding:10,backgroundColor:"white",borderRadius:5,placeholderTextColor:"#ACADA3"},placeholder:"Search",returnKeyType:"search",autoCapitalize:"none"})}),(0,Q.jsx)(P.default,{style:{paddingHorizontal:10,paddingTop:0,paddingBottom:0,alignItems:"flex-start"},children:(0,Q.jsxs)(v.default,{onPress:ue,style:{borderRadius:5,padding:10,borderWidth:1,borderColor:"white",backgroundColor:"#16A34A",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,Q.jsx)(B.default,{name:"add",size:20,color:"white"}),(0,Q.jsx)(i.default,{style:{color:"white",fontWeight:"bold",marginLeft:5},children:"Add Port"})]})}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row",justifyContent:"space-between",borderBottomWidth:1,borderBottomColor:"#E4E4E7",backgroundColor:"#0642F4",padding:10,borderRadius:5,marginTop:10},children:[(0,Q.jsx)(P.default,{style:{flex:1,padding:2},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Port Name"})}),(0,Q.jsx)(P.default,{style:{flex:1,padding:2},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Country"})}),(0,Q.jsx)(P.default,{style:{flex:1,padding:2},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Sort Order"})}),(0,Q.jsx)(P.default,{style:{flex:1,padding:2},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Price (USD)"})}),(0,Q.jsx)(P.default,{style:{flex:1,padding:2},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Nagoya"})}),(0,Q.jsx)(P.default,{style:{flex:1,padding:2},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Yokohama"})}),(0,Q.jsx)(P.default,{style:{flex:1,padding:2},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Kyushu"})}),(0,Q.jsx)(P.default,{style:{flex:1,padding:2},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Kobe"})}),(0,Q.jsxs)(P.default,{style:{flex:1,padding:2,flexDirection:"row"},children:[(0,Q.jsx)(ge,{collectionName:"CustomerCountryPort",docName:"MethodDoc",handleAddTextChange:function(){var e,t=null==(e=k.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");k.current.setNativeProps({text:r})}},textAreaAdd:k,title:"Method",dataName:"methodData",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Method",data:t}),(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Method"})]}),(0,Q.jsx)(P.default,{style:{flex:2,padding:2,justifyContent:"center",alignItems:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Memo"})}),(0,Q.jsx)(P.default,{style:{flex:1,padding:2,justifyContent:"center",alignItems:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Operate"})})]}),(0,Q.jsxs)(w.default,{margin:[0,0,0,1,1,1],children:[ie.map((function(e,t){return(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7",backgroundColor:"#BFDBFE",paddingVertical:10},children:[(0,Q.jsx)(i.default,{style:{flex:1,marginHorizontal:3},selectable:!0,children:e.ports}),(0,Q.jsx)(i.default,{style:{flex:1,marginHorizontal:3,alignSelf:"center"},selectable:!0,children:e.country}),(0,Q.jsx)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,borderLeftColor:"#E4E4E7"},children:[(0,Q.jsx)(E.default,{onChangeText:function(t){return ee(t,e)},onSubmitEditing:function(){return oe(e.ports,T.current[e.ports].value,T,"Sort Order","sortOrder")},ref:function(t){return T.current[e.ports]=t},style:{outlineStyle:"none",padding:5,width:"90%",backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,T.current[e.ports].value,T,"Sort Order","sortOrder")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]})}),(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:[(0,Q.jsx)(E.default,{onChangeText:function(t){return re(t,e)},onSubmitEditing:function(){return oe(e.ports,z.current[e.ports].value,z,"Profit Price","profitPrice")},ref:function(t){return z.current[e.ports]=t},style:{outlineStyle:"none",padding:5,width:"90%",backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderLeftColor:"#E4E4E7",borderLeftWidth:1}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,z.current[e.ports].value,z,"Profit Price","profitPrice")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]}),(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:[(0,Q.jsx)(E.default,{onSubmitEditing:function(){return oe(e.ports,O.current[e.ports].value,O,"Nagoya Price","nagoyaPrice")},ref:function(t){return O.current[e.ports]=t},style:{outlineStyle:"none",padding:5,width:"90%",backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderLeftColor:"#E4E4E7",borderLeftWidth:1}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,O.current[e.ports].value,O,"Nagoya Price","nagoyaPrice")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]}),(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:[(0,Q.jsx)(E.default,{onSubmitEditing:function(){return oe(e.ports,V.current[e.ports].value,V,"Yokohama Price","yokohamaPrice")},ref:function(t){return V.current[e.ports]=t},style:{outlineStyle:"none",padding:5,width:"90%",backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderLeftColor:"#E4E4E7",borderLeftWidth:1}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,V.current[e.ports].value,V,"Yokohama Price","yokohamaPrice")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]}),(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:[(0,Q.jsx)(E.default,{onSubmitEditing:function(){return oe(e.ports,_.current[e.ports].value,_,"Kyushu Price","kyushuPrice")},ref:function(t){return _.current[e.ports]=t},style:{outlineStyle:"none",padding:5,width:"90%",backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderLeftColor:"#E4E4E7",borderLeftWidth:1}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,_.current[e.ports].value,_,"Kyushu Price","kyushuPrice")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]}),(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:[(0,Q.jsx)(E.default,{onSubmitEditing:function(){return oe(e.ports,G.current[e.ports].value,G,"Kobe Price","kobePrice")},ref:function(t){return G.current[e.ports]=t},style:{outlineStyle:"none",padding:5,width:"90%",backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderLeftColor:"#E4E4E7",borderLeftWidth:1}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,G.current[e.ports].value,G,"Kobe Price","kobePrice")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]}),(0,Q.jsx)(P.default,{style:{flex:X<1800?2:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:(0,Q.jsx)(xe,{defaultValue:e.method,portCode:e.ports,page:h,searchQuery:A})}),(0,Q.jsxs)(P.default,{style:{flex:2,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3},children:[(0,Q.jsx)(E.default,{multiline:!0,ref:function(t){return q.current[e.ports]=t},style:{outlineStyle:"none",flex:2,height:60,paddingLeft:5,backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5}}),(0,Q.jsx)(P.default,{style:{borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,q.current[e.ports].value,q,"Memo","memo")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,alignSelf:"center",height:"100%",justifyContent:"center",alignItems:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]}),(0,Q.jsx)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,justifyContent:"center",alignItems:"center"},children:(0,Q.jsx)(P.default,{style:{borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return me(e.ports)},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#DC2626",borderRadius:5,padding:10,alignSelf:"center",height:"100%",justifyContent:"center",alignItems:"center"},children:(0,Q.jsx)(R.default,{name:"delete",color:"white",size:22})})})})]},t)})),(0,Q.jsx)(w.default.Pagination,{page:h,numberOfPages:Math.ceil(le.length/b),onPageChange:function(e){return g(e)},label:de+1+"-"+ce+" of "+le.length,optionsPerPage:m,itemsPerPage:b,setItemsPerPage:j,showFastPagination:!0,optionsLabel:"Rows per page"})]}),(0,Q.jsx)(Me,{handleAddPortModalClose:fe}),(0,Q.jsx)(Pe,{handleDeletePortModalClose:pe})]}):(0,Q.jsxs)(P.default,{style:{flex:1},children:[(0,Q.jsx)(P.default,{style:{padding:10},children:(0,Q.jsx)(E.default,{ref:I,onSubmitEditing:se,style:{outlineStyle:"none",padding:10,backgroundColor:"white",borderRadius:5,placeholderTextColor:"#ACADA3"},placeholder:"Search",returnKeyType:"search",autoCapitalize:"none"})}),(0,Q.jsx)(P.default,{style:{paddingHorizontal:10,paddingTop:0,paddingBottom:0,alignItems:"flex-start"},children:(0,Q.jsxs)(v.default,{onPress:ue,style:{borderRadius:5,padding:10,borderWidth:1,borderColor:"white",backgroundColor:"#16A34A",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:[(0,Q.jsx)(B.default,{name:"add",size:20,color:"white"}),(0,Q.jsx)(i.default,{style:{color:"white",fontWeight:"bold",marginLeft:5},children:"Add Port"})]})}),(0,Q.jsxs)(w.default,{margin:[0,0,0,1,1,1],children:[ie.map((function(e,t){return(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"column",borderWidth:1,borderColor:"#E4E4E7",backgroundColor:"#BFDBFE",margin:10},children:[(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Port Name"})}),(0,Q.jsx)(P.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsx)(i.default,{style:{flex:1,marginHorizontal:3},selectable:!0,children:e.ports})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Country"})}),(0,Q.jsx)(P.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsx)(i.default,{style:{flex:1,marginHorizontal:3},selectable:!0,children:e.country})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Sort Order"})}),(0,Q.jsx)(P.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsx)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,borderLeftColor:"#E4E4E7"},children:[(0,Q.jsx)(E.default,{onChangeText:function(t){return ee(t,e)},onSubmitEditing:function(){return oe(e.ports,T.current[e.ports].value,T,"Sort Order","sortOrder")},ref:function(t){return T.current[e.ports]=t},style:{outlineStyle:"none",padding:5,width:"90%",backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,T.current[e.ports].value,T,"Sort Order","sortOrder")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]})})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Price (USD)"})}),(0,Q.jsx)(P.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:[(0,Q.jsx)(E.default,{onChangeText:function(t){return re(t,e)},onSubmitEditing:function(){return oe(e.ports,z.current[e.ports].value,z,"Profit Price","profitPrice")},ref:function(t){return z.current[e.ports]=t},style:{outlineStyle:"none",padding:5,width:"90%",backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderLeftColor:"#E4E4E7",borderLeftWidth:1}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,z.current[e.ports].value,z,"Profit Price","profitPrice")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Nagoya"})}),(0,Q.jsx)(P.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:[(0,Q.jsx)(E.default,{onSubmitEditing:function(){return oe(e.ports,O.current[e.ports].value,O,"Nagoya Price","nagoyaPrice")},ref:function(t){return O.current[e.ports]=t},style:{outlineStyle:"none",padding:5,width:"90%",backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderLeftColor:"#E4E4E7",borderLeftWidth:1}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,O.current[e.ports].value,O,"Nagoya Price","nagoyaPrice")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Yokohama"})}),(0,Q.jsx)(P.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:[(0,Q.jsx)(E.default,{onSubmitEditing:function(){return oe(e.ports,V.current[e.ports].value,V,"Yokohama Price","yokohamaPrice")},ref:function(t){return V.current[e.ports]=t},style:{outlineStyle:"none",padding:5,width:"90%",backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderLeftColor:"#E4E4E7",borderLeftWidth:1}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,V.current[e.ports].value,V,"Yokohama Price","yokohamaPrice")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Kyushu"})}),(0,Q.jsx)(P.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:[(0,Q.jsx)(E.default,{onSubmitEditing:function(){return oe(e.ports,_.current[e.ports].value,_,"Kyushu Price","kyushuPrice")},ref:function(t){return _.current[e.ports]=t},style:{outlineStyle:"none",padding:5,width:"90%",backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderLeftColor:"#E4E4E7",borderLeftWidth:1}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,_.current[e.ports].value,_,"Kyushu Price","kyushuPrice")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Kobe"})}),(0,Q.jsx)(P.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsxs)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:[(0,Q.jsx)(E.default,{onSubmitEditing:function(){return oe(e.ports,G.current[e.ports].value,G,"Kobe Price","kobePrice")},ref:function(t){return G.current[e.ports]=t},style:{outlineStyle:"none",padding:5,width:"90%",backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5,borderLeftColor:"#E4E4E7",borderLeftWidth:1}}),(0,Q.jsx)(P.default,{style:{backgroundColor:"white",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,G.current[e.ports].value,G,"Kobe Price","kobePrice")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Method"})}),(0,Q.jsx)(P.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsx)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,backgroundColor:"white"},children:(0,Q.jsx)(xe,{defaultValue:e.method,portCode:e.ports,page:h,searchQuery:A})})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Memo"})}),(0,Q.jsx)(P.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsxs)(P.default,{style:{flex:2,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3},children:[(0,Q.jsx)(E.default,{multiline:!0,ref:function(t){return q.current[e.ports]=t},style:{outlineStyle:"none",flex:2,height:60,paddingLeft:5,backgroundColor:"white",borderTopLeftRadius:5,borderBottomLeftRadius:5}}),(0,Q.jsx)(P.default,{style:{borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return oe(e.ports,q.current[e.ports].value,q,"Memo","memo")},underlayColor:"rgba(22, 163, 74, 0.3)",style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,alignSelf:"center",height:"100%",justifyContent:"center",alignItems:"center"},children:(0,Q.jsx)(B.default,{name:"update",color:"white",size:22})})})]})})]}),(0,Q.jsxs)(P.default,{style:{flexDirection:"row"},children:[(0,Q.jsx)(P.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,Q.jsx)(i.default,{style:{color:"white"},bold:!0,children:"Operate"})}),(0,Q.jsx)(P.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,Q.jsx)(P.default,{style:{flex:1,flexDirection:"row",borderTopLeftRadius:5,borderBottomLeftRadius:5,marginHorizontal:3,justifyContent:"center",alignItems:"center"},children:(0,Q.jsx)(P.default,{style:{width:"100%",borderTopRightRadius:5,borderBottomRightRadius:5},children:(0,Q.jsx)(F.default,{onPress:function(){return me(e.ports)},underlayColor:"rgba(22, 163, 74, 0.3)",style:{flex:1,backgroundColor:"#DC2626",padding:5,borderRadius:5,flexDirection:"row",justifyContent:"center",alignItems:"center",margin:6},children:(0,Q.jsx)(R.default,{name:"delete",color:"white",size:22})})})})})]})]},t)})),(0,Q.jsx)(w.default.Pagination,{page:h,numberOfPages:Math.ceil(le.length/b),onPageChange:function(e){return g(e)},label:de+1+"-"+ce+" of "+le.length,optionsPerPage:m,itemsPerPage:b,setItemsPerPage:j,showFastPagination:!0,optionsLabel:"Rows per page"})]}),(0,Q.jsx)(Me,{handleAddPortModalClose:fe}),(0,Q.jsx)(Pe,{handleDeletePortModalClose:pe})]})})};function Le(){var e=(0,S.useState)(""),t=(0,a.default)(e,2),o=(t[0],t[1]),l=(r(51745),r(85228),(0,S.useState)(!1)),d=(0,a.default)(l,2),u=(d[0],d[1],(0,S.useState)(!1)),f=(0,a.default)(u,2),h=(f[0],f[1],(0,X.useNavigate)()),g=(0,J.useDispatch)(),m=(0,S.useState)(""),x=(0,a.default)(m,2),p=(x[0],x[1],(0,J.useSelector)((function(e){return e.loginName})));ne.text=p;var y=(0,S.useState)(p),w=(0,a.default)(y,2),v=w[0],A=w[1],F=(0,S.useState)(""),E=(0,a.default)(F,2),B=(E[0],E[1],(0,S.useState)([])),k=(0,a.default)(B,2),R=(k[0],k[1],(0,S.useState)(D.default.get("window").width)),T=(0,a.default)(R,2),W=(T[0],T[1],D.default.get("window").width);(0,S.useEffect)((function(){g((0,Z.setSelectedButton)(le))}),[]),(0,S.useEffect)((function(){return U.projectControlAuth.onAuthStateChanged((function(e){e||h("/Login")}))}),[]);var N=function(e){e.exists()?e.data().active||(0,O.signOut)(U.projectControlAuth).then((function(){h("/Login")})).catch((function(e){console.error("Error signing out:",e)})):(0,O.signOut)(U.projectControlAuth).then((function(){h("/Login")})).catch((function(e){console.error("Error signing out:",e)}))};(0,S.useEffect)((function(){var e=function(){var e,t=null==(e=U.projectControlAuth.currentUser)?void 0:e.email;if(t){var r=(0,H.doc)(de,"accounts",t);return(0,H.onSnapshot)(r,N)}return function(){h("/login")}}();return function(){e()}}),[]),(0,S.useEffect)((function(){var e=ce();e&&(Y(e),o(e),V(e))}),[]);var V=function(e){},Y=function(){var e=(0,n.default)((function*(e){try{var t=(0,H.doc)(de,"accounts",e),r=yield(0,H.getDoc)(t);if(r.exists()){var o=r.data();o.type,o.name;g((0,Z.setLoginName)(o.name))}else console.log("Document does not exist")}catch(n){console.error("Error fetching field value:",n)}}));return function(t){return e.apply(this,arguments)}}(),K=M.default.create({container:{flex:1},image:{flex:1}});return(0,Q.jsxs)(C.NativeBaseProvider,{children:[(0,Q.jsxs)(P.default,{style:{backgroundColor:"#A6BCFE",height:"100%",width:"100%",flexDirection:"column"},bgColor:"#A6BCFE",h:"100vh",w:"full",flexDirection:"column",children:[(0,Q.jsxs)(c.default,{px:"3",bgColor:"#7b9cff",height:54,position:"sticky",top:0,zIndex:999,flexDirection:"row",alignItems:"center",borderBottomWidth:2,borderBottomColor:"cyan.500",children:[(0,Q.jsx)(q.default,{selectedScreen:oe}),(0,Q.jsx)(c.default,{w:W<=960?0:850,h:[10,10,10,10],marginBottom:1.5,marginTop:1.5,paddingLeft:5,children:(0,Q.jsx)(_.default,{source:{uri:"https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20FULL.png?alt=media&token=79ed34a5-f960-4154-b4e8-897b0f3248d4",priority:_.default.priority.high},resizeMode:_.default.resizeMode.stretch,style:K.image})}),W<=960&&(0,Q.jsx)(G.default,{selectedScreen:oe}),(0,Q.jsx)(c.default,{w:W<=960?120:0,h:W<=960?6:10,marginBottom:1.5,marginTop:1.5,marginLeft:[3,3,3,10],children:(0,Q.jsx)(_.default,{source:{uri:"https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20HALF.png?alt=media&token=7ce6aef2-0527-40c7-b1ce-e47079e144df",priority:_.default.priority.high},resizeMode:_.default.resizeMode.stretch,style:K.image})}),(0,Q.jsx)((function(e){var t=e.name,r=e.handleSignOut,o=(0,S.useState)(!1),n=(0,a.default)(o,2),l=n[0],d=n[1],u=function(){d(!l)};return(0,Q.jsx)(c.default,{w:[100,200,1020],h:[10,10,10],flex:1,children:(0,Q.jsx)(b.default,{direction:"row-reverse",children:(0,Q.jsx)(j.Popover,{isOpen:l,trigger:function(e){return(0,Q.jsxs)(i.default,te(te({color:"white",marginTop:[2,2,2],fontSize:[17,18,20],marginRight:[1,3,5]},e),{},{onPress:u,children:[(0,Q.jsx)(I.default,{name:"account",size:[20,25,30],color:"white"})," ",t," ",(0,Q.jsx)(z.default,{name:"caret-down",size:16,color:"white"})]}))},onClose:function(){return d(!l)},placement:"bottom right",trapFocus:!1,children:(0,Q.jsx)(j.Popover.Content,{backgroundColor:"#7B9CFF",children:(0,Q.jsx)(j.Popover.Body,{backgroundColor:"#7B9CFF",children:(0,Q.jsx)(s.Button,{_hover:{bgColor:"blueGray.500"},onPress:r,leftIcon:(0,Q.jsx)(I.default,{name:"logout",size:20,color:"white"}),bgColor:"transparent",children:"Logout"})})})})})})}),{name:v,handleSignOut:function(){(0,O.signOut)(U.projectControlAuth).then((function(){h("/Login"),o(""),A("")})).catch((function(){}))}})]}),(0,Q.jsx)(P.default,{style:{flex:1,flexDirection:"row"},flex:[1],flexDirection:"row",children:(0,Q.jsx)(P.default,{style:{flex:1,backgroundColor:"#A6BCFE",height:"100%"},children:(0,Q.jsx)(L.default,{style:{flex:1},keyboardShouldPersistTaps:"always",children:(0,Q.jsxs)(P.default,{style:{flex:1},children:[(0,Q.jsx)(me,{}),(0,Q.jsx)(we,{})]})})})})]}),(0,Q.jsx)(fe,{})]})}},58775:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var o=r(4942),n=r(70885),l=r(89526),a=r(46337),i=r(74333),s=r(39899),d=r(68873),c=r(67221),u=r(74905),f=r(32535),h=r(40013),g=(r(26555),r(55202)),m=r(65738),x=r(96500),p=r(30083),y=r(67557);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=function(e){var t=e.name,r=e.handleSignOut,o=(0,l.useState)(!1),a=(0,n.default)(o,2),i=a[0],s=a[1],x=function(){s(!i)};return(0,y.jsx)(d.default,{w:[100,200,1020],h:[10,10,10],flex:1,children:(0,y.jsx)(c.default,{direction:"row-reverse",children:(0,y.jsx)(u.Popover,{isOpen:i,trigger:function(e){return(0,y.jsxs)(f.default,j(j({color:"white",marginTop:[2,2,2],fontSize:[17,18,20],marginRight:[1,3,5]},e),{},{onPress:x,children:[(0,y.jsx)(g.default,{name:"account",size:[20,25,30],color:"white"})," ",t," ",(0,y.jsx)(m.default,{name:"caret-down",size:16,color:"white"})]}))},onClose:function(){return s(!i)},placement:"bottom right",trapFocus:!1,children:(0,y.jsx)(u.Popover.Content,{backgroundColor:"#7B9CFF",children:(0,y.jsx)(u.Popover.Body,{backgroundColor:"#7B9CFF",children:(0,y.jsx)(h.Button,{_hover:{bgColor:"blueGray.500"},onPress:r,leftIcon:(0,y.jsx)(g.default,{name:"logout",size:20,color:"white"}),bgColor:"transparent",children:"Logout"})})})})})})};const w=function(e){var t=e.selectedScreen,r=e.handleSignOut,o=(0,p.useSelector)((function(e){return e.loginName})),n=a.default.get("window").width,l=i.default.create({container:{flex:1},image:{flex:1}});return(0,y.jsxs)(d.default,{px:"3",bgColor:"#7b9cff",height:54,position:"sticky",top:0,zIndex:999,flexDirection:"row",alignItems:"center",borderBottomWidth:2,borderBottomColor:"cyan.500",children:[(0,y.jsx)(d.default,{w:[0,0,0,850],h:[10,10,10,10],marginBottom:1.5,marginTop:1.5,children:(0,y.jsx)(s.default,{source:{uri:"https://i.imgur.com/V98nKSK.png"},style:l.image,resizeMode:"stretch"})}),n<=960&&(0,y.jsx)(x.default,{selectedScreen:t}),(0,y.jsx)(d.default,{w:[150,200,250,0],h:[6,8,10,10],marginBottom:1.5,marginTop:1.5,marginLeft:[3,3,3,10],children:(0,y.jsx)(s.default,{source:{uri:"https://i.imgur.com/NGCIoSV.png"},style:l.image,resizeMode:"stretch"})}),(0,y.jsx)(C,{name:o,handleSignOut:r})]})}},50290:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ee});var o=r(15861),n=r(4942),l=r(70885),a=r(89526),i=r(81133),s=r(71451),d=r(74333),c=r(46337),u=r(43497),f=r(71592),h=r(32535),g=r(68873),m=r(80410),x=r(87754),p=r(40013),y=r(24770),b=r(93468),j=r(67221),C=r(74905),w=r(93020),S=r(33034),D=r(55202),v=r(65738),M=(r(87026),r(47673)),P=(r(51909),r(89327)),A=r(31402),L=r(48859),F=(r(14574),r(95634),r(53059),r(38615)),E=r(36105),B=r.n(E),I=r(26555),k=r(30083),R=r(37050),T=(r(96500),r(95212)),z=(r(85935),r(34621)),W=r(1778),N=r(59615),O=r(84042),H=r(83277),V=r(67557);function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){(0,n.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=c.default.get("window"),G=(_.width,_.height,(0,P.getFirestore)()),q=function(){var e=P.auth.currentUser;return e?e.email:null},J="LOGS",K=function(){var e=(0,k.useSelector)((function(e){return e.loadingModalVisible}));return(0,V.jsx)(i.default,{style:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.5)",flex:1,display:e?"flex":"none",justifyContent:"center",alignItems:"center"},children:(0,V.jsxs)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:[(0,V.jsx)(f.default,{size:"lg",color:"white"}),(0,V.jsx)(h.default,{style:{color:"white"},children:"Loading, please wait!"})]})})},Z=function(){var e=(0,k.useDispatch)(),t=(0,a.useState)(10),r=(0,l.default)(t,2),n=r[0],d=(r[1],(0,a.useState)(1)),f=(0,l.default)(d,2),g=f[0],m=f[1],x=(0,a.useState)(null),p=(0,l.default)(x,2),y=p[0],b=p[1],j=(0,a.useState)(null),C=(0,l.default)(j,2),w=C[0],D=C[1],v=(0,a.useState)(""),M=(0,l.default)(v,2),F=M[0],E=M[1],B=(0,a.useRef)(null),I=(0,k.useSelector)((function(e){return e.logsData})),T=c.default.get("window").width;(0,a.useEffect)((function(){var t=(0,P.query)((0,P.collection)(L.projectControlFirestore,"logs"),(0,P.orderBy)("timestamp","desc"),(0,P.limit)(n)),r=(0,P.onSnapshot)(t,(function(t){var r=[];t.forEach((function(e){r.push(U({id:e.id},e.data()))})),e((0,R.setLogsData)(r)),b(t.docs[t.docs.length-1]),D(t.docs[0])}));return function(){return r()}}),[]);var z=function(){var t=(0,o.default)((function*(){if(""===F){var t=(0,P.query)((0,A.collectionGroup)(L.projectControlFirestore,"logs"),(0,P.orderBy)("timestamp","desc"),(0,A.startAfter)(y),(0,P.limit)(n)),r=yield(0,P.getDocs)(t);O(r,"next"),e((0,R.setLoadingModalVisible)(!1))}else{var o=(0,P.query)((0,P.collection)(L.projectControlFirestore,"logs"),(0,A.where)("keywords","array-contains",F.toLowerCase()),(0,P.orderBy)("timestamp","desc"),(0,A.startAfter)(y),(0,P.limit)(n)),l=yield(0,P.getDocs)(o);O(l,"next"),e((0,R.setLoadingModalVisible)(!1))}}));return function(){return t.apply(this,arguments)}}(),W=function(){var t=(0,o.default)((function*(){if(""===F){var t=(0,P.query)((0,P.collection)(L.projectControlFirestore,"logs"),(0,P.orderBy)("timestamp","desc"),(0,A.endBefore)(w),(0,A.limitToLast)(n)),r=yield(0,P.getDocs)(t);O(r,"prev"),e((0,R.setLoadingModalVisible)(!1))}else{var o=(0,P.query)((0,P.collection)(L.projectControlFirestore,"logs"),(0,A.where)("keywords","array-contains",F.toLowerCase()),(0,P.orderBy)("timestamp","desc"),(0,A.endBefore)(w),(0,A.limitToLast)(n)),l=yield(0,P.getDocs)(o);O(l,"prev"),e((0,R.setLoadingModalVisible)(!1))}}));return function(){return t.apply(this,arguments)}}(),N=function(t){var r=[];t.forEach((function(e){r.push(U({id:e.id},e.data()))})),e((0,R.setLogsData)(r)),null!=t&&t.docs[0]&&D(t.docs[0]),null!=t&&t.docs[t.docs.length-1]&&b(t.docs[t.docs.length-1])},O=function(){var t=(0,o.default)((function*(t,r){if(t.empty)if(""==F){m(1);var o=(0,P.query)((0,P.collection)(L.projectControlFirestore,"logs"),(0,P.orderBy)("timestamp","desc"),(0,P.limit)(n)),l=yield(0,P.getDocs)(o);N(l)}else{m(1);var a=(0,P.query)((0,P.collection)(L.projectControlFirestore,"logs"),(0,A.where)("keywords","array-contains",F.toLowerCase()),(0,P.orderBy)("timestamp","desc"),(0,P.limit)(n)),i=yield(0,P.getDocs)(a);N(i)}else{var s=[];t.forEach((function(e){s.push(U({id:e.id},e.data()))})),null!=t&&t.docs[0]&&D(t.docs[0]),null!=t&&t.docs[t.docs.length-1]&&b(t.docs[t.docs.length-1]),"next"==r&&m(g+1),"prev"==r&&m(g-1),e((0,R.setLogsData)(s))}}));return function(e,r){return t.apply(this,arguments)}}(),H=function(){var t=(0,o.default)((function*(){e((0,R.setLoadingModalVisible)(!0)),yield z()}));return function(){return t.apply(this,arguments)}}(),Y=function(){var t=(0,o.default)((function*(){e((0,R.setLoadingModalVisible)(!0)),yield W()}));return function(){return t.apply(this,arguments)}}();(0,a.useEffect)((function(){_()}),[F]);var _=function(){var t=(0,o.default)((function*(){if(e((0,R.setLoadingModalVisible)(!0)),""===F){m(1);var t=(0,P.query)((0,P.collection)(L.projectControlFirestore,"logs"),(0,P.orderBy)("timestamp","desc"),(0,P.limit)(n)),r=yield(0,P.getDocs)(t);N(r),e((0,R.setLoadingModalVisible)(!1))}else{m(1);var o=(0,P.query)((0,P.collection)(L.projectControlFirestore,"logs"),(0,A.where)("keywords","array-contains",F.toLowerCase()),(0,P.orderBy)("timestamp","desc"),(0,P.limit)(n)),l=yield(0,P.getDocs)(o);N(l),e((0,R.setLoadingModalVisible)(!1))}}));return function(){return t.apply(this,arguments)}}();return(0,V.jsxs)(i.default,{style:{flex:1},children:[(0,V.jsx)(i.default,{children:(0,V.jsx)(u.default,{ref:B,style:{width:"100%",padding:10,backgroundColor:"white",borderRadius:5,placeholderTextColor:"#ACADA3"},onSubmitEditing:function(){var e;""!==(null==(e=B.current)?void 0:e.value)?E(B.current.value.trim()):(E(""),""==F&&_())},placeholder:"Search",returnKeyType:"search",keyboardType:"default",autoCapitalize:"none"})}),(0,V.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",borderBottomWidth:1,borderBottomColor:"#E4E4E7",backgroundColor:"#0642F4",padding:2,borderRadius:5},children:[(0,V.jsx)(i.default,{style:{flex:1,padding:2},children:(0,V.jsx)(h.default,{style:{color:"white"},bold:!0,children:"Timestamp"})}),(0,V.jsx)(i.default,{style:{flex:1,padding:2},children:(0,V.jsx)(h.default,{style:{color:"white"},bold:!0,children:"Action"})})]}),I.map((function(e){return(0,V.jsxs)(i.default,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7",backgroundColor:e.colorScheme?"#BBF7D0":"#EAC7D6",paddingVertical:10,flexGrow:1},children:[(0,V.jsx)(i.default,{style:{flex:1},children:(0,V.jsx)(h.default,{selectable:!0,style:{width:"90%",marginLeft:3},children:e.timestamp})}),(0,V.jsx)(i.default,{style:{flex:1},children:(0,V.jsxs)(h.default,{selectable:!0,style:{width:"90%"},children:[e.message," "]})})]},e.id)})),(0,V.jsxs)(i.default,{style:{flexDirection:"row",width:T<960?"90%":"30%",alignSelf:"center"},children:[(0,V.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,V.jsx)(s.default,{style:{display:g<=1?"none":"flex"},onPress:Y,children:(0,V.jsx)(i.default,{style:{backgroundColor:"rgba(6,66,244, 0.6)",borderRadius:5,padding:4,margin:10},children:(0,V.jsx)(S.default,{name:"navigate-before",size:40,color:"white"})})})}),(0,V.jsx)(i.default,{style:{flex:1,backgroundColor:"rgba(6,66,244, 0.6)",borderRadius:5,margin:10,padding:4,justifyContent:"center",alignItems:"center"},children:(0,V.jsxs)(h.default,{style:{textAlign:"center",color:"white"},bold:!0,children:["Page ",g]})}),(0,V.jsx)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,V.jsx)(s.default,{onPress:H,children:(0,V.jsx)(i.default,{style:{backgroundColor:"rgba(6,66,244, 0.6)",borderRadius:5,padding:4,margin:10},children:(0,V.jsx)(S.default,{name:"navigate-next",size:40,color:"white"})})})})]})]})},$=function(){var e=(0,o.default)((function*(e){try{var t=(0,P.getFirestore)(),r=(0,P.collection)(t,"logs");yield(0,P.addDoc)(r,e)}catch(o){console.error("Error adding document:",o)}}));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=(0,a.useState)(!1),t=(0,l.default)(e,2),n=t[0],i=t[1],s=(0,a.useState)(!1),d=(0,l.default)(s,2),u=d[0],b=d[1],j=(0,a.useState)(!1),C=(0,l.default)(j,2),w=C[0],S=C[1],D=(0,a.useState)([]),v=(0,l.default)(D,2),M=v[0],A=v[1],E=(0,a.useState)([]),I=(0,l.default)(E,2),R=I[0],T=I[1],z=(0,a.useState)(""),W=(0,l.default)(z,2),N=(W[0],W[1]),O=(0,a.useState)(!1),H=(0,l.default)(O,2),Y=H[0],U=H[1],_=(0,a.useState)(""),G=(0,l.default)(_,2),q=(G[0],G[1]),J=(0,a.useState)(null),K=(0,l.default)(J,2),Z=(K[0],K[1]),X=(0,k.useSelector)((function(e){return e.loginName})),Q=c.default.get("window").width;(0,a.useEffect)((function(){var e=(0,P.onSnapshot)((0,P.doc)(L.projectExtensionFirestore,"currency","currency"),(function(e){var t=e.data();A(null==t?void 0:t.todayCurrency),T(null==t?void 0:t.timestampCurrency)}));return function(){return e()}}),[]);var ee=function(){var e=(0,o.default)((function*(){i(!0),b(!0);try{var e=yield F.default.get("https://openexchangerates.org/api/latest.json?app_id=28a91b51aa36420f9cbd6fb04a52ddd9"),t=e.data.rates,r=1/t.JPY,o=t.JPY/1,n=Number(r.toFixed(4)),l=Number(o.toFixed(4)),a=1/t.EUR,s=t.EUR,d=1/t.GBP,c=t.GBP,u=1/t.AUD,f=t.AUD,h=1/t.CAD,g=t.CAD,m=n*s,x=l*a,p=n*c,y=l*d,j=n*f,C=l*u,w=n*g,D=l*h;N(n);var v=e.data.timestamp,M=new Date(1e3*v);Z(M);var A=M.toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}),E="1 JPY = "+n+" USD / 1 USD = "+l+" JPY\n1 JPY = "+m.toFixed(4)+" EUR / 1 EUR = "+x.toFixed(4)+" JPY\n1 JPY = "+j.toFixed(4)+" AUD / 1 AUD = "+C.toFixed(4)+" JPY\n1 JPY = "+p.toFixed(4)+" GBP / 1 GBP = "+y.toFixed(4)+" JPY\n1 JPY = "+w.toFixed(4)+" CAD / 1 CAD = "+D.toFixed(4)+" JPY\n",I=(0,P.doc)(L.projectExtensionFirestore,"currency","currency");try{yield(0,P.setDoc)(I,{jpyToUsd:Number(r),usdToJpy:Number(o),jpyToEur:m,eurToJpy:x,jpyToGbp:p,gbpToJpy:y,jpyToAud:j,audToJpy:C,usdToEur:s,eurToUsd:a,usdToGbp:c,gbpToUsd:d,usdToAud:f,audToUsd:u,cadToUsd:h,usdToCad:g,jpyToCad:D,cadToJpy:w,todayCurrency:E,timestampCurrency:"Updated Last: "+A},{merge:!0}),S(!0),U(!1),i(!1),b(!1);try{var k=(yield F.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,R=B()(k).format("YYYY/MM/DD [at] HH:mm:ss"),T=B()(k).format("YYYY"),z=B()(k).format("MM"),W=B()(k).format("MM/DD"),O=B()(k).format("YYYY/MM/DD"),H=B()(k).format("DD"),V=B()(k).format("HH:mm"),Y=B()(k).format("HH:mm:ss");q(R);var _={message:'Currency Update: "'+X+'" updated the currency exchange.\n\xa5JPY \u2192 $USD = '+Number(r).toFixed(4)+" / $USD \u2192 \xa5JPY = "+Number(o).toFixed(4)+"\n\xa5JPY \u2192 \u20acEUR = "+m.toFixed(4)+" / \u20acEUR \u2192 \xa5JPY = "+x.toFixed(4)+"\n\xa5JPY \u2192 A$AUD = "+j.toFixed(4)+" / A$AUD \u2192 \xa5JPY = "+C.toFixed(4)+"\n\xa5JPY \u2192 \xa3GBP = "+p.toFixed(4)+" / \xa3GBP \u2192 \xa5JPY = "+y.toFixed(4)+"\n\xa5JPY \u2192 C$CAD = "+w.toFixed(4)+" / C$CAD \u2192 \xa5JPY = "+D.toFixed(4),timestamp:R,colorScheme:!0,keywords:[R.toLowerCase(),X.toLowerCase(),"$".toLowerCase(),"\xa5".toLowerCase(),('Currency Update: "'+X+'" updated the currency exchange.').toLowerCase(),"Update".toLowerCase(),"Currency".toLowerCase(),R.toLowerCase(),T.toLowerCase(),z.toLowerCase(),W.toLowerCase(),O.toLowerCase(),H.toLowerCase(),V.toLowerCase(),Y.toLowerCase()]};$(_)}catch(G){console.error("Error fetching time:",G)}}catch(G){console.error("Error updating currency data:",G)}}catch(G){console.error("Error fetching exchange rate:",G)}}));return function(){return e.apply(this,arguments)}}(),te=function(){U(!1),i(!1)},re=function(){S(!1),i(!1)};return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(g.default,{flex:1,borderWidth:1,borderColor:"gray.200",borderRadius:4,overflow:"hidden",margin:1,alignItems:"center",bg:"#F5F5F5",children:[(0,V.jsx)(m.default,{source:r(82723),alt:"Background Image",resizeMode:"stretch",width:"100%",height:"100%",position:"absolute"}),(0,V.jsx)(x.default,{height:"100%",children:(0,V.jsxs)(g.default,{alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:5,paddingBottom:1,children:[(0,V.jsx)(h.default,{bold:!0,color:"#39ff14",margin:1,textAlign:"center",fontSize:Q>960?"":12,children:M}),(0,V.jsx)(h.default,{textAlign:"center",color:"#39ff14",margin:1,fontSize:Q>960?"":12,children:R}),(0,V.jsx)(p.Button,{alignSelf:"center",w:"95%",_hover:{bgColor:"green.800"},bgColor:"transparent",variant:"outline",borderColor:"#39ff14",_text:{color:"#39ff14"},onPress:function(){U(!0),i(!0)},children:n?(0,V.jsx)(f.default,{color:"#39ff14",size:21}):"Update"})]})})]}),(0,V.jsx)(y.Modal,{isOpen:Y,onClose:te,children:(0,V.jsxs)(y.Modal.Content,{children:[(0,V.jsx)(y.Modal.CloseButton,{}),(0,V.jsx)(y.Modal.Header,{borderBottomWidth:0,children:"Update currency"}),(0,V.jsx)(y.Modal.Body,{children:"Do you want to update to the latest currency?"}),(0,V.jsxs)(y.Modal.Footer,{borderTopWidth:0,children:[(0,V.jsx)(p.Button,{onPress:te,flex:1,margin:1,colorScheme:"danger",children:"No"}),(0,V.jsx)(p.Button,{onPress:ee,colorScheme:"success",flex:1,margin:1,children:u?(0,V.jsx)(f.default,{color:"white",size:21}):"Yes"})]})]})}),(0,V.jsx)(y.Modal,{isOpen:w,onClose:re,children:(0,V.jsxs)(y.Modal.Content,{children:[(0,V.jsx)(y.Modal.CloseButton,{}),(0,V.jsx)(y.Modal.Header,{bgColor:"green.200",borderBottomWidth:0,children:"Update success!"}),(0,V.jsxs)(y.Modal.Body,{bgColor:"green.200",children:[(0,V.jsx)(h.default,{bold:!0,margin:1,children:M}),(0,V.jsx)(h.default,{margin:1,children:R})]}),(0,V.jsx)(y.Modal.Footer,{bgColor:"green.200",borderTopWidth:0,children:(0,V.jsx)(p.Button,{onPress:re,flex:1,margin:1,children:"Ok"})})]})})]})},Q=function(){return(0,V.jsx)(b.ScrollView,{style:{flex:1,margin:5,borderRadius:5},children:(0,V.jsxs)(z.VictoryChart,{theme:W.VictoryTheme.material,domainPadding:10,style:{parent:{backgroundColor:"#FFF"}},children:[(0,V.jsx)(N.VictoryAxis,{style:{axis:{stroke:"#757575"},ticks:{stroke:"grey",size:5},tickLabels:{fontSize:10,padding:5,fill:"grey"}}}),(0,V.jsx)(N.VictoryAxis,{dependentAxis:!0,style:{axis:{stroke:"#757575"},ticks:{stroke:"grey",size:5},tickLabels:{fontSize:10,padding:5,fill:"grey"}}}),(0,V.jsx)(O.default,{data:[{day:1,value:30},{day:2,value:45},{day:31,value:60}],x:"day",y:"value",style:{data:{fill:function(e){return e.datum.value>50?"#4178BE":"#5AA9E6"},width:8}},barRatio:.8})]})})};function ee(){var e,t=(0,a.useState)(""),r=(0,l.default)(t,2),n=(r[0],r[1]),i=(0,a.useState)(""),s=(0,l.default)(i,2),u=(s[0],s[1]),f=(0,k.useSelector)((function(e){return e.loginName})),m=(0,H.useNavigate)(),S=(0,a.useState)(!0),A=(0,l.default)(S,2),L=(A[0],A[1],(0,a.useState)(!1)),F=(0,l.default)(L,2),E=(F[0],F[1],(0,a.useState)(!1)),B=(0,l.default)(E,2),z=(B[0],B[1],(0,a.useState)("")),W=(0,l.default)(z,2),N=(W[0],W[1],a.useState(!1)),O=(0,l.default)(N,2),Y=O[0],_=O[1],$=(0,a.useState)(!1),ee=(0,l.default)($,2),te=(ee[0],ee[1],(0,a.useState)(0)),re=(0,l.default)(te,2),oe=(re[0],re[1],(0,a.useState)("")),ne=(0,l.default)(oe,2),le=(ne[0],ne[1],(0,a.useState)("")),ae=(0,l.default)(le,2),ie=(ae[0],ae[1],(0,a.useState)(null)),se=(0,l.default)(ie,2),de=(se[0],se[1],(0,a.useState)(null)),ce=(0,l.default)(de,2),ue=(ce[0],ce[1],(0,a.useState)("")),fe=(0,l.default)(ue,2),he=(fe[0],fe[1],(0,a.useState)(0)),ge=(0,l.default)(he,2),me=(ge[0],ge[1]),xe=(0,a.useState)(13),pe=(0,l.default)(xe,2),ye=pe[0],be=(pe[1],(0,a.useState)([])),je=(0,l.default)(be,2),Ce=(je[0],je[1]),we=(0,a.useState)(""),Se=(0,l.default)(we,2),De=(Se[0],Se[1],null==(e=(0,a.useRef)(null).current)||e.value,c.default.get("window").width),ve=(0,k.useDispatch)();(0,a.useEffect)((function(){var e=function(){var e=(0,o.default)((function*(){try{var e=(0,P.query)((0,P.collection)(P.db,"logs"),(0,P.orderBy)("timestamp","desc")),t=(0,P.onSnapshot)(e,(function(e){var t=e.docs.map((function(e){return U({id:e.id},e.data())}));Ce(t)}));return function(){return t()}}catch(r){console.error("Error retrieving data:",r)}}));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,a.useEffect)((function(){me(0)}),[ye]);(0,a.useEffect)((function(){return P.auth.onAuthStateChanged((function(e){e||m("/Login")}))}),[]);var Me=function(e){e.exists()?e.data().active||(0,M.signOut)(P.auth).then((function(){m("/Login")})).catch((function(e){console.error("Error signing out:",e)})):(0,M.signOut)(P.auth).then((function(){m("/Login")})).catch((function(e){console.error("Error signing out:",e)}))};(0,a.useEffect)((function(){var e=function(){var e,t=null==(e=P.auth.currentUser)?void 0:e.email;if(t){var r=(0,P.doc)(G,"accounts",t);return(0,P.onSnapshot)(r,Me)}return function(){m("/login")}}();return function(){e()}}),[]),(0,a.useEffect)((function(){var e=q();e&&(Ae(e),n(e),Pe(e))}),[]);var Pe=function(e){(0,P.doc)(P.db,"accounts",e)},Ae=function(){var e=(0,o.default)((function*(e){try{var t=(0,P.doc)(G,"accounts",e),r=yield(0,P.getDoc)(t);if(r.exists()){var o=r.data();o.type,o.name;ve((0,R.setLoginName)(o.name))}else console.log("Document does not exist")}catch(n){console.error("Error fetching field value:",n)}}));return function(t){return e.apply(this,arguments)}}(),Le=d.default.create({container:{flex:1},image:{flex:1}});return(0,V.jsxs)(w.NativeBaseProvider,{children:[(0,V.jsx)((function(){return(0,V.jsx)(x.default,{children:(0,V.jsx)(y.Modal,{isOpen:Y,onClose:function(){return _(!1)},size:"lg",children:(0,V.jsxs)(y.Modal.Content,{maxWidth:"350",bgColor:"green.600",borderWidth:3,borderColor:"green.400",children:[(0,V.jsx)(y.Modal.Header,{bgColor:"green.600",borderBottomWidth:0,children:(0,V.jsx)(h.default,{color:"white",textAlign:"center",bold:!0,children:"\ud83d\ude0a\ud83d\ude0e Success! \ud83d\ude0e\ud83d\ude0a"})}),(0,V.jsx)(y.Modal.Body,{children:(0,V.jsx)(h.default,{color:"white",textAlign:"center",children:"Account creation for Real Motor Japan Control Hub was successful."})}),(0,V.jsx)(y.Modal.Footer,{bgColor:"green.600",borderTopWidth:0,children:(0,V.jsx)(p.Button,{_hover:{bgColor:"green.500"},variant:"outline",flex:"1",onPress:function(){return _(!1)},children:(0,V.jsx)(h.default,{color:"white",textAlign:"center",children:"Proceed"})})})]})})})}),{}),(0,V.jsxs)(g.default,{bgColor:"#A6BCFE",h:"100vh",w:"full",flexDirection:"column",children:[(0,V.jsxs)(g.default,{px:"3",bgColor:"#7b9cff",height:54,position:"sticky",top:0,zIndex:999,flexDirection:"row",alignItems:"center",borderBottomWidth:2,borderBottomColor:"cyan.500",children:[(0,V.jsx)(T.default,{selectedScreen:J}),(0,V.jsx)(g.default,{w:[0,0,0,850],h:[10,10,10,10],marginBottom:1.5,marginTop:1.5,paddingLeft:5,children:(0,V.jsx)(I.default,{source:{uri:"https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20FULL.png?alt=media&token=79ed34a5-f960-4154-b4e8-897b0f3248d4",priority:I.default.priority.high},resizeMode:I.default.resizeMode.stretch,style:Le.image})}),(0,V.jsx)(g.default,{w:[150,200,250,0],h:[6,8,10,10],marginBottom:1.5,marginTop:1.5,marginLeft:[3,3,3,10],children:(0,V.jsx)(I.default,{source:{uri:"https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20HALF.png?alt=media&token=7ce6aef2-0527-40c7-b1ce-e47079e144df",priority:I.default.priority.high},resizeMode:I.default.resizeMode.stretch,style:Le.image})}),(0,V.jsx)((function(e){var t=e.name,r=e.handleSignOut,o=(0,a.useState)(!1),n=(0,l.default)(o,2),i=n[0],s=n[1],d=function(){s(!i)};return(0,V.jsx)(g.default,{w:[100,200,1020],h:[10,10,10],flex:1,children:(0,V.jsx)(j.default,{direction:"row-reverse",children:(0,V.jsx)(C.Popover,{isOpen:i,trigger:function(e){return(0,V.jsxs)(h.default,U(U({color:"white",marginTop:[2,2,2],fontSize:[17,18,20],marginRight:[1,3,5]},e),{},{onPress:d,children:[(0,V.jsx)(D.default,{name:"account",size:[20,25,30],color:"white"})," ",t," ",(0,V.jsx)(v.default,{name:"caret-down",size:16,color:"white"})]}))},onClose:function(){return s(!i)},placement:"bottom right",trapFocus:!1,children:(0,V.jsx)(C.Popover.Content,{backgroundColor:"#7B9CFF",children:(0,V.jsx)(C.Popover.Body,{backgroundColor:"#7B9CFF",children:(0,V.jsx)(p.Button,{_hover:{bgColor:"blueGray.500"},onPress:r,leftIcon:(0,V.jsx)(D.default,{name:"logout",size:20,color:"white"}),bgColor:"transparent",children:"Logout"})})})})})})}),{name:f,handleSignOut:function(){(0,M.signOut)(P.auth).then((function(){m("/Login"),n(""),u("")})).catch((function(){}))}})]}),(0,V.jsx)(g.default,{flex:[1],flexDirection:"row",children:(0,V.jsxs)(g.default,{flex:1,flexGrow:1,minHeight:0,flexDirection:De<=960?"column":"row",children:[(0,V.jsxs)(g.default,{flex:1,children:[(0,V.jsx)(X,{}),(0,V.jsx)(Q,{})]}),(0,V.jsx)(g.default,{flex:1,height:"100%",children:(0,V.jsx)(b.ScrollView,{flex:1,children:(0,V.jsx)(Z,{})})})]})})]}),(0,V.jsx)(K,{})]})}},96500:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var o=r(70885),n=r(24770),l=r(93468),a=r(32535),i=r(89526),s=r(51223),d=r(33034),c=r(55202),u=r(32450),f=r(81133),h=r(71451),g=r(83455),m=r(39899),x=r(46337),p=r(88521),y=r(87026),b=r(14574),j=r(67557);const C=function(e){var t=e.selectedScreen,C=(0,i.useState)(!1),w=(0,o.default)(C,2),S=w[0],D=w[1],v=r(85228),M=(x.default.get("window").width,(0,b.useNavigation)()),P=function(){D(!0)},A=function(){D(!1)},L=(0,i.useCallback)((function(){M.navigate("LOGS")}),[]),F=(0,i.useCallback)((function(){M.navigate("ADD C-HUB ACCOUNT")}),[]),E=(0,i.useCallback)((function(){M.navigate("ACCOUNT LIST")}),[]),B=(0,i.useCallback)((function(){M.navigate("ADD NEW VEHICLE")}),[]),I=(0,i.useCallback)((function(){M.navigate("VEHICLE LIST")}),[]),k=(0,i.useCallback)((function(){M.navigate("FREIGHT")}),[]),R=(0,i.useCallback)((function(){M.navigate("CHAT MESSAGES")}),[]),T=(0,i.useRef)(new p.default.Value(0)).current;return(0,i.useEffect)((function(){S?p.default.timing(T,{toValue:1,duration:500,easing:g.default.inOut(g.default.ease),useNativeDriver:!0}).start():p.default.timing(T,{toValue:0,duration:500,easing:g.default.inOut(g.default.ease),useNativeDriver:!0}).start()}),[S,T]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(y.TouchableHighlight,{onPress:function(){return P()},onPressOut:function(){return P()},underlayColor:"#5a7bc9",style:{borderRadius:5,flex:1},children:(0,j.jsx)(s.default,{name:"navicon",size:30,color:"white",style:{margin:2}})}),(0,j.jsx)(n.Modal,{isOpen:S,onClose:A,useRNModal:!0,style:{alignItems:"flex-start",justifyContent:"flex-start",height:"100%"},children:(0,j.jsx)(n.Modal.Content,{maxWidth:255,borderRadius:0,maxHeight:"100%",height:"full",bgColor:"transparent",children:(0,j.jsx)(p.default.View,{style:{flex:1,transform:[{translateX:T.interpolate({inputRange:[0,1],outputRange:[-255,0]})}]},children:(0,j.jsx)(f.default,{style:{backgroundColor:"#7b9cff",flex:1,borderRightWidth:2,borderColor:"cyan"},children:(0,j.jsxs)(f.default,{style:{flex:1},children:[(0,j.jsxs)(f.default,{style:{flexDirection:"row",margin:3,justifyContent:"space-between"},children:[(0,j.jsx)(f.default,{style:{width:"80%",alignItems:"center",justifyContent:"center"},children:(0,j.jsx)(m.default,{source:{uri:v},resizeMode:"stretch",style:{width:170,height:30}})}),(0,j.jsx)(h.default,{style:{flexDirection:"row",alignItems:"flex-end",marginVertical:1.5,marginHorizontal:1.5},children:(0,j.jsx)(d.default,{name:"arrow-back",size:30,color:"white",onPress:A})})]}),(0,j.jsx)(f.default,{style:{paddingHorizontal:1,backgroundColor:"#7b9cff",flex:1},children:(0,j.jsxs)(l.ScrollView,{children:[(0,j.jsx)(h.default,{style:{borderBottomWidth:1,borderTopWidth:1,borderColor:"white",backgroundColor:"LOGS"==t?"#0642F4":"#7b9cff"},onPress:L,children:(0,j.jsxs)(f.default,{style:{flexDirection:"row",alignItems:"center",marginLeft:2},children:[(0,j.jsx)(c.default,{name:"history",size:20,color:"white"}),(0,j.jsx)(a.default,{style:{color:"white",paddingVertical:10,paddingLeft:10},children:"LOGS"})]})}),(0,j.jsx)(h.default,{style:{borderBottomWidth:1,borderBottomColor:"white",backgroundColor:"ADD C-HUB ACCOUNT"==t?"#0642F4":"#7b9cff"},onPress:F,children:(0,j.jsxs)(f.default,{style:{flexDirection:"row",alignItems:"center",marginLeft:2},children:[(0,j.jsx)(d.default,{name:"person-add",size:20,color:"white"}),(0,j.jsx)(a.default,{style:{color:"white",paddingVertical:10,paddingLeft:10},children:"ADD C-HUB ACCOUNT"})]})}),(0,j.jsx)(h.default,{style:{borderBottomWidth:1,borderBottomColor:"white",backgroundColor:"ACCOUNT LIST"==t?"#0642F4":"#7b9cff"},onPress:E,children:(0,j.jsxs)(f.default,{style:{flexDirection:"row",alignItems:"center",marginLeft:2},children:[(0,j.jsx)(c.default,{name:"account-details",size:20,color:"white"}),(0,j.jsx)(a.default,{style:{color:"white",paddingVertical:10,paddingLeft:10},children:"ACCOUNT LIST"})]})}),(0,j.jsx)(h.default,{style:{borderBottomWidth:1,borderBottomColor:"white",backgroundColor:"ADD NEW VEHICLE"==t?"#0642F4":"#7b9cff"},onPress:B,children:(0,j.jsxs)(f.default,{style:{flexDirection:"row",alignItems:"center",marginLeft:2},children:[(0,j.jsxs)(f.default,{style:{marginLeft:4},children:[(0,j.jsx)(s.default,{name:"automobile",size:15,color:"white"}),(0,j.jsx)(s.default,{name:"plus",size:10,color:"white",style:{position:"absolute",top:-3,left:-5}})]}),(0,j.jsx)(a.default,{style:{color:"white",paddingVertical:10,paddingLeft:10},children:"UPDATE / ADD NEW VEHICLE"})]})}),(0,j.jsx)(h.default,{style:{borderBottomWidth:1,borderBottomColor:"white",backgroundColor:"VEHICLE LIST"==t?"#0642F4":"#7b9cff"},onPress:I,children:(0,j.jsxs)(f.default,{style:{flexDirection:"row",alignItems:"center",marginLeft:2},children:[(0,j.jsxs)(f.default,{style:{marginLeft:3},children:[(0,j.jsx)(s.default,{name:"automobile",size:15,color:"white"}),(0,j.jsx)(c.default,{name:"format-list-bulleted",size:10,color:"white",style:{position:"absolute",top:-3,left:-5}})]}),(0,j.jsx)(a.default,{style:{color:"white",paddingVertical:10,paddingLeft:10},children:"VEHICLE LIST"})]})}),(0,j.jsx)(h.default,{style:{borderBottomWidth:1,borderBottomColor:"white",backgroundColor:"FREIGHT"==t?"#0642F4":"#7b9cff"},onPress:k,children:(0,j.jsxs)(f.default,{style:{flexDirection:"row",alignItems:"center",marginLeft:2},children:[(0,j.jsxs)(f.default,{style:{marginLeft:3},children:[(0,j.jsx)(d.default,{name:"public",size:20,color:"white"}),(0,j.jsx)(d.default,{name:"sync",size:12,color:"white",style:{position:"absolute",top:-3,left:-5}})]}),(0,j.jsx)(a.default,{style:{color:"white",paddingVertical:10,paddingLeft:10},children:"FREIGHT"})]})}),(0,j.jsx)(h.default,{style:{borderBottomWidth:1,borderBottomColor:"white",backgroundColor:"CHAT MESSAGES"==t?"#0642F4":"#7b9cff"},onPress:R,children:(0,j.jsxs)(f.default,{style:{flexDirection:"row",alignItems:"center",marginLeft:2},children:[(0,j.jsx)(f.default,{style:{marginLeft:3},children:(0,j.jsx)(u.default,{name:"chat",size:20,color:"white"})}),(0,j.jsx)(a.default,{style:{color:"white",paddingVertical:10,paddingLeft:10},children:"CHAT MESSAGES"})]})})]})})]})})})})})]})}},95212:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var o=r(70885),n=r(24770),l=r(93468),a=r(40013),i=r(89526),s=r(51223),d=r(33034),c=r(55202),u=r(32450),f=r(81133),h=r(71451),g=r(83455),m=r(39899),x=r(46337),p=r(88521),y=r(24637),b=(r(87026),r(14574),r(83277)),j=r(67557);const C=function(e){var t=e.selectedScreen,C=(0,i.useState)(!1),w=(0,o.default)(C,2),S=w[0],D=w[1],v=r(85228),M=(0,i.useState)(!1),P=(0,o.default)(M,2),A=P[0],L=P[1],F=(x.default.get("window").width,(0,b.useNavigate)()),E=function(){D(!0)},B=function(){D(!1)},I=(0,i.useCallback)((function(){F("/devadmin/logs")}),[]),k=(0,i.useCallback)((function(){F("/devadmin/add-c-hub-account")}),[]),R=(0,i.useCallback)((function(){F("/devadmin/account-list")}),[]),T=(0,i.useCallback)((function(){F("/devadmin/add-new-vehicle")}),[]),z=(0,i.useCallback)((function(){F("/devadmin/vehicle-list")}),[]),W=(0,i.useCallback)((function(){F("/devadmin/freight")}),[]),N=(0,i.useCallback)((function(){F("/devadmin/chat-messages")}),[]),O=(0,i.useRef)(new p.default.Value(0)).current;return(0,i.useEffect)((function(){S?p.default.timing(O,{toValue:1,duration:500,easing:g.default.inOut(g.default.ease),useNativeDriver:!0}).start():p.default.timing(O,{toValue:0,duration:500,easing:g.default.inOut(g.default.ease),useNativeDriver:!0}).start()}),[S,O]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(y.default,{onHoverIn:function(){E(),L(!0)},onHoverOut:function(){return setTimeout((function(){return L(!1)}),[100])},onPress:function(){return E()},onPressOut:function(){return E()},underlayColor:"#5a7bc9",style:{backgroundColor:A?"#5a7bc9":"transparent",borderRadius:5},children:(0,j.jsx)(s.default,{name:"navicon",size:30,color:"white",style:{margin:2}})}),(0,j.jsx)(n.Modal,{isOpen:S,onClose:B,useRNModal:!0,style:{alignItems:"flex-start",justifyContent:"flex-start",height:"100%"},children:(0,j.jsx)(n.Modal.Content,{maxWidth:255,borderRadius:0,maxHeight:"100%",height:"full",bgColor:"transparent",children:(0,j.jsx)(p.default.View,{style:{flex:1,transform:[{translateX:O.interpolate({inputRange:[0,1],outputRange:[-255,0]})}]},children:(0,j.jsx)(f.default,{style:{backgroundColor:"#7b9cff",flex:1,borderRightWidth:2,borderColor:"cyan"},children:(0,j.jsxs)(f.default,{style:{flex:1},children:[(0,j.jsxs)(f.default,{style:{flexDirection:"row",margin:3,justifyContent:"space-between"},children:[(0,j.jsx)(f.default,{style:{width:"80%",alignItems:"center",justifyContent:"center"},children:(0,j.jsx)(m.default,{source:{uri:v},resizeMode:"stretch",style:{width:170,height:30}})}),(0,j.jsx)(h.default,{style:{flexDirection:"row",alignItems:"flex-end",marginVertical:1.5,marginHorizontal:1.5},children:(0,j.jsx)(d.default,{name:"arrow-back",size:30,color:"white",onPress:B})})]}),(0,j.jsxs)(f.default,{style:{paddingHorizontal:1,backgroundColor:"#7b9cff",height:"100%"},children:[(0,j.jsx)(l.ScrollView,{style:{width:245},children:(0,j.jsxs)(f.default,{style:{height:20},children:[(0,j.jsx)(a.Button,{borderRadius:0,borderTopWidth:1,borderBottomWidth:1,borderColor:"white",_hover:{bgColor:"LOGS"==t?"#0642F4":"#5a7bc9"},marginTop:0,w:"full",onPress:function(){return"LOGS"==t?null:I()},colorScheme:void 0,bgColor:"LOGS"==t?"#0642F4":"#7b9cff",leftIcon:(0,j.jsx)(c.default,{name:"history",size:20,color:"white"}),justifyContent:"flex-start",alignItems:"center",children:"LOGS"}),(0,j.jsx)(a.Button,{borderRadius:0,borderTopWidth:1,borderBottomWidth:1,borderColor:"white",_hover:{bgColor:"ADD C-HUB ACCOUNT"==t?"#0642F4":"#5a7bc9"},marginTop:0,w:"full",onPress:function(){return"ADD C-HUB ACCOUNT"==t?null:k()},colorScheme:void 0,bgColor:"ADD C-HUB ACCOUNT"==t?"#0642F4":"#7b9cff",leftIcon:(0,j.jsx)(d.default,{name:"person-add",size:20,color:"white"}),justifyContent:"flex-start",alignItems:"center",children:"ADD C-HUB ACCOUNT"}),(0,j.jsx)(a.Button,{borderRadius:0,borderTopWidth:1,borderBottomWidth:1,borderColor:"white",_hover:{bgColor:"ACCOUNT LIST"==t?"#0642F4":"#5a7bc9"},marginTop:0,onPress:function(){return"ACCOUNT LIST"==t?null:R()},colorScheme:void 0,bgColor:"ACCOUNT LIST"==t?"#0642F4":"#7b9cff",leftIcon:(0,j.jsx)(c.default,{name:"account-details",size:20,color:"white"}),justifyContent:"flex-start",alignItems:"center",children:"ACCOUNT LIST"}),(0,j.jsx)(a.Button,{borderRadius:0,borderTopWidth:1,borderBottomWidth:1,borderColor:"white",_hover:{bgColor:"ADD NEW VEHICLE"==t?"#0642F4":"#5a7bc9"},marginTop:0,w:"full",onPress:function(){return"ADD NEW VEHICLE"==t?null:T()},colorScheme:void 0,bgColor:"ADD NEW VEHICLE"==t?"#0642F4":"#7b9cff",leftIcon:(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(f.default,{children:[(0,j.jsx)(s.default,{name:"automobile",size:15,color:"white"}),(0,j.jsx)(s.default,{name:"plus",size:10,color:"white",style:{position:"absolute",top:-3,left:-5}})]})}),justifyContent:"flex-start",alignItems:"center",children:"UPDATE / ADD NEW VEHICLE"}),(0,j.jsx)(a.Button,{borderRadius:0,borderTopWidth:1,borderBottomWidth:1,borderColor:"white",_hover:{bgColor:"VEHICLE LIST"==t?"#0642F4":"#5a7bc9"},marginTop:0,onPress:function(){return"VEHICLE LIST"==t?null:z()},colorScheme:void 0,bgColor:"VEHICLE LIST"==t?"#0642F4":"#7b9cff",leftIcon:(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(f.default,{children:[(0,j.jsx)(s.default,{name:"automobile",size:15,color:"white"}),(0,j.jsx)(c.default,{name:"format-list-bulleted",size:10,color:"white",style:{position:"absolute",top:-3,left:-5}})]})}),justifyContent:"flex-start",alignItems:"center",children:"VEHICLE LIST"}),(0,j.jsx)(a.Button,{borderRadius:0,borderTopWidth:1,borderBottomWidth:1,borderColor:"white",_hover:{bgColor:"FREIGHT"==t?"#0642F4":"#5a7bc9"},marginTop:0,onPress:function(){return"FREIGHT"==t?null:W()},colorScheme:void 0,bgColor:"FREIGHT"==t?"#0642F4":"#7b9cff",leftIcon:(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(f.default,{children:[(0,j.jsx)(d.default,{name:"public",size:20,color:"white"}),(0,j.jsx)(d.default,{name:"sync",size:12,color:"white",style:{position:"absolute",top:-3,left:-5}})]})}),justifyContent:"flex-start",alignItems:"center",children:"FREIGHT"}),(0,j.jsx)(a.Button,{borderRadius:0,borderTopWidth:1,borderBottomWidth:1,borderColor:"white",_hover:{bgColor:"CHAT MESSAGES"==t?"#0642F4":"#5a7bc9"},marginTop:0,onPress:function(){"CHAT MESSAGES"!=t&&N()},colorScheme:void 0,bgColor:"CHAT MESSAGES"==t?"#0642F4":"#7b9cff",leftIcon:(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(f.default,{children:(0,j.jsx)(u.default,{name:"chat",size:20,color:"white"})})}),justifyContent:"flex-start",alignItems:"center",children:"CHAT MESSAGES"})]})}),(0,j.jsx)(f.default,{style:{borderTopWidth:0,backgroundColor:"#7b9cff",position:"absolute",bottom:0,left:0,right:0,borderTopColor:"gray",paddingTop:3}})]})]})})})})})]})}},44249:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Ge});var o=r(4942),n=r(42982),l=r(15861),a=r(70885),i=r(91320),s=r(32535),d=r(16886),c=r(48174),u=r(71592),f=r(24770),h=r(68873),g=r(15352),m=r(16650),x=r(87754),p=r(80410),y=r(67849),b=r(40013),j=r(3725),C=r(79731),w=r(67221),S=r(74905),D=r(93020),v=r(89526),M=r(46337),P=r(71451),A=r(74333),L=r(81133),F=r(68576),E=r(37504),B=r(43497),I=(r(87026),r(33034)),k=r(65738),R=r(32450),T=r(51223),z=r(55202),W=r(42640),N=(r(14574),r(38615)),O=r(47673),H=r(31402),V=r(36105),Y=r.n(V),U=(r(51909),r(95634),r(48859)),_=r(69248),G=r(61620),q=r(26555),J=r(96500),K=r(95212),Z=r(30083),$=r(76805),X=r(79552),Q=r(86308),ee=r(37050),te=r(39980),re=r(53059),oe=(r(58775),r(19761),r(83277)),ne=r(67557);function le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?le(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ie=M.default.get("window").width,se="VEHICLE LIST",de=[],ce=[],ue="",fe="",he="",ge="",me=0,xe=[],pe="",ye="",be="",je={text:""},Ce=(0,H.getFirestore)(),we=function(){var e=U.projectControlAuth.currentUser;return e?e.email:null},Se=(0,G.getStorage)(U.projectExtensionFirebase),De=function(e){var t=e.selectedValue,r=e.id,o=e.item,n=(0,Z.useDispatch)(),u=(0,i.useToast)(),f=(0,Z.useSelector)((function(e){return e.stockStatusData})),h=(0,v.useState)((0,te.nanoid)()),g=(0,a.default)(h,2),m=(g[0],g[1],(0,v.useState)(t)),x=(0,a.default)(m,2),p=x[0],y=x[1],b=M.default.get("window").width;(0,v.useEffect)((function(){var e=(0,H.onSnapshot)((0,H.doc)(U.projectExtensionFirestore,"VehicleProducts",r),(function(e){if(e.exists()){var t=e.data();y(t.stockStatus)}}));return function(){return e()}}),[]);var j=function(){var e=(0,l.default)((function*(){n((0,ee.setLoadingModalVisible)(!0));var e=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,t=Y()(e).format("YYYY/MM/DD [at] HH:mm:ss"),r=Y()(e).format("YYYY"),l=Y()(e).format("MM"),a=Y()(e).format("MM/DD"),i=Y()(e).format("YYYY/MM/DD"),d=Y()(e).format("DD"),c=Y()(e).format("HH:mm"),f=Y()(e).format("HH:mm:ss");if(o.stockStatus==p||""==p||"__NativeBasePlaceHolder__"==p)n((0,ee.setLoadingModalVisible)(!1));else{var h={date:t,stockStatus:p,changedBy:je.text},g=(0,H.doc)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),o.stockID);try{yield(0,H.updateDoc)(g,{stockStatus:p,stockStatusHistory:(0,H.arrayUnion)(h)});var m={message:'Stock Status Updated: "'+je.text+'" updated "'+o.carName+'" stock status to "'+p+'" with a reference number of "'+o.referenceNumber+'" using Vehicle List.',timestamp:t,colorScheme:!0,keywords:[t.toLowerCase(),ue.toLowerCase(),('Stock Status Updated: "'+je.text+'" updated "'+o.carName+'" stock status to '+p+' with a reference number of "'+o.referenceNumber+'" using Vehicle List').toLowerCase(),"Stock Status".toLowerCase(),"Stock Status Updated".toLowerCase(),"Stock".toLowerCase(),"Status Updated".toLowerCase(),"Updated".toLowerCase(),be.toLowerCase(),ye.toLowerCase(),je.text.toLowerCase(),r.toLowerCase(),l.toLowerCase(),a.toLowerCase(),i.toLowerCase(),d.toLowerCase(),c.toLowerCase(),f.toLowerCase()]};ve(m),n((0,ee.setLoadingModalVisible)(!1)),u.show({render:function(){return(0,ne.jsx)(L.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,ne.jsx)(s.default,{style:{color:"white"},children:"Stock Status updated successfully!"})})}})}catch(x){console.error(x),u.show({render:function(){return(0,ne.jsx)(L.default,{style:{backgroundColor:"#DC2626",padding:5,borderRadius:5},children:(0,ne.jsxs)(s.default,{style:{color:"white"},children:["Error updating: ",x]})})}})}}}));return function(){return e.apply(this,arguments)}}();return(0,ne.jsxs)(L.default,{style:{flex:1,flexDirection:"row"},children:[(0,ne.jsx)(L.default,{style:{width:b>=1360?"70%":"88%",backgroundColor:"white"},children:(0,ne.jsx)(d.default,{selectedValue:p,onValueChange:function(e){y(e)},flex:3,accessibilityLabel:"---",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,ne.jsx)(c.CheckIcon,{size:"5"})},children:f.map((function(e){return(0,ne.jsx)(d.default.Item,{label:e,value:e},e)}))})}),(0,ne.jsx)(E.default,{underlayColor:"rgba(22, 163, 74, 0.3)",onPress:j,style:{backgroundColor:"#16A34A",borderRadius:5,padding:3,margin:2,alignSelf:"center"},children:(0,ne.jsx)(I.default,{name:"update",color:"white",size:22})})]})},ve=function(){var e=(0,l.default)((function*(e){try{var t=(0,H.collection)(U.projectControlFirestore,"logs");yield(0,H.addDoc)(t,e)}catch(r){console.error("Error adding document:",r)}}));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=(0,Z.useSelector)((function(e){return e.loadingModalVisible}));return(0,ne.jsx)(L.default,{style:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.5)",flex:1,display:e?"flex":"none",justifyContent:"center",alignItems:"center"},children:(0,ne.jsxs)(L.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:[(0,ne.jsx)(u.default,{size:"lg",color:"white"}),(0,ne.jsx)(s.default,{style:{color:"white"},children:"Loading, please wait!"})]})})},Pe=function(e){var t=e.modalDeleteImagesVisible,r=e.setModalDeleteImagesVisible,o=e.handleClearImages,n=e.selectedImages,l=e.isAddPhotoVisible,a=function(){r(!1)};return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(L.default,{style:{position:"absolute",top:0,right:0,backgroundColor:"#FF4136",borderRadius:3,alignItems:"center",justifyContent:"center",display:l?"none":"flex"},children:(0,ne.jsx)(E.default,{onPress:function(){r(!0)},style:{flex:1},children:(0,ne.jsx)(k.default,{name:"trash-sharp",size:20,color:"white"})})}),(0,ne.jsx)(f.Modal,{isOpen:t,onClose:a,useRNModal:!0,children:(0,ne.jsxs)(f.Modal.Content,{bgColor:"error.100",children:[(0,ne.jsx)(f.Modal.CloseButton,{}),(0,ne.jsx)(f.Modal.Header,{borderBottomWidth:0,bgColor:"error.100",children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Clear Images"})}),(0,ne.jsx)(f.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"error.200",borderLeftWidth:4,borderLeftColor:"danger.400",margin:5,children:(0,ne.jsxs)(L.default,{style:{flex:1},children:[(0,ne.jsx)(s.default,{style:{color:"#FF4136",fontWeight:"bold"},children:"Alert!"}),(0,ne.jsxs)(s.default,{style:{color:"#FF4136"},children:["Are you sure you want to clear"," ",(0,ne.jsx)(s.default,{style:{color:"#FF4136",fontWeight:"bold"},children:n.length})," ","selected image(s)?"]})]})}),(0,ne.jsx)(f.Modal.Footer,{borderTopWidth:0,bgColor:"error.100",children:(0,ne.jsxs)(L.default,{style:{flexDirection:"row",flex:1},children:[(0,ne.jsx)(P.default,{onPress:a,style:{flex:1,backgroundColor:"#57534E",borderRadius:5,alignItems:"center",justifyContent:"center",margin:5,padding:5},children:(0,ne.jsx)(s.default,{style:{fontSize:14,color:"white"},children:"No"})}),(0,ne.jsx)(P.default,{onPress:o,style:{flex:1,backgroundColor:"#DC2626",borderRadius:5,alignItems:"center",justifyContent:"center",margin:5,padding:5},children:(0,ne.jsx)(s.default,{style:{fontSize:14,color:"white"},children:"Clear Images"})})]})})]})})]})},Ae=function(e){var t=e.dragSortableViewRef,r=e.handleClearImagesExtra,o=(0,Z.useDispatch)(),i=M.default.get("window").width,d=(0,Z.useSelector)((function(e){return e.deleteImageVisible})),c=(0,v.useState)(!0),u=(0,a.default)(c,2),j=u[0],C=(u[1],(0,Z.useSelector)((function(e){return e.selectedImages}))),w=(0,Z.useSelector)((function(e){return e.isAddPhotoVisible})),S=(0,Z.useSelector)((function(e){return e.addAnotherImages})),D=(0,v.useState)(!1),P=(0,a.default)(D,2),L=P[0],E=P[1],B=(0,v.useState)(!0),k=(0,a.default)(B,2),T=k[0],z=k[1],W=(0,v.useState)(!1),N=(0,a.default)(W,2),O=N[0],H=N[1],V=(0,v.useState)(M.default.get("window").width),Y=(0,a.default)(V,2),U=Y[0],G=Y[1],J=(0,v.useState)(!1),K=(0,a.default)(J,2),$=(K[0],K[1]),X=(0,v.useState)(""),te=(0,a.default)(X,2),re=te[0],oe=te[1],le=(0,v.useState)(!1),ae=(0,a.default)(le,2),ie=ae[0],se=ae[1],de=(0,v.useState)(!1),ce=(0,a.default)(de,2),ue=ce[0],fe=ce[1],he=(0,v.useCallback)((function(e){$(!0),oe(e),se(!0)}),[]),ge=A.default.create({dropdown:{margin:16,height:50,borderBottomColor:"gray",borderBottomWidth:.5},icon:{marginRight:5},placeholderStyle:{fontSize:16},selectedTextStyle:{fontSize:16},iconStyle:{width:20,height:20},inputSearchStyle:{height:40,fontSize:16},container:{flex:1,paddingTop:20},txt:{fontSize:18,lineHeight:24,padding:5},sort:{},item_children:{width:90,height:90,backgroundColor:"black",justifyContent:"center",alignItems:"center"},item_delete_icon:{width:14,height:14,position:"absolute",right:1,top:1},item_icon:{width:90,height:90,resizeMode:"contain",position:"absolute"}}),me=function(){var e=(0,l.default)((function*(){if(o((0,ee.setDeleteImageVisible)(!0)),40!==C.length){var e={mediaType:"photo",maxWidth:1e3,maxHeight:1e3,selectionLimit:40-C.length,storageOptions:{skipBackup:!0,path:"images"}};try{var t=yield(0,_.launchImageLibrary)(e);if(t.didCancel)return;if(t.error)return;if(!t.assets||0===t.assets.length)return;var r=(0,n.default)(C),a=t.assets.map(function(){var e=(0,l.default)((function*(e){(yield fetch(e.uri).then((function(e){return e.blob()}))).size/1024/1024<10?r.some((function(t){return t.uri===e.uri}))||r.push(e):fe(!0)}));return function(t){return e.apply(this,arguments)}}());yield Promise.all(a);var i=r.slice(0,40);o((0,ee.setSelectedImages)(i)),xe=i,i.length>=40&&o((0,ee.setAddAnotherImages)(!1))}catch(s){}}}));return function(){return e.apply(this,arguments)}}(),pe=(0,v.useCallback)((function(){if(C.length>0){var e=(0,n.default)(C);o((0,ee.setSelectedImages)(e))}}),[U]);(0,v.useEffect)((function(){var e=function(e){var t=e.window;G(t.width)};return M.default.addEventListener("change",e),function(){M.default.removeEventListener("change",e)}}),[]),(0,v.useEffect)((function(){pe()}),[pe]);var ye=(0,v.useCallback)((function(){E(!1),r()}),[]),be=(0,v.useCallback)((function(e){return O?(0,ne.jsx)(h.default,{style:ge.item,children:(0,ne.jsxs)(h.default,{style:ge.item_children,children:[(0,ne.jsx)(q.default,{style:ge.item_icon,source:{uri:e.uri,priority:q.default.priority.normal},resizeMode:q.default.resizeMode.contain}),(0,ne.jsx)(h.default,{position:"absolute",top:-3,right:-3,bg:"rgba(0, 0, 0, 0.5)",borderRadius:10,alignItems:"center",justifyContent:"center",children:(0,ne.jsx)(g.default,{onPress:function(){return we(e.uri)},display:j?"block":"none",children:(0,ne.jsx)(m.default,{as:(0,ne.jsx)(R.default,{name:"circle-with-cross"}),size:4,color:"white",cursor:"pointer"})})})]})},e.uri):(0,ne.jsx)(h.default,{style:ge.item,children:(0,ne.jsxs)(h.default,{style:ge.item_children,children:[(0,ne.jsx)(q.default,{style:ge.item_icon,source:{uri:e.uri,priority:q.default.priority.normal},resizeMode:q.default.resizeMode.contain}),(0,ne.jsx)(h.default,{position:"absolute",top:-3,right:-3,bg:"rgba(0, 0, 0, 0.5)",borderRadius:10,alignItems:"center",justifyContent:"center",children:(0,ne.jsx)(g.default,{onPress:function(){return we(e.uri)},display:j?"block":"none",children:(0,ne.jsx)(m.default,{as:(0,ne.jsx)(R.default,{name:"circle-with-cross"}),size:4,color:"white",cursor:"pointer"})})})]})},e.id)}),[]),je=(0,v.useCallback)((function(e){return O?(0,ne.jsx)(h.default,{style:ge.item,children:(0,ne.jsx)(h.default,{style:ge.item_children,children:(0,ne.jsx)(q.default,{style:ge.item_icon,source:{uri:e.uri,priority:q.default.priority.normal},resizeMode:q.default.resizeMode.contain})})},e.uri):(0,ne.jsx)(h.default,{style:ge.item,children:(0,ne.jsx)(h.default,{style:ge.item_children,children:(0,ne.jsx)(q.default,{style:ge.item_icon,source:{uri:e.uri,priority:q.default.priority.normal},resizeMode:q.default.resizeMode.contain})})},e.id)}),[]),Ce=function(){var e=(0,l.default)((function*(){try{var e=yield(0,_.launchImageLibrary)({mediaType:"photo",maxWidth:1e3,maxHeight:1e3,selectionLimit:40,storageOptions:{skipBackup:!0,path:"images"}});if(e.didCancel)return;if(e.error)return;if(!e.assets||0===e.assets.length)return;for(var t=e.assets.filter((function(e,t,r){return t===r.findIndex((function(t){return t.uri===e.uri}))})),r=[],n=[],l=0;l<t.length;l++){var a=t[l];(yield fetch(a.uri).then((function(e){return e.blob()}))).size/1024/1024<10?(r.push(a),n.push(l)):fe(!0)}var i=r.sort((function(e,t){return n[r.indexOf(e)]-n[r.indexOf(t)]})).slice(0,40);xe=i,i.length>0&&(o((0,ee.setIsAddPhotoVisible)(!1)),o((0,ee.setAddAnotherImages)(!0))),i.length>=40&&(o((0,ee.setIsAddPhotoVisible)(!1)),o((0,ee.setAddAnotherImages)(!1))),o((0,ee.setSelectedImages)(xe))}catch(s){}}));return function(){return e.apply(this,arguments)}}(),we=(0,v.useCallback)((function(e){(xe=xe.filter((function(t){return t.uri!==e}))).length<40&&o((0,ee.setAddAnotherImages)(!0)),0==xe.length&&(o((0,ee.setAddAnotherImages)(!1)),o((0,ee.setIsAddPhotoVisible)(!0))),o((0,ee.setSelectedImages)(xe))}),[]);return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(h.default,{flex:1,borderColor:"white",borderWidth:1,children:(0,ne.jsx)(F.default,{flex:1,contentContainerStyle:{flexGrow:1},children:(0,ne.jsxs)(h.default,{justifyContent:"center",alignItems:"center",h:"full",w:"full",children:[(0,ne.jsx)(Pe,{modalDeleteImagesVisible:L,setModalDeleteImagesVisible:E,handleClearImages:ye,selectedImages:C,isAddPhotoVisible:w}),(0,ne.jsxs)(h.default,{justifyContent:"center",alignSelf:"center",alignItems:"center",margin:3,children:[(0,ne.jsx)(m.default,{display:w?"block":"none",onPress:Ce,as:(0,ne.jsx)(I.default,{name:"add-photo-alternate"}),size:100,ml:"2",color:"#12293F"}),(0,ne.jsxs)(F.default,{scrollEnabled:T,flex:1,children:[(0,ne.jsxs)(h.default,{flex:1,display:d?"flex":"none",width:"full",alignItems:"center",justifyContent:"center",children:[(0,ne.jsx)(Q.DragSortableView,{ref:t,dataSource:C,delayLongPress:100,parentWidth:.33*i,childrenWidth:100,childrenHeight:100,marginChildrenTop:3,marginChildrenBottom:0,marginChildrenLeft:0,marginChildrenRight:0,onDragStart:(0,v.useCallback)((function(){O||H(!0),z(!1)}),[]),onDragEnd:(0,v.useCallback)((function(){z(!0)}),[]),onDataChange:(0,v.useCallback)((function(e){e.length!==e&&(o((0,ee.setSelectedImages)(e)),xe=e)}),[]),onClickItem:function(e,t){he(t.uri)},keyExtractor:function(e){return e.uri},renderItem:(0,v.useCallback)((function(e,t){return be(e,t)}),[])}),(0,ne.jsx)(x.default,{children:(0,ne.jsx)(m.default,{display:S?"block":"none",onPress:me,as:(0,ne.jsx)(R.default,{name:"plus"}),ml:"2",size:50,color:"#12293F"})})]}),(0,ne.jsx)(h.default,{flex:1,display:d?"none":"flex",width:"full",children:(0,ne.jsx)(Q.DragSortableView,{sortable:!1,ref:t,dataSource:C,parentWidth:.33*i,childrenWidth:100,childrenHeight:100,marginChildrenTop:3,marginChildrenBottom:0,marginChildrenLeft:0,marginChildrenRight:0,onClickItem:function(e,t){he(t.uri)},keyExtractor:function(e){return e.uri},renderItem:(0,v.useCallback)((function(e,t){return je(e,t)}),[])})})]})]}),(0,ne.jsx)(h.default,{position:"absolute",top:0,left:0,borderRadius:3,bgColor:"rgba(0, 0, 0, 0.5)",alignItems:"center",justifyContent:"center",display:w?"none":"block",children:(0,ne.jsxs)(s.default,{marginLeft:1,marginRight:1,color:"white",bold:!0,italic:!0,fontSize:12,children:["Selected ",C.length," image(s) (Maximum of 40)"]})})]})})}),(0,ne.jsx)(f.Modal,{isOpen:ie,onClose:function(){return se(!1)},size:"100%",useRNModal:!0,children:(0,ne.jsxs)(h.default,{w:"80%",h:"80%",bgColor:"rgba(0, 0, 0, 0.7)",borderRadius:10,display:"flex",alignItems:"center",justifyContent:"center",alignContent:"center",children:[(0,ne.jsx)(f.Modal.CloseButton,{color:"white"}),(0,ne.jsx)(p.default,{source:{uri:re},resizeMode:"contain",flex:1,alt:re,h:720,w:1280},re)]})}),(0,ne.jsx)(f.Modal,{isOpen:ue,onClose:function(){return fe(!1)},useRNModal:!0,children:(0,ne.jsxs)(f.Modal.Content,{bgColor:"danger.100",children:[(0,ne.jsx)(f.Modal.Header,{borderBottomWidth:0,bgColor:"danger.100",children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Failed!"})}),(0,ne.jsx)(f.Modal.Body,{bgColor:"danger.200",borderLeftWidth:4,borderLeftColor:"danger.600",margin:5,children:(0,ne.jsxs)(h.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"danger.600",bold:!0,children:"Failed!"}),(0,ne.jsx)(s.default,{color:"danger.600",children:"Please select image(s) smaller than 10MB!"})]})}),(0,ne.jsx)(f.Modal.Footer,{borderTopWidth:0,bgColor:"danger.100",children:(0,ne.jsx)(y.default,{space:5,flex:1,children:(0,ne.jsx)(b.Button,{colorScheme:"primary",flex:"1",onPress:function(){return fe(!1)},_text:{color:"white"},children:"Ok"})})})]})})]})},Le=function(e){var t=e.handleUploadImagesModalClose,r=e.screenWidth,o=e.dragSortableViewRef,n=e.handleClearImagesExtra,l=e.handleUploadImages,a=(0,Z.useSelector)((function(e){return e.uploadImagesModalVisible})),i=(0,Z.useSelector)((function(e){return e.uploadImagesButtonLoading}));return(0,ne.jsx)(f.Modal,{isOpen:a,onClose:t,size:"full",useRNModal:!0,children:(0,ne.jsxs)(f.Modal.Content,{bgColor:"white",w:"90%",h:"100%",children:[(0,ne.jsx)(f.Modal.CloseButton,{}),(0,ne.jsxs)(f.Modal.Header,{bgColor:"#7B9CFF",flexDir:r<=960?"column":"row",alignItems:r<=960?"center":"",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:20,bold:!0,children:"Upload Images for "}),(0,ne.jsx)(s.default,{color:"cyan.200",fontSize:20,bold:!0,textAlign:r<=960?"center":"",children:pe})]}),(0,ne.jsx)(L.default,{style:{flex:1,height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},children:(0,ne.jsx)(L.default,{style:{borderWidth:1,borderColor:"#12293F",width:"95%",height:"95%"},children:(0,ne.jsx)(Ae,{dragSortableViewRef:o,handleClearImagesExtra:n})})}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row"},children:[(0,ne.jsx)(P.default,{onPress:t,style:{backgroundColor:"#525252",borderRadius:5,margin:3,flex:1,justifyContent:"center",alignItems:"center",padding:8},children:(0,ne.jsx)(s.default,{style:{color:"white"},children:"Close"})}),(0,ne.jsx)(L.default,{style:{flex:4}}),(0,ne.jsx)(P.default,{disabled:i,onPress:l,style:{backgroundColor:"#16A34A",borderRadius:5,margin:3,flex:1,justifyContent:"center",alignItems:"center",padding:8},children:i?(0,ne.jsx)(u.default,{color:"white"}):(0,ne.jsx)(s.default,{style:{color:"white"},children:"Upload"})})]})]})})},Fe=function(e){var t=e.fetchImageCounts,r=M.default.get("window").width,o=(0,Z.useDispatch)(),n=(0,i.useToast)(),a=(0,v.useRef)(),d=function(){o((0,ee.setSelectedImages)([])),xe=[],o((0,ee.setIsAddPhotoVisible)(!0)),o((0,ee.setAddAnotherImages)(!1)),o((0,ee.setDeleteImageVisible)(!0))},c=function(){o((0,ee.setUploadImagesModalVisible)(!1)),d(),pe=""},u=(0,v.useCallback)((0,l.default)((function*(){var e=(0,G.ref)(Se,""+ue),t=(0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),r=(0,H.doc)(t,ue);try{var o=xe.map((function(e,t){return t.toString()})),n=yield(0,G.listAll)(e);yield Promise.all(n.items.filter((function(e){return!o.includes(e.name)})).map((function(e){return(0,G.deleteObject)(e)}))),yield Promise.all(xe.map(function(){var e=(0,l.default)((function*(e,t){var r=e.uri,o=t.toString(),n=yield fetch(r),a=yield n.blob(),i=(document.createElement("canvas").getContext("2d"),new Image);i.src=URL.createObjectURL(a),i.onload=(0,l.default)((function*(){var e=document.createElement("canvas"),t=e.getContext("2d"),r=i.width,n=i.height;i.width>800&&(r=800,n=800*i.height/i.width),n>600&&(r=600*r/n,n=600),e.width=r,e.height=n,t.drawImage(i,0,0,r,n);i.height,i.width;var l=3*e.width/100;t.font="bold "+l+"px Arial",t.fillStyle="#fff",t.shadowColor="transparent",t.imageSmoothingEnabled=!0,t.lineWidth=2;var a="Real Motor Japan "+ye,s=t.measureText(a).width,d=(e.width-s)/2+2,c=e.height-20+2;t.shadowBlur=10,t.fillStyle="black",t.fillText(a,d,c),t.shadowBlur=2;var u=(e.width-s)/2,f=e.height-20;t.fillStyle="#fff",t.fillText(a,u,f);var h=yield new Promise((function(t){e.toBlob(t,"image/jpeg",.8)})),g=(0,G.ref)(Se,ue+"/"+o);yield(0,G.uploadBytes)(g,h,{contentType:"image/jpeg"})}))}));return function(t,r){return e.apply(this,arguments)}}()));var a=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,i=Y()(a).format("YYYY/MM/DD [at] HH:mm:ss"),s=Y()(a).format("YYYY"),d=Y()(a).format("MM"),c=Y()(a).format("MM/DD"),u=Y()(a).format("YYYY/MM/DD"),f=Y()(a).format("DD"),h=Y()(a).format("HH:mm"),g=Y()(a).format("HH:mm:ss"),m={imageCount:xe.length};yield(0,H.updateDoc)(r,m);var x={message:'Vehicle Updated: "'+je.text+'" updated "'+be+'" images with a reference number of "'+ye+'" using Vehicle List',timestamp:i,colorScheme:!0,keywords:[i.toLowerCase(),ue.toLowerCase(),('Vehicle Updated: "'+je.text+'" updated "'+be+'" images with a reference number of "'+ye+' using Vehicle List"').toLowerCase(),"Vehicle List".toLowerCase(),"Vehicle Updated".toLowerCase(),"Vehicle".toLowerCase(),"Updated".toLowerCase(),be.toLowerCase(),ye.toLowerCase(),je.text.toLowerCase(),s.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),f.toLowerCase(),h.toLowerCase(),g.toLowerCase()]};ve(x)}catch(p){console.error("Error uploading images:",p)}})),[]),f=function(){var e=(0,l.default)((function*(){if(o((0,ee.setUploadImagesButtonLoading)(!0)),xe.length>0){n.closeAll();try{yield u(),o((0,ee.setUploadImagesButtonLoading)(!1)),t(),c(),n.show({render:function(){return(0,ne.jsx)(L.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,ne.jsx)(s.default,{style:{color:"white"},children:"Uploaded Images successfully!"})})}})}catch(e){console.error(e),o((0,ee.setUploadImagesButtonLoading)(!1)),c(),n.show({render:function(){return(0,ne.jsx)(L.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,ne.jsxs)(s.default,{style:{color:"white"},children:["Uploaded Error: ",e]})})}})}}else o((0,ee.setUploadImagesButtonLoading)(!1))}));return function(){return e.apply(this,arguments)}}();return(0,ne.jsx)(ne.Fragment,{children:(0,ne.jsx)(Le,{handleUploadImagesModalClose:c,screenWidth:r,dragSortableViewRef:a,handleClearImagesExtra:d,handleUploadImages:f})})},Ee=function(e){var t=e.data,r=(0,Z.useDispatch)(),o=(0,v.useCallback)((function(e){r((0,ee.setSupplyChainsCostsModalVisible)(!0)),r((0,ee.setVehicleListSupplyChainsCostsData)(e.supplyChainsCostsData?e.supplyChainsCostsData:[])),de=e.supplyChainsCostsData,ce=e.supplyChainsCostsData,ue=e.stockID,pe=e.referenceNumber+" / "+e.carName,ye=e.referenceNumber,be=e.carName}),[]);return(0,ne.jsx)(ne.Fragment,{children:(0,ne.jsx)(P.default,{onPress:function(){return o(t)},style:{backgroundColor:"#12293F",borderRadius:5,padding:2,width:"90%",justifyContent:"center",alignItems:"center"},children:(0,ne.jsx)(I.default,{name:"payments",size:22,color:"white"})})})},Be=function(e){var t=e.supplyChainsCostsModalVisible,r=(e.supplyChainsCostsData,e.expenseNameData),d=e.paidToData,c=e.currentDate,u=e.vehicleListSupplyChainsCostsData,h=M.default.get("window").width,g=(0,Z.useDispatch)(),x=(0,i.useToast)(),p=(0,v.useState)([]),y=(0,a.default)(p,2),b=(y[0],y[1],(0,v.useState)(!1)),C=(0,a.default)(b,2),w=(C[0],C[1],(0,v.useState)(!1)),S=(0,a.default)(w,2),D=(S[0],S[1],(0,v.useState)([])),A=(0,a.default)(D,2),F=(A[0],A[1],(0,v.useState)(c)),B=(0,a.default)(F,2),k=B[0],R=B[1],z=(0,v.useState)(!1),W=(0,a.default)(z,2),N=W[0],O=W[1],V=(0,v.useState)(!1),Y=(0,a.default)(V,2),_=Y[0],G=Y[1],q=(0,v.useState)(!1),J=(0,a.default)(q,2),K=J[0],$=J[1],X=(0,v.useState)(me),Q=(0,a.default)(X,2),oe=(Q[0],Q[1]),le=(0,v.useState)((0,te.nanoid)()),ae=(0,a.default)(le,2),ie=ae[0],se=ae[1],xe=(0,v.useRef)(null),ye=((0,v.useRef)(null),(0,v.useRef)(null)),be=(0,v.useRef)(null),je=(0,v.useRef)(null),Ce=(0,v.useRef)(null),we=function(){var e;g((0,ee.setSupplyChainsCostsModalVisible)(!1)),null==(e=Ce.current)||e.clear(),ge="",se((0,te.nanoid)()),fe="",R(c),he=c,g((0,ee.setSelectedExpenseName)("")),g((0,ee.setSelectedPaidTo)("")),O(!1),G(!1),$(!1),pe=""};(0,v.useEffect)((function(){var e=u.map((function(e){var t=e[Object.keys(e)[0]];return parseFloat(t.amount.replace(",",""))||0})).reduce((function(e,t){return e+t}),0).toLocaleString();oe(e),me=e}),[u]);var Se=(0,v.useCallback)((function(){var e,t;if(""==(null==(e=Ce.current)?void 0:e.value)||0==(null==(t=Ce.current)?void 0:t.value)||""==ge||""==fe){var r,l;""!=(null==(r=Ce.current)?void 0:r.value)&&0!=(null==(l=Ce.current)?void 0:l.value)||O(!0),""==ge&&G(!0),""==fe&&$(!0)}else{var a=de.findIndex((function(e){return e[ge]}));if(-1!==a){var i,s=(0,re.cloneDeep)(de);s[a][ge]={expenseName:ge,amount:null==(i=Ce.current)?void 0:i.value,date:he,paidName:fe},de=s,g((0,ee.setVehicleListSupplyChainsCostsData)(de)),g((0,ee.setSelectedExpenseName)("")),g((0,ee.setSelectedPaidTo)("")),Ce.current.clear(),ge="",fe="",R(c),he=c}else{var d;O(!1),G(!1),$(!1);var u=(0,o.default)({},ge,{expenseName:ge,amount:null==(d=Ce.current)?void 0:d.value,date:he,paidName:fe});de=[].concat((0,n.default)(de),[u]),g((0,ee.setVehicleListSupplyChainsCostsData)(de)),se((0,te.nanoid)()),Ce.current.clear(),ge="",fe="",R(c),he=c,g((0,ee.setSelectedExpenseName)("")),g((0,ee.setSelectedPaidTo)(""))}}}),[]),De=(0,v.useCallback)((function(e){Ce.current.setNativeProps({text:e.amount}),g((0,ee.setSelectedExpenseName)(e.expenseName)),ge=e.expenseName,g((0,ee.setSelectedPaidTo)(e.paidName)),fe=e.paidName,he=e.date,R(e.date),ye.current.scrollIntoView({behavior:"smooth"})}),[]),ve=function(e){var t=de.findIndex((function(t){return Object.keys(t)[0]===e}));if(-1!==t){var r=(0,n.default)(de);r.splice(t,1),g((0,ee.setVehicleListSupplyChainsCostsData)(r)),de=r}},Me=function(){g((0,ee.setSupplyChainsCostsModalVisible)(!1))},Pe=function(){g((0,ee.setSupplyChainsCostsModalVisible)(!0))},Ae=function(){var e=(0,l.default)((function*(){if(x.closeAll(),ce==de)g((0,ee.setSupplyChainsCostsModalVisible)(!1)),x.show({render:function(){return(0,ne.jsx)(L.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,ne.jsx)(s.default,{style:{color:"white"},children:"Supply Chains Costs updated successfully!"})})}});else{var e=(0,H.doc)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),ue);try{yield(0,H.updateDoc)(e,{supplyChainsCostsData:de}),g((0,ee.setSupplyChainsCostsModalVisible)(!1)),x.show({render:function(){return(0,ne.jsx)(L.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,ne.jsx)(s.default,{style:{color:"white"},children:"Supply Chains Costs updated successfully!"})})}}),g((0,ee.setSupplyChainsCostsModalVisible)(!1)),g((0,ee.setVehicleListSupplyChainsCostsData)([])),de=[],ce=[],ue=""}catch(t){console.error(t),x.show({render:function(){return(0,ne.jsx)(L.default,{style:{backgroundColor:"#DC2626",padding:5,borderRadius:5},children:(0,ne.jsxs)(s.default,{style:{color:"white"},children:["Error updating: ",t]})})}})}}}));return function(){return e.apply(this,arguments)}}();return(0,ne.jsx)(ne.Fragment,{children:(0,ne.jsx)(f.Modal,{isOpen:t,onClose:we,size:"full",children:(0,ne.jsxs)(f.Modal.Content,{bgColor:"white",w:h<=960?"90%":"50%",h:"auto",children:[(0,ne.jsx)(f.Modal.CloseButton,{}),(0,ne.jsxs)(f.Modal.Header,{bgColor:"#7B9CFF",flexDir:h<=1380?"column":"row",alignItems:h<=1380?"center":"",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:20,bold:!0,children:"Supply Chains Costs"}),(0,ne.jsxs)(s.default,{color:"cyan.200",fontSize:20,bold:!0,textAlign:h<=1380?"center":"",children:[" ",pe]})]}),(0,ne.jsx)(f.Modal.Body,{children:(0,ne.jsxs)(L.default,{style:{height:"100%"},children:[(0,ne.jsxs)(L.default,{paddingBottom:5,children:[(0,ne.jsxs)(L.default,{style:{flexDirection:h<=960?"column":"row",paddingBottom:1},ref:ye,children:[(0,ne.jsxs)(L.default,{style:{backgroundColor:"#7B9CFF",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:3,padding:h<=960?5:0},bgColor:"#7B9CFF",flex:1,flexDir:"row",alignItems:"center",justifyContent:"center",borderRadius:3,children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",marginLeft:2,flex:1,children:"Expense"}),(0,ne.jsx)(ke,{docName:"ExpenseName",handleAddTextChange:function(){var e,t=null==(e=be.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");be.current.setNativeProps({text:r})}},textAreaAdd:be,title:"Expense Name",dataName:"expenseName",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Expense Name",data:r,handleFirstModalClose:Me,handleFirstModalOpen:Pe})]}),(0,ne.jsx)(ze,{expenseNameIsError:_,selectExpenseNameRef:xe,selectResetKey:ie,setSelectResetKey:se})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:h<=960?"column":"row",paddingBottom:h<=960?8:1},flexDir:"row",paddingBottom:1,children:[(0,ne.jsx)(L.default,{style:{backgroundColor:"#7B9CFF",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:3,padding:h<=960?5:0},bgColor:"#7B9CFF",flex:1,flexDir:"row",alignItems:"center",justifyContent:"center",borderRadius:3,children:(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",marginLeft:2,flex:2,children:"Amount"})}),(0,ne.jsx)(j.Input,{borderColor:N?"error.400":"muted.300",flex:3,ref:Ce,onChangeText:function(e){var t=e.replace(/[^0-9]/g,"").slice(0,6),r=Number(t).toLocaleString();Ce.current.value=r},placeholder:"Amount",bgColor:"white",placeholderTextColor:"muted.400",InputLeftElement:(0,ne.jsx)(m.default,{as:(0,ne.jsx)(T.default,{name:"yen"}),size:5,ml:"2",color:"muted.400"})})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:h<=960?"column":"row",paddingBottom:1},flexDir:"row",paddingBottom:1,children:[(0,ne.jsx)(L.default,{style:{backgroundColor:"#7B9CFF",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:3,padding:h<=960?5:0},bgColor:"#7B9CFF",flex:1,flexDir:"row",alignItems:"center",justifyContent:"center",borderRadius:3,children:(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",marginLeft:2,flex:1,children:"Date"})}),(0,ne.jsx)(Te,{setSelectedDate:R,selectedDate:k})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:h<=960?"column":"row",paddingBottom:1},flexDir:"row",paddingBottom:1,children:[(0,ne.jsxs)(L.default,{style:{backgroundColor:"#7B9CFF",flex:1,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:3,padding:h<=960?5:0},bgColor:"#7B9CFF",flex:1,flexDir:"row",alignItems:"center",justifyContent:"center",borderRadius:3,children:[(0,ne.jsx)(s.default,{color:"white",alignSelf:"center",marginLeft:2,flex:1,children:"Paid to"}),(0,ne.jsx)(ke,{docName:"PaidTo",handleAddTextChange:function(){var e,t=null==(e=je.current)?void 0:e.value;if(t){var r=t.split("\n").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join("\n");je.current.setNativeProps({text:r})}},textAreaAdd:be,title:"Paid To",dataName:"paidTo",databaseInit:U.projectExtensionFirestore,headerText:"Rearrange/Add Paid To",data:d,handleFirstModalClose:Me,handleFirstModalOpen:Pe})]}),(0,ne.jsx)(Ie,{paidToIsError:K})]}),(0,ne.jsx)(E.default,{onPress:Se,underlayColor:"lightgreen",style:{backgroundColor:"#16A34A",borderRadius:5,margin:1,flex:1,width:h<=960?"80%":"40%",alignSelf:"center",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10},children:(0,ne.jsxs)(L.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,ne.jsx)(I.default,{name:"add",color:"white",size:20}),(0,ne.jsx)(s.default,{style:{color:"white",marginLeft:5},children:"ADD/EDIT"})]})})]}),h>=1360?(0,ne.jsxs)(L.default,{children:[(0,ne.jsxs)(L.default,{style:{flexDirection:"row",borderBottomWidth:1,borderColor:"#E4E4E7",backgroundColor:"#0642F4"},flexDirection:"row",borderBottomWidth:1,borderColor:"gray.200",bgColor:"#0642F4",children:[(0,ne.jsx)(s.default,{flex:1,color:"white",marginLeft:1,bold:!0,children:"Expense Name"}),(0,ne.jsx)(s.default,{flex:1,color:"white",marginLeft:1,bold:!0,children:"Amount"}),(0,ne.jsx)(s.default,{flex:1,color:"white",marginLeft:1,bold:!0,children:"Date"}),(0,ne.jsx)(s.default,{flex:1,color:"white",marginLeft:1,bold:!0,children:"Paid To"}),(0,ne.jsx)(s.default,{flex:1,color:"white",marginLeft:1,bold:!0,children:"Modify"})]}),u.map((function(e,t){var r=e[Object.keys(e)[0]];return(0,ne.jsxs)(L.default,{style:{flexDirection:"row",backgroundColor:"#D4D4D4",borderBottomColor:"#E4E4E7",borderBottomWidth:1,justifyContent:"center",alignItems:"center"},flexDirection:"row",bgColor:"muted.300",borderBottomColor:"gray.200",borderBottomWidth:1,justifyContent:"center",alignItems:"center",children:[(0,ne.jsx)(s.default,{flex:1,marginLeft:1,children:r.expenseName}),(0,ne.jsxs)(s.default,{flex:1,marginLeft:1,children:["\xa5",r.amount]}),(0,ne.jsx)(s.default,{flex:1,marginLeft:1,children:r.date}),(0,ne.jsx)(s.default,{flex:1,marginLeft:1,children:r.paidName}),(0,ne.jsxs)(L.default,{style:{flex:1,flexDirection:"row",marginLeft:1},flex:1,marginLeft:1,flexDir:"row",children:[(0,ne.jsx)(E.default,{onPress:function(){return De(r)},underlayColor:"#005691",style:{flex:1,margin:1,borderRadius:3},children:(0,ne.jsx)(L.default,{style:{flex:1,backgroundColor:"#06B6D4",borderRadius:3,justifyContent:"center",alignItems:"center"},children:(0,ne.jsx)(s.default,{style:{color:"white",textAlign:"center"},children:"Edit"})})}),(0,ne.jsx)(E.default,{onPress:function(){return ve(r.expenseName)},underlayColor:"#005691",style:{flex:1,margin:1,borderRadius:3},children:(0,ne.jsx)(L.default,{style:{flex:1,backgroundColor:"#EF4444",borderRadius:3,justifyContent:"center",alignItems:"center"},children:(0,ne.jsx)(s.default,{style:{color:"white",textAlign:"center"},children:"Delete"})})})]})]},t)}))]}):(0,ne.jsx)(L.default,{children:u.map((function(e,t){var r=e[Object.keys(e)[0]];return(0,ne.jsxs)(L.default,{style:{flexDirection:"column",justifyContent:"center",flex:1,margin:3,marginBottom:10},children:[(0,ne.jsxs)(L.default,{style:{flexDirection:"row",borderBottomWidth:1,borderColor:"#E4E4E7",backgroundColor:"#D4D4D4"},children:[(0,ne.jsx)(L.default,{style:{backgroundColor:"#0642F4",flex:1,borderBottomWidth:1,borderColor:"#E4E4E7",justifyContent:"center",width:"30%"},children:(0,ne.jsx)(s.default,{color:"white",bgColor:"#0642F4",marginLeft:1,bold:!0,children:"Expense Name"})}),(0,ne.jsx)(s.default,{flex:1,marginLeft:1,children:r.expenseName})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row",borderBottomWidth:1,borderColor:"#E4E4E7",backgroundColor:"#D4D4D4"},children:[(0,ne.jsx)(L.default,{style:{backgroundColor:"#0642F4",flex:1,borderBottomWidth:1,borderColor:"#E4E4E7",justifyContent:"center",width:"30%"},children:(0,ne.jsx)(s.default,{color:"white",bgColor:"#0642F4",marginLeft:1,bold:!0,children:"Amount"})}),(0,ne.jsxs)(s.default,{flex:1,marginLeft:1,children:["\xa5",r.amount]})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row",borderBottomWidth:1,borderColor:"#E4E4E7",backgroundColor:"#D4D4D4"},children:[(0,ne.jsx)(L.default,{style:{backgroundColor:"#0642F4",flex:1,borderBottomWidth:1,borderColor:"#E4E4E7",justifyContent:"center",width:"30%"},children:(0,ne.jsx)(s.default,{color:"white",bgColor:"#0642F4",marginLeft:1,bold:!0,children:"Date"})}),(0,ne.jsx)(s.default,{flex:1,marginLeft:1,children:r.date})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row",borderBottomWidth:1,borderColor:"#E4E4E7",backgroundColor:"#D4D4D4"},children:[(0,ne.jsx)(L.default,{style:{backgroundColor:"#0642F4",flex:1,borderBottomWidth:1,borderColor:"#E4E4E7",justifyContent:"center",width:"30%"},children:(0,ne.jsx)(s.default,{color:"white",bgColor:"#0642F4",marginLeft:1,bold:!0,children:"Paid To"})}),(0,ne.jsx)(s.default,{flex:1,marginLeft:1,children:r.paidName})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row",borderBottomWidth:1,borderColor:"#E4E4E7",backgroundColor:"#D4D4D4"},children:[(0,ne.jsx)(L.default,{style:{backgroundColor:"#0642F4",flex:1,borderBottomWidth:1,borderColor:"#E4E4E7",justifyContent:"center",width:"30%"},children:(0,ne.jsx)(s.default,{color:"white",bgColor:"#0642F4",marginLeft:1,bold:!0,children:"Modify"})}),(0,ne.jsxs)(L.default,{style:{flex:1,flexDirection:"row"},flex:1,marginLeft:1,flexDir:"row",children:[(0,ne.jsx)(E.default,{onPress:function(){return De(r)},underlayColor:"#005691",style:{flex:1,margin:1,borderRadius:3},children:(0,ne.jsx)(L.default,{style:{flex:1,backgroundColor:"#06B6D4",borderRadius:3,justifyContent:"center",alignItems:"center"},children:(0,ne.jsx)(s.default,{style:{color:"white",textAlign:"center"},children:"Edit"})})}),(0,ne.jsx)(E.default,{onPress:function(){return ve(r.expenseName)},underlayColor:"#005691",style:{flex:1,margin:1,borderRadius:3},children:(0,ne.jsx)(L.default,{style:{flex:1,backgroundColor:"#EF4444",borderRadius:3,justifyContent:"center",alignItems:"center"},children:(0,ne.jsx)(s.default,{style:{color:"white",textAlign:"center"},children:"Delete"})})})]})]})]},t)}))})]})}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,ne.jsx)(P.default,{onPress:we,style:{backgroundColor:"#525252",borderRadius:5,margin:3,flex:1,justifyContent:"center",alignItems:"center",padding:8},children:(0,ne.jsx)(s.default,{style:{color:"white"},children:"Close"})}),(0,ne.jsx)(L.default,{style:{flex:4}}),(0,ne.jsx)(P.default,{onPress:Ae,style:{backgroundColor:"#16A34A",borderRadius:5,margin:3,flex:1,justifyContent:"center",alignItems:"center",padding:8},children:(0,ne.jsx)(s.default,{style:{color:"white"},children:"Save"})})]})]})})})},Ie=function(e){var t=e.paidToIsError,r=(0,Z.useDispatch)(),o=(0,Z.useSelector)((function(e){return e.paidToData})),n=(0,Z.useSelector)((function(e){return e.selectedPaidTo}));return(0,ne.jsx)(d.default,{selectedValue:n,borderColor:t?"error.400":"muted.300",flex:3,onValueChange:function(e){fe=e,r((0,ee.setSelectedPaidTo)(e))},accessibilityLabel:"Choose Paid To",placeholder:"Choose Paid To",_selectedItem:{bg:"teal.600",endIcon:(0,ne.jsx)(c.CheckIcon,{size:"5"})},children:o.map((function(e){return(0,ne.jsx)(d.default.Item,{label:e,value:e},e)}))})},ke=function(e){var t=e.headerText,r=e.data,i=e.title,d=e.dataName,c=e.databaseInit,g=e.textAreaAdd,m=e.handleAddTextChange,x=e.docName,p=e.handleFirstModalOpen,j=e.handleFirstModalClose,w=(0,v.useState)(!1),S=(0,a.default)(w,2),D=S[0],M=S[1],A=(0,v.useState)(!1),F=(0,a.default)(A,2),B=F[0],I=F[1],k=(0,v.useState)(!1),O=(0,a.default)(k,2),V=O[0],U=O[1],_=(0,v.useState)(!1),G=(0,a.default)(_,2),q=G[0],J=G[1],K=(0,v.useState)(!1),X=(0,a.default)(K,2),Q=X[0],ee=X[1],te=(0,v.useState)(r),re=(0,a.default)(te,2),oe=re[0],le=re[1],ae=(0,v.useState)(!1),ie=(0,a.default)(ae,2),se=ie[0],de=ie[1],ce=(0,Z.useSelector)((function(e){return e.loginName}));je.text=ce;var ue=(0,v.useCallback)((function(e){le((function(t){return t.filter((function(t){return t!==e}))}))}),[]),fe=(0,v.useCallback)((0,l.default)((function*(){var e,t=(0,H.doc)((0,H.collection)(c,x),x),r=yield(0,H.getDoc)(t);r.exists()&&le((null==(e=r.data())?void 0:e[d])||[])})),[c,oe]),he=(0,v.useCallback)((0,l.default)((function*(){ee(!0);var e=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,t=Y()(e).format("YYYY/MM/DD [at] HH:mm:ss");try{yield(0,H.updateDoc)((0,H.doc)((0,H.collection)(c,x),x),(0,o.default)({},d,oe)),ee(!1),M(!0),J(!1);var r={message:'"'+i+'" updated: "'+je.text+'" updated "'+i+'"',timestamp:t,colorScheme:!0};ve(r)}catch(n){ee(!1),we(),console.error(n)}})),[c,oe,d,x]),ge=(0,v.useCallback)((function(){de(!0),fe(),M(!0),j()}),[D,se]),me=(0,v.useCallback)((0,l.default)((function*(){M(!1),de(!1),p()})),[D,se]),xe=(0,v.useCallback)((function(){I(!0),me(),de(!0),j()}),[]),pe=(0,v.useCallback)((function(){var e;I(!1),ge(),null==(e=g.current)||e.clear()}),[B]),ye=(0,v.useCallback)((function(){U(!1),ge()}),[V]),be=(0,v.useCallback)((function(){U(!0),me(),I(!1),de(!0),j()}),[V,B,se]),Ce=(0,v.useCallback)((function(){J(!0),M(!1),de(!0)}),[q,D,se]),we=(0,v.useCallback)((function(){J(!1),M(!0)}),[q,D]),Se=function(){var e=(0,l.default)((function*(){var e,t=null==(e=g.current)?void 0:e.value,r=t.split("\n").map((function(e){return e.trim()})),l=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,a=Y()(l).format("YYYY/MM/DD [at] HH:mm:ss");if(""!==t){ee(!0);try{var s=(0,H.collection)(c,x),u=(0,H.doc)(s,x);yield(0,H.setDoc)(u,(0,o.default)({},d,H.arrayUnion.apply(void 0,(0,n.default)(r))),{merge:!0});var f={message:'"'+i+'" added: "'+je.text+'" added "'+i+'"(s).',timestamp:a,colorScheme:!0};ve(f),ee(!1),be()}catch(h){console.error("Error adding data to Firestore:",h),ee(!1)}}}));return function(){return e.apply(this,arguments)}}();return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(L.default,{style:{flex:1,justifyContent:"center",alignItems:"flex-end",marginRight:1},children:se?(0,ne.jsx)(u.default,{color:"white"}):(0,ne.jsx)(P.default,{onPress:ge,children:(0,ne.jsx)(z.default,{name:"playlist-edit",size:25,color:"white"})})}),(0,ne.jsx)(f.Modal,{isOpen:D,onClose:me,useRNModal:!0,children:(0,ne.jsxs)(f.Modal.Content,{children:[(0,ne.jsx)(f.Modal.CloseButton,{}),(0,ne.jsx)(f.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:t})}),(0,ne.jsx)(f.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,ne.jsxs)(L.default,{style:{width:"100%",flexDirection:"column"},children:[(0,ne.jsx)(L.default,{style:{alignItems:"flex-end"},children:(0,ne.jsx)(E.default,{onPress:xe,children:(0,ne.jsx)(T.default,{name:"plus-circle",size:25,color:"#102A43"})})}),(0,ne.jsx)(L.default,{style:{flex:1,borderWidth:1,borderColor:"#102A43",borderRadius:5},children:(0,ne.jsx)($.default,{style:{alignContent:"center",flex:1},data:oe,keyExtractor:function(e){return e},renderItem:function(e){var t=e.item,r=e.drag;return(0,ne.jsxs)(L.default,{style:{flex:1,backgroundColor:"rgba(16,42,67, 0.5)",borderBottomWidth:1,borderBottomColor:"#D3D3D3",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[(0,ne.jsx)(P.default,{onPress:function(){return ue(t)},children:(0,ne.jsx)(W.default,{name:"minuscircle",size:16,color:"#102A43"})}),(0,ne.jsx)(s.default,{style:{flex:1,textAlign:"center",color:"white"},children:t}),(0,ne.jsx)(P.default,{onPressIn:r,children:(0,ne.jsx)(R.default,{name:"menu",size:16,color:"#102A43"})})]})},onDragEnd:(0,v.useCallback)((function(e){var t=e.data;return le(t)}),[])})})]})}),(0,ne.jsx)(f.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(L.default,{style:{flexDirection:"row",flex:1},children:[(0,ne.jsx)(P.default,{onPress:me,style:{flex:1,borderRadius:5,backgroundColor:"#525252",margin:5,justifyContent:"center",alignItems:"center",padding:8},children:(0,ne.jsx)(s.default,{style:{color:"white"},children:"Close"})}),(0,ne.jsx)(P.default,{onPress:Ce,style:{flex:1,borderRadius:5,backgroundColor:"#0891B2",margin:5,justifyContent:"center",alignItems:"center",padding:8},children:(0,ne.jsx)(s.default,{style:{color:"white"},children:"Save"})})]})})]})}),(0,ne.jsx)(f.Modal,{isOpen:q,onClose:we,children:(0,ne.jsxs)(f.Modal.Content,{children:[(0,ne.jsx)(f.Modal.CloseButton,{}),(0,ne.jsx)(f.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsx)(s.default,{color:"#102A43",bold:!0,children:"Save Order?"})}),(0,ne.jsx)(f.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,ne.jsx)(s.default,{children:"Are you sure you want to save changes?"})}),(0,ne.jsx)(f.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(y.default,{space:5,flex:1,children:[(0,ne.jsx)(b.Button,{onPress:we,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"No"}),(0,ne.jsx)(b.Button,{onPress:he,flex:1,size:"sm",borderRadius:5,isLoading:!!Q,children:"Yes"})]})})]})}),(0,ne.jsx)(f.Modal,{isOpen:B,onClose:pe,initialFocusRef:g,children:(0,ne.jsxs)(f.Modal.Content,{children:[(0,ne.jsx)(f.Modal.CloseButton,{}),(0,ne.jsx)(f.Modal.Header,{borderBottomWidth:0,children:(0,ne.jsxs)(s.default,{color:"#102A43",bold:!0,children:["Add ",i]})}),(0,ne.jsx)(f.Modal.Body,{justifyContent:"center",alignItems:"center",flex:1,children:(0,ne.jsx)(C.default,{textAlign:"center",w:"full",ref:g,multiline:!0,onChangeText:m,totalLines:4,placeholder:"Enter your data, separated by new lines"})}),(0,ne.jsx)(f.Modal.Footer,{borderTopWidth:0,children:(0,ne.jsxs)(y.default,{space:5,flex:1,children:[(0,ne.jsx)(b.Button,{onPress:pe,colorScheme:"muted",flex:1,size:"sm",borderRadius:5,children:"Close"}),(0,ne.jsx)(b.Button,{onPress:Se,isLoading:!!Q,flex:1,size:"sm",borderRadius:5,children:"Add"})]})})]})}),(0,ne.jsx)(f.Modal,{isOpen:V,onClose:ye,useRNModal:!0,children:(0,ne.jsxs)(f.Modal.Content,{bgColor:"green.100",children:[(0,ne.jsx)(f.Modal.Header,{borderBottomWidth:0,bgColor:"green.100",children:(0,ne.jsx)(s.default,{textAlign:"center",color:"#102A43",bold:!0,children:"\ud83d\ude0a\ud83d\ude0e Success! \ud83d\ude0e\ud83d\ude0a"})}),(0,ne.jsx)(f.Modal.Body,{justifyContent:"center",alignItems:"center",bgColor:"green.200",borderLeftWidth:4,borderLeftColor:"green.600",margin:5,children:(0,ne.jsxs)(h.default,{flex:1,children:[(0,ne.jsx)(s.default,{color:"green.600",bold:!0,children:"Added successfully!"}),(0,ne.jsx)(s.default,{color:"green.600",children:"Added successfully!"})]})}),(0,ne.jsx)(f.Modal.Footer,{borderTopWidth:0,bgColor:"green.100",children:(0,ne.jsx)(y.default,{space:5,flex:1,children:(0,ne.jsx)(b.Button,{colorScheme:"success",flex:"1",onPress:ye,_text:{color:"white"},children:"Ok"})})})]})})]})},Re=function(){var e=(0,Z.useSelector)((function(e){return e.supplyChainsCostsModalVisible})),t=(0,Z.useSelector)((function(e){return e.supplyChainsCostsData})),r=(0,Z.useSelector)((function(e){return e.expenseNameData})),o=(0,Z.useSelector)((function(e){return e.paidToData})),n=(0,Z.useSelector)((function(e){return e.currentDate})),l=(0,Z.useSelector)((function(e){return e.vehicleListSupplyChainsCostsData}));return(0,ne.jsx)(Be,{supplyChainsCostsModalVisible:e,supplyChainsCostsData:t,expenseNameData:r,paidToData:o,currentDate:n,vehicleListSupplyChainsCostsData:l})},Te=function(e){var t=e.selectedDate,r=e.setSelectedDate,n=(0,v.useState)(!1),l=(0,a.default)(n,2),i=l[0],s=l[1],d=function(){s(!0)},c=function(){s(!1)};return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(P.default,{onPress:d,style:{flex:3},children:(0,ne.jsx)(j.Input,{value:t,onFocus:d})}),(0,ne.jsxs)(f.Modal,{isOpen:i,onClose:c,useRNModal:!0,children:[(0,ne.jsx)(f.Modal.CloseButton,{}),(0,ne.jsx)(f.Modal.Content,{children:(0,ne.jsx)(h.default,{height:"full",flex:1,children:(0,ne.jsx)(X.Calendar,{onDayPress:(0,v.useCallback)((function(e){r(e.dateString),he=e.dateString,c()}),[]),markedDates:(0,o.default)({},t,{selected:!0,disableTouchEvent:!0,selectedDotColor:"#7b9cff"}),renderArrow:function(e){return"left"===e?(0,ne.jsx)(I.default,{name:"arrow-back-ios",color:"#7b9cff"}):(0,ne.jsx)(I.default,{name:"arrow-forward-ios",color:"#7b9cff"})},enableSwipeMonths:!0,initialDate:t,showSixWeeks:!0})})})]})]})},ze=function(e){var t=e.expenseNameIsError,r=(e.selectExpenseNameRef,e.selectResetKey,(0,Z.useDispatch)()),o=(0,Z.useSelector)((function(e){return e.expenseNameData})),n=(0,Z.useSelector)((function(e){return e.selectedExpenseName})),l=(0,v.useState)((0,te.nanoid)()),i=(0,a.default)(l,2);i[0],i[1];return(0,ne.jsx)(d.default,{selectedValue:n,borderColor:t?"error.400":"muted.300",flex:3,onValueChange:function(e){ge=e,r((0,ee.setSelectedExpenseName)(e))},accessibilityLabel:"Choose Expense Name",placeholder:"Choose Expense Name",_selectedItem:{bg:"teal.600",endIcon:(0,ne.jsx)(c.CheckIcon,{size:"5"})},children:o.map((function(e){return(0,ne.jsx)(d.default.Item,{label:e,value:e},e)}))})},We=function(e){var t=e.handleEditModalClose,r=(0,Z.useSelector)((function(e){return e.editVehicleModalVisible})),o=M.default.get("window").width;return(0,ne.jsx)(f.Modal,{isOpen:r,onClose:t,size:"full",children:(0,ne.jsxs)(f.Modal.Content,{bgColor:"white",w:o<=1100?"90%":"40%",h:"100%",children:[(0,ne.jsx)(f.Modal.CloseButton,{}),(0,ne.jsxs)(f.Modal.Header,{bgColor:"#7B9CFF",flexDir:o<=960?"column":"row",alignItems:o<=960?"center":"",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:20,bold:!0,children:"Edit Vehicle "}),(0,ne.jsx)(s.default,{color:"cyan.200",fontSize:20,bold:!0,textAlign:o<=960?"center":"",children:pe})]}),(0,ne.jsx)(f.Modal.Body,{children:"Sit nulla est ex deserunt exercitation anim occaecat."})]})})},Ne=function(){var e=(0,Z.useDispatch)();return(0,ne.jsx)(We,{handleEditModalClose:function(){e((0,ee.setEditVehicleModalVisible)(!1)),ue="",pe="",ye="",be=""}})},Oe=function(e){var t=e.handleViewImagesModalClose,r=M.default.get("window").width,o=(0,Z.useSelector)((function(e){return e.viewImagesModalVisible})),n=(0,Z.useSelector)((function(e){return e.viewImagesData})),l=(0,v.useState)(""),i=(0,a.default)(l,2),d=i[0],c=i[1],u=(0,v.useState)(!1),g=(0,a.default)(u,2),m=g[0],x=g[1],y=(0,v.useCallback)((function(e){c(e),x(!0)}),[]),b=(0,v.useCallback)((function(e){var t=A.default.create({dropdown:{margin:16,height:50,borderBottomColor:"gray",borderBottomWidth:.5},icon:{marginRight:5},placeholderStyle:{fontSize:16},selectedTextStyle:{fontSize:16},iconStyle:{width:20,height:20},inputSearchStyle:{height:40,fontSize:16},container:{flex:1,paddingTop:20},txt:{fontSize:18,lineHeight:24,padding:5},sort:{},item_children:{width:90,height:90,backgroundColor:"black",justifyContent:"center",alignItems:"center"},item_delete_icon:{width:14,height:14,position:"absolute",right:1,top:1},item_icon:{width:90,height:90,resizeMode:"contain",position:"absolute"}});return(0,ne.jsx)(h.default,{style:t.item,children:(0,ne.jsx)(h.default,{style:t.item_children,children:(0,ne.jsx)(q.default,{style:t.item_icon,source:{uri:e.uri,priority:q.default.priority.normal},resizeMode:q.default.resizeMode.contain})})},e.id)}),[]);return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(f.Modal,{isOpen:o,onClose:t,size:"full",useRNModal:!0,children:(0,ne.jsxs)(f.Modal.Content,{bgColor:"white",w:r<=1100?"90%":"60%",h:"100%",children:[(0,ne.jsx)(f.Modal.CloseButton,{}),(0,ne.jsxs)(f.Modal.Header,{bgColor:"#7B9CFF",flexDir:r<=960?"column":"row",alignItems:r<=960?"center":"",children:[(0,ne.jsx)(s.default,{color:"white",fontSize:20,bold:!0,children:"View Images for "}),(0,ne.jsx)(s.default,{color:"cyan.200",fontSize:20,bold:!0,textAlign:r<=960?"center":"",children:pe})]}),(0,ne.jsx)(L.default,{style:{flex:1,alignItems:"center",justifyContent:"center",margin:"5%",marginLeft:"10%"},children:(0,ne.jsx)(L.default,{style:{flex:1,alignItems:"center",justifyContent:"center"},children:(0,ne.jsx)(F.default,{style:{height:"90%"},children:(0,ne.jsx)(Q.DragSortableView,{sortable:!1,dataSource:n,parentWidth:.33*ie,childrenWidth:100,childrenHeight:100,marginChildrenTop:3,marginChildrenBottom:0,marginChildrenLeft:0,marginChildrenRight:0,onClickItem:function(e,t){y(t.uri)},keyExtractor:function(e){return e.uri},renderItem:(0,v.useCallback)((function(e,t){return b(e,t)}),[])})})})})]})}),(0,ne.jsx)(f.Modal,{isOpen:m,onClose:function(){return x(!1)},size:"100%",useRNModal:!0,children:(0,ne.jsxs)(h.default,{w:"80%",h:"80%",bgColor:"rgba(0, 0, 0, 0.7)",borderRadius:10,display:"flex",alignItems:"center",justifyContent:"center",alignContent:"center",children:[(0,ne.jsx)(f.Modal.CloseButton,{color:"white"}),(0,ne.jsx)(p.default,{source:{uri:d},resizeMode:"contain",flex:1,alt:d,h:720,w:1280},d)]})})]})},He=function(e){var t=e.handleFobPriceHistoryClose,r=M.default.get("window").width,o=(0,Z.useSelector)((function(e){return e.fobPriceHistoryModalVisible})),l=(0,Z.useSelector)((function(e){return e.fobHistoryData}));return(0,ne.jsx)(f.Modal,{isOpen:o,onClose:t,size:"full",useRNModal:!0,children:(0,ne.jsxs)(f.Modal.Content,{bgColor:"white",w:r<=1100?"90%":"40%",h:"auto",children:[(0,ne.jsx)(f.Modal.CloseButton,{}),(0,ne.jsx)(f.Modal.Header,{bgColor:"#7B9CFF",alignItems:r<=960?"center":"flex-start",children:(0,ne.jsx)(s.default,{color:"white",fontSize:20,bold:!0,children:"FOB Price History "})}),(0,ne.jsx)(f.Modal.Body,{children:(0,ne.jsx)(F.default,{style:{width:"100%"},children:r>=960?(0,ne.jsxs)(L.default,{style:{alignItems:"stretch",marginTop:10},children:[(0,ne.jsxs)(L.default,{style:{borderRadius:3,backgroundColor:"#0642F4",flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#0642F4"},children:[(0,ne.jsx)(s.default,{style:{flex:1,fontSize:16,fontWeight:"bold",padding:8,color:"white"},children:"Date"}),(0,ne.jsx)(s.default,{style:{flex:1,fontSize:16,fontWeight:"bold",padding:8,color:"white"},children:"FOB Price \xa5"}),(0,ne.jsx)(s.default,{style:{width:"20%",fontSize:16,fontWeight:"bold",padding:8,color:"white"},children:"Changer"})]}),(0,n.default)(l).sort((function(e,t){return new Date(t.date.replace(" at "," "))-new Date(e.date.replace(" at "," "))})).map((function(e,t){return(0,ne.jsxs)(L.default,{style:{backgroundColor:"#BBF7D0",flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#CCCCCC"},children:[(0,ne.jsx)(s.default,{style:{flex:1,fontSize:16,padding:8},children:e.date}),(0,ne.jsxs)(s.default,{style:{flex:1,fontSize:16,padding:8},children:["\xa5",Number(e.fobPrice).toLocaleString()]}),(0,ne.jsx)(s.default,{style:{width:"20%",fontSize:16,padding:8},children:e.changedBy})]},t)}))]}):(0,ne.jsx)(L.default,{style:{alignItems:"stretch",marginTop:10},children:(0,n.default)(l).sort((function(e,t){return new Date(t.date.replace(" at "," "))-new Date(e.date.replace(" at "," "))})).map((function(e,t){return(0,ne.jsxs)(L.default,{style:{backgroundColor:"#BBF7D0",flexDirection:"column",borderWidth:1,borderColor:"#E4E4E7",margin:3},children:[(0,ne.jsxs)(L.default,{style:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:[(0,ne.jsx)(L.default,{style:{backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#0642F4",width:"30%"},children:(0,ne.jsx)(s.default,{style:{flex:1,fontSize:16,fontWeight:"bold",padding:8,color:"white"},children:"Date"})}),(0,ne.jsx)(s.default,{style:{flex:1,fontSize:16,padding:8},children:e.date})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:[(0,ne.jsx)(L.default,{style:{backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#0642F4",width:"30%"},children:(0,ne.jsx)(s.default,{style:{flex:1,fontSize:16,fontWeight:"bold",padding:8,color:"white"},children:"FOB Price \xa5"})}),(0,ne.jsxs)(s.default,{style:{flex:1,fontSize:16,padding:8},children:["\xa5",Number(e.fobPrice).toLocaleString()]})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:[(0,ne.jsx)(L.default,{style:{backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#0642F4",width:"30%"},children:(0,ne.jsx)(s.default,{style:{flex:1,fontSize:16,fontWeight:"bold",padding:8,color:"white"},children:"Changer"})}),(0,ne.jsx)(s.default,{style:{flex:1,fontSize:16,padding:8},children:e.changedBy})]})]},t)}))})})})]})})},Ve=function(){var e=(0,Z.useDispatch)();return(0,ne.jsx)(He,{handleFobPriceHistoryClose:function(){e((0,ee.setFobPriceHistoryModalVisible)(!1)),[],ue="",pe="",ye=""}})},Ye=function(e){var t=e.item,r=e.handleViewImagesModalOpen,o=e.handleUploadImagesModalOpen,n=(0,v.useState)(t.imageCount||0),l=(0,a.default)(n,2),i=l[0],d=l[1];return(0,v.useEffect)((function(){var e=(0,H.onSnapshot)((0,H.doc)(U.projectExtensionFirestore,"VehicleProducts",t.stockID),(function(e){if(e.exists()){var t=e.data();d(t.imageCount||0)}}));return function(){return e()}}),[t.stockID]),(0,ne.jsxs)(L.default,{style:{flex:1,flexDirection:"row"},children:[i>0?(0,ne.jsx)(P.default,{onPress:function(){return r(t)},children:(0,ne.jsxs)(s.default,{style:{textDecorationLine:"underline"},children:[i," image/s"]})}):(0,ne.jsxs)(s.default,{children:[i," image/s"]}),(0,ne.jsx)(P.default,{onPress:function(){return o(t)},children:i>0?null:(0,ne.jsx)(I.default,{name:"add-photo-alternate",size:22,color:"white"})})]})},Ue=function(e){var t=e.item,r=e.index,o=(0,Z.useDispatch)(),n=(0,i.useToast)(),d=(0,v.useState)(t.fobPrice?parseFloat(t.fobPrice).toLocaleString():""),c=(0,a.default)(d,2),u=c[0],f=c[1],h=(0,v.useRef)([]);(0,v.useEffect)((function(){var e=(0,H.onSnapshot)((0,H.doc)(U.projectExtensionFirestore,"VehicleProducts",t.stockID),(function(e){if(e.exists()){var t=e.data();f(t.fobPrice?parseFloat(t.fobPrice).toLocaleString():"")}}));return function(){return e()}}),[]);var g=function(e){return e.replace(/[^0-9]/g,"").slice(0,9).replace(/\B(?=(\d{3})+(?!\d))/g,",")},m=function(){var e=(0,l.default)((function*(e,t){o((0,ee.setLoadingModalVisible)(!0));var r=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,l=Y()(r).format("YYYY/MM/DD [at] HH:mm:ss"),a=Y()(r).format("YYYY"),i=Y()(r).format("MM"),d=Y()(r).format("MM/DD"),c=Y()(r).format("YYYY/MM/DD"),u=Y()(r).format("DD"),f=Y()(r).format("HH:mm"),g=Y()(r).format("HH:mm:ss"),m=h.current[e.stockID].value.replace(/,/g,"");n.closeAll();var x={date:l,fobPrice:m,changedBy:je.text},p=(0,H.doc)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),e.stockID);try{yield(0,H.updateDoc)(p,{fobPrice:m,fobHistory:(0,H.arrayUnion)(x)});var y={message:'Vehicle FOB Price Updated: "'+je.text+'" updated "'+e.carName+'" FOB price with a reference number of "'+e.referenceNumber+'" using Vehicle List.',timestamp:l,colorScheme:!0,keywords:[l.toLowerCase(),ue.toLowerCase(),('Vehicle FOB Price Updated: "'+je.text+'" updated "'+e.carName+'" FOB price with a reference number of "'+e.referenceNumber+'" using Vehicle List').toLowerCase(),"Vehicle List".toLowerCase(),"Vehicle FOB Price Updated".toLowerCase(),"Vehicle FOB Price".toLowerCase(),"Vehicle FOB".toLowerCase(),"Vehicle".toLowerCase(),"FOB Price Updated".toLowerCase(),"FOB Price".toLowerCase(),"FOB".toLowerCase(),"Updated".toLowerCase(),be.toLowerCase(),ye.toLowerCase(),je.text.toLowerCase(),a.toLowerCase(),i.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),f.toLowerCase(),g.toLowerCase()]};ve(y),o((0,ee.setLoadingModalVisible)(!1)),n.show({render:function(){return(0,ne.jsx)(L.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,ne.jsx)(s.default,{style:{color:"white"},children:"FOB Price updated successfully!"})})}})}catch(b){console.error(b),n.show({render:function(){return(0,ne.jsx)(L.default,{style:{backgroundColor:"#DC2626",padding:5,borderRadius:5},children:(0,ne.jsxs)(s.default,{style:{color:"white"},children:["Error updating: ",b]})})}})}}));return function(t,r){return e.apply(this,arguments)}}();return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(B.default,{ref:function(e){return h.current[t.stockID]=e},value:g(u),style:{outlineStyle:"none",flex:1,padding:5,borderRadius:5,width:"90%"},onChangeText:function(e){!function(e){var t=e.replace(/[^0-9]/g,"");t!==u.replace(/[^0-9]/g,"")&&f(t)}(e),function(e,t){var r=g(e);h.current[t]&&h.current[t].setNativeProps({text:r})}(e,t.stockID)},onSubmitEditing:function(){return m(t,r)}},t.id),(0,ne.jsx)(E.default,{underlayColor:"rgba(22, 163, 74, 0.3)",onPress:function(){return m(t,r)},style:{backgroundColor:"#16A34A",borderRadius:5,padding:5,margin:2,alignSelf:"center"},children:(0,ne.jsx)(I.default,{name:"update",color:"white",size:22})})]})},_e=function(){var e=(0,i.useToast)(),t=M.default.get("window").width,r=(0,Z.useDispatch)(),o=(0,v.useState)(1),n=(0,a.default)(o,2),d=n[0],c=n[1],u=(0,v.useState)(10),f=(0,a.default)(u,2),h=f[0],g=(f[1],(0,Z.useSelector)((function(e){return e.vehicleListData}))),m=(0,v.useState)(""),x=(0,a.default)(m,2),p=x[0],y=(x[1],(0,v.useRef)(null)),b=(0,v.useState)([]),j=(0,a.default)(b,2),C=(j[0],j[1]),w=(0,v.useState)([]),S=(0,a.default)(w,2),D=(S[0],S[1]),A=((0,v.useRef)(null),(0,v.useState)(0)),F=(0,a.default)(A,2),E=(F[0],F[1],(0,v.useState)(10)),k=(0,a.default)(E,2),R=(k[0],k[1],(0,v.useRef)([])),z=(0,v.useState)(""),W=(0,a.default)(z,2),O=(W[0],W[1],(0,v.useState)(null)),V=(0,a.default)(O,2),_=V[0],q=V[1],J=(0,v.useState)(null),K=(0,a.default)(J,2),$=K[0],X=K[1],Q=(0,v.useState)(""),te=(0,a.default)(Q,2),re=te[0],oe=te[1],le=(0,v.useState)({}),ie=(0,a.default)(le,2),se=(ie[0],ie[1],(0,v.useState)("dateAdded")),de=(0,a.default)(se,2),ce=de[0],fe=de[1],he=(0,v.useState)(!1),ge=(0,a.default)(he,2),me=ge[0],xe=ge[1],Ce=(0,Z.useSelector)((function(e){return e.loginName}));je.text=Ce;var we=function(e){c(1),oe(""),y.current.clear(),e===ce?(xe(!me),fe(me?"dateAdded":e)):(fe(e),xe(!0)),r((0,ee.setLoadingModalVisible)(!0))},Me=function(){var e=(0,l.default)((function*(){var e,t=me&&ce?ce:"dateAdded",o=me?"asc":"desc";e=""===re?(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),(0,H.orderBy)(t,o),(0,H.limit)(h)):(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),(0,H.orderBy)(t,o),(0,H.where)("keywords","array-contains",re.toUpperCase()),(0,H.limit)(h));try{var n=yield(0,H.getDocs)(e),l=[];n.forEach((function(e){l.push(ae({id:e.id},e.data()))})),r((0,ee.setVehicleListData)(l)),q(n.docs[n.docs.length-1]),X(n.docs[0])}catch(a){console.error("Error fetching vehicle products:",a)}finally{r((0,ee.setLoadingModalVisible)(!1))}}));return function(){return e.apply(this,arguments)}}();(0,v.useEffect)((function(){Me()}),[ce]),(0,v.useEffect)((function(){var e=me&&ce?ce:"dateAdded",t=me?"asc":"desc",o=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),(0,H.orderBy)(e,t),(0,H.limit)(h));(0,H.getDocs)(o).then((function(e){var t=[];e.forEach((function(e){t.push(ae({id:e.id},e.data()))})),r((0,ee.setVehicleListData)(t)),q(e.docs[e.docs.length-1]),X(e.docs[0])})).catch((function(e){console.error("Error fetching vehicle products: ",e)}))}),[U.projectExtensionFirestore,h,ce,me]);var Pe=function(){var e=(0,l.default)((function*(){var e=me&&ce?ce:"dateAdded",t=me?"asc":"desc";if(""===re){var o=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),(0,H.orderBy)(e,t),(0,H.startAfter)(_),(0,H.limit)(h)),n=yield(0,H.getDocs)(o);Be(n,"next"),r((0,ee.setLoadingModalVisible)(!1))}else{var l=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),(0,H.orderBy)(e,t),(0,H.where)("keywords","array-contains",re.toUpperCase()),(0,H.startAfter)(_),(0,H.limit)(h)),a=yield(0,H.getDocs)(l);Be(a,"next"),r((0,ee.setLoadingModalVisible)(!1))}}));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,l.default)((function*(){var e=me&&ce?ce:"dateAdded",t=me?"asc":"desc";if(""===re){var o=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),(0,H.orderBy)(e,t),(0,H.endBefore)($),(0,H.limitToLast)(h)),n=yield(0,H.getDocs)(o);Be(n,"prev"),r((0,ee.setLoadingModalVisible)(!1))}else{var l=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),(0,H.orderBy)(e,t),(0,H.where)("keywords","array-contains",re.toUpperCase()),(0,H.endBefore)($),(0,H.limitToLast)(h)),a=yield(0,H.getDocs)(l);Be(a,"prev"),r((0,ee.setLoadingModalVisible)(!1))}}));return function(){return e.apply(this,arguments)}}(),Le=function(e){var t=[];e.forEach((function(e){t.push(ae({id:e.id},e.data()))})),r((0,ee.setVehicleListData)(t)),null!=e&&e.docs[0]&&X(e.docs[0]),null!=e&&e.docs[e.docs.length-1]&&q(e.docs[e.docs.length-1])},Be=function(){var e=(0,l.default)((function*(e,t){if(e.empty){var o=me&&ce?ce:"dateAdded",n=me?"asc":"desc";if(""==re){c(1);var l=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),(0,H.orderBy)(o,n),(0,H.limit)(h)),a=yield(0,H.getDocs)(l);Le(a)}else{c(1);var i=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),(0,H.where)("keywords","array-contains",re.toUpperCase()),(0,H.orderBy)(o,n),(0,H.limit)(h)),s=yield(0,H.getDocs)(i);Le(s)}}else{var u=[];e.forEach((function(e){u.push(ae({id:e.id},e.data()))})),null!=e&&e.docs[0]&&X(e.docs[0]),null!=e&&e.docs[e.docs.length-1]&&q(e.docs[e.docs.length-1]),"next"==t&&c(d+1),"prev"==t&&c(d-1),u.length<1&&r((0,ee.setLoadingModalVisible)(!1)),r((0,ee.setVehicleListData)(u))}}));return function(t,r){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,l.default)((function*(){r((0,ee.setLoadingModalVisible)(!0)),yield Pe()}));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=(0,l.default)((function*(){r((0,ee.setLoadingModalVisible)(!0)),yield Ae()}));return function(){return e.apply(this,arguments)}}();(0,v.useEffect)((function(){Re()}),[re]);var Re=function(){var e=(0,l.default)((function*(){if(r((0,ee.setLoadingModalVisible)(!0)),""===re){c(1);var e=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),(0,H.orderBy)("dateAdded","desc"),(0,H.limit)(h)),t=yield(0,H.getDocs)(e);Le(t),r((0,ee.setLoadingModalVisible)(!1))}else{c(1);var o=(0,H.query)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),(0,H.where)("keywords","array-contains",re.toUpperCase()),(0,H.orderBy)("dateAdded","desc"),(0,H.limit)(h)),n=yield(0,H.getDocs)(o);Le(n),r((0,ee.setLoadingModalVisible)(!1))}}));return function(){return e.apply(this,arguments)}}(),Te=(0,v.useMemo)((function(){var e=p.trim().toLowerCase();return g.filter((function(t){var r=t.carName?t.carName.trim().toLowerCase():"",o=t.referenceNumber?t.referenceNumber.trim().toLowerCase():"",n=t.chassisNumber?t.chassisNumber.trim().toLowerCase():"",l=t.stockStatus?t.stockStatus.trim().toLowerCase():"",a=t.fobPrice?t.fobPrice.toString().trim().toLowerCase():"";return r.includes(e)||o.includes(e)||n.includes(e)||l.includes(e)||a.includes(e)}))}),[p,g]),ze=function(e,t){var r=e.replace(/[^0-9]/g,"").slice(0,9).replace(/\B(?=(\d{3})+(?!\d))/g,",");R.current[t]&&(R.current[t].value=r)},We=function(){var e=(0,l.default)((function*(){var e=Te.map((function(e){return e.stockID}));C(e);var t=yield Promise.all(e.map(function(){var e=(0,l.default)((function*(e){return{stockID:e,count:yield Ne(e)}}));return function(t){return e.apply(this,arguments)}}())),r=t.reduce((function(e,t){var r=t.stockID,o=t.count;return e[r]=o,e}),{});D(r)}));return function(){return e.apply(this,arguments)}}();(0,v.useEffect)((function(){We()}),[]);var Ne=function(){var e=(0,l.default)((function*(e){try{var t=(0,G.ref)(Se,e);return(yield(0,G.listAll)(t)).items.length}catch(r){return console.error("Error getting image count:",r),-1}}));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=(0,l.default)((function*(e){if(r((0,ee.setLoadingModalVisible)(!0)),r((0,ee.setFobPriceHistoryModalVisible)(!0)),e.stockID){var t=(0,H.doc)(U.projectExtensionFirestore,"VehicleProducts",e.stockID);try{var o=yield(0,H.getDoc)(t);o.exists()?(r((0,ee.setFobHistoryData)(o.data().fobHistory||[])),r((0,ee.setLoadingModalVisible)(!1))):console.log("No such document!")}catch(n){console.error("Error fetching document: ",n)}}ue=e.stockID?e.stockID:"",pe=e.referenceNumber+" / "+e.carName+" ",ye=e.referenceNumber}));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var t=(0,l.default)((function*(t,o){r((0,ee.setLoadingModalVisible)(!0));var n=(yield N.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,l=Y()(n).format("YYYY/MM/DD [at] HH:mm:ss"),a=Y()(n).format("YYYY"),i=Y()(n).format("MM"),d=Y()(n).format("MM/DD"),c=Y()(n).format("YYYY/MM/DD"),u=Y()(n).format("DD"),f=Y()(n).format("HH:mm"),h=Y()(n).format("HH:mm:ss"),g=R.current[t.stockID].value.replace(/,/g,"");e.closeAll();var m={date:l,fobPrice:g,changedBy:je.text},x=(0,H.doc)((0,H.collection)(U.projectExtensionFirestore,"VehicleProducts"),t.stockID);try{yield(0,H.updateDoc)(x,{fobPrice:g,fobHistory:(0,H.arrayUnion)(m)});var p={message:'Vehicle FOB Price Updated: "'+je.text+'" updated "'+t.carName+'" FOB price with a reference number of "'+t.referenceNumber+'" using Vehicle List.',timestamp:l,colorScheme:!0,keywords:[l.toLowerCase(),ue.toLowerCase(),('Vehicle FOB Price Updated: "'+je.text+'" updated "'+t.carName+'" FOB price with a reference number of "'+t.referenceNumber+'" using Vehicle List').toLowerCase(),"Vehicle List".toLowerCase(),"Vehicle FOB Price Updated".toLowerCase(),"Vehicle FOB Price".toLowerCase(),"Vehicle FOB".toLowerCase(),"Vehicle".toLowerCase(),"FOB Price Updated".toLowerCase(),"FOB Price".toLowerCase(),"FOB".toLowerCase(),"Updated".toLowerCase(),be.toLowerCase(),ye.toLowerCase(),je.text.toLowerCase(),a.toLowerCase(),i.toLowerCase(),d.toLowerCase(),c.toLowerCase(),u.toLowerCase(),f.toLowerCase(),h.toLowerCase()]};ve(p),r((0,ee.setLoadingModalVisible)(!1)),e.show({render:function(){return(0,ne.jsx)(L.default,{style:{backgroundColor:"#16A34A",padding:5,borderRadius:5},children:(0,ne.jsx)(s.default,{style:{color:"white"},children:"FOB Price updated successfully!"})})}})}catch(y){console.error(y),e.show({render:function(){return(0,ne.jsx)(L.default,{style:{backgroundColor:"#DC2626",padding:5,borderRadius:5},children:(0,ne.jsxs)(s.default,{style:{color:"white"},children:["Error updating: ",y]})})}})}}));return function(e,r){return t.apply(this,arguments)}}(),_e=function(e){r((0,ee.setUploadImagesModalVisible)(!0)),ue=e.stockID,pe=e.referenceNumber+" / "+e.carName+" ",ye=e.referenceNumber,be=e.carName},Ge=function(){var e=(0,l.default)((function*(e){r((0,ee.setLoadingModalVisible)(!0));try{yield Je(e.stockID),ue=e.stockID,pe=e.referenceNumber+" / "+e.carName+" ",ye=e.referenceNumber,r((0,ee.setLoadingModalVisible)(!1)),r((0,ee.setViewImagesModalVisible)(!0))}catch(t){console.error(t),r((0,ee.setLoadingModalVisible)(!1))}}));return function(t){return e.apply(this,arguments)}}(),qe=function(){r((0,ee.setViewImagesModalVisible)(!1)),ue="",pe="",ye="",be="",r((0,ee.setViewImagesData)([]))},Je=(0,v.useCallback)(function(){var e=(0,l.default)((function*(e){try{var t=yield(0,G.listAll)((0,G.ref)(Se,e+"/")),o=yield Promise.all(t.items.map(function(){var e=(0,l.default)((function*(e){return{uri:yield(0,G.getDownloadURL)(e),fileName:e.name}}));return function(t){return e.apply(this,arguments)}}()));o.sort((function(e,t){return parseInt(e.fileName)-parseInt(t.fileName)})),o.length>0?r((0,ee.setViewImagesData)(o)):r((0,ee.setViewImagesData)([]))}catch(n){console.error("Error getting image URLs:",n)}}));return function(t){return e.apply(this,arguments)}}(),[]),Ke=(function(){var e=(0,l.default)((function*(){var e=(0,H.collection)(U.projectExtensionFirestore,"VehicleProducts");try{(yield(0,H.getDocs)(e)).forEach(function(){var e=(0,l.default)((function*(e){if(void 0===e.data().stockStatus)try{yield(0,H.updateDoc)(e.ref,{stockStatus:""}),console.log("stockStatus initialized to 0 for document ID: "+e.id)}catch(t){console.error("Error initializing stockStatus field:",t)}}));return function(t){return e.apply(this,arguments)}}())}catch(t){console.error("Error reading VehicleProducts collection:",t)}}))}(),function(){var e;""!==(null==(e=y.current)?void 0:e.value)?(oe(y.current.value.trim()),fe("dateAdded"),xe(!1)):(oe(""),fe("dateAdded"),xe(!1),""==re&&Re())});return(0,ne.jsx)(ne.Fragment,{children:t>=1360?(0,ne.jsxs)(L.default,{style:{flex:1},children:[(0,ne.jsx)(L.default,{children:(0,ne.jsx)(B.default,{ref:y,style:{outlineStyle:"none",width:"100%",padding:10,backgroundColor:"white",borderRadius:5,placeholderTextColor:"#ACADA3"},onSubmitEditing:Ke,placeholder:"Search",returnKeyType:"search",autoCapitalize:"none"})}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row",justifyContent:"space-between",borderBottomWidth:1,borderBottomColor:"#E4E4E7",backgroundColor:"#0642F4",padding:2,borderRadius:5},children:[(0,ne.jsx)(L.default,{style:{flex:1,padding:2},children:(0,ne.jsx)(s.default,{style:{color:"white"},bold:!0,children:"Ref #"})}),(0,ne.jsx)(L.default,{style:{flex:1,padding:2},children:(0,ne.jsx)(s.default,{style:{color:"white"},bold:!0,children:"Car Name"})}),(0,ne.jsx)(L.default,{style:{flex:1,padding:2},children:(0,ne.jsx)(s.default,{style:{color:"white"},bold:!0,children:"Chassis #"})}),(0,ne.jsx)(L.default,{style:{flex:1,padding:2,flexDirection:"row",alignItems:"center"},children:(0,ne.jsx)(P.default,{onPress:function(){return we("imageCount")},children:(0,ne.jsx)(s.default,{style:{color:me&&"imageCount"===ce?"#FBBC04":"white"},bold:!0,underline:!0,children:"Images"})})}),(0,ne.jsx)(L.default,{style:{flex:1,padding:2,flexDirection:"row",alignItems:"center"},children:(0,ne.jsx)(P.default,{onPress:function(){return we("stockStatus")},children:(0,ne.jsx)(s.default,{style:{color:me&&"stockStatus"===ce?"#FBBC04":"white"},bold:!0,underline:!0,children:"Stock Status"})})}),(0,ne.jsx)(L.default,{style:{flex:1,padding:2,flexDirection:"row",alignItems:"center"},children:(0,ne.jsx)(P.default,{onPress:function(){return we("fobPrice")},children:(0,ne.jsx)(s.default,{style:{color:me&&"fobPrice"===ce?"#FBBC04":"white"},bold:!0,underline:!0,children:"FOB Price"})})}),(0,ne.jsx)(L.default,{style:{flex:1,padding:2},children:(0,ne.jsx)(s.default,{style:{color:"white",alignSelf:"center"},bold:!0,children:"Operate"})})]}),g.map((function(e,t){return(0,ne.jsxs)(L.default,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",borderBottomWidth:1,borderBottomColor:"#E4E4E7",backgroundColor:"#BFDBFE",paddingVertical:10},children:[(0,ne.jsx)(L.default,{style:{flex:1},children:(0,ne.jsx)(s.default,{selectable:!0,style:{width:"90%",marginLeft:3},children:e.referenceNumber})}),(0,ne.jsx)(L.default,{style:{flex:1},children:(0,ne.jsxs)(s.default,{selectable:!0,style:{width:"90%"},children:[e.carName," "]})}),(0,ne.jsx)(L.default,{style:{flex:1},children:(0,ne.jsx)(s.default,{selectable:!0,style:{width:"90%"},children:e.chassisNumber})}),(0,ne.jsx)(Ye,{item:e,handleViewImagesModalOpen:Ge,handleUploadImagesModalOpen:_e}),(0,ne.jsx)(L.default,{style:{flex:1},children:(0,ne.jsx)(De,{selectedValue:e.stockStatus,id:e.stockID,item:e},e.stockID)}),(0,ne.jsxs)(L.default,{style:{width:"90%",flex:1,flexDirection:"row",backgroundColor:"white",borderRadius:5},children:[(0,ne.jsx)(P.default,{onPress:function(){return He(e)},style:{margin:5,alignSelf:"center"},children:(0,ne.jsx)(T.default,{name:"clock-o",color:"black",size:22})}),(0,ne.jsx)(Ue,{item:e,index:t,handleInputFobJpyChange:ze,handleSaveFob:Ve})]}),(0,ne.jsx)(L.default,{style:{flexDirection:"row",flex:1,alignItems:"center",justifyContent:"center"},children:(0,ne.jsx)(Ee,{data:e})})]},e.id)})),(0,ne.jsxs)(L.default,{style:{flexDirection:"row",width:t<460?"90%":t<1175?"40%":"20%",alignSelf:"center"},children:[(0,ne.jsx)(L.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,ne.jsx)(P.default,{style:{display:d<=1?"none":"flex"},onPress:ke,children:(0,ne.jsx)(L.default,{style:{backgroundColor:"rgba(6, 66, 244, 0.6)",borderRadius:5,padding:4,margin:10},children:(0,ne.jsx)(I.default,{name:"navigate-before",size:40,color:"white"})})})}),(0,ne.jsx)(L.default,{style:{flex:1,backgroundColor:"rgba(6, 66, 244, 0.6)",borderRadius:5,margin:10,padding:4,justifyContent:"center",alignItems:"center"},children:(0,ne.jsxs)(s.default,{style:{textAlign:"center",color:"white"},bold:!0,children:["Page ",d]})}),(0,ne.jsx)(L.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,ne.jsx)(P.default,{onPress:Ie,children:(0,ne.jsx)(L.default,{style:{backgroundColor:"rgba(6,66,244, 0.6)",borderRadius:5,padding:4,margin:10},children:(0,ne.jsx)(I.default,{name:"navigate-next",size:40,color:"white"})})})})]}),(0,ne.jsx)(Fe,{fetchImageCounts:We}),(0,ne.jsx)(Oe,{handleViewImagesModalClose:qe})]}):(0,ne.jsxs)(L.default,{style:{flex:1},children:[(0,ne.jsx)(L.default,{children:(0,ne.jsx)(B.default,{ref:y,style:{outlineStyle:"none",width:"98%",padding:10,backgroundColor:"white",borderRadius:5,placeholderTextColor:"#ACADA3",alignSelf:"center",marginTop:5},onSubmitEditing:Ke,placeholder:"Search",returnKeyType:"search",autoCapitalize:"none"})}),g.map((function(e,t){return(0,ne.jsxs)(L.default,{style:{flex:1,flexDirection:"column",borderWidth:1,borderColor:"#E4E4E7",backgroundColor:"#BFDBFE",margin:10},children:[(0,ne.jsxs)(L.default,{style:{flexDirection:"row"},children:[(0,ne.jsx)(L.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,ne.jsx)(s.default,{style:{color:"white"},bold:!0,children:"Ref #"})}),(0,ne.jsx)(L.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,ne.jsx)(s.default,{selectable:!0,style:{marginLeft:3},children:e.referenceNumber})})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row"},children:[(0,ne.jsx)(L.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,ne.jsx)(s.default,{style:{color:"white"},bold:!0,children:"Car Name"})}),(0,ne.jsx)(L.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,ne.jsxs)(s.default,{selectable:!0,style:{marginLeft:3},children:[e.carName," "]})})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row"},children:[(0,ne.jsx)(L.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,ne.jsx)(s.default,{style:{color:"white"},bold:!0,children:"Chassis #"})}),(0,ne.jsx)(L.default,{style:{flex:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,ne.jsx)(s.default,{selectable:!0,style:{marginLeft:3},children:e.chassisNumber})})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row"},children:[(0,ne.jsx)(L.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,ne.jsx)(s.default,{style:{color:"white"},bold:!0,children:"Images"})}),(0,ne.jsxs)(L.default,{style:{flex:1,flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:[e.imageCount>0?(0,ne.jsx)(P.default,{onPress:function(){return Ge(e)},children:(0,ne.jsxs)(s.default,{underline:!0,style:{marginLeft:3},children:[e.imageCount?e.imageCount:0," image/s"]})}):(0,ne.jsxs)(s.default,{style:{marginLeft:3},children:[e.imageCount?e.imageCount:0," image/s"]}),(0,ne.jsx)(P.default,{onPress:function(){return _e(e)},children:e.imageCount>0?null:(0,ne.jsx)(I.default,{name:"add-photo-alternate",size:22,color:"white"})})]})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row"},children:[(0,ne.jsx)(L.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,ne.jsx)(s.default,{style:{color:"white"},bold:!0,children:"Stock Status"})}),(0,ne.jsx)(L.default,{style:{flex:1,paddingVertical:1,borderBottomWidth:1,borderBottomColor:"#E4E4E7"},children:(0,ne.jsx)(De,{selectedValue:e.stockStatus,id:e.stockID,item:e},e.stockID)})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row"},children:[(0,ne.jsx)(L.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,ne.jsx)(s.default,{style:{color:"white"},bold:!0,children:"FOB Price \xa5"})}),(0,ne.jsxs)(L.default,{style:{flex:1,flexDirection:"row",backgroundColor:"white",borderRadius:5,borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:[(0,ne.jsx)(P.default,{onPress:function(){return He(e)},style:{margin:5,alignSelf:"center"},children:(0,ne.jsx)(T.default,{name:"clock-o",color:"black",size:22})}),(0,ne.jsx)(Ue,{item:e,index:t,handleInputFobJpyChange:ze,handleSaveFob:Ve})]})]}),(0,ne.jsxs)(L.default,{style:{flexDirection:"row"},children:[(0,ne.jsx)(L.default,{style:{width:"30%",padding:2,backgroundColor:"#0642F4",borderBottomWidth:1,borderBottomColor:"#E4E4E7",justifyContent:"center"},children:(0,ne.jsx)(s.default,{style:{color:"white"},bold:!0,children:"Operate"})}),(0,ne.jsx)(L.default,{style:{flexDirection:"row",flex:1,margin:5},children:(0,ne.jsx)(Ee,{data:e})})]})]},e.id)})),(0,ne.jsxs)(L.default,{style:{flexDirection:"row",width:t<460?"90%":t<1175?"40%":"20%",alignSelf:"center"},children:[(0,ne.jsx)(L.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,ne.jsx)(P.default,{style:{display:d<=1?"none":"flex"},onPress:ke,children:(0,ne.jsx)(L.default,{style:{backgroundColor:"rgba(6, 66, 244, 0.6)",borderRadius:5,padding:4,margin:10},children:(0,ne.jsx)(I.default,{name:"navigate-before",size:40,color:"white"})})})}),(0,ne.jsx)(L.default,{style:{flex:1,backgroundColor:"rgba(6, 66, 244, 0.6)",borderRadius:5,margin:10,padding:4,justifyContent:"center",alignItems:"center"},children:(0,ne.jsxs)(s.default,{style:{textAlign:"center",color:"white"},bold:!0,children:["Page ",d]})}),(0,ne.jsx)(L.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,ne.jsx)(P.default,{onPress:Ie,children:(0,ne.jsx)(L.default,{style:{backgroundColor:"rgba(6,66,244, 0.6)",borderRadius:5,padding:4,margin:10},children:(0,ne.jsx)(I.default,{name:"navigate-next",size:40,color:"white"})})})})]}),(0,ne.jsx)(Fe,{fetchImageCounts:We}),(0,ne.jsx)(Oe,{handleViewImagesModalClose:qe})]})})};function Ge(){var e=(0,v.useState)(""),t=(0,a.default)(e,2),o=(t[0],t[1]),n=(r(51745),r(85228),(0,v.useState)(!1)),i=(0,a.default)(n,2),d=(i[0],i[1],(0,v.useState)(!1)),c=(0,a.default)(d,2),u=(c[0],c[1],(0,oe.useNavigate)()),f=(0,v.useState)(""),g=(0,a.default)(f,2),m=(g[0],g[1],(0,Z.useSelector)((function(e){return e.loginName}))),x=(0,v.useState)(m),p=(0,a.default)(x,2),y=p[0],j=p[1],C=(0,v.useState)(""),P=(0,a.default)(C,2),E=(P[0],P[1],(0,v.useState)([])),B=(0,a.default)(E,2),I=(B[0],B[1],(0,v.useState)(M.default.get("window").width)),R=(0,a.default)(I,2),T=(R[0],R[1],(0,Z.useDispatch)()),W=M.default.get("window").width;(0,v.useEffect)((function(){return U.projectControlAuth.onAuthStateChanged((function(e){e||u("/Login")}))}),[]);var N=function(e){e.exists()?e.data().active||(0,O.signOut)(U.projectControlAuth).then((function(){u("/Login")})).catch((function(e){console.error("Error signing out:",e)})):(0,O.signOut)(U.projectControlAuth).then((function(){u("/Login")})).catch((function(e){console.error("Error signing out:",e)}))};(0,v.useEffect)((function(){var e=function(){var e,t=null==(e=U.projectControlAuth.currentUser)?void 0:e.email;if(t){var r=(0,H.doc)(Ce,"accounts",t);return(0,H.onSnapshot)(r,N)}return function(){u("/login")}}();return function(){e()}}),[]),(0,v.useEffect)((function(){var e=we();e&&(Y(e),o(e),V(e))}),[]);var V=function(e){},Y=function(){var e=(0,l.default)((function*(e){try{var t=(0,H.doc)(Ce,"accounts",e),r=yield(0,H.getDoc)(t);if(r.exists()){var o=r.data();o.type,o.name;T((0,ee.setLoginName)(o.name))}else console.log("Document does not exist")}catch(n){console.error("Error fetching field value:",n)}}));return function(t){return e.apply(this,arguments)}}(),_=A.default.create({container:{flex:1},image:{flex:1}});return(0,ne.jsx)(D.NativeBaseProvider,{children:(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)(L.default,{style:{backgroundColor:"#A6BCFE",height:"100%",width:"100%",flexDirection:"column"},bgColor:"#A6BCFE",h:"100vh",w:"full",flexDirection:"column",children:[(0,ne.jsxs)(h.default,{px:"3",bgColor:"#7b9cff",height:54,position:"sticky",top:0,zIndex:999,flexDirection:"row",alignItems:"center",borderBottomWidth:2,borderBottomColor:"cyan.500",children:[(0,ne.jsx)(K.default,{selectedScreen:se}),(0,ne.jsx)(h.default,{w:W<=960?0:850,h:[10,10,10,10],marginBottom:1.5,marginTop:1.5,paddingLeft:5,children:(0,ne.jsx)(q.default,{source:{uri:"https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20FULL.png?alt=media&token=79ed34a5-f960-4154-b4e8-897b0f3248d4",priority:q.default.priority.high},resizeMode:q.default.resizeMode.stretch,style:_.image})}),W<=960&&(0,ne.jsx)(J.default,{selectedScreen:se}),(0,ne.jsx)(h.default,{w:W<=960?120:0,h:W<=960?6:10,marginBottom:1.5,marginTop:1.5,marginLeft:[3,3,3,10],children:(0,ne.jsx)(q.default,{source:{uri:"https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20HALF.png?alt=media&token=7ce6aef2-0527-40c7-b1ce-e47079e144df",priority:q.default.priority.high},resizeMode:q.default.resizeMode.stretch,style:_.image})}),(0,ne.jsx)((function(e){var t=e.name,r=e.handleSignOut,o=(0,v.useState)(!1),n=(0,a.default)(o,2),l=n[0],i=n[1],d=function(){i(!l)};return(0,ne.jsx)(h.default,{w:[100,200,1020],h:[10,10,10],flex:1,children:(0,ne.jsx)(w.default,{direction:"row-reverse",children:(0,ne.jsx)(S.Popover,{isOpen:l,trigger:function(e){return(0,ne.jsxs)(s.default,ae(ae({color:"white",marginTop:[2,2,2],fontSize:[17,18,20],marginRight:[1,3,5]},e),{},{onPress:d,children:[(0,ne.jsx)(z.default,{name:"account",size:[20,25,30],color:"white"})," ",t," ",(0,ne.jsx)(k.default,{name:"caret-down",size:16,color:"white"})]}))},onClose:function(){return i(!l)},placement:"bottom right",trapFocus:!1,children:(0,ne.jsx)(S.Popover.Content,{backgroundColor:"#7B9CFF",children:(0,ne.jsx)(S.Popover.Body,{backgroundColor:"#7B9CFF",children:(0,ne.jsx)(b.Button,{_hover:{bgColor:"blueGray.500"},onPress:r,leftIcon:(0,ne.jsx)(z.default,{name:"logout",size:20,color:"white"}),bgColor:"transparent",children:"Logout"})})})})})})}),{name:y,handleSignOut:function(){(0,O.signOut)(U.projectControlAuth).then((function(){u("/Login"),o(""),j("")})).catch((function(){}))}})]}),(0,ne.jsx)(L.default,{style:{flex:1,flexDirection:"row"},flex:[1],flexDirection:"row",children:(0,ne.jsxs)(L.default,{style:{flex:1,backgroundColor:"#A6BCFE",height:"100%"},children:[(0,ne.jsx)(F.default,{style:{flex:1},keyboardShouldPersistTaps:"always",children:(0,ne.jsx)(L.default,{style:{flex:1},children:(0,ne.jsx)(_e,{})})}),(0,ne.jsx)(Re,{}),(0,ne.jsx)(Ne,{}),(0,ne.jsx)(Ve,{})]})})]}),(0,ne.jsx)(Me,{})]})})}},19761:(e,t,r)=>{"use strict";r.r(t),r.d(t,{UsePagination:()=>u});var o=r(4942),n=r(15861),l=r(70885),a=r(89526),i=r(31402),s=r(30083),d=r(37050);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}var u=function(e){var t=(0,s.useDispatch)(),r=(0,a.useState)(1),u=(0,l.default)(r,2),f=u[0],h=u[1],g=(0,a.useState)(null),m=(0,l.default)(g,2),x=m[0],p=m[1],y=(0,a.useState)(10),b=(0,l.default)(y,2),j=b[0];b[1];return(0,a.useEffect)((function(){var r=function(){var r=(0,n.default)((function*(){try{var r;r=x?(0,i.query)((0,i.collection)(e,"VehicleProducts"),(0,i.orderBy)("dateAdded","desc"),(0,i.startAfter)(x),(0,i.limit)(j)):(0,i.query)((0,i.collection)(e,"VehicleProducts"),(0,i.orderBy)("dateAdded","desc"),(0,i.limit)(j));var n=(0,i.onSnapshot)(r,(function(e){var r=[];e.forEach((function(e){r.push(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:e.id},e.data()))})),e.empty||p(e.docs[e.docs.length-1]),t((0,d.setVehicleListData)(r))}));return n}catch(l){console.error("Error fetching data: ",l)}}));return function(){return r.apply(this,arguments)}}();r()}),[e,f,j]),{handleNextPage:function(){h(f+1)},handlePreviousPage:function(){f>1&&h(f-1)}}}},37050:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>Er,fetchBodyTypeData:()=>wr,fetchBuyerData:()=>br,fetchChatListData:()=>Fr,fetchCurrency:()=>fr,fetchCurrentDate:()=>vr,fetchDriveTypeData:()=>Cr,fetchExpenseNameData:()=>hr,fetchExteriorColorData:()=>Sr,fetchFuelData:()=>yr,fetchInspectionIsRequiredData:()=>Ar,fetchInspectionNameData:()=>Lr,fetchMakeData:()=>mr,fetchMethodData:()=>Pr,fetchPaidToData:()=>gr,fetchPortData:()=>xr,fetchSalesData:()=>jr,fetchTransmissionData:()=>pr,fetchVehicleListData:()=>Mr,fetchYear:()=>Dr,setAccountListData:()=>Et,setActiveChatId:()=>Qe,setAddAnotherImages:()=>qt,setAddCountryModalVisible:()=>gt,setAddPortModalVisible:()=>mt,setAddPortsForCountriesModalVisible:()=>dt,setAddVehicleListData:()=>St,setBodyTypeData:()=>lr,setBuyerData:()=>rr,setCarImageUrl:()=>Ne,setChatListData:()=>nt,setChatListImageUrl:()=>lt,setChatListLastVisible:()=>ot,setChatListSearchText:()=>et,setChatMessageBoxLoading:()=>$e,setChatMessagesData:()=>Xe,setCountryPortsData:()=>st,setCurrentDate:()=>Ot,setCurrentYear:()=>dr,setDeleteCountryModalVisible:()=>it,setDeleteImageVisible:()=>Vt,setDeleteMessageTemplateVisible:()=>Ge,setDeletePortModalVisible:()=>at,setDriveTypeData:()=>nr,setEditVehicleModalVisible:()=>Ct,setExpenseNameData:()=>Yt,setExteriorColorData:()=>ar,setFobHistoryData:()=>bt,setFobPriceHistoryModalVisible:()=>jt,setFreightCountriesData:()=>pt,setFreightPortsData:()=>xt,setFuelData:()=>tr,setInputFob:()=>yt,setInspectionIsRequiredData:()=>ct,setInspectionNameData:()=>ft,setInvoiceData:()=>Ue,setIsAddPhotoVisible:()=>Gt,setIsLoading:()=>$t,setIsSuccessModalOpen:()=>kt,setIsUpdateSuccessModalOpen:()=>Rt,setJpyToUsd:()=>ir,setLastVisible:()=>Ft,setLoadMoreLoading:()=>tt,setLoadMoreMessagesLoading:()=>qe,setLoadingModalVisible:()=>Tt,setLoginEmail:()=>Ut,setLoginName:()=>_t,setLogsData:()=>Bt,setMakeData:()=>Kt,setMethodData:()=>ut,setModalDeleteImagesVisible:()=>Jt,setModelData:()=>cr,setNoMoreData:()=>rt,setNoMoreMessagesData:()=>Je,setPaidToData:()=>Ht,setPdfViewerModalVisible:()=>He,setPortData:()=>Qt,setPreviewInvoiceVisible:()=>Ye,setReadByListModalVisible:()=>Ke,setSalesData:()=>or,setSelectedButton:()=>ht,setSelectedChatData:()=>Ze,setSelectedCustomerData:()=>Ve,setSelectedExpenseName:()=>Wt,setSelectedFileUrl:()=>Oe,setSelectedImages:()=>Xt,setSelectedMake:()=>Zt,setSelectedPaidTo:()=>zt,setStockStatusData:()=>It,setSupplyChainsCostsData:()=>Nt,setSupplyChainsCostsModalVisible:()=>Dt,setTransactionModalVisible:()=>_e,setTransmissionData:()=>er,setUploadImagesButtonLoading:()=>Pt,setUploadImagesModalVisible:()=>Mt,setUsdToJpy:()=>sr,setVehicleListData:()=>wt,setVehicleListSupplyChainsCostsData:()=>vt,setViewImagesData:()=>Lt,setViewImagesModalVisible:()=>At});var o=r(4942),n=r(15861),l=r(54500),a=(r(89526),r(31402)),i=r(48859),s=r(38615),d=r(36105),c=r.n(d);r(30083);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=(0,l.createSlice)({name:"carImageUrl",initialState:"",reducers:{setCarImageUrl:function(e,t){return t.payload}}}),g=(0,l.createSlice)({name:"selectedFileUrl",initialState:"",reducers:{setSelectedFileUrl:function(e,t){return t.payload}}}),m=(0,l.createSlice)({name:"pdfViewerModalVisible",initialState:!1,reducers:{setPdfViewerModalVisible:function(e,t){return t.payload}}}),x=(0,l.createSlice)({name:"selectedCustomerData",initialState:[],reducers:{setSelectedCustomerData:function(e,t){return t.payload}}}),p=(0,l.createSlice)({name:"previewInvoiceVisible",initialState:!1,reducers:{setPreviewInvoiceVisible:function(e,t){return t.payload}}}),y=(0,l.createSlice)({name:"transactionModalVisible",initialState:!1,reducers:{setTransactionModalVisible:function(e,t){return t.payload}}}),b=(0,l.createSlice)({name:"invoiceData",initialState:{},reducers:{setInvoiceData:function(e,t){return t.payload}}}),j=(0,l.createSlice)({name:"deleteMessageTemplateVisible",initialState:!1,reducers:{setDeleteMessageTemplateVisible:function(e,t){return t.payload}}}),C=(0,l.createSlice)({name:"loadMoreMessagesLoading",initialState:!1,reducers:{setLoadMoreMessagesLoading:function(e,t){return t.payload}}}),w=(0,l.createSlice)({name:"noMoreMessagesData",initialState:!1,reducers:{setNoMoreMessagesData:function(e,t){return t.payload}}}),S=(0,l.createSlice)({name:"readByListModalVisible",initialState:!1,reducers:{setReadByListModalVisible:function(e,t){return t.payload}}}),D=(0,l.createSlice)({name:"selectedChatData",initialState:[],reducers:{setSelectedChatData:function(e,t){return t.payload}}}),v=(0,l.createSlice)({name:"chatMessageBoxLoading",initialState:!1,reducers:{setChatMessageBoxLoading:function(e,t){return t.payload}}}),M=(0,l.createSlice)({name:"chatMessagesData",initialState:[],reducers:{setChatMessagesData:function(e,t){return t.payload}}}),P=(0,l.createSlice)({name:"chatListSearchText",initialState:"",reducers:{setChatListSearchText:function(e,t){return t.payload}}}),A=(0,l.createSlice)({name:"activeChatId",initialState:"",reducers:{setActiveChatId:function(e,t){return t.payload}}}),L=(0,l.createSlice)({name:"loadMoreLoading",initialState:!1,reducers:{setLoadMoreLoading:function(e,t){return t.payload}}}),F=(0,l.createSlice)({name:"noMoreData",initialState:!1,reducers:{setNoMoreData:function(e,t){return t.payload}}}),E=(0,l.createSlice)({name:"chatListLastVisible",initialState:null,reducers:{setChatListLastVisible:function(e,t){return t.payload}}}),B=(0,l.createSlice)({name:"chatListData",initialState:[],reducers:{setChatListData:function(e,t){return t.payload}}}),I=(0,l.createSlice)({name:"chatListImageUrl",initialState:null,reducers:{setChatListImageUrl:function(e,t){return t.payload}}}),k=(0,l.createSlice)({name:"countryPortsData",initialState:[],reducers:{setCountryPortsData:function(e,t){return t.payload}}}),R=(0,l.createSlice)({name:"addPortsForCountriesModalVisible",initialState:!1,reducers:{setAddPortsForCountriesModalVisible:function(e,t){return t.payload}}}),T=(0,l.createSlice)({name:"methodData",initialState:[],reducers:{setMethodData:function(e,t){return t.payload}}}),z=(0,l.createSlice)({name:"inspectionIsRequiredData",initialState:[],reducers:{setInspectionIsRequiredData:function(e,t){return t.payload}}}),W=(0,l.createSlice)({name:"inspectionNameData",initialState:[],reducers:{setInspectionNameData:function(e,t){return t.payload}}}),N=(0,l.createSlice)({name:"deletePortModalVisible",initialState:!1,reducers:{setDeletePortModalVisible:function(e,t){return t.payload}}}),O=(0,l.createSlice)({name:"deleteCountryModalVisible",initialState:!1,reducers:{setDeleteCountryModalVisible:function(e,t){return t.payload}}}),H=(0,l.createSlice)({name:"addPortModalVisible",initialState:!1,reducers:{setAddPortModalVisible:function(e,t){return t.payload}}}),V=(0,l.createSlice)({name:"addCountryModalVisible",initialState:!1,reducers:{setAddCountryModalVisible:function(e,t){return t.payload}}}),Y=(0,l.createSlice)({name:"selectedButton",initialState:"",reducers:{setSelectedButton:function(e,t){return t.payload}}}),U=(0,l.createSlice)({name:"freightCountriesData",initialState:[],reducers:{setFreightCountriesData:function(e,t){return t.payload}}}),_=(0,l.createSlice)({name:"freightPortsData",initialState:[],reducers:{setFreightPortsData:function(e,t){return t.payload}}}),G=(0,l.createSlice)({name:"fobHistoryData",initialState:[],reducers:{setFobHistoryData:function(e,t){return t.payload}}}),q=(0,l.createSlice)({name:"inputFob",initialState:"",reducers:{setInputFob:function(e,t){return t.payload}}}),J=(0,l.createSlice)({name:"fobPriceHistoryModalVisible",initialState:!1,reducers:{setFobPriceHistoryModalVisible:function(e,t){return t.payload}}}),K=(0,l.createSlice)({name:"editVehicleModalVisible",initialState:!1,reducers:{setEditVehicleModalVisible:function(e,t){return t.payload}}}),Z=(0,l.createSlice)({name:"vehicleListData",initialState:[],reducers:{setVehicleListData:function(e,t){return t.payload}}}),$=(0,l.createSlice)({name:"addVehicleListData",initialState:[],reducers:{setAddVehicleListData:function(e,t){return t.payload}}}),X=(0,l.createSlice)({name:"supplyChainsCostsModalVisible",initialState:!1,reducers:{setSupplyChainsCostsModalVisible:function(e,t){return t.payload}}}),Q=(0,l.createSlice)({name:"uploadImagesModalVisibleVisible",initialState:!1,reducers:{setUploadImagesModalVisible:function(e,t){return t.payload}}}),ee=(0,l.createSlice)({name:"vehicleListSupplyChainsCostsData",initialState:[],reducers:{setVehicleListSupplyChainsCostsData:function(e,t){return t.payload}}}),te=(0,l.createSlice)({name:"uploadImagesButtonLoading",initialState:!1,reducers:{setUploadImagesButtonLoading:function(e,t){return t.payload}}}),re=(0,l.createSlice)({name:"viewImagesModalVisible",initialState:!1,reducers:{setViewImagesModalVisible:function(e,t){return t.payload}}}),oe=(0,l.createSlice)({name:"viewImagesData",initialState:[],reducers:{setViewImagesData:function(e,t){return t.payload}}}),ne=(0,l.createSlice)({name:"lastVisible",initialState:"",reducers:{setLastVisible:function(e,t){return t.payload}}}),le=(0,l.createSlice)({name:"accountListData",initialState:[],reducers:{setAccountListData:function(e,t){return t.payload}}}),ae=(0,l.createSlice)({name:"logsData",initialState:[],reducers:{setLogsData:function(e,t){return t.payload}}}),ie=(0,l.createSlice)({name:"stockStatusData",initialState:["On-Sale","Reserved","Sold","Hidden"],reducers:{setStockStatusData:function(e,t){return t.payload}}}),se=(0,l.createSlice)({name:"isSuccessModalOpen",initialState:!1,reducers:{setIsSuccessModalOpen:function(e,t){return t.payload}}}),de=(0,l.createSlice)({name:"isUpdateSuccessModalOpen",initialState:!1,reducers:{setIsUpdateSuccessModalOpen:function(e,t){return t.payload}}}),ce=(0,l.createSlice)({name:"loadingModalVisible",initialState:!1,reducers:{setLoadingModalVisible:function(e,t){return t.payload}}}),ue=(0,l.createSlice)({name:"selectedExpenseName",initialState:"",reducers:{setSelectedExpenseName:function(e,t){return t.payload}}}),fe=(0,l.createSlice)({name:"selectedPaidTo",initialState:"",reducers:{setSelectedPaidTo:function(e,t){return t.payload}}}),he=(0,l.createSlice)({name:"supplyChainsCostsData",initialState:[],reducers:{setSupplyChainsCostsData:function(e,t){return t.payload}}}),ge=(0,l.createSlice)({name:"currentDate",initialState:"",reducers:{setCurrentDate:function(e,t){return t.payload}}}),me=(0,l.createSlice)({name:"loginEmail",initialState:!1,reducers:{setLoginEmail:function(e,t){return t.payload}}}),xe=(0,l.createSlice)({name:"loginName",initialState:!1,reducers:{setLoginName:function(e,t){return t.payload}}}),pe=(0,l.createSlice)({name:"modalDeleteImages",initialState:!1,reducers:{setModalDeleteImagesVisible:function(e,t){return t.payload}}}),ye=(0,l.createSlice)({name:"addAnotherImagesVisible",initialState:!1,reducers:{setAddAnotherImages:function(e,t){return t.payload}}}),be=(0,l.createSlice)({name:"isAddPhotoVisible",initialState:!0,reducers:{setIsAddPhotoVisible:function(e,t){return t.payload}}}),je=(0,l.createSlice)({name:"jpyToUsd",initialState:"",reducers:{setJpyToUsd:function(e,t){return t.payload}}}),Ce=(0,l.createSlice)({name:"usdToJpy",initialState:"",reducers:{setUsdToJpy:function(e,t){return t.payload}}}),we=(0,l.createSlice)({name:"modelData",initialState:[],reducers:{setModelData:function(e,t){return t.payload}}}),Se=(0,l.createSlice)({name:"makeData",initialState:[],reducers:{setMakeData:function(e,t){return t.payload}}}),De=(0,l.createSlice)({name:"expenseName",initialState:[],reducers:{setExpenseNameData:function(e,t){return t.payload}}}),ve=(0,l.createSlice)({name:"paidTo",initialState:[],reducers:{setPaidToData:function(e,t){return t.payload}}}),Me=(0,l.createSlice)({name:"selectedMake",initialState:"",reducers:{setSelectedMake:function(e,t){return t.payload}}}),Pe=(0,l.createSlice)({name:"isLoading",initialState:!1,reducers:{setIsLoading:function(e,t){return t.payload}}}),Ae=(0,l.createSlice)({name:"selectedImages",initialState:[],reducers:{setSelectedImages:function(e,t){return t.payload}}}),Le=(0,l.createSlice)({name:"portData",initialState:[],reducers:{setPortData:function(e,t){return t.payload}}}),Fe=(0,l.createSlice)({name:"transmissionData",initialState:[],reducers:{setTransmissionData:function(e,t){return t.payload}}}),Ee=(0,l.createSlice)({name:"fuelData",initialState:[],reducers:{setFuelData:function(e,t){return t.payload}}}),Be=(0,l.createSlice)({name:"buyerData",initialState:[],reducers:{setBuyerData:function(e,t){return t.payload}}}),Ie=(0,l.createSlice)({name:"salesData",initialState:[],reducers:{setSalesData:function(e,t){return t.payload}}}),ke=(0,l.createSlice)({name:"driveTypeData",initialState:[],reducers:{setDriveTypeData:function(e,t){return t.payload}}}),Re=(0,l.createSlice)({name:"bodyTypeData",initialState:[],reducers:{setBodyTypeData:function(e,t){return t.payload}}}),Te=(0,l.createSlice)({name:"exteriorColorData",initialState:[],reducers:{setExteriorColorData:function(e,t){return t.payload}}}),ze=(0,l.createSlice)({name:"currentYear",initialState:"",reducers:{setCurrentYear:function(e,t){return t.payload}}}),We=(0,l.createSlice)({name:"deleteImageVisible",initialState:!0,reducers:{setDeleteImageVisible:function(e,t){return t.payload}}}),Ne=h.actions.setCarImageUrl,Oe=g.actions.setSelectedFileUrl,He=m.actions.setPdfViewerModalVisible,Ve=x.actions.setSelectedCustomerData,Ye=p.actions.setPreviewInvoiceVisible,Ue=b.actions.setInvoiceData,_e=y.actions.setTransactionModalVisible,Ge=j.actions.setDeleteMessageTemplateVisible,qe=C.actions.setLoadMoreMessagesLoading,Je=w.actions.setNoMoreMessagesData,Ke=S.actions.setReadByListModalVisible,Ze=D.actions.setSelectedChatData,$e=v.actions.setChatMessageBoxLoading,Xe=M.actions.setChatMessagesData,Qe=A.actions.setActiveChatId,et=P.actions.setChatListSearchText,tt=L.actions.setLoadMoreLoading,rt=F.actions.setNoMoreData,ot=E.actions.setChatListLastVisible,nt=B.actions.setChatListData,lt=I.actions.setChatListImageUrl,at=N.actions.setDeletePortModalVisible,it=O.actions.setDeleteCountryModalVisible,st=k.actions.setCountryPortsData,dt=R.actions.setAddPortsForCountriesModalVisible,ct=z.actions.setInspectionIsRequiredData,ut=T.actions.setMethodData,ft=W.actions.setInspectionNameData,ht=Y.actions.setSelectedButton,gt=V.actions.setAddCountryModalVisible,mt=H.actions.setAddPortModalVisible,xt=_.actions.setFreightPortsData,pt=U.actions.setFreightCountriesData,yt=q.actions.setInputFob,bt=G.actions.setFobHistoryData,jt=J.actions.setFobPriceHistoryModalVisible,Ct=K.actions.setEditVehicleModalVisible,wt=Z.actions.setVehicleListData,St=$.actions.setAddVehicleListData,Dt=X.actions.setSupplyChainsCostsModalVisible,vt=ee.actions.setVehicleListSupplyChainsCostsData,Mt=Q.actions.setUploadImagesModalVisible,Pt=te.actions.setUploadImagesButtonLoading,At=re.actions.setViewImagesModalVisible,Lt=oe.actions.setViewImagesData,Ft=ne.actions.setLastVisible,Et=le.actions.setAccountListData,Bt=ae.actions.setLogsData,It=ie.actions.setStockStatusData,kt=se.actions.setIsSuccessModalOpen,Rt=de.actions.setIsUpdateSuccessModalOpen,Tt=ce.actions.setLoadingModalVisible,zt=fe.actions.setSelectedPaidTo,Wt=ue.actions.setSelectedExpenseName,Nt=he.actions.setSupplyChainsCostsData,Ot=ge.actions.setCurrentDate,Ht=ve.actions.setPaidToData,Vt=We.actions.setDeleteImageVisible,Yt=De.actions.setExpenseNameData,Ut=me.actions.setLoginEmail,_t=xe.actions.setLoginName,Gt=be.actions.setIsAddPhotoVisible,qt=ye.actions.setAddAnotherImages,Jt=pe.actions.setModalDeleteImagesVisible,Kt=Se.actions.setMakeData,Zt=Me.actions.setSelectedMake,$t=Pe.actions.setIsLoading,Xt=Ae.actions.setSelectedImages,Qt=Le.actions.setPortData,er=Fe.actions.setTransmissionData,tr=Ee.actions.setFuelData,rr=Be.actions.setBuyerData,or=Ie.actions.setSalesData,nr=ke.actions.setDriveTypeData,lr=Re.actions.setBodyTypeData,ar=Te.actions.setExteriorColorData,ir=je.actions.setJpyToUsd,sr=Ce.actions.setUsdToJpy,dr=ze.actions.setCurrentYear,cr=we.actions.setModelData,ur=(0,l.configureStore)({reducer:{carImageUrl:h.reducer,selectedFileUrl:g.reducer,pdfViewerModalVisible:m.reducer,selectedCustomerData:x.reducer,previewInvoiceVisible:p.reducer,invoiceData:b.reducer,transactionModalVisible:y.reducer,deleteMessageTemplateVisible:j.reducer,loadMoreMessagesLoading:C.reducer,noMoreMessagesData:w.reducer,readByListModalVisible:S.reducer,selectedChatData:D.reducer,chatMessageBoxLoading:v.reducer,chatMessagesData:M.reducer,chatListSearchText:P.reducer,activeChatId:A.reducer,loadMoreLoading:L.reducer,noMoreData:F.reducer,chatListLastVisible:E.reducer,chatListData:B.reducer,chatListImageUrl:I.reducer,deletePortModalVisible:N.reducer,deleteCountryModalVisible:O.reducer,countryPortsData:k.reducer,addPortsForCountriesModalVisible:R.reducer,inspectionIsRequiredData:z.reducer,methodData:T.reducer,freightPortsData:_.reducer,inspectionNameData:W.reducer,addCountryModalVisible:V.reducer,addPortModalVisible:H.reducer,freightCountriesData:U.reducer,selectedButton:Y.reducer,inputFob:q.reducer,fobHistoryData:G.reducer,fobPriceHistoryModalVisible:J.reducer,editVehicleModalVisible:K.reducer,vehicleListData:Z.reducer,addVehicleListData:$.reducer,supplyChainsCostsModalVisible:X.reducer,uploadImagesModalVisible:Q.reducer,uploadImagesButtonLoading:te.reducer,viewImagesModalVisible:re.reducer,viewImagesData:oe.reducer,lastVisible:ne.reducer,accountListData:le.reducer,logsData:ae.reducer,stockStatusData:ie.reducer,isUpdateSuccessModalOpen:de.reducer,loadingModalVisible:ce.reducer,selectedPaidTo:fe.reducer,selectedExpenseName:ue.reducer,supplyChainsCostsData:he.reducer,vehicleListSupplyChainsCostsData:ee.reducer,currentDate:ge.reducer,paidToData:ve.reducer,expenseNameData:De.reducer,modelData:we.reducer,makeData:Se.reducer,selectedMake:Me.reducer,isLoading:Pe.reducer,selectedImages:Ae.reducer,portData:Le.reducer,transmissionData:Fe.reducer,fuelData:Ee.reducer,buyerData:Be.reducer,salesData:Ie.reducer,driveTypeData:ke.reducer,bodyTypeData:Re.reducer,exteriorColorData:Te.reducer,jpyToUsd:je.reducer,usdToJpy:Ce.reducer,currentYear:ze.reducer,isAddPhotoVisible:be.reducer,addAnotherImages:ye.reducer,modalDeleteImagesVisible:pe.reducer,loginName:xe.reducer,loginEmail:me.reducer,deleteImageVisible:We.reducer},middleware:function(e){return e({serializableCheck:{ignoredActions:["chatMessagesData/setChatMessagesData"],ignoredPaths:["chatMessagesData.somePathToTimestamp"]}})}}),fr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)(i.projectControlFirestore,"currency","currency");return(0,a.onSnapshot)(t,(function(t){var r,o,n=(null==(r=t.data())?void 0:r.jpyToUsd)||[],l=(null==(o=t.data())?void 0:o.usdToJpy)||[];e(ir(n)),e(sr(l))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},hr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"ExpenseName"),"ExpenseName");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.expenseName)||[];e(Yt(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},gr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"PaidTo"),"PaidTo");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.paidTo)||[];e(Ht(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},mr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"Make"),"Make");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.make)||[];e(Kt(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},xr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"Port"),"Port");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.port)||[];e(Qt(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},pr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"Transmission"),"Transmission");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.transmission)||[];e(er(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},yr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"Fuel"),"Fuel");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.fuel)||[];e(tr(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},br=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"Buyer"),"Buyer");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.buyer)||[];e(rr(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},jr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"Sales"),"Sales");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.sales)||[];e(or(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},Cr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"DriveType"),"DriveType");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.driveType)||[];e(nr(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},wr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"BodyType"),"BodyType");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.bodyType)||[];e(lr(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},Sr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"ExteriorColor"),"ExteriorColor");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.exteriorColor)||[];e(ar(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},Dr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(yield s.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,r=c()(t).format("YYYY");e(dr(r))}catch(o){console.error("Error fetching time:",o)}}));return function(t){return e.apply(this,arguments)}}()},vr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(yield s.default.get("https://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,r=c()(t).format("YYYY-MM-DD");e(Ot(r))}catch(o){console.error("Error fetching time:",o)}}));return function(t){return e.apply(this,arguments)}}()},Mr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.query)((0,a.collection)(i.projectExtensionFirestore,"VehicleProducts"),(0,a.orderBy)("dateAdded","desc"),(0,a.limit)(10));return(0,a.onSnapshot)(t,(function(t){var r=[];t.forEach((function(e){r.push(f({id:e.id},e.data()))})),e(wt(r))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},Pr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"CustomerCountryPort"),"MethodDoc");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.methodData)||[];e(ut(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},Ar=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"CustomerCountryPort"),"InspectionIsRequiredDoc");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.inspectionIsRequiredData)||[];e(ct(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},Lr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.doc)((0,a.collection)(i.projectExtensionFirestore,"CustomerCountryPort"),"InspectionNameDoc");return(0,a.onSnapshot)(t,(function(t){var r,o=(null==(r=t.data())?void 0:r.inspectionNameData)||[];e(ft(o))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()},Fr=function(){return function(){var e=(0,n.default)((function*(e){try{var t=(0,a.query)((0,a.collection)(i.projectExtensionFirestore,"chats"),(0,a.orderBy)("lastMessageDate","desc"),(0,a.limit)(10));return(0,a.onSnapshot)(t,(function(t){var r=[];t.forEach((function(e){r.push(f({id:e.id},e.data()))})),e(nt(r))}))}catch(r){console.error("Error fetching data from Firebase:",r)}}));return function(t){return e.apply(this,arguments)}}()};ur.dispatch(vr()),ur.dispatch(gr()),ur.dispatch(hr()),ur.dispatch(mr()),ur.dispatch(xr()),ur.dispatch(pr()),ur.dispatch(yr()),ur.dispatch(br()),ur.dispatch(jr()),ur.dispatch(Cr()),ur.dispatch(wr()),ur.dispatch(Sr()),ur.dispatch(fr()),ur.dispatch(Dr()),ur.dispatch(Pr()),ur.dispatch(Ar()),ur.dispatch(Lr());const Er=ur},48859:(e,t,r)=>{"use strict";r.r(t),r.d(t,{projectControlAuth:()=>i,projectControlFirebase:()=>a,projectControlFirestore:()=>s,projectExtensionAuth:()=>c,projectExtensionFirebase:()=>d,projectExtensionFirestore:()=>u});var o=r(31844),n=r(47673),l=r(31402),a=(0,o.initializeApp)({apiKey:"AIzaSyBlm-svZD1dfVgIt1JqC1MAYLkWNz52qv4",authDomain:"samplecontrolhub-a1c83.firebaseapp.com",databaseURL:"https://samplecontrolhub-a1c83-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"samplecontrolhub-a1c83",storageBucket:"samplecontrolhub-a1c83.appspot.com",messagingSenderId:"884509728897",appId:"1:884509728897:web:f60c613ba18028aa6ead80",measurementId:"G-7K5V489K2W"}),i=(0,n.getAuth)(a),s=(0,l.getFirestore)(a),d=(0,o.initializeApp)({apiKey:"AIzaSyDwjLbUFMDEyXB7NT63QJonc1NXZH3w07k",authDomain:"samplermj.firebaseapp.com",projectId:"samplermj",storageBucket:"samplermj.appspot.com",messagingSenderId:"879567069316",appId:"1:879567069316:web:1208cd45c8b20ca6aba2d1",measurementId:"G-L80RXVVXY6"},"projectExtension"),c=(0,n.getAuth)(d),u=(0,l.getFirestore)(d)},89327:(e,t,r)=>{"use strict";r.r(t),r.d(t,{addDoc:()=>o.addDoc,app:()=>i,auth:()=>s,collection:()=>o.collection,db:()=>d,deleteDoc:()=>o.deleteDoc,doc:()=>o.doc,getAuth:()=>n.getAuth,getDoc:()=>o.getDoc,getDocs:()=>o.getDocs,getFirestore:()=>o.getFirestore,limit:()=>o.limit,onSnapshot:()=>o.onSnapshot,orderBy:()=>o.orderBy,query:()=>o.query,setDoc:()=>o.setDoc,signInWithEmailAndPassword:()=>n.signInWithEmailAndPassword,startAfter:()=>o.startAfter,updateDoc:()=>o.updateDoc,where:()=>o.where});var o=r(31402),n=r(47673),l=r(31844),a=r(39425),i=(0,l.initializeApp)({apiKey:"AIzaSyBlm-svZD1dfVgIt1JqC1MAYLkWNz52qv4",authDomain:"samplecontrolhub-a1c83.firebaseapp.com",databaseURL:"https://samplecontrolhub-a1c83-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"samplecontrolhub-a1c83",storageBucket:"samplecontrolhub-a1c83.appspot.com",messagingSenderId:"884509728897",appId:"1:884509728897:web:f60c613ba18028aa6ead80",measurementId:"G-7K5V489K2W"}),s=((0,a.getAnalytics)(i),(0,n.getAuth)(i));r(14962);var d=(0,o.getFirestore)(i)},51909:(e,t,r)=>{"use strict";r.r(t),r.d(t,{authForCreateUser:()=>a});r(31402);var o=r(47673),n=r(31844);r(39425);r(14962);var l=(0,n.initializeApp)({apiKey:"AIzaSyBlm-svZD1dfVgIt1JqC1MAYLkWNz52qv4",authDomain:"samplecontrolhub-a1c83.firebaseapp.com",databaseURL:"https://samplecontrolhub-a1c83-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"samplecontrolhub-a1c83",storageBucket:"samplecontrolhub-a1c83.appspot.com",messagingSenderId:"884509728897",appId:"1:884509728897:web:f60c613ba18028aa6ead80",measurementId:"G-7K5V489K2W"},"Secondary"),a=(0,o.getAuth)(l)},95634:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});const o={}},46700:(e,t,r)=>{var o={"./af":94506,"./af.js":94506,"./ar":59687,"./ar-dz":62887,"./ar-dz.js":62887,"./ar-kw":66307,"./ar-kw.js":66307,"./ar-ly":51664,"./ar-ly.js":51664,"./ar-ma":89926,"./ar-ma.js":89926,"./ar-sa":85207,"./ar-sa.js":85207,"./ar-tn":52912,"./ar-tn.js":52912,"./ar.js":59687,"./az":5011,"./az.js":5011,"./be":25997,"./be.js":25997,"./bg":4427,"./bg.js":4427,"./bm":85385,"./bm.js":85385,"./bn":67703,"./bn-bd":57002,"./bn-bd.js":57002,"./bn.js":67703,"./bo":39841,"./bo.js":39841,"./br":45642,"./br.js":45642,"./bs":44707,"./bs.js":44707,"./ca":53512,"./ca.js":53512,"./cs":39497,"./cs.js":39497,"./cv":6479,"./cv.js":6479,"./cy":89318,"./cy.js":89318,"./da":97229,"./da.js":97229,"./de":63460,"./de-at":51044,"./de-at.js":51044,"./de-ch":26445,"./de-ch.js":26445,"./de.js":63460,"./dv":32096,"./dv.js":32096,"./el":16048,"./el.js":16048,"./en-au":74301,"./en-au.js":74301,"./en-ca":66855,"./en-ca.js":66855,"./en-gb":761,"./en-gb.js":761,"./en-ie":46127,"./en-ie.js":46127,"./en-il":49157,"./en-il.js":49157,"./en-in":37199,"./en-in.js":37199,"./en-nz":31511,"./en-nz.js":31511,"./en-sg":47309,"./en-sg.js":47309,"./eo":92160,"./eo.js":92160,"./es":68582,"./es-do":71885,"./es-do.js":71885,"./es-mx":2553,"./es-mx.js":2553,"./es-us":16962,"./es-us.js":16962,"./es.js":68582,"./et":98890,"./et.js":98890,"./eu":37704,"./eu.js":37704,"./fa":22562,"./fa.js":22562,"./fi":70877,"./fi.js":70877,"./fil":34246,"./fil.js":34246,"./fo":78341,"./fo.js":78341,"./fr":19867,"./fr-ca":82347,"./fr-ca.js":82347,"./fr-ch":17683,"./fr-ch.js":17683,"./fr.js":19867,"./fy":21982,"./fy.js":21982,"./ga":13905,"./ga.js":13905,"./gd":13443,"./gd.js":13443,"./gl":66905,"./gl.js":66905,"./gom-deva":91324,"./gom-deva.js":91324,"./gom-latn":41890,"./gom-latn.js":41890,"./gu":37134,"./gu.js":37134,"./he":96835,"./he.js":96835,"./hi":81394,"./hi.js":81394,"./hr":13564,"./hr.js":13564,"./hu":46269,"./hu.js":46269,"./hy-am":57269,"./hy-am.js":57269,"./id":44254,"./id.js":44254,"./is":8699,"./is.js":8699,"./it":28301,"./it-ch":92887,"./it-ch.js":92887,"./it.js":28301,"./ja":64642,"./ja.js":64642,"./jv":62168,"./jv.js":62168,"./ka":94501,"./ka.js":94501,"./kk":49537,"./kk.js":49537,"./km":45808,"./km.js":45808,"./kn":34881,"./kn.js":34881,"./ko":62951,"./ko.js":62951,"./ku":92452,"./ku.js":92452,"./ky":1853,"./ky.js":1853,"./lb":77639,"./lb.js":77639,"./lo":34502,"./lo.js":34502,"./lt":60874,"./lt.js":60874,"./lv":18237,"./lv.js":18237,"./me":87878,"./me.js":87878,"./mi":64234,"./mi.js":64234,"./mk":17535,"./mk.js":17535,"./ml":43896,"./ml.js":43896,"./mn":63046,"./mn.js":63046,"./mr":80927,"./mr.js":80927,"./ms":37224,"./ms-my":66332,"./ms-my.js":66332,"./ms.js":37224,"./mt":24866,"./mt.js":24866,"./my":24206,"./my.js":24206,"./nb":66723,"./nb.js":66723,"./ne":45097,"./ne.js":45097,"./nl":37529,"./nl-be":1355,"./nl-be.js":1355,"./nl.js":37529,"./nn":30296,"./nn.js":30296,"./oc-lnc":4802,"./oc-lnc.js":4802,"./pa-in":77057,"./pa-in.js":77057,"./pl":69850,"./pl.js":69850,"./pt":15552,"./pt-br":83726,"./pt-br.js":83726,"./pt.js":15552,"./ro":1717,"./ro.js":1717,"./ru":79117,"./ru.js":79117,"./sd":61742,"./sd.js":61742,"./se":92049,"./se.js":92049,"./si":83329,"./si.js":83329,"./sk":27619,"./sk.js":27619,"./sl":76707,"./sl.js":76707,"./sq":84281,"./sq.js":84281,"./sr":60436,"./sr-cyrl":13408,"./sr-cyrl.js":13408,"./sr.js":60436,"./ss":27500,"./ss.js":27500,"./sv":6950,"./sv.js":6950,"./sw":54222,"./sw.js":54222,"./ta":73746,"./ta.js":73746,"./te":1130,"./te.js":1130,"./tet":34740,"./tet.js":34740,"./tg":13378,"./tg.js":13378,"./th":20628,"./th.js":20628,"./tk":92622,"./tk.js":92622,"./tl-ph":30100,"./tl-ph.js":30100,"./tlh":22871,"./tlh.js":22871,"./tr":33600,"./tr.js":33600,"./tzl":18985,"./tzl.js":18985,"./tzm":3627,"./tzm-latn":51145,"./tzm-latn.js":51145,"./tzm.js":3627,"./ug-cn":4790,"./ug-cn.js":4790,"./uk":97712,"./uk.js":97712,"./ur":99529,"./ur.js":99529,"./uz":99141,"./uz-latn":61737,"./uz-latn.js":61737,"./uz.js":99141,"./vi":98205,"./vi.js":98205,"./x-pseudo":20697,"./x-pseudo.js":20697,"./yo":37826,"./yo.js":37826,"./zh-cn":83994,"./zh-cn.js":83994,"./zh-hk":36892,"./zh-hk.js":36892,"./zh-mo":43884,"./zh-mo.js":43884,"./zh-tw":85136,"./zh-tw.js":85136};function n(e){var t=l(e);return r(t)}function l(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}n.keys=function(){return Object.keys(o)},n.resolve=l,e.exports=n,n.id=46700},85228:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/C-Hub Logo Only.f81edf1511fecf0554a5.png"},51745:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/C-Hub.69b95e6e2ce14c6f7ec5.png"},53478:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/RMJ C-Hub \u5236\u5fa1\u30cf\u30d6.83a165292efec89219a8.png"},29556:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/RMJ Invoice Signature with Hanko.802b8c4687821e25dd12.png"},28899:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/RMJ logo for invoice.260660476b8ac2af1cf6.png"},29413:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/chat_step_1_off.f76cc5beb28c26ffc60f.png"},40027:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAoCAYAAAC8cqlMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAvBJREFUeNrsmE9rE0EUwGf/NJC1NKkbCnoI8SJ4iCTgB4i9+QfsxYsIZo/BS3IXSsEPkIvkmBTBi5cK1d60H0BM0IPgxeBFDFlNS92aNMn6JpnKdLub7OzubIvsg8eU6eS9+c289/ImCEUSSSSzRAjb4dNPZhKGNdB7oDnQjM2yNmgL9BXo1pOs0Ds3IACAN7wOWvTw8QboBgC1zxQEIMoEIunDTI/AVM8EBCDqHm/B8XYARgsVhAOEI4zIOZyKnMwXiX2XN1Lr4qryCLRAKoxVcGXZBd1EpVTLUpm++swJNzlz5biiiY4Ate47+KsJWnaAQGS+PFmH10/BEbmJJOf0S9I3LtpAFAlAgdFwgQAVyS2GIf/8yDYQdZ/G6yg8yZ0GqXUzYWziWXMPff89RJcuyOhxPsE0N0vo0FoP4wjx5uiRZc4tyFoYIPiE6ZFlzl2vVeua9D+a9xMop8qopQ9R/uUe0xwOBbcb8CktKL/5mV+IeHP0yDLX/NEPK9k37ULrRKuMT5geWeY+dProz9DkDdEjXfGp0Aq0L1pNK+3VdDzDEaRCd8L0jWwE6eXtN+MmfWIcmsaqfdUqpfCjRQvIkYbtkQ61wQFCm1V+MUwjABiN2JkIcVqx5qDHnKjYQdhXrekm8qSrZZHdyecoCAqmSmx6vZ3Jnpxeh9za+PP/44O1spVSvl+YAGbOi3/WFmW+lFIa50rkOT/Zn7p8YHxB+JNpmAX1A0Uk/524qjrp5z8v90coAX2gQs/LAjLisqC3Hy533Dq8+uKXcjgy1cEILVrt0XZjEjqIS4L+5cGyEQjIrdf710YODo9FAsc7d5Y+z7N1981+ZjBGKstJx0Skb99eas9bN/f1k0tJigt/yo6LRVlVUj1Ejbo9/YL0CaJKhiQIM2FGpunq+rMXJT0mCkwwg7GpB5YjH/WjFYhXVRZPAg3HpgHxrl9XF1znyPvOkQJ5pULILFrt0XYhBA8Oh6Z+Y2XBiEpZJGcofwUYAN7xNEJ5/2aeAAAAAElFTkSuQmCC"},35290:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/chat_step_2_off.e712bd6632e96dd22c58.png"},22558:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/chat_step_2_on.d23d7736dceb729424f1.png"},38715:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/chat_step_3_off.d12293f7ed3f33186f1d.png"},80851:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/chat_step_3_on.4eb3c77558673517d414.png"},65256:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/chat_step_4_off.c20b36cce08d498bd949.png"},14740:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/chat_step_4_on.074876396c26422a5e30.png"},58038:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/chat_step_5_off.5bf3e9023d7831a5233d.png"},80904:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAoCAYAAAC8cqlMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATBJREFUeNrsWN0NwiAQRtMBXMEN7B7tDjoJMIFxA0cwoe8++Nom3cRuoIe2iSWchrakUO9LCL+B7+O4g5YxAsELVjGRVUoJyHhblXmei65vHdnGc6QcnRAUsQmRSDkKv7jrtDSLEGaFEOKh0xKdnYTQE2VkyLX6BTxJUL5JqDucZVmvXhRFvEdLSvlKf+UjScjkOOcUfulo+Qi32DhbGE6mWFhPbGsbE26xfiwMD7oQG8Z6pDcwj61taot826RBFrkpZc5sbVu8j7hawFmIj7PvizjqI+YZjwWdL9KFGKwQbaIuQfUcOO/mgytuERhwYGH/ALs4XYgQAPaQHd/agkIKhGqnmx3E7CC7BiSmBiKps7O3yrfM2IEZcRo9Q1mWjzmh16fvERNVVTEC4TeeAgwAPLnfJkq2XusAAAAASUVORK5CYII="},49232:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/chat_step_6_off.0930704cb987ab326d3c.png"},81151:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/chat_step_6_on.54b7ed599667615cf944.png"},88618:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/chat_step_7_off.283dc88aea34aeec28a8.png"},30443:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/chat_step_7_on.8f1b989b1afa5104bc42.png"},82723:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/currency_background.2334c89e07717fe011d9.jpg"},25333:(e,t,r)=>{"use strict";e.exports=r.p+"static/media/rar_icon.2a959258c5bfc3afaea5.png"},42480:()=>{}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var l=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(l.exports,l,l.exports,r),l.loaded=!0,l.exports}r.m=e,(()=>{var e=[];r.O=(t,o,n,l)=>{if(!o){var a=1/0;for(c=0;c<e.length;c++){for(var[o,n,l]=e[c],i=!0,s=0;s<o.length;s++)(!1&l||a>=l)&&Object.keys(r.O).every((e=>r.O[e](o[s])))?o.splice(s--,1):(i=!1,l<a&&(a=l));if(i){e.splice(c--,1);var d=n();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,n,l]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(o,n){if(1&n&&(o=this(o)),8&n)return o;if("object"===typeof o&&o){if(4&n&&o.__esModule)return o;if(16&n&&"function"===typeof o.then)return o}var l=Object.create(null);r.r(l);var a={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&o;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>a[e]=()=>o[e]));return a.default=()=>o,r.d(l,a),l}})(),r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,o)=>(r.f[o](e,t),t)),[])),r.u=e=>"static/js/"+e+"."+{162:"da88e0a0",245:"704124dc"}[e]+".chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="web:";r.l=(o,n,l,a)=>{if(e[o])e[o].push(n);else{var i,s;if(void 0!==l)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+l){i=u;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+l),i.src=o),e[o]=[n];var f=(t,r)=>{i.onerror=i.onload=null,clearTimeout(h);var n=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),n&&n.forEach((e=>e(r))),t)return t(r)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),s&&document.head.appendChild(i)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/samplecontrolhub/",(()=>{var e={179:0};r.f.j=(t,o)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var l=new Promise(((r,o)=>n=e[t]=[r,o]));o.push(n[2]=l);var a=r.p+r.u(t),i=new Error;r.l(a,(o=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var l=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+l+": "+a+")",i.name="ChunkLoadError",i.type=l,i.request=a,n[1](i)}}),"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,o)=>{var n,l,[a,i,s]=o,d=0;if(a.some((t=>0!==e[t]))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(s)var c=s(r)}for(t&&t(o);d<a.length;d++)l=a[d],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(c)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=r.O(void 0,[104],(()=>r(19386)));o=r.O(o)})();
//# sourceMappingURL=main.2c535f97.js.map