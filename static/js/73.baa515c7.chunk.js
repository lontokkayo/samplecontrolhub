(self.webpackChunkweb=self.webpackChunkweb||[]).push([[73],{66516:(e,t,n)=>{var r={"./chat_step_1_off.png":29413,"./chat_step_2_off.png":35290,"./chat_step_3_off.png":38715,"./chat_step_4_off.png":65256,"./chat_step_5_off.png":58038,"./chat_step_6_off.png":49232,"./chat_step_7_off.png":88618};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=66516},82049:(e,t,n)=>{var r={"./chat_step_1_on.png":40027,"./chat_step_2_on.png":22558,"./chat_step_3_on.png":80851,"./chat_step_4_on.png":14740,"./chat_step_5_on.png":80904,"./chat_step_6_on.png":81151,"./chat_step_7_on.png":30443};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=82049},57702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>it});var r=n(36459),o=n(42982),i=n(15861),a=n(4942),l=n(70885),s=n(3559),c=n(71592),d=n(32535),u=n(24770),f=n(40013),h=n(74905),g=n(16886),m=n(48174),y=n(67942),x=n(20538),p=n(80410),j=n(24286),b=n(68873),D=n(67221),C=n(93020),S=n(89526),v=n(46337),w=n(74333),F=n(81133),A=n(88521),I=n(99566),W=n(68576),k=n(43497),B=n(24637),R=n(7132),P=(n(87026),n(32450)),M=n(65738),T=n(33034),z=n(51223),E=n(55202),N=n(51055),L=n(92727),O=n(38615),H=n(47673),U=n(31402),V=n(36105),Y=n.n(V),_=(n(51909),n(95634),n(48859)),q=(n(69248),n(61620)),J=n(26555),G=n(96500),X=n(95212),Z=n(30083),$=(n(76805),n(79552)),K=(n(86308),n(37050)),Q=(n(53059),n(58775),n(19761),n(84419)),ee=n(72776),te=n(42656),ne=n(7484),re=n(900),oe=n.n(re),ie=n(34285),ae=n(67557);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}v.default.get("window").width;var ce,de,ue="CHAT MESSAGES",fe="",he="",ge="",me="",ye="",xe=[],pe="",je=(_.projectControlAuth.currentUser.email,""),be="",De="",Ce=0,Se="",ve="",we={carData:{},cfs:"",placeOfDelivery:"",departureCountry:"",departurePort:"",salesPerson:"",discharge:{port:"",country:""},consignee:{sameAsBuyer:null,name:"",address:"",contactNumber:"",fax:"",email:""},notifyParty:{sameAsConsignee:null,name:"",address:"",contactNumber:"",fax:"",email:""},paymentDetails:{incoterms:"",inspectionIsChecked:null,inspectionName:"",warrantyIsCheck:null,warrantyAmount:0,fobPrice:0,freightPrice:0,insurancePrice:0,inspectionPrice:0,totalAmount:0,additionalName:[],additionalPrice:[]},bankInformations:{dueDate:"",issuingDate:"",bankAccount:{},paymentTerms:"",salesAgreement:""}},Fe=(0,U.getFirestore)(),Ae=function(){var e=_.projectControlAuth.currentUser;return e?e.email:null},Ie=function(e){var t=e.data,r=(0,Z.useSelector)((function(e){return e.selectedChatData}));t.findIndex((function(e){return r.stepIndicator.value<e.value}));return(0,ae.jsx)(F.default,{style:{flexDirection:"row",alignItems:"center",paddingTop:3},children:t.map((function(e,o){return(0,ae.jsxs)(F.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,ae.jsx)(s.Tooltip,{label:e.title,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(F.default,{style:{width:20,height:20,borderRadius:10,backgroundColor:r.stepIndicator.value<e.value?"#C1C1C1":"#abf7c7",justifyContent:"center"},children:r.stepIndicator.value<e.value?(0,ae.jsx)(J.default,{source:{uri:n(66516)("./chat_step_"+e.value+"_off.png"),priority:J.default.priority.normal},style:{tintColor:"rgba(128, 128, 128, 1)",width:15,height:15,alignSelf:"center"},resizeMode:J.default.resizeMode.stretch}):(0,ae.jsx)(J.default,{source:{uri:n(82049)("./chat_step_"+e.value+"_on.png"),priority:J.default.priority.normal},style:{tintColor:"rgba(128, 128, 128, 1)",width:15,height:15,alignSelf:"center"},resizeMode:J.default.resizeMode.stretch})})}),o<t.length-1&&(0,ae.jsx)(F.default,{style:{height:3,width:20,backgroundColor:r.stepIndicator.value<=e.value?"#C1C1C1":"#abf7c7"}})]},o)}))})},We=[{title:"Negotiation",value:1},{title:"Issued Proforma Invoice",value:2},{title:"Order Item",value:3},{title:"Payment Confirmed",value:4},{title:"Shipping Schedule",value:5},{title:"Documents",value:6},{title:"Vehicle Received",value:7}],ke=function(){var e=(0,Z.useSelector)((function(e){return e.loadingModalVisible}));return(0,ae.jsx)(F.default,{style:{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.5)",flex:1,display:e?"flex":"none",justifyContent:"center",alignItems:"center"},children:(0,ae.jsxs)(F.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:[(0,ae.jsx)(c.default,{size:"lg",color:"white"}),(0,ae.jsx)(d.default,{style:{color:"white"},children:"Loading, please wait!"})]})})},Be=function(e){var t=e.title,n=e.onPress,r=e.isActive,o=e.headerCount,i=r?{backgroundColor:"#E1EDF7"}:{},a=v.default.get("window").width,s=(0,S.useState)(!1),c=(0,l.default)(s,2),u=c[0],f=c[1];return(0,ae.jsxs)(B.default,{onHoverIn:function(){return f(!0)},onHoverOut:function(){return f(!1)},focusable:!1,onPress:n,style:se({backgroundColor:u?"#f2f2f2":"transparent",padding:12,marginVertical:a>1818?10:2,borderWidth:5,borderColor:"transparent",marginLeft:8,width:195,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:5},i),children:[(0,ae.jsx)(d.default,{color:r?"#0A78BE":"#1C2B33",fontSize:14,style:{fontWeight:r?700:400,alignSelf:"center",textAlign:"center"},children:t}),o]})},Re=function(e){var t=e.title,n=e.onPress,r=e.isActive,o=e.iconActive,i=e.iconNotActive,a=(0,S.useState)(!1),s=(0,l.default)(a,2),c=s[0],u=s[1];return(0,ae.jsxs)(B.default,{focusable:!1,variant:"ghost",onPress:n,onHoverIn:function(){return u(!0)},onHoverOut:function(){return u(!1)},style:{padding:5,width:100,margin:5,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:5,backgroundColor:r?"#E1EDF7":c?"#d7d7d9":"#ECEDF0"},children:[r?o:i,(0,ae.jsx)(d.default,{color:r?"#0A78BE":"#1C2B33",fontSize:14,style:{fontWeight:r?700:400,marginLeft:5},children:t})]})},Pe=function(){return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsxs)(F.default,{style:{padding:12,alignItems:"flex-start",flexDirection:"row",backgroundColor:"white"},children:[(0,ae.jsx)(F.default,{style:{width:60,height:60,borderRadius:30,backgroundColor:"#e0e0e0",marginRight:12}}),(0,ae.jsxs)(F.default,{style:{flex:1},children:[Array.from({length:3}).map((function(e,t){return(0,ae.jsx)(F.default,{style:{height:10,backgroundColor:"#e0e0e0",marginBottom:6,width:"80%",borderRadius:4}},"text-"+t)})),(0,ae.jsx)(F.default,{style:{position:"absolute",right:10,height:10,backgroundColor:"#e0e0e0",marginBottom:6,width:"5%",borderRadius:4}})]})]})})},Me=function(e){var t=e.handleDeleteMessageTemplateClose,n=(0,Z.useSelector)((function(e){return e.deleteMessageTemplateVisible})),r=_.projectControlAuth.currentUser?_.projectControlAuth.currentUser.email:"",o=pe,a=(0,S.useState)(!1),s=(0,l.default)(a,2),c=s[0],h=s[1],g=function(){t()},m=function(){var e=(0,i.default)((function*(e){var t=(0,U.doc)(_.projectControlFirestore,"MessageTemplate",r);h(!0);try{var n=yield(0,U.getDoc)(t);if(n.exists()){var o=(n.data().messageTemplate||[]).filter((function(t){return t.title!==e}));yield(0,U.updateDoc)(t,{messageTemplate:o}),console.log("Item successfully deleted"),h(!1),g()}else console.log("Document does not exist"),h(!1)}catch(i){console.error("Error deleting item: ",i),h(!1)}}));return function(t){return e.apply(this,arguments)}}();return(0,ae.jsx)(u.Modal,{isOpen:n,onClose:g,children:(0,ae.jsxs)(u.Modal.Content,{children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Header,{children:"Delete Message Template?"}),(0,ae.jsx)(u.Modal.Body,{children:(0,ae.jsx)(F.default,{style:{flex:1},children:(0,ae.jsx)(d.default,{style:{fontWeight:400},children:"Are you sure you want to delete the selected message template?"})})}),(0,ae.jsx)(u.Modal.Footer,{children:(0,ae.jsxs)(f.Button.Group,{variant:"ghost",space:"2",children:[(0,ae.jsx)(f.Button,{style:{width:80,height:36},onPress:g,variant:"solid",colorScheme:"warmGray",children:"Cancel"}),(0,ae.jsx)(f.Button,{isLoading:!!c,onPress:function(){return m(o)},style:{padding:16,height:36},variant:"solid",colorScheme:"error",children:"Delete"})]})})]})})},Te=function(e){var t=e.setOriginalTitle,n=(e.addVisible,e.titleInputRef),r=e.valueInputRef,o=e.setAddVisible,i=e.item,a=e.textInputRef,s=e.setPopoverOpen,c=(0,S.useState)(!1),u=(0,l.default)(c,2),f=u[0],g=u[1],m=(0,S.useState)(!1),y=(0,l.default)(m,2),x=y[0],p=y[1],j=(0,S.useState)(!1),b=(0,l.default)(j,2),D=b[0],C=b[1],v=(0,S.useState)(!1),w=(0,l.default)(v,2),A=w[0],I=w[1],W=(0,S.useState)(!1),k=(0,l.default)(W,2),R=k[0],M=k[1],T=(0,S.useState)(null),z=(0,l.default)(T,2),E=(z[0],z[1],(0,S.useState)(null)),N=(0,l.default)(E,2),L=(N[0],N[1]),O=(0,Z.useDispatch)();return(0,ae.jsxs)(B.default,{onPress:function(){return function(e){a.current.value=e.value,s(!1)}(i)},onHoverIn:function(){return g(!0)},onHoverOut:function(){return g(!1)},style:{padding:10,backgroundColor:f?"#f2f2f2":"transparent",flex:1,borderRadius:5},children:[(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(d.default,{style:{fontWeight:"700",flex:1},numberOfLines:1,ellipsizeMode:"tail",children:i.title}),(0,ae.jsx)(h.Popover,{isOpen:R,onClose:function(){return M(!1)},trigger:function(e){return(0,ae.jsx)(B.default,se(se({},e),{},{onPress:function(){return M(!0)},onHoverIn:function(){return p(!0)},onHoverOut:function(){return p(!1)},style:{backgroundColor:x?"#dedede":"transparent",padding:5,justifyContent:"center",borderRadius:5},children:(0,ae.jsx)(P.default,{size:16,name:"dots-three-horizontal",color:"#171717"})}))},children:(0,ae.jsxs)(h.Popover.Content,{children:[(0,ae.jsx)(B.default,{onPress:function(){return function(e){o(!0),L(!0),M(!1),n.current.value=e.title,r.current.value=e.value,t(e.title)}(i)},onHoverIn:function(){return C(!0)},onHoverOut:function(){return C(!1)},style:{flex:1,width:50,backgroundColor:D?"#dedede":"white",padding:5},focusable:!1,children:(0,ae.jsx)(d.default,{children:"Edit"})}),(0,ae.jsx)(B.default,{onPress:function(){return e=i.title,O((0,K.setDeleteMessageTemplateVisible)(!0)),void(pe=e);var e},onHoverIn:function(){return I(!0)},onHoverOut:function(){return I(!1)},style:{flex:1,width:50,backgroundColor:A?"#dedede":"white",padding:5},focusable:!1,children:(0,ae.jsx)(d.default,{children:"Delete"})})]})})]}),(0,ae.jsx)(d.default,{style:{fontWeight:"400",fontSize:12},numberOfLines:1,ellipsizeMode:"tail",children:i.value})]})},ze=function(e){var t=e.textInputRef,n=(0,Z.useDispatch)(),r=(0,S.useState)(!1),o=(0,l.default)(r,2),a=o[0],s=o[1],u=(0,S.useState)(!1),f=(0,l.default)(u,2),g=f[0],m=f[1],y=(0,S.useState)(!1),x=(0,l.default)(y,2),p=x[0],j=x[1],b=(0,S.useState)(""),D=(0,l.default)(b,2),C=D[0],v=D[1],w=(0,S.useState)([]),A=(0,l.default)(w,2),W=A[0],R=A[1],P=(0,S.useState)(!1),T=(0,l.default)(P,2),z=T[0],E=T[1],N=(0,S.useState)(!1),L=(0,l.default)(N,2),O=L[0],H=L[1],V=(0,S.useState)(!1),Y=(0,l.default)(V,2),q=Y[0],J=Y[1],G=(0,S.useState)(""),X=(0,l.default)(G,2),$=X[0],Q=X[1],ee=(0,S.useState)(!1),te=(0,l.default)(ee,2),ne=te[0],re=te[1],oe=(0,S.useState)([]),ie=(0,l.default)(oe,2),le=ie[0],ce=ie[1],de=(0,S.useRef)(null),ue=(0,S.useRef)(null),fe=(0,S.useRef)(null),he=_.projectControlAuth.currentUser?_.projectControlAuth.currentUser.email:"",ge=function(){var e=(0,i.default)((function*(){re(!0);var e=(0,U.doc)(_.projectControlFirestore,"MessageTemplate",he);try{var t,n,r=yield(0,U.getDoc)(e),o=[],i=null==(t=ue.current)?void 0:t.value,a=null==(n=fe.current)?void 0:n.value;if(i&&a){if(r.exists()){var l=(o=r.data().messageTemplate||[]).findIndex((function(e){return e.title===$}));-1!==l?o[l]={title:i,value:a}:o.push({title:i,value:a})}else console.log("Creating a new document"),o=[{title:i,value:a}];yield(0,U.setDoc)(e,{messageTemplate:o},{merge:!0}),console.log("Document successfully updated or created")}else console.log("Title or value is empty")}catch(s){console.error("Error updating or creating document: ",s)}finally{re(!1),me()}}));return function(){return e.apply(this,arguments)}}(),me=function(){m(!1),E(!1),H(!1),J(!1),ue.current.clear(),fe.current.clear()};(0,S.useEffect)((function(){var e=(0,U.doc)(_.projectControlFirestore,"MessageTemplate",he),t=(0,U.onSnapshot)(e,(function(e){if(e.exists()){var t=e.data().messageTemplate;t.sort((function(e,t){var n=e.title.toUpperCase(),r=t.title.toUpperCase();return n<r?-1:n>r?1:0})),ce(t)}else console.log("No such document!")}),(function(e){console.error("Error fetching document:",e)}));return function(){return t()}}),[p]);return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(Me,{handleDeleteMessageTemplateClose:function(){n((0,K.setDeleteMessageTemplateVisible)(!1))}}),(0,ae.jsx)(h.Popover,{isOpen:p,onClose:function(){j(!1),E(!1),m(!1)},initialFocusRef:de,finalFocusRef:t,placement:"top",trigger:function(e){return(0,ae.jsx)(B.default,se(se({focusable:!1},e),{},{onPress:function(){return j(!0)},onHoverIn:function(){return s(!0)},onHoverOut:function(){return s(!1)},style:function(e){return[{bottom:0,right:100,position:"absolute",borderRadius:20,opacity:e.pressed?.5:1}]},children:(0,ae.jsx)(M.default,{name:"chatbox-ellipses-outline",size:24,color:a?"#0A78BE":"#C1C1C1"})}))},children:(0,ae.jsxs)(h.Popover.Content,{w:400,marginRight:10,children:[(0,ae.jsx)(h.Popover.Arrow,{}),(0,ae.jsxs)(F.default,{style:{display:z?"flex":"none"},children:[(0,ae.jsx)(h.Popover.Header,{backgroundColor:"white",children:(0,ae.jsx)(F.default,{style:{flexDirection:"row",flex:1},children:(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:16,flex:1},children:"Create a message template"})})}),(0,ae.jsxs)(h.Popover.Body,{backgroundColor:"white",height:250,children:[(0,ae.jsx)(d.default,{style:{fontWeight:700},children:"Title"}),(0,ae.jsx)(k.default,{ref:ue,placeholder:"Input Title",placeholderTextColor:"#9B9E9F",underlineColorAndroid:"transparent",style:{height:40,padding:10,outlineStyle:"none",borderWidth:1,borderColor:"#D9D9D9",borderRadius:5}}),(0,ae.jsx)("br",{}),(0,ae.jsx)(d.default,{style:{fontWeight:700},children:"Message"}),(0,ae.jsx)(k.default,{multiline:!0,ref:fe,placeholder:"Input Message",placeholderTextColor:"#9B9E9F",underlineColorAndroid:"transparent",style:{height:100,padding:10,outlineStyle:"none",borderWidth:1,borderColor:"#D9D9D9",borderRadius:5}})]}),(0,ae.jsx)(h.Popover.Footer,{backgroundColor:"white",children:(0,ae.jsxs)(F.default,{style:{height:30,flexDirection:"row",justifyContent:"center"},children:[(0,ae.jsx)(B.default,{onHoverIn:function(){return H(!0)},onHoverOut:function(){return H(!1)},onPress:me,style:{backgroundColor:O?"#DADADA":"white",width:60,borderRadius:5,padding:5,borderWidth:1,borderColor:"#DADDE1",marginHorizontal:5},children:(0,ae.jsx)(d.default,{style:{textAlign:"center",fontWeight:500},children:"Cancel"})}),(0,ae.jsx)(B.default,{onPress:ge,onHoverIn:function(){return J(!0)},onHoverOut:function(){return J(!1)},style:{backgroundColor:q?"#107a37":"#16A34A",width:60,borderRadius:5,padding:5,borderWidth:1,borderColor:"#DADDE1",marginHorizontal:5},children:ne?(0,ae.jsx)(c.default,{animating:!0,size:"sm",color:"white"}):(0,ae.jsx)(d.default,{style:{textAlign:"center",color:"white",fontWeight:500},children:"Save"})})]})})]}),(0,ae.jsxs)(F.default,{style:{display:z?"none":"flex"},children:[(0,ae.jsx)(h.Popover.Header,{backgroundColor:"white",children:(0,ae.jsxs)(F.default,{style:{flexDirection:"row",flex:1},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:16,flex:1},children:"Message Template"}),(0,ae.jsx)(B.default,{focusable:!1,onPress:function(){return E(!0)},onHoverIn:function(){return m(!0)},onHoverOut:function(){return m(!1)},children:(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:16,color:"#1B81C2",textDecorationLine:g?"underline":"none"},children:"+ ADD"})})]})}),(0,ae.jsxs)(h.Popover.Body,{backgroundColor:"white",height:300,children:[(0,ae.jsx)(k.default,{ref:de,placeholder:"Search",placeholderTextColor:"#9B9E9F",underlineColorAndroid:"transparent",style:{height:40,padding:10,outlineStyle:"none",borderWidth:1,borderColor:"#D9D9D9",borderRadius:5,marginBottom:5},keyboardType:"search",onChangeText:function(e){v(e);var t=le.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())||t.value.toLowerCase().includes(e.toLowerCase())}));R(t)},value:C}),le.length>0||W.length>0?(0,ae.jsx)(I.default,{style:{height:100,borderBottomLeftRadius:5},renderItem:function(e){var n=e.item;return(0,ae.jsx)(Te,{setOriginalTitle:Q,addVisible:z,titleInputRef:ue,valueInputRef:fe,setAddVisible:E,item:n,textInputRef:t,setPopoverOpen:j})},keyExtractor:function(e){return e.title.toString()},data:C?W:le}):(0,ae.jsx)(d.default,{style:{fontWeight:700,alignSelf:"center"},children:"No message template found"})]})]})]})})]})},Ee=function(){var e=(0,Z.useSelector)((function(e){return e.selectedChatData})),t=(0,S.useState)(!1),n=(0,l.default)(t,2),r=n[0],o=n[1],a=(0,S.useRef)(null),s=function(){var t=(0,i.default)((function*(){var t,n=(yield O.default.get("http://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,r=Y()(n).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),o=(Y()(n).format("YYYY"),Y()(n).format("MM"),Y()(n).format("MM/DD"),Y()(n).format("YYYY/MM/DD"),Y()(n).format("DD"),Y()(n).format("HH:mm"),Y()(n).format("HH:mm:ss"),null==(t=a.current)?void 0:t.value);if(a.current.clear(),a.current.focus(),""!==o){var i=_.projectControlAuth.currentUser?_.projectControlAuth.currentUser.email:"";try{yield(0,U.addDoc)((0,U.collection)(_.projectExtensionFirestore,"chats",e.id,"messages"),{text:o.trim(),sender:i,timestamp:r,ip:Se,ipCountry:ve}),yield(0,U.updateDoc)((0,U.doc)(_.projectExtensionFirestore,"chats",e.id),{lastMessageSender:i,lastMessage:o,lastMessageDate:r,customerRead:!1,read:!0,readBy:[i]})}catch(l){console.error("Error adding document: ",l)}}}));return function(){return t.apply(this,arguments)}}(),c=v.default.get("window").width;return(0,ae.jsxs)(F.default,{style:{width:"98%",flexDirection:"row",borderWidth:1,borderColor:"#D9D9D9",borderRadius:10},children:[(0,ae.jsx)(F.default,{style:{marginHorizontal:5,marginTop:5},children:(0,ae.jsx)(J.default,{source:{uri:"https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FRMJ%20Round.jpg?alt=media&token=90d7f2fe-d9cd-4a6f-9a6b-bc39fe2b33b2",priority:J.default.priority.high},style:{width:30,height:30,borderRadius:15},resizeMode:J.default.resizeMode.cover})}),(0,ae.jsx)(k.default,{ref:a,multiline:!0,placeholder:"Send a message...",placeholderTextColor:"#9B9E9F",onKeyPress:function(e){c>=768&&("Enter"!==e.nativeEvent.key||e.nativeEvent.shiftKey||(e.preventDefault(),s()))},style:{outlineStyle:"none",width:"100%",height:80,alignSelf:"center",padding:10}}),(0,ae.jsx)(B.default,{focusable:!1,onPress:s,onHoverIn:function(){return o(!0)},onHoverOut:function(){return o(!1)},style:function(e){var t=e.pressed;return[{padding:10,top:20,right:10,position:"absolute",borderRadius:20,backgroundColor:r?"#e8f4ff":"transparent",opacity:t?.5:1}]},children:(0,ae.jsx)(T.default,{name:"send",size:24,color:"#95BCF9"})}),(0,ae.jsx)(ze,{textInputRef:a})]})},Ne=function(e){var t=e.item,r=e.onPress,o=e.isActive,a=e.messageUnread,c=e.formattedDate,u=(e.chatListData,(0,S.useState)(null)),f=(0,l.default)(u,2),h=f[0],g=f[1],m=(0,S.useState)(null),y=(0,l.default)(m,2),x=(y[0],y[1],(0,S.useState)("")),p=(0,l.default)(x,2),j=p[0],b=p[1],D=(0,S.useState)(""),C=(0,l.default)(D,2),v=C[0],w=C[1],A=(0,Z.useDispatch)(),I=(0,S.useState)(!1),W=(0,l.default)(I,2),k=W[0],R=W[1],P=(0,S.useState)(!1),M=(0,l.default)(P,2),z=(M[0],M[1],(0,S.useState)(!1)),E=(0,l.default)(z,2),N=E[0],L=E[1],O=t.carData&&t.carData.carName?t.carData.carName:t.vehicle&&t.vehicle.carName?t.vehicle.carName:"",H=function(){var e=(0,i.default)((function*(){A((0,K.setActiveChatId)("")),A((0,K.setChatMessagesData)([])),A((0,K.setSelectedChatData)([]));var e=(0,U.doc)(_.projectExtensionFirestore,"chats",t.id);try{yield(0,U.updateDoc)(e,{read:!1})}catch(n){console.error("Error updating document: ",n)}}));return function(){return e.apply(this,arguments)}}();(0,S.useEffect)((function(){var e=t.carData&&t.carData.stockID?t.carData.stockID:t.vehicle&&t.vehicle.carId?t.vehicle.carId:"",n=(0,q.getStorage)(_.projectExtensionFirebase),r=(0,q.ref)(n,e+"/0");(0,q.getDownloadURL)(r).then((function(e){g(e)})).catch((function(e){e.code,g("https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FNo%20Car%20Image%20Found.png?alt=media&token=de86488c-73a6-4c04-811c-bc508a11123a")}));var o=t.participants.customer,i=(0,U.doc)(_.projectExtensionFirestore,"accounts",o),a=(0,U.onSnapshot)(i,(function(e){if(e.exists()){var t=e.data();A((0,K.setSelectedCustomerData)(t)),b(t.textFirst?t.textFirst:""),w(t.textLast?t.textLast:"")}else console.log("Document not found")}),(function(e){console.error("Error fetching document: ",e)}));return function(){return a()}}),[]);var V=!h||null==h||""==h||void 0==h||!t,Y=n(82049)("./chat_step_"+t.stepIndicator.value+"_on.png"),G=n(66516)("./chat_step_"+t.stepIndicator.value+"_off.png");return V?(0,ae.jsx)(Pe,{}):(0,ae.jsxs)(B.default,{onHoverIn:function(){L(!0)},onHoverOut:function(){L(!1)},focusable:!1,style:{padding:12,alignItems:"flex-start",flexDirection:"row",backgroundColor:o||N?"#f2f2f2":"white",borderLeftColor:o?"#0A9FDC":"transparent",borderRightColor:o?"#0A9FDC":"transparent",borderLeftWidth:2,borderRightWidth:2},onPress:function(){r(),me=j||"",ye=v||"",ge=h||"",O,L(!1),R(!1)},children:[(0,ae.jsx)(F.default,{style:{width:"20%",justifyContent:"center"},children:h?(0,ae.jsx)(J.default,{source:{uri:h,priority:J.default.priority.normal},style:{width:60,height:60,borderRadius:30},resizeMode:J.default.resizeMode.stretch}):(0,ae.jsx)(F.default,{style:{width:60,height:60,borderRadius:30,backgroundColor:"#e0e0e0",marginRight:12}})}),(0,ae.jsxs)(F.default,{style:{flex:1},children:[N&&t.read?null:(0,ae.jsx)(d.default,{style:{fontSize:12,position:"absolute",right:10,color:a?"#0A78BE":"#90949C",fontWeight:a?700:400},children:c}),(0,ae.jsx)(d.default,{numberOfLines:1,ellipsizeMode:"tail",style:{fontSize:14,width:"70%",overflow:"hidden",fontWeight:a?700:400,color:a?"#1C2B33":"#586369"},children:O}),(0,ae.jsx)(d.default,{numberOfLines:1,ellipsizeMode:"tail",style:{fontSize:14,width:"80%",overflow:"hidden",flex:1,fontWeight:a?700:400,color:a?"#1C2B33":"#586369"},children:j+" "+v}),(0,ae.jsx)(d.default,{numberOfLines:1,ellipsizeMode:"tail",style:{fontSize:12,width:"80%",overflow:"hidden",flex:1,fontWeight:a?700:400,color:a?"#0A78BE":"#90949c"},children:t.lastMessageSender==t.participants.customer?t.lastMessage?t.lastMessage:"No message found":t.lastMessage?"Sales: "+t.lastMessage:"Sales: No message found"}),t.read?(0,ae.jsx)(J.default,{source:{uri:G,priority:J.default.priority.normal},style:{tintColor:"rgba(128, 128, 128, 1)",width:22,height:20,position:"absolute",right:10,bottom:0},resizeMode:J.default.resizeMode.stretch}):(0,ae.jsx)(J.default,{source:{uri:Y,priority:J.default.priority.normal},style:{tintColor:"rgba(128, 128, 128, 1)",width:22,height:20,position:"absolute",right:10,bottom:0},resizeMode:J.default.resizeMode.stretch}),N&&t.read&&(0,ae.jsx)(s.Tooltip,{label:"Mark as unread",placement:"right",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(B.default,{focusable:!1,onHoverIn:function(){L(!0),R(!0)},onHoverOut:function(){R(!1)},onPress:H,style:{position:"absolute",right:0,top:-10,padding:10,alignSelf:"center"},children:(0,ae.jsx)(T.default,{name:"mark-as-unread",size:22,color:k?"#1B81C2":"#BABABA"})})})]})]})},Le=function(e){var t=e.unreadButtonValue,n=e.activeButtonValue,r=(0,Z.useSelector)((function(e){return e.chatListData})),a=((0,Z.useSelector)((function(e){return e.chatListLastVisible})),(0,Z.useSelector)((function(e){return e.activeChatId}))),l=(0,Z.useSelector)((function(e){return e.loadMoreLoading})),s=(0,Z.useSelector)((function(e){return e.noMoreData})),u=((0,S.useRef)(null),(0,Z.useDispatch)()),f=function(){var e=(0,i.default)((function*(){var e=(0,U.doc)(_.projectExtensionFirestore,"chats",a),t=(_.projectControlAuth.currentUser,_.projectControlAuth.currentUser?_.projectControlAuth.currentUser.email:"");if(""!==t)try{yield(0,U.updateDoc)(e,{read:!0,readBy:(0,U.arrayUnion)(t)})}catch(n){console.error("Error updating document: ",n)}}));return function(){return e.apply(this,arguments)}}();(0,S.useEffect)((function(){var e=function(){if(a){u((0,K.setChatMessagesData)([])),u((0,K.setChatMessageBoxLoading)(!0)),f();try{var e=(0,U.doc)(_.projectExtensionFirestore,"chats",a),t=(0,U.collection)(e,"messages"),n=(0,U.query)(t,(0,U.orderBy)("timestamp","desc"),(0,U.limit)(10)),r=(0,U.onSnapshot)(e,(function(e){if(e.exists()){var t=se(se({},e.data()),{},{id:e.id});if(u((0,K.setSelectedChatData)(t)),t.invoiceNumber||""==t.invoiceNumber){var n=(0,U.doc)(_.projectExtensionFirestore,"IssuedInvoice",t.invoiceNumber),r=(0,U.onSnapshot)(n,(function(e){if(e.exists()){var t=se(se({},e.data()),{},{id:e.id});u((0,K.setInvoiceData)(t||{}))}else console.log("No Invoice Yet"),u((0,K.setInvoiceData)({}))}));return function(){r()}}u((0,K.setInvoiceData)({})),console.log("No Invoice Yet")}})),o=(0,U.onSnapshot)(n,(function(e){var t=[];e.forEach((function(e){var n=e.data(),r=n.timestamp?n.timestamp.toString():null;t.push(se(se({id:e.id},n),{},{timestamp:r}))})),u((0,K.setChatMessagesData)(t)),u((0,K.setChatMessageBoxLoading)(!1)),de=e.docs[e.docs.length-1]}));return function(){r(),o()}}catch(i){console.error("Error setting up real-time messages: ",i)}}}();return function(){e&&e()}}),[a]);var h=function(){var e=(0,i.default)((function*(e,t){u((0,K.setActiveChatId)(t)),he=e,t}));return function(t,n){return e.apply(this,arguments)}}();(0,S.useEffect)((function(){u((0,K.setActiveChatId)(""))}),[t]);return r.length<1?(0,ae.jsx)(F.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:(0,ae.jsx)(d.default,{style:{fontWeight:700,alignSelf:"center"},children:t?"No unread messages to show":"No messages to show"})}):(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)(I.default,{style:{height:100,borderBottomLeftRadius:5},renderItem:function(e){var t=e.item,n=t.id===a,o=!t.read,i=function(e){var t=new Date,n=e.replace(" at ","T").replace(/\//g,"-"),r=new Date(n),o=new Date(t.getFullYear(),t.getMonth(),t.getDate());if(new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime()===o.getTime())return"This day";var i=new Date;return i.setDate(i.getDate()-i.getDay()+(0===i.getDay()?-6:1)),i.setHours(0,0,0,0),r>=i&&r<o?r.toLocaleDateString("en-US",{weekday:"short"}):r>=new Date((new Date).getFullYear(),0,1)?r.toLocaleDateString("en-US",{month:"short",day:"numeric"}):r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}(t.lastMessageDate);return(0,ae.jsx)(Ne,{chatListData:r,item:t,onPress:function(){return h(t.participants.customer,t.id)},isActive:n,messageUnread:o,formattedDate:i})},keyExtractor:function(e){return e.id.toString()},data:r,initialNumToRender:1,maxToRenderPerBatch:10,windowSize:21,onEndReachedThreshold:.05,removeClippedSubviews:!0,ListFooterComponent:function(){return(0,ae.jsx)(ae.Fragment,{children:!s&&(0,ae.jsx)(F.default,{style:{paddingVertical:20,borderTopWidth:1,borderColor:"#DADDE1",height:60},children:l&&(0,ae.jsx)(c.default,{animating:!0,size:"sm",color:"#7B9CFF"})})})},onEndReached:function(){var e;if(u((0,K.setLoadMoreLoading)(!0)),!ce)return console.log("No more data to load or globalLastVisible is undefined"),void setTimeout((function(){u((0,K.setLoadMoreLoading)(!1)),u((0,K.setNoMoreData)(!0))}),0);if(r.length>=10?1==t?0==n?""===fe?(u((0,K.setLoadMoreLoading)(!0)),u((0,K.setNoMoreData)(!1)),e=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("read","==",!1),(0,U.orderBy)("lastMessageDate","desc"),(0,U.startAfter)(ce),(0,U.limit)(10))):(u((0,K.setLoadMoreLoading)(!0)),u((0,K.setNoMoreData)(!1)),e=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("read","==",!1),(0,U.where)("keywords","array-contains",fe.toUpperCase()),(0,U.orderBy)("lastMessageDate","desc"),(0,U.startAfter)(ce),(0,U.limit)(10))):""===fe?(u((0,K.setLoadMoreLoading)(!0)),u((0,K.setNoMoreData)(!1)),e=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("read","==",!1),(0,U.where)("stepIndicator.value","==",n),(0,U.orderBy)("lastMessageDate","desc"),(0,U.startAfter)(ce),(0,U.limit)(10))):(u((0,K.setLoadMoreLoading)(!0)),u((0,K.setNoMoreData)(!1)),e=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("stepIndicator.value","==",n),(0,U.where)("read","==",!1),(0,U.where)("keywords","array-contains",fe.toUpperCase()),(0,U.orderBy)("lastMessageDate","desc"),(0,U.startAfter)(ce),(0,U.limit)(10))):0==n?""===fe?(u((0,K.setLoadMoreLoading)(!0)),u((0,K.setNoMoreData)(!1)),e=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.orderBy)("lastMessageDate","desc"),(0,U.startAfter)(ce),(0,U.limit)(10))):(u((0,K.setLoadMoreLoading)(!0)),u((0,K.setNoMoreData)(!1)),e=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("keywords","array-contains",fe.toUpperCase()),(0,U.orderBy)("lastMessageDate","desc"),(0,U.startAfter)(ce),(0,U.limit)(10))):""===fe?(u((0,K.setLoadMoreLoading)(!0)),u((0,K.setNoMoreData)(!1)),e=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("stepIndicator.value","==",n),(0,U.orderBy)("lastMessageDate","desc"),(0,U.startAfter)(ce),(0,U.limit)(10))):(u((0,K.setLoadMoreLoading)(!0)),u((0,K.setNoMoreData)(!1)),e=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("stepIndicator.value","==",n),(0,U.where)("keywords","array-contains",fe.toUpperCase()),(0,U.orderBy)("lastMessageDate","desc"),(0,U.startAfter)(ce),(0,U.limit)(10))):(u((0,K.setNoMoreData)(!0)),u((0,K.setLoadMoreLoading)(!1))),r.length<10)setTimeout((function(){u((0,K.setLoadMoreLoading)(!1)),u((0,K.setNoMoreData)(!0))}),0);else try{return(0,U.onSnapshot)(e,(function(e){if(e.empty)return console.log("No more data to load"),void setTimeout((function(){u((0,K.setLoadMoreLoading)(!1)),u((0,K.setNoMoreData)(!0)),ce=null}),0);var t=[];e.forEach((function(e){t.push(se({id:e.id},e.data()))})),setTimeout((function(){u((0,K.setChatListData)([].concat((0,o.default)(r),t))),u((0,K.setLoadMoreLoading)(!1)),ce=e.docs[e.docs.length-1]}),0)}))}catch(i){console.error("Error fetching data from Firebase:",i),setTimeout((function(){return u((0,K.setLoadMoreLoading)(!1))}),0)}}})})},Oe=function(e){e.lastVisible,e.setLastVisible;var t=e.unreadButtonValue,n=e.activeButtonValue,o=(0,S.useRef)(null),a=(0,S.useState)(""),s=(0,l.default)(a,2),c=s[0],d=s[1],u=(0,S.useState)(""),f=(0,l.default)(u,2),h=f[0],g=f[1],m=(0,Z.useDispatch)(),y=function(){var e=(0,i.default)((function*(e){var i,a;(0,r.default)(e);var l=null==(i=o.current)?void 0:i.value;1==t?0==n?""===l?(a=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("read","==",!1),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)),m((0,K.setLoadingModalVisible)(!1))):a=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("read","==",!1),(0,U.where)("keywords","array-contains",l.toUpperCase()),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):""===l?(a=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("read","==",!1),(0,U.where)("stepIndicator.value","==",n),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)),m((0,K.setLoadingModalVisible)(!1))):a=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("stepIndicator.value","==",n),(0,U.where)("read","==",!1),(0,U.where)("keywords","array-contains",l.toUpperCase()),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):0==n?""===l?(a=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)),m((0,K.setLoadingModalVisible)(!1))):a=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("keywords","array-contains",l.toUpperCase()),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):""===l?(a=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("stepIndicator.value","==",n),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)),m((0,K.setLoadingModalVisible)(!1))):a=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("stepIndicator.value","==",n),(0,U.where)("keywords","array-contains",l.toUpperCase()),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10));try{var s=(0,U.onSnapshot)(a,(function(e){var t=[];e.forEach((function(e){t.push(se({id:e.id},e.data()))})),m((0,K.setChatListData)(t)),ce=e.docs[e.docs.length-1]}));return function(){s&&s()}}catch(c){console.error("Error fetching data from Firebase:",c)}}));return function(t){return e.apply(this,arguments)}}();(0,S.useEffect)((function(){d(""),m((0,K.setChatListSearchText)("")),fe="",o.current.value="",g(!1)}),[n,t]);return(0,ae.jsxs)(F.default,{style:{flexDirection:"row",alignItems:"center",width:"100%",alignSelf:"center",borderWidth:1,borderColor:"#D9D9D9",borderRadius:5,margin:10},children:[(0,ae.jsx)(k.default,{ref:o,onSubmitEditing:function(){var e;""!==(null==(e=o.current)?void 0:e.value)?(m((0,K.setChatListSearchText)(o.current.value.trim())),d(o.current.value.trim()),fe=o.current.value.trim()):(d(""),fe="",""==c&&(m((0,K.setChatListSearchText)("")),y()))},placeholder:"Search",placeholderTextColor:"#9B9E9F",underlineColorAndroid:"transparent",style:{flex:1,height:40,padding:10,outlineStyle:"none"},onChangeText:function(){return g(!0)},keyboardType:"search"}),h?(0,ae.jsx)(B.default,{focusable:!1,onPress:function(){o.current.clear(),g(!1),""!==c&&(d(""),m((0,K.setChatListSearchText)("")),m((0,K.setActiveChatId)("")),fe="")},style:function(e){return[{borderRadius:10,marginRight:10,opacity:e.pressed?.5:1,backgroundColor:e.hovered?"#ddd":"transparent"}]},children:(0,ae.jsx)(T.default,{name:"close",size:20,color:"#000"})}):null]})},He=function(){var e=(0,S.useState)(!1),t=(0,l.default)(e,2),n=t[0],r=t[1],o=(0,S.useState)(!1),s=(0,l.default)(o,2),c=s[0],f=s[1],h=(0,S.useState)(!1),g=(0,l.default)(h,2),m=g[0],y=g[1],x=function(){r(!1)},p=(0,S.useRef)(null),j=(0,S.useRef)(null),b=(0,S.useRef)(null),D=(0,S.useRef)(null),C=(0,S.useRef)(null),v=(0,S.useRef)(null),w=function(){var e=(0,i.default)((function*(){var e,t,n,r,o,i,l=(0,U.doc)(_.projectExtensionFirestore,"DataForInvoice","BankAccounts"),s=null==(e=p.current)?void 0:e.value,c={bankName:s,branchName:null==(t=j.current)?void 0:t.value,swiftCode:null==(n=b.current)?void 0:n.value,address:null==(r=D.current)?void 0:r.value,accountHolder:null==(o=C.current)?void 0:o.value,accountNumberValue:null==(i=v.current)?void 0:i.value};try{yield(0,U.updateDoc)(l,(0,a.default)({},s,c)),console.log("Element added to the array field"),x()}catch(d){console.error("Error adding element to the array",d)}}));return function(){return e.apply(this,arguments)}}();return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(B.default,{onPress:function(){r(!0)},style:{alignSelf:"center",marginHorizontal:5,marginTop:3},children:(0,ae.jsx)(z.default,{name:"plus-circle",size:25,color:"#16A34A"})}),(0,ae.jsx)(u.Modal,{isOpen:n,onClose:x,useRNModal:!0,children:(0,ae.jsxs)(u.Modal.Content,{children:[(0,ae.jsx)(u.Modal.Header,{children:"Add Bank Account"}),(0,ae.jsx)(u.Modal.Body,{children:(0,ae.jsxs)(F.default,{style:{height:"100%",flex:1},children:[(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(d.default,{style:{width:"35%",fontWeight:700,margin:3},children:"Bank Name:"}),(0,ae.jsx)(k.default,{ref:p,placeholderTextColor:"#9B9E9F",placeholder:"Bank Name",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(d.default,{style:{width:"35%",fontWeight:700,margin:3},children:"Branch Name:"}),(0,ae.jsx)(k.default,{ref:j,placeholderTextColor:"#9B9E9F",placeholder:"Branch Name",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(d.default,{style:{width:"35%",fontWeight:700,margin:3},children:"SWIFTCODE:"}),(0,ae.jsx)(k.default,{ref:b,placeholderTextColor:"#9B9E9F",placeholder:"SWIFTCODE",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(d.default,{style:{width:"35%",fontWeight:700,margin:3},children:"Address:"}),(0,ae.jsx)(k.default,{ref:D,placeholderTextColor:"#9B9E9F",placeholder:"Address",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(d.default,{style:{width:"35%",fontWeight:700,margin:3},children:"Account Holder:"}),(0,ae.jsx)(k.default,{ref:C,placeholderTextColor:"#9B9E9F",placeholder:"Account Holder",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(d.default,{style:{width:"35%",fontWeight:700,margin:3},children:"Account Number:"}),(0,ae.jsx)(k.default,{ref:v,placeholderTextColor:"#9B9E9F",placeholder:"Account Number",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]})]})}),(0,ae.jsx)(u.Modal.Footer,{children:(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[(0,ae.jsx)(B.default,{style:{width:100,padding:5,borderRadius:3,backgroundColor:c?"#686868":"#525252"},onHoverIn:function(){return f(!0)},onHoverOut:function(){return f(!1)},onPress:x,children:(0,ae.jsx)(d.default,{style:{fontWeight:500,textAlign:"center",color:"white"},children:"Cancel"})}),(0,ae.jsx)(B.default,{onPress:w,style:{width:100,padding:5,borderRadius:3,backgroundColor:m?"#1B8B5A":"#16A34A"},onHoverIn:function(){return y(!0)},onHoverOut:function(){return y(!1)},children:(0,ae.jsx)(d.default,{style:{fontWeight:500,textAlign:"center",color:"white"},children:"Add"})})]})})]})})]})},Ue=function(){var e=(0,Z.useSelector)((function(e){return e.currentDate})),t=(0,Z.useSelector)((function(e){return e.invoiceData})),n=(0,S.useState)(""),r=(0,l.default)(n,2),o=r[0],i=r[1],s=(0,S.useState)({}),c=(0,l.default)(s,2),f=c[0],h=c[1],y=(0,S.useState)(t&&Object.keys(t).length>0&&t.bankInformations.bankAccount.bankName?t.bankInformations.bankAccount.bankName:"SUMITOMO MITSUI BANKING CORPORATION"),x=(0,l.default)(y,2),p=x[0],j=x[1],b=(0,S.useRef)(null);(0,S.useRef)(null);(0,S.useEffect)((function(){if(e){var n,r=new Date(e),o=r.getDay();5===o?r.setDate(r.getDate()+3):6===o?r.setDate(r.getDate()+2):r.setDate(r.getDate()+1);var a=r.toISOString().split("T")[0];i(t&&Object.keys(t).length>0&&t.bankInformations.dueDate?t.bankInformations.dueDate:a),we.bankInformations.dueDate=t&&Object.keys(t).length>0&&t.bankInformations.dueDate?t.bankInformations.dueDate:a,we.bankInformations.paymentTerms=t&&Object.keys(t).length>0&&t.bankInformations.paymentTerms?t.bankInformations.paymentTerms:null==(n=b.current)?void 0:n.value,we.bankInformations.issuingDate=t&&Object.keys(t).length>0&&t.bankInformations.issuingDate?t.bankInformations.issuingDate:e}!function(){var e=(0,U.doc)(_.projectExtensionFirestore,"DataForInvoice","BankAccounts");(0,U.onSnapshot)(e,(function(e){if(e.exists()){var t=e.data(),n={};Object.entries(t).forEach((function(e){var t=(0,l.default)(e,2),r=(t[0],t[1]);r.bankName&&(n[r.bankName]=r)})),console.log(n),h(n),we.bankInformations.bankAccount=n["SUMITOMO MITSUI BANKING CORPORATION"],console.log(n["SUMITOMO MITSUI BANKING CORPORATION"])}else console.log("No such document!")}),(function(e){console.error("Error fetching document",e)}))}()}),[e]);return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"20%",fontWeight:700,margin:3},children:"Due Date:"}),(0,ae.jsx)((function(e){var t=e.selectedDate,n=e.setSelectedDate,r=(e.currentDate,(0,S.useState)(!1)),o=(0,l.default)(r,2),i=o[0],s=o[1],c=function(){s(!0)},d=function(){s(!1)};return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(B.default,{style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"},onPress:c,children:(0,ae.jsx)(k.default,{value:t,onFocus:c})}),(0,ae.jsxs)(u.Modal,{isOpen:i,onClose:d,useRNModal:!0,children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Content,{children:(0,ae.jsx)(F.default,{style:{height:"100%",flex:1},children:(0,ae.jsx)($.Calendar,{onDayPress:(0,S.useCallback)((function(e){n(e.dateString),e.dateString,we.bankInformations.dueDate=e.dateString,d()}),[]),markedDates:(0,a.default)({},t,{selected:!0,disableTouchEvent:!0,selectedDotColor:"#7b9cff"}),renderArrow:function(e){return"left"===e?(0,ae.jsx)(T.default,{name:"arrow-back-ios",color:"#7b9cff"}):(0,ae.jsx)(T.default,{name:"arrow-forward-ios",color:"#7b9cff"})},enableSwipeMonths:!0,initialDate:t,showSixWeeks:!0})})})]})]})}),{currentDate:e,selectedDate:o,setSelectedDate:i})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2,marginVertical:10},children:[(0,ae.jsx)(d.default,{style:{width:"20%",fontWeight:700,margin:3},children:"Bank Account: "}),(0,ae.jsx)(g.default,{selectedValue:p,onValueChange:function(e){var t=f[e];j(e),we.bankInformations.bankAccount=t},bgColor:"#FAFAFA",accessibilityLabel:"Choose Country",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,ae.jsx)(m.CheckIcon,{})},height:9,width:300,style:{marginLeft:10,marginRight:10,paddingLeft:1},children:Object.keys(f).map((function(e){return(0,ae.jsx)(g.default.Item,{label:e,value:e},e)}))}),(0,ae.jsx)(He,{})]}),(0,ae.jsxs)(F.default,{style:{flex:3,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"20%",fontWeight:700,margin:3},children:"Payment Terms:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.bankInformations.paymentTerms=e},ref:b,multiline:!0,defaultValue:t&&Object.keys(t).length>0&&t.bankInformations.paymentTerms?t.bankInformations.paymentTerms:"Full payment via Telegraphic Transfer (T/T) required before the due date.",placeholderTextColor:"#9B9E9F",placeholder:"Email",style:{width:"60%",height:75,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]})]})},Ve=function(){var e=(0,Z.useSelector)((function(e){return e.selectedChatData})),t=(0,Z.useSelector)((function(e){return e.invoiceData})),n=(0,S.useRef)(null),r=(0,S.useRef)(null),o=(0,S.useRef)(null),i=(0,S.useRef)(null),a=(0,S.useState)("0"),s=(0,l.default)(a,2),c=s[0],u=s[1],f=(0,S.useState)(t&&Object.keys(t).length>0?t.paymentDetails.incoterms:e.insurance?"CIF":"C&F"),h=(0,l.default)(f,2),x=h[0],p=h[1],j=(0,S.useState)(t&&Object.keys(t).length>0?t.paymentDetails.inspectionIsChecked:e.inspection),b=(0,l.default)(j,2),D=b[0],C=b[1],v=(0,S.useState)(t&&Object.keys(t).length>0?t.paymentDetails.inspectionName:e.inspectionName),w=(0,l.default)(v,2),A=w[0],I=(w[1],(0,S.useState)(t&&Object.keys(t).length>0?t.paymentDetails.warrantyIsCheck:e.warranty)),W=(0,l.default)(I,2),B=W[0],R=(W[1],t&&Object.keys(t).length>0&&t.paymentDetails.warrantyPrice&&t.paymentDetails.warrantyPrice,(0,S.useRef)(null)),P=(0,S.useRef)(null),M=function(e){var t=Number(e.replace(/,/g,""));return isNaN(t)?0:t},T=function(){var e,t,a,l,s=M(null==(e=n.current)?void 0:e.value),c=M(null==(t=r.current)?void 0:t.value),d=M(null==(a=o.current)?void 0:a.value),f=M(null==(l=i.current)?void 0:l.value),h=xe.reduce((function(e,t){return e+M(t)}),0),g=Math.round(s+c+d+f+h).toLocaleString();u(g),we.paymentDetails.totalAmount=g};(0,S.useEffect)((function(){var e,o,a;R.current.value=t&&Object.keys(t).length>0&&t.paymentDetails.additionalName?t.paymentDetails.additionalName.join("\n"):"",P.current.value=t&&Object.keys(t).length>0&&t.paymentDetails.additionalPrice?t.paymentDetails.additionalPrice.join("\n"):"",we.paymentDetails.incoterms=t&&Object.keys(t).length>0&&t.paymentDetails.incoterms?t.paymentDetails.incoterms:x,we.paymentDetails.inspectionIsChecked=t&&Object.keys(t).length>0&&t.paymentDetails.inspectionIsChecked?t.paymentDetails.inspectionIsChecked:D,we.paymentDetails.inspectionName=t&&Object.keys(t).length>0&&t.paymentDetails.inspectionName?t.paymentDetails.inspectionName:A,we.paymentDetails.inspectionPrice=t&&Object.keys(t).length>0&&t.paymentDetails.inspectionPrice?t.paymentDetails.inspectionPrice:D?300:0,we.paymentDetails.warrantyIsCheck=t&&Object.keys(t).length>0&&t.paymentDetails.warrantyIsCheck?t.paymentDetails.warrantyIsCheck:B,we.paymentDetails.fobPrice=t&&Object.keys(t).length>0&&t.paymentDetails.fobPrice?t.paymentDetails.fobPrice:null==(e=n.current)?void 0:e.value,we.paymentDetails.freightPrice=t&&Object.keys(t).length>0&&t.paymentDetails.freightPrice?t.paymentDetails.freightPrice:null==(o=r.current)?void 0:o.value,we.paymentDetails.insurancePrice=t&&Object.keys(t).length>0&&t.paymentDetails.insurancePrice?t.paymentDetails.insurancePrice:"CIF"==x?null==(a=i.current)?void 0:a.value:0,we.paymentDetails.additionalPrice=t&&Object.keys(t).length>0&&t.paymentDetails.additionalPrice?t.paymentDetails.additionalPrice:[],we.paymentDetails.additionalName=t&&Object.keys(t).length>0&&t.paymentDetails.additionalName?t.paymentDetails.additionalName:[],xe=t&&Object.keys(t).length>0&&t.paymentDetails.additionalPrice?t.paymentDetails.additionalPrice:[],T()}),[]),(0,S.useEffect)((function(){o.current.value=t&&Object.keys(t).length>0&&t.paymentDetails.inspectionPrice&&1==t.paymentDetails.inspectionPrice?t.paymentDetails.inspectionPrice:D?300:0,T()}),[D]),(0,S.useEffect)((function(){i.current.value=t&&Object.keys(t).length>0&&t.paymentDetails.insurancePrice&&"CIF"==t.paymentDetails.incoterms?t.paymentDetails.insurancePrice:"CIF"==x?50:0,r.current.value=t&&Object.keys(t).length>0&&t.paymentDetails.freightPrice?t.paymentDetails.freightPrice:"FOB"==x?0:z,T()}),[x]),(0,S.useEffect)((function(){T()}),[B]);var z=((e.m3?e.m3:e.carData&&e.carData.dimensionCubicMeters?e.carData.dimensionCubicMeters:0)*Number(e.freightPrice)).toFixed(2),E=(((e.fobPrice?e.fobPrice:(e.carData&&e.carData.fobPrice?e.carData.fobPrice:0)*(e.jpyToUsd?e.jpyToUsd:e.currency&&e.currency.jpyToUsd?e.currency.jpyToUsd:0))+parseFloat(z)).toFixed(2),(e.fobPrice?e.fobPrice:(e.carData&&e.carData.fobPrice?e.carData.fobPrice:0)*(e.jpyToUsd?e.jpyToUsd:e.currency&&e.currency.jpyToUsd?e.currency.jpyToUsd:0)).toFixed(2));return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(F.default,{style:{flex:1,flexDirection:"row",margin:2,alignSelf:"center"},children:(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:16,margin:3,color:"#16A34A"},children:"Payment Details"})}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Incoterms:"}),(0,ae.jsxs)(g.default,{selectedValue:x,onValueChange:function(e){return p(e)},bgColor:"#FAFAFA",accessibilityLabel:"Choose Country",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,ae.jsx)(m.CheckIcon,{})},height:9,style:{marginLeft:10,marginRight:10,paddingLeft:1},children:[(0,ae.jsx)(g.default.Item,{label:"C&F",value:"C&F"},"C&F"),(0,ae.jsx)(g.default.Item,{label:"CIF",value:"CIF"},"CIF"),(0,ae.jsx)(g.default.Item,{label:"FOB",value:"FOB"},"FOB")]}),(0,ae.jsx)(d.default,{style:{fontWeight:700,margin:3},children:"Rate: "}),(0,ae.jsx)(d.default,{style:{fontWeight:700,margin:3,color:"#16A34A"},children:e.currency&&e.currency.usdToJpy?Number(e.currency.usdToJpy).toFixed(2):"0.00"})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2,marginTop:10},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Inspection:"}),(0,ae.jsx)(y.Checkbox,{isChecked:D,onChange:function(e){return C(e)},style:{margin:2,borderColor:"#0A9FDC"},size:"sm",_text:{fontWeight:700}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"FOB Price:"}),(0,ae.jsx)(d.default,{style:{fontWeight:700,margin:1,paddingTop:1},children:"$"}),(0,ae.jsx)(k.default,{onChangeText:function(e){var t=e.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1");n.current.value=t,we.paymentDetails.fobPrice=t,T()},ref:n,defaultValue:t&&Object.keys(t).length>0?t.paymentDetails.fobPrice:"FOB"==x?0:E,placeholderTextColor:"#9B9E9F",placeholder:"FOB Price",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Freight:"}),(0,ae.jsx)(d.default,{style:{fontWeight:700,margin:1,paddingTop:1},children:"$"}),(0,ae.jsx)(k.default,{onChangeText:function(e){var t=e.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1");r.current.value=t,we.paymentDetails.freightPrice=t,T()},ref:r,defaultValue:z,placeholderTextColor:"#9B9E9F",placeholder:"Freight",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2,display:"CIF"==x?"flex":"none"},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Insurance:"}),(0,ae.jsx)(d.default,{style:{fontWeight:700,margin:1,paddingTop:1},children:"$"}),(0,ae.jsx)(k.default,{onChangeText:function(e){var t=e.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1");i.current.value=t,we.paymentDetails.insurancePrice=t,T()},ref:i,defaultValue:50,placeholderTextColor:"#9B9E9F",placeholder:"Insurance",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2,display:D?"flex":"none"},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Inspection:"}),(0,ae.jsx)(d.default,{style:{fontWeight:700,margin:1,paddingTop:1},children:"$"}),(0,ae.jsx)(k.default,{onChangeText:function(e){var t=e.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1");o.current.value=t,we.paymentDetails.inspectionPrice=t,T()},ref:o,placeholderTextColor:"#9B9E9F",placeholder:"Inspection ["+e.inspectionName+"]",style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}}),(0,ae.jsx)(d.default,{style:{fontWeight:700,margin:3,color:"#16A34A"},children:"["+e.inspectionName+"]"})]}),(0,ae.jsxs)(F.default,{style:{flex:3,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Additional:"}),(0,ae.jsx)(k.default,{ref:R,onChangeText:function(e){R.current.value=e;var t=e.split("\n");we.paymentDetails.additionalName=t},multiline:!0,placeholderTextColor:"#9B9E9F",placeholder:"Name",style:{width:"60%",height:75,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}}),(0,ae.jsx)(k.default,{ref:P,onChangeText:function(e){var t=e.split("\n").map((function(e){var t=e.replace(/[^0-9.]/g,""),n=t.split(".");return n.length>2&&(t=n[0]+"."+n[1]),t}));P.current.value=t.join("\n"),xe=t,we.paymentDetails.additionalPrice=t,T()},multiline:!0,placeholderTextColor:"#9B9E9F",placeholder:"Price",style:{width:"60%",height:75,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsx)(F.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center"}}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2,alignItems:"center"},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,margin:3},children:"Total Amount:"}),(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:18,margin:3,color:"#FF0000"},children:"$"+c})]})]})},Ye=function(){var e=(0,Z.useSelector)((function(e){return e.selectedChatData})),t=(0,Z.useSelector)((function(e){return e.invoiceData})),n=(0,S.useState)([]),r=(0,l.default)(n,2),o=r[0],a=(r[1],(0,S.useState)({})),s=(0,l.default)(a,2),c=s[0],d=s[1],u=(0,S.useState)([]),f=(0,l.default)(u,2),h=f[0],y=f[1],x=(0,S.useState)(""),p=(0,l.default)(x,2),j=p[0],b=p[1],D=(0,S.useState)(t&&Object.keys(t).length>0?t.discharge.country:e.country),C=(0,l.default)(D,2),v=C[0],w=(C[1],(0,S.useState)(t&&Object.keys(t).length>0?t.discharge.port:e.port)),F=(0,l.default)(w,2),A=F[0],I=F[1];return(0,S.useEffect)((function(){console.log(t&&Object.keys(t).length>0?t.discharge.port:e.port);var n=function(){var e=(0,i.default)((function*(){var e=(0,U.doc)(_.projectExtensionFirestore,"CustomerCountryPort","PortsDoc");try{var t=yield(0,U.getDoc)(e);if(t.exists()){var n=t.data(),r=Object.keys(n).map((function(e){return se({name:e.replace(/_/g,".")},n[e])})).sort((function(e,t){return e.sortOrder-t.sortOrder}));y(r)}else console.log("No such document!")}catch(o){console.error("Error fetching document:",o)}}));return function(){return e.apply(this,arguments)}}(),r=function(){var e=(0,i.default)((function*(){var e=(0,U.doc)(_.projectExtensionFirestore,"CustomerCountryPort","PortsDoc");try{var t=yield(0,U.getDoc)(e);if(t.exists()){var n=t.data();d(n)}else console.log("No such document!")}catch(r){console.error("Error fetching document:",r)}}));return function(){return e.apply(this,arguments)}}();n(),r(),we.discharge.port=t&&Object.keys(t).length>0&&t.discharge.port?t.discharge.port:A,we.discharge.country=t&&Object.keys(t).length>0&&t.discharge.country?t.discharge.country:j}),[]),(0,S.useEffect)((function(){var e=o.find((function(e){return e.name===v}));e&&e.nearestPorts?y(e.nearestPorts):y([])}),[v,o]),(0,S.useEffect)((function(){var e=c[A];e&&e.country?(b(e.country),we.discharge.country=e.country):(b(""),console.log("Not found"))}),[A,c]),(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsx)(g.default,{selectedValue:A,onValueChange:function(e){I(e),we.discharge.port=e},bgColor:"#FAFAFA",accessibilityLabel:"Choose Port",placeholder:"Select port",_selectedItem:{bg:"teal.600",endIcon:(0,ae.jsx)(m.CheckIcon,{})},style:{marginLeft:10,marginRight:10,paddingLeft:1},children:h.map((function(e,t){return(0,ae.jsx)(g.default.Item,{label:e.name,value:e.name},t)}))})})},_e=function(){var e=(0,Z.useSelector)((function(e){return e.selectedChatData})),t=(0,Z.useSelector)((function(e){return e.invoiceData})),n=(0,S.useState)(t&&Object.keys(t).length>0?t.salesPerson:e.carData&&e.carData.sales?e.carData.sales:""),r=(0,l.default)(n,2),o=r[0],i=r[1],a=(0,Z.useSelector)((function(e){return e.salesData}));return(0,S.useEffect)((function(){we.salesPerson=t&&Object.keys(t).length>0&&t.salesPerson?t.salesPerson:e.carData&&e.carData.sales?e.carData.sales:""}),[]),(0,ae.jsx)(g.default,{selectedValue:o,onValueChange:function(e){i(e),we.salesPerson=e},bgColor:"#FAFAFA",accessibilityLabel:"---",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,ae.jsx)(m.CheckIcon,{})},style:{marginLeft:10,marginRight:10,paddingLeft:1},children:a.map((function(e){return(0,ae.jsx)(g.default.Item,{label:e.name,value:e.name},e.id)}))})},qe=function(){var e=(0,Z.useSelector)((function(e){return e.selectedChatData})),t=(0,Z.useSelector)((function(e){return e.invoiceData})),n=(0,Z.useSelector)((function(e){return e.portData})),r=((0,Z.useSelector)((function(e){return e.salesData})),(0,S.useState)(t&&Object.keys(t).length>0?t.departurePort:e.carData&&e.carData.port?e.carData.port:"")),o=(0,l.default)(r,2),i=o[0],a=o[1];return(0,S.useEffect)((function(){console.log(t&&Object.keys(t).length>0?t.departurePort:e.carData&&e.carData.port?e.carData.port:""),we.departurePort=t&&Object.keys(t).length>0&&t.departurePort?t.departurePort:e.carData&&e.carData.port?e.carData.port:"",we.departureCountry=t&&Object.keys(t).length>0&&t.departureCountry?t.departureCountry:"Japan"}),[]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(g.default,{selectedValue:"Japan",onValueChange:function(e){we.departureCountry=e},bgColor:"#FAFAFA",flex:1,accessibilityLabel:"---",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,ae.jsx)(m.CheckIcon,{})},style:{marginLeft:10,marginRight:10,paddingLeft:1},children:(0,ae.jsx)(g.default.Item,{label:"Japan",value:"Japan"},"Japan")}),(0,ae.jsx)(g.default,{selectedValue:i,onValueChange:function(e){a(e),we.departurePort=e},bgColor:"#FAFAFA",flex:1,accessibilityLabel:"---",placeholder:"---",_selectedItem:{bg:"teal.600",endIcon:(0,ae.jsx)(m.CheckIcon,{})},style:{marginLeft:10,marginRight:10,paddingLeft:1},children:n.map((function(e){return(0,ae.jsx)(g.default.Item,{label:e.name,value:e.name},e.id)}))})]})},Je=function(e){e.accountData,e.setAccountData;var t=(0,Z.useSelector)((function(e){return e.invoiceData})),n=(0,S.useState)(!(t&&Object.keys(t).length>0)||t.notifyParty.sameAsConsignee),r=(0,l.default)(n,2),o=r[0],i=r[1],a=(0,S.useRef)(null),s=(0,S.useRef)(null),c=(0,S.useRef)(null),u=(0,S.useRef)(null),f=(0,S.useRef)(null),h=(0,S.useRef)(null),g=(0,S.useRef)(null);return(0,S.useEffect)((function(){var e,n,r,i,l,d,m;a.current.value=t&&Object.keys(t).length>0&&t.notifyParty.name?t.notifyParty.name:"",s.current.value=t&&Object.keys(t).length>0&&t.notifyParty.address?t.notifyParty.address:"",c.current.value=t&&Object.keys(t).length>0&&t.notifyParty.city?t.notifyParty.city:"",u.current.value=t&&Object.keys(t).length>0&&t.notifyParty.country?t.notifyParty.country:"",f.current.value=t&&Object.keys(t).length>0&&t.notifyParty.contactNumber?t.notifyParty.contactNumber:"",h.current.value=t&&Object.keys(t).length>0&&t.notifyParty.fax?t.notifyParty.fax:"",g.current.value=t&&Object.keys(t).length>0&&t.notifyParty.email?t.notifyParty.email:"",we.notifyParty.name=t&&Object.keys(t).length>0&&t.notifyParty.name?t.notifyParty.name:null==(e=a.current)?void 0:e.value,we.notifyParty.address=t&&Object.keys(t).length>0&&t.notifyParty.address?t.notifyParty.address:null==(n=s.current)?void 0:n.value,we.notifyParty.city=t&&Object.keys(t).length>0&&t.notifyParty.city?t.notifyParty.city:null==(r=c.current)?void 0:r.value,we.notifyParty.country=t&&Object.keys(t).length>0&&t.notifyParty.country?t.notifyParty.country:null==(i=u.current)?void 0:i.value,we.notifyParty.contactNumber=t&&Object.keys(t).length>0&&t.notifyParty.contactNumber?t.notifyParty.contactNumber:null==(l=f.current)?void 0:l.value,we.notifyParty.fax=t&&Object.keys(t).length>0&&t.notifyParty.fax?t.notifyParty.fax:null==(d=h.current)?void 0:d.value,we.notifyParty.email=t&&Object.keys(t).length>0&&t.notifyParty.email?t.notifyParty.email:null==(m=g.current)?void 0:m.value,we.notifyParty.sameAsConsignee=t&&Object.keys(t).length>0&&t.notifyParty.sameAsConsignee?t.notifyParty.sameAsConsignee:o}),[]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(F.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center"}}),(0,ae.jsx)(F.default,{style:{flex:1,flexDirection:"row",margin:2,alignSelf:"center"},children:(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:16,margin:3,color:"#FF0000"},children:"Notify Party"})}),(0,ae.jsx)(F.default,{style:{flex:1,flexDirection:"row",margin:5},children:(0,ae.jsx)(y.Checkbox,{isChecked:o,onChange:function(e){i(e),we.consignee.sameAsBuyer=e},style:{margin:2,borderColor:"#0A9FDC"},size:"sm",_text:{fontWeight:700},children:"Same as consignee"})}),(0,ae.jsxs)(F.default,{style:{display:o?"none":"flex"},children:[(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Name:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.notifyParty.name=e},ref:a,disabled:o,placeholderTextColor:"#9B9E9F",placeholder:"Name",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Address:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.notifyParty.address=e},ref:s,disabled:o,placeholderTextColor:"#9B9E9F",placeholder:"Address",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"City:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.notifyParty.city=e},ref:c,disabled:o,placeholderTextColor:"#9B9E9F",placeholder:"City",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Country:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.notifyParty.country=e},ref:u,disabled:o,placeholderTextColor:"#9B9E9F",placeholder:"Country",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:3,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Contact Number:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.notifyParty.contactNumber=e},ref:f,disabled:o,multiline:!0,placeholderTextColor:"#9B9E9F",placeholder:"Contact Number",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:75,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"FAX:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.notifyParty.fax=e},ref:h,disabled:o,placeholderTextColor:"#9B9E9F",placeholder:"FAX",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Email:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.notifyParty.email=e},ref:g,disabled:o,placeholderTextColor:"#9B9E9F",placeholder:"Email",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]})]}),(0,ae.jsx)(F.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center"}})]})},Ge=function(){var e=(0,Z.useSelector)((function(e){return e.selectedChatData})),t=(0,Z.useSelector)((function(e){return e.invoiceData})),n=(0,S.useState)(!(t&&Object.keys(t).length>0)||t.consignee.sameAsBuyer),r=(0,l.default)(n,2),o=r[0],a=r[1],s=(0,S.useState)({}),c=(0,l.default)(s,2),u=c[0],f=c[1],h=(0,S.useRef)(null),g=(0,S.useRef)(null),m=(0,S.useRef)(null),x=(0,S.useRef)(null),p=(0,S.useRef)(null),j=(0,S.useRef)(null),b=(0,S.useRef)(null);return(0,S.useEffect)((function(){var n=function(){var n=(0,i.default)((function*(){if(e.participants||!e.participants.customer){var n=(0,U.doc)(_.projectExtensionFirestore,"accounts",e.participants.customer);try{var r=yield(0,U.getDoc)(n);if(r.exists()){var i=r.data();f(r.data()),h.current.value=t&&Object.keys(t).length>0&&t.consignee.name?t.consignee.name:(i.textFirst?i.textFirst:"")+" "+(i.textLast?i.textLast:""),g.current.value=t&&Object.keys(t).length>0&&t.consignee.address?t.consignee.address:(i.textStreet?i.textStreet:"")+" "+(i.textZip?i.textZip:""),m.current.value=t&&Object.keys(t).length>0&&t.consignee.city?t.consignee.city:""+(i.city?i.city:""),x.current.value=t&&Object.keys(t).length>0&&t.consignee.country?t.consignee.country:""+(i.country?i.country:""),p.current.value=t&&Object.keys(t).length>0&&t.consignee.contactNumber?t.consignee.contactNumber:""+(i.textPhoneNumber?i.textPhoneNumber:""),j.current.value=t&&Object.keys(t).length>0&&t.consignee.fax?t.consignee.fax:""+(i.fax?i.fax:""),b.current.value=t&&Object.keys(t).length>0&&t.consignee.email?t.consignee.email:""+(i.textEmail?i.textEmail:""),we.consignee.name=t&&Object.keys(t).length>0&&t.consignee.name?t.consignee.name:(i.textFirst?i.textFirst:"")+" "+(i.textLast?i.textLast:""),we.consignee.address=t&&Object.keys(t).length>0&&t.consignee.address?t.consignee.address:(i.textStreet?i.textStreet:"")+" "+(i.textZip?i.textZip:""),we.consignee.city=t&&Object.keys(t).length>0&&t.consignee.city?t.consignee.city:""+(i.city?i.city:""),we.consignee.country=t&&Object.keys(t).length>0&&t.consignee.country?t.consignee.country:""+(i.country?i.country:""),we.consignee.contactNumber=t&&Object.keys(t).length>0&&t.consignee.contactNumber?t.consignee.contactNumber:""+(i.textPhoneNumber?i.textPhoneNumber:""),we.consignee.fax=t&&Object.keys(t).length>0&&t.consignee.fax?t.consignee.fax:""+(i.fax?i.fax:""),we.consignee.email=t&&Object.keys(t).length>0&&t.consignee.email?t.consignee.email:""+(i.textEmail?i.textEmail:""),we.consignee.sameAsBuyer=t&&Object.keys(t).length>0&&t.consignee.sameAsBuyer?t.consignee.sameAsBuyer:o}else console.log("No such document!"),f(null)}catch(a){console.error("Error fetching document:",a)}}}));return function(){return n.apply(this,arguments)}}();n()}),[]),(0,S.useEffect)((function(){o&&(h.current.value=(u.textFirst?u.textFirst:"")+" "+(u.textLast?u.textLast:""),g.current.value=(u.textStreet?u.textStreet:"")+" "+(u.textZip?u.textZip:""),m.current.value=""+(u.city?u.city:""),x.current.value=""+(u.country?u.country:""),p.current.value=""+(u.textPhoneNumber?u.textPhoneNumber:""),j.current.value=""+(u.fax?u.fax:""),b.current.value=""+(u.textEmail?u.textEmail:""))}),[o]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(F.default,{style:{flex:1,flexDirection:"row",margin:2,alignSelf:"center"},children:(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:16,margin:3,color:"#0A78BE"},children:"Consignee"})}),(0,ae.jsx)(F.default,{style:{flex:1,flexDirection:"row",margin:5},children:(0,ae.jsx)(y.Checkbox,{isChecked:o,onChange:function(e){we.consignee.sameAsBuyer=e,a(e)},style:{margin:2,borderColor:"#0A9FDC"},size:"sm",_text:{fontWeight:700},children:"Same as buyer"})}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Name:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.consignee.name=e},ref:h,disabled:o,placeholderTextColor:"#9B9E9F",placeholder:"Name",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Address:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.consignee.address=e},ref:g,disabled:o,placeholderTextColor:"#9B9E9F",placeholder:"Address",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"City:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.consignee.city=e},ref:m,disabled:o,placeholderTextColor:"#9B9E9F",placeholder:"City",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Country:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.consignee.country=e},ref:x,disabled:o,placeholderTextColor:"#9B9E9F",placeholder:"Country",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:3,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Contact Number:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.consignee.contactNumber=e},ref:p,disabled:o,multiline:!0,placeholderTextColor:"#9B9E9F",placeholder:"Contact Number",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:75,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"FAX:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.consignee.fax=e},ref:j,disabled:o,placeholderTextColor:"#9B9E9F",placeholder:"FAX",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"15%",fontWeight:700,margin:3},children:"Email:"}),(0,ae.jsx)(k.default,{onChangeText:function(e){we.consignee.email=e},ref:b,disabled:o,placeholderTextColor:"#9B9E9F",placeholder:"Email",style:{backgroundColor:o?"#F1F1F1":"default",width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"}})]}),(0,ae.jsx)(Je,{accountData:u,setAccountData:f})]})},Xe=function(e){var t=e.widthScaleFactor,n=e.heightScaleFactor,r=(0,Z.useSelector)((function(e){return e.invoiceData}));return(0,ae.jsxs)(F.default,{style:{flexDirection:"row",flexWrap:"wrap",width:495*t},children:[(0,ae.jsx)(F.default,{style:{display:r.carData.SafetySystemAnBrSy?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Anti-Lock Braking System (ABS)"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SafetySystemDrAi?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Driver Airbag"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SafetySystemPaAi?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Passenger Airbag"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SafetySystemSiAi?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Side Airbag"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortAiCoFr?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Air Conditioner (Front)"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortAiCoRe?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Air Conditioner (Rear)"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortAMFMRa?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"AM/FM Radio"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortAMFMSt?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"AM/FM Stereo"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortCDPl?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"CD Player"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortCDCh?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"CD Changer"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortCrSpCo?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Cruis Speed Control"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortDiSp?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:" Digital Speedometer"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortDVDPl?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"DVD Player"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortHDD?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Hard Disk Drive"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortNaSyGPS?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Navigation System (GPS)"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortPoSt?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Power Steering"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortPrAuSy?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Premium Audio System"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortReKeSy?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Remote Keyless System"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ComfortTiStWh?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Tilt Steering Wheel"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.InteriorLeSe?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Leather Seats"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.InteriorPoDoLo?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Power Door Locks"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.InteriorPoMi?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Power Mirrors"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.InteriorPoSe?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Power Seats"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.InteriorPoWi?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Power Windows"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.InteriorReWiDe?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Rear Window Defroster"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.InteriorReWiWi?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Rear Window Wiper"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.InteriorThRoSe?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Third Row Seats"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.InteriorTiGl?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Tinted Glasses"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ExteriorAlWh?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Alloy Wheels"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ExteriorPoSlDo?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Power Sliding Door"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.ExteriorSuRo?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Sunroof"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SellingPointsCuWh?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Customized Wheels"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SellingPointsFuLo?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Fully Loaded"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SellingPointsMaHiAv?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Maintenance History Available"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SellingPointsBrNeTi?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Brand New Tires"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SellingPointsNoAcHi?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"No Accident History"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SellingPointsNoSmPrOw?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Non-Smoking Previous Owner"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SellingPointsOnOwHi?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"One Owner History"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SellingPointsPeRaTi?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Performance-rated Tires"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SellingPointsReBo?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Repainted Body"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SellingPointsTuEn?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Turbo Engine"})}),(0,ae.jsx)(F.default,{style:{display:r.carData.SellingPointsUpAuSy?"flex":"none",borderRadius:5*t,width:64*t,height:25*n,backgroundColor:"#7B9CFF",marginRight:5*t,justifyContent:"center",alignItems:"center",marginTop:5*n},children:(0,ae.jsx)(d.default,{style:{color:"white",textAlign:"center",fontWeight:700,fontSize:7*t},children:"Upgraded Audio System"})})]})},Ze=function(){var e=(0,Z.useDispatch)(),t=(0,Z.useSelector)((function(e){return e.invoiceData})),n=(0,Z.useSelector)((function(e){return e.selectedChatData})),r=(0,Z.useSelector)((function(e){return e.selectedCustomerData})),a=(0,S.useState)(!1),s=(0,l.default)(a,2),f=s[0],h=s[1],g=(0,S.useState)(!1),m=(0,l.default)(g,2),y=m[0],p=m[1],j=t.paymentDetails.totalAmount,b=parseFloat(j.replace(/,/g,"")),D=(0,S.useRef)(null),C=function(){var e=(0,i.default)((function*(){var e=(yield O.default.get("http://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,t=Y()(e).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),r=(Y()(e).format("YYYY"),Y()(e).format("MM"),Y()(e).format("MM/DD"),Y()(e).format("YYYY/MM/DD"),Y()(e).format("DD"),Y()(e).format("HH:mm"),Y()(e).format("HH:mm:ss"),_.projectControlAuth.currentUser?_.projectControlAuth.currentUser.email:"");try{yield(0,U.addDoc)((0,U.collection)(_.projectExtensionFirestore,"chats",n.id,"messages"),{text:"Full Payment Received\n\nDear Customer,\n\nI hope this message finds you well. \n\nWe are writing to confirm that we have received your full payment. \n\nThank you for settling your account promptly.\n\nShould you have any further questions or require assistance, please feel free to contact us.\n                \nBest regards,\nReal Motor Japan",sender:r,timestamp:t,messageType:"InputPayment",ip:Se,ipCountry:ve}),yield(0,U.updateDoc)((0,U.doc)(_.projectExtensionFirestore,"chats",n.id),{lastMessageSender:r,lastMessage:"Full Payment Received\n\nDear Customer,\n\nI hope this message finds you well. \n\nWe are writing to confirm that we have received your full payment. \n                \nThank you for settling your account promptly.\n                \nShould you have any further questions or require assistance, please feel free to contact us.\n                                \nBest regards,\nReal Motor Japan",lastMessageDate:t,customerRead:!1,read:!0,readBy:[r]})}catch(o){console.error("Error adding document: ",o)}}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=(0,i.default)((function*(e){var t=(yield O.default.get("http://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,r=Y()(t).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),o=(Y()(t).format("YYYY"),Y()(t).format("MM"),Y()(t).format("MM/DD"),Y()(t).format("YYYY/MM/DD"),Y()(t).format("DD"),Y()(t).format("HH:mm"),Y()(t).format("HH:mm:ss"),_.projectControlAuth.currentUser?_.projectControlAuth.currentUser.email:"");try{yield(0,U.addDoc)((0,U.collection)(_.projectExtensionFirestore,"chats",n.id,"messages"),{text:"Dear Customer,\n\nGood day! \n\nWe're writing to inform you about your account with us at Real Motor Japan.\n                \nYou have an extra overbalance in your account.\n\nAmount: $"+e+"\n                \nFeel free to contact us if you have any questions. We're here to help.\n                \nBest regards,\nReal Motor Japan",sender:o,timestamp:r,messageType:"InputPayment",ip:Se,ipCountry:ve}),yield(0,U.updateDoc)((0,U.doc)(_.projectExtensionFirestore,"chats",n.id),{lastMessageSender:o,lastMessage:"Dear Customer,\n\nGood day! \n                \nWe're writing to inform you about your account with us at Real Motor Japan.\n                                \nYou have an extra overbalance in your account.\n                \nAmount: $"+e+"\n                                \nFeel free to contact us if you have any questions. We're here to help.\n                                \nBest regards,\nReal Motor Japan",lastMessageDate:r,customerRead:!1,read:!0,readBy:[o]})}catch(i){console.error("Error adding document: ",i)}}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,i.default)((function*(e,t){var r=(yield O.default.get("http://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,o=Y()(r).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),i=(Y()(r).format("YYYY"),Y()(r).format("MM"),Y()(r).format("MM/DD"),Y()(r).format("YYYY/MM/DD"),Y()(r).format("DD"),Y()(r).format("HH:mm"),Y()(r).format("HH:mm:ss"),_.projectControlAuth.currentUser?_.projectControlAuth.currentUser.email:"");try{yield(0,U.addDoc)((0,U.collection)(_.projectExtensionFirestore,"chats",n.id,"messages"),{text:"\ud83c\udf1f Payment Confirmation Alert \ud83c\udf1f\n\nDear Customer! \ud83d\udc4b\n\nWe're thrilled to inform you that your recent payment has been successfully reflected in our bank account.\n\nYour prompt and efficient transaction is greatly appreciated! \ud83c\udf89\n\n\ud83d\udd0d Payment Details:\n\nAmount: $"+e+"\nTransaction Date: "+t+"\n\nYour account and services are now fully up-to-date. If you have any further questions or require assistance, feel free to reach out.\n\nThank you for your continued trust in us.\nLooking forward to serving you more in the future! \ud83d\ude0a\n\nBest regards,\nReal Motor Japan",sender:i,timestamp:o,messageType:"InputPayment",ip:Se,ipCountry:ve}),yield(0,U.updateDoc)((0,U.doc)(_.projectExtensionFirestore,"chats",n.id),{lastMessageSender:i,lastMessage:"\ud83c\udf1f Payment Confirmation Alert \ud83c\udf1f\n\nDear Customer! \ud83d\udc4b\n\nWe're thrilled to inform you that your recent payment has been successfully reflected in our bank account.\n\nYour prompt and efficient transaction is greatly appreciated! \ud83c\udf89\n\n\ud83d\udd0d Payment Details:\n\nAmount: $"+e+"\nTransaction Date: "+t+"\n\nYour account and services are now fully up-to-date. If you have any further questions or require assistance, feel free to reach out.\n\nThank you for your continued trust in us.\nLooking forward to serving you more in the future! \ud83d\ude0a\n\nBest regards,\nReal Motor Japan",lastMessageDate:o,customerRead:!1,read:!0,readBy:[i]})}catch(a){console.error("Error adding document: ",a)}}));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var o=(0,i.default)((function*(){p(!0);var o=t.paymentDetails.totalAmount.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1")-I,i=(0,U.doc)(_.projectExtensionFirestore,"chats",n.id),a=(0,U.doc)(_.projectExtensionFirestore,"accounts",n.participants.customer),l=(yield O.default.get("http://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,s=Y()(l).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),c=[{value:D.current.value,date:s}],d=[{value:D.current.value,date:s,vehicleRef:n.carData.referenceNumber,vehicleName:n.carData.carName}],u=D.current.value,f=Number(u),h=f.toLocaleString(),g=function(e){return new Promise((function(t){return setTimeout(t,e)}))};if(""!==u&&"0"!==u)try{if(u.startsWith("-"))console.error("Negative value entered");else{if(yield w(h,s),yield g(10),f>=o){if(yield C(),yield g(10),f>o){var m=f-o;m>0&&(yield v(r.overBalance?r.overBalance+m:""),yield g(10),yield(0,U.updateDoc)(a,{overBalance:(0,U.increment)(m)}))}yield(0,U.updateDoc)(i,{"stepIndicator.value":4,"stepIndicator.status":"Payment Confirmed"})}else console.log("Partial payment received");yield(0,U.updateDoc)(i,{payments:U.arrayUnion.apply(void 0,c)}),yield(0,U.updateDoc)(a,{paymentsHistory:U.arrayUnion.apply(void 0,d)})}}catch(y){console.error("Error processing payment: ",y)}finally{p(!1),e((0,K.setTransactionModalVisible)(!1))}else p(!1)}));return function(){return o.apply(this,arguments)}}(),I=n.payments?n.payments.reduce((function(e,t){var n=Number(t.value);return e+(isNaN(n)?0:n)}),0):0,R=Number(I)<Number(t.paymentDetails.totalAmount.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1"))?Number(I).toLocaleString():t.paymentDetails.totalAmount;return(0,ae.jsxs)(F.default,{style:{flex:1},children:[(0,ae.jsxs)(F.default,{style:{marginLeft:5},children:[(0,ae.jsx)(d.default,{style:{fontWefight:700,fontSize:14},children:"Total Paid:"}),(0,ae.jsx)(x.default,{w:"300",shadow:2,value:Number(I),max:b,_filledTrack:{bg:"lime.500"}}),(0,ae.jsxs)(d.default,{style:{fontWeight:700,fontSize:14,color:"#FF0000"},children:["$",R,(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:14,color:"#8D7777"},children:" out of "}),(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:14,color:"#16A34A"},children:"$"+t.paymentDetails.totalAmount})]})]}),(0,ae.jsx)(F.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center",margin:2}}),(0,ae.jsx)(F.default,{style:{marginLeft:5},children:(0,ae.jsx)(B.default,{onPress:function(){h(!0),console.log(n.payments)},style:{width:"fit-content"},children:(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:14,color:"#0A78BE"},underline:!0,selectable:!1,children:"Payments History"})})}),(0,ae.jsx)(F.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center",margin:2}}),(0,ae.jsxs)(F.default,{style:{marginLeft:5,marginTop:5},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:14},children:"Input Amount:"}),(0,ae.jsxs)(F.default,{style:{flexDirection:"row",alignItems:"center"},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:18},children:"$"}),(0,ae.jsx)(k.default,{ref:D,placeholderTextColor:"#9B9E9F",placeholder:"Input Amount",style:{height:35,width:300,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"},onChangeText:function(e){var t=e.replace(/[^0-9.-]/g,"").replace(/(.)\-/g,"$1").replace(/^-(?=\-)/,"").replace(/(\..*)\./g,"$1");D.current.value=t}})]}),(0,ae.jsx)(B.default,{onPress:function(){var e=t.paymentDetails.totalAmount.replace(/[^0-9.]/g,"").replace(/(\..*)\./g,"$1")-I;D.current.value=e},style:{width:"fit-content"},children:(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:14,color:"#16A34A"},underline:!0,selectable:!1,children:"Complete Payment"})})]}),(0,ae.jsx)(F.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center",margin:2}}),(0,ae.jsx)(F.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",margin:5},children:(0,ae.jsx)(F.default,{style:{flex:1,backgroundColor:"#16A34A",borderRadius:5,padding:5},children:y?(0,ae.jsx)(c.default,{size:"sm",color:"white"}):(0,ae.jsx)(B.default,{onPress:function(){return A()},children:(0,ae.jsx)(d.default,{style:{alignSelf:"center",color:"white"},children:"Confirm"})})})}),(0,ae.jsx)((function(e){var t=e.historyModalVisible,n=e.handleHistoryModalClose,r=e.payments,i=(0,o.default)(r).sort((function(e,t){var n=e.date;return t.date-n}));return console.log(i),(0,ae.jsx)(u.Modal,{isOpen:t,onClose:n,useRNModal:!0,children:(0,ae.jsxs)(u.Modal.Content,{style:{backgroundColor:"white",borderRadius:10},children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Header,{style:{textAlign:"center",fontSize:18,fontWeight:"bold",color:"#333"},children:"Payment History"}),(0,ae.jsx)(u.Modal.Body,{children:(0,ae.jsx)(W.default,{style:{flex:1,paddingHorizontal:15,maxHeight:500},children:i.length>0?i.map((function(e,t){return(0,ae.jsxs)(F.default,{style:{marginBottom:15,borderBottomWidth:1,borderBottomColor:"#eee",paddingBottom:10},children:[(0,ae.jsxs)(d.default,{style:{fontSize:14,fontWeight:"bold",color:"black"},children:[(0,ae.jsx)(d.default,{style:{fontWeight:"bold"},children:"Date: "}),(0,ae.jsx)(d.default,{style:{color:"#FF0000"},children:i[i.length-1-t].date})]}),(0,ae.jsxs)(d.default,{style:{fontSize:14,fontWeight:"bold",color:"black"},children:[(0,ae.jsx)(d.default,{style:{fontWeight:"bold"},children:"Value: "}),(0,ae.jsxs)(d.default,{style:{color:Number(i[i.length-1-t].value).toLocaleString().startsWith("-")?"#FF0000":"#16A34A"},children:["$",Number(i[i.length-1-t].value).toLocaleString()]})]})]},t)})):(0,ae.jsx)(d.default,{style:{fontWeight:"bold",alignSelf:"center"},italic:!0,children:"No history to show"})})})]})})}),{historyModalVisible:f,handleHistoryModalClose:function(){h(!1)},payments:n.payments?n.payments:[]})]})},$e=function(){var e=(0,Z.useDispatch)(),t=(0,Z.useSelector)((function(e){return e.selectedChatData})),n=(0,Z.useSelector)((function(e){return e.invoiceData})),r=(0,Z.useSelector)((function(e){return e.currentDate})),o=(0,S.useState)(!1),a=(0,l.default)(o,2),s=a[0],u=(a[1],(0,S.useState)(!1)),f=(0,l.default)(u,2),h=f[0],g=f[1],m=(0,S.useRef)(null),y=(0,S.useRef)(null),x="@realmotorjapan532288@".toString(),p=function(){var e=(0,i.default)((function*(){var e=(yield O.default.get("http://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,n=Y()(e).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),r=(Y()(e).format("YYYY"),Y()(e).format("MM"),Y()(e).format("MM/DD"),Y()(e).format("YYYY/MM/DD"),Y()(e).format("DD"),Y()(e).format("HH:mm"),Y()(e).format("HH:mm:ss"),_.projectControlAuth.currentUser?_.projectControlAuth.currentUser.email:"");try{yield(0,U.addDoc)((0,U.collection)(_.projectExtensionFirestore,"chats",t.id,"messages"),{text:"Issued Invoice",sender:r,timestamp:n,messageType:"IssuedInvoice",ip:Se,ipCountry:ve}),yield(0,U.updateDoc)((0,U.doc)(_.projectExtensionFirestore,"chats",t.id),{lastMessageSender:r,lastMessage:"Issued Invoice",lastMessageDate:n,customerRead:!1,read:!0,readBy:[r]})}catch(o){console.error("Error adding document: ",o)}}));return function(){return e.apply(this,arguments)}}(),j=function(){var n=(0,i.default)((function*(){g(!0);var n=r.split("-")[0].slice(-2),o=(0,U.collection)(_.projectExtensionFirestore,"IssuedInvoice");try{var i=yield(0,U.getDocs)(o),a=0;i.forEach((function(e){var t=e.id;if(t.startsWith(n)){var r=parseInt(t.substring(2),10);r>a&&(a=r)}}));var l=""+n+(a+1),s=(0,U.doc)(_.projectExtensionFirestore,"IssuedInvoice",l),c=(0,U.doc)(_.projectExtensionFirestore,"chats",t.id),d=function(e,t){var n=(0,ee.HmacSHA256)(e,t);return ee.enc.Hex.stringify(n)}(l,x);if(t.invoiceNumber){var u=(0,U.doc)(_.projectExtensionFirestore,"IssuedInvoice",t.invoiceNumber);yield(0,U.updateDoc)(u,se(se({},we),{},{carData:t.carData})),1==t.stepIndicator.value&&(yield(0,U.updateDoc)(c,{"stepIndicator.status":"Issue Proforma Invoice","stepIndicator.value":2})),p(),g(!1),e((0,K.setTransactionModalVisible)(!1))}else yield(0,U.setDoc)(s,se(se({},we),{},{cryptoNumber:d,carData:t.carData})),yield(0,U.updateDoc)(c,{keywords:(0,U.arrayUnion)(l),invoiceNumber:l,"stepIndicator.status":"Issue Proforma Invoice","stepIndicator.value":2}),p(),g(!1),e((0,K.setTransactionModalVisible)(!1))}catch(f){console.error("Error creating document: ",f)}}));return function(){return n.apply(this,arguments)}}();return(0,S.useEffect)((function(){var e,t;we.cfs=n&&Object.keys(n).length>0&&n.cfs?n.cfs:null==(e=m.current)?void 0:e.value,we.placeOfDelivery=n&&Object.keys(n).length>0&&n.placeOfDelivery?n.placeOfDelivery:null==(t=y.current)?void 0:t.value}),[]),(0,ae.jsxs)(W.default,{style:{flex:1,maxHeight:500},children:[(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,margin:3},children:"CFS:"}),(0,ae.jsx)(k.default,{defaultValue:n&&Object.keys(n).length>0&&n.cfs?n.cfs:"",ref:m,placeholderTextColor:"#9B9E9F",placeholder:"Input CFS (Optional)",style:{height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"},onChangeText:function(e){return we.cfs=e}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,margin:3},children:"Place of Delivery:"}),(0,ae.jsx)(k.default,{defaultValue:n&&Object.keys(n).length>0&&n.placeOfDelivery?n.placeOfDelivery:"",ref:y,placeholderTextColor:"#9B9E9F",placeholder:"Place of Delivery (Optional)",style:{height:25,width:200,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"},onChangeText:function(e){return we.placeOfDelivery=e}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:5,alignItems:"center"},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,margin:3},children:"Port of Departure:"}),(0,ae.jsx)(qe,{})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:5},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,margin:3},children:"Sales Person:"}),(0,ae.jsx)(_e,{})]}),(0,ae.jsx)(F.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center",margin:5}}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,margin:3},children:"Port of Discharge:"}),(0,ae.jsx)(Ye,{})]}),(0,ae.jsx)(F.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center",margin:5}}),(0,ae.jsx)(Ge,{}),(0,ae.jsx)(Ve,{}),(0,ae.jsx)(F.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center"}}),(0,ae.jsx)(Ue,{}),(0,ae.jsx)(F.default,{style:{width:"100%",borderBottomWidth:2,borderColor:"#0A9FDC",alignSelf:"center",margin:2}}),(0,ae.jsx)(F.default,{style:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center",margin:5},children:(0,ae.jsx)(F.default,{style:{flex:1,backgroundColor:s?"#145A32":"#16A34A",borderRadius:5,padding:5},children:h?(0,ae.jsx)(c.default,{size:"sm",color:"white"}):(0,ae.jsx)(B.default,{onPress:function(){return j()},children:(0,ae.jsx)(d.default,{style:{alignSelf:"center",color:"white"},children:"Confirm"})})})})]})},Ke=function(){var e=(0,Z.useDispatch)(),t=(0,Z.useSelector)((function(e){return e.selectedChatData})),r=(0,Z.useSelector)((function(e){return e.previewInvoiceVisible})),o=(0,Z.useSelector)((function(e){return e.invoiceData})),a=(0,S.useState)(!1),s=(0,l.default)(a,2),f=s[0],h=s[1],g=v.default.get("window").width,m=(0,S.useRef)(null),y=(0,S.useState)(""),x=(0,l.default)(y,2),j=(x[0],x[1],(0,S.useState)("")),b=(0,l.default)(j,2),D=b[0],C=b[1],w=(0,S.useState)(ge),A=(0,l.default)(w,2),I=A[0],k=A[1],M=(0,S.useState)(0),T=(0,l.default)(M,2),z=T[0],N=T[1],L=(0,S.useState)(0),O=(0,l.default)(L,2),H=O[0],U=O[1];function V(e){var t=0;if(e.carData){["interior","exterior","safetySystem","comfort","sellingPoints"].forEach((function(n){e.carData[n]&&(t+=Object.values(e.carData[n]).filter((function(e){return!0===e})).length)}))}return t}(0,S.useEffect)((function(){r&&U(H+1)}),[r]),(0,S.useEffect)((function(){var e=function(){var e=(0,i.default)((function*(){try{if(m.current){var e=yield(0,te.captureRef)(m,{format:"jpg",quality:1,result:"base64",width:2108,height:2981.7999999999997});C("data:image/jpeg;base64,"+e);var t=V(o);N(t)}}catch(n){console.error("Error capturing view:",n)}}));return function(){return e.apply(this,arguments)}}(),t=function(){var e=(0,i.default)((function*(e){try{var t=yield fetch(e),n=yield t.blob();return new Promise((function(e,t){var r=new FileReader;r.onloadend=function(){return e(r.result)},r.onerror=t,r.readAsDataURL(n)}))}catch(r){return console.error(r),null}}));return function(t){return e.apply(this,arguments)}}();if(t(ge).then((function(e){k(e)})),e(),g<960){var n=function(){var e=(0,i.default)((function*(){try{if(m.current){var e=yield(0,te.captureRef)(m,{format:"jpg",quality:1,result:"base64",width:2108,height:2981.7999999999997});C("data:image/jpeg;base64,"+e);var t=V(o);N(t)}}catch(n){console.error("Error capturing view:",n)}}));return function(){return e.apply(this,arguments)}}(),r=function(){var e=(0,i.default)((function*(e){try{var t=yield fetch(e),n=yield t.blob();return new Promise((function(e,t){var r=new FileReader;r.onloadend=function(){return e(r.result)},r.onerror=t,r.readAsDataURL(n)}))}catch(r){return console.error(r),null}}));return function(t){return e.apply(this,arguments)}}();r(ge).then((function(e){k(e)})),n()}}),[m.current,I]);var Y=function(){var e=(0,i.default)((function*(){try{return"data:image/jpeg;base64,"+(yield(0,te.captureRef)(m,{format:"jpg",quality:1,result:"base64",width:2232,height:3157.2000000000003}))}catch(e){console.error("Error capturing view:",e)}}));return function(){return e.apply(this,arguments)}}(),_=function(){var e=(0,i.default)((function*(){var e=m.current;if(e){var n=(yield oe()(e,{scale:1})).toDataURL("image/jpeg",.9),r=new ne.default({orientation:"portrait",unit:"mm",format:"a4"}),i=r.getImageProperties(n),a=210*i.height/i.width;r.addImage(n,"JPEG",0,0,210,a,void 0,"FAST",0,{imageCompression:"JPEG",imageQuality:1}),t.stepIndicator.value<3?r.save("Proforma Invoice ("+o.carData.carName+" ["+o.carData.referenceNumber+"]) (A4 Paper Size).pdf"):r.save("Invoice No. "+o.id+" (A4 Paper Size).pdf")}else console.error("No element to capture")}));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,i.default)((function*(){var e=yield Y();e&&(yield _(e))}));return function(){return e.apply(this,arguments)}}();if(o&&Object.keys(o).length>0){var J=o.bankInformations.issuingDate,G=o.bankInformations.dueDate,X=new Date(J),$=new Date(G),Q={year:"numeric",month:"long",day:"numeric"};je=X.toLocaleDateString(void 0,Q),be=$.toLocaleDateString(void 0,Q)}var ee=2480/794,re=3508/1123;return(0,ae.jsxs)(ae.Fragment,{children:[" ",o&&Object.keys(o).length>0&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(B.default,{onPress:function(){e((0,K.setPreviewInvoiceVisible)(!0))},focusable:!1,variant:"ghost",onHoverIn:function(){return h(!0)},onHoverOut:function(){return h(!1)},style:{marginTop:3,paddingVertical:3,paddingHorizontal:5,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:5,backgroundColor:f?"#0772ad":"#0A8DD5"},children:t.invoiceNumber&&t.stepIndicator.value>2?(0,ae.jsx)(d.default,{style:{fontWeight:700,color:"white"},children:"Preview Invoice No. "+t.invoiceNumber}):(0,ae.jsx)(d.default,{style:{fontWeight:700,color:"white"},children:"Preview Invoice"})}),(0,ae.jsxs)(u.Modal,{isOpen:r,onClose:function(){e((0,K.setPreviewInvoiceVisible)(!1)),C("")},size:"full",useRNModal:!0,children:[(0,ae.jsxs)(F.default,{style:{flexDirection:"row",margin:2},children:[(0,ae.jsxs)(B.default,{onPress:function(){D&&I&&q()},style:{justifyContent:"center",flexDirection:"row",padding:5,borderRadius:5,backgroundColor:"#16A34A"},children:[(0,ae.jsx)(E.default,{size:20,name:"download",color:"white"}),(0,ae.jsx)(d.default,{style:{color:"white"},children:"Download as PDF"})]}),(0,ae.jsxs)(B.default,{onPress:function(){D&&I&&("web"===R.default.OS?window.open().document.write('\n                <style>\n                    body {\n                        margin: 0;\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        height: 100vh;\n                        overflow: hidden;\n                    }\n                    img {\n                        width: 595px;\n                        height: 842px;\n                        object-fit: contain;\n                        transition: transform 0.25s ease;\n                        cursor: zoom-in; /* Set cursor to magnifying glass */\n                    }\n                    .zoomed {\n                        transform: scale(3);\n                        transform-origin: center;\n                        cursor: zoom-out; /* Change cursor to indicate zooming out */\n                    }\n                </style>\n                <img id="zoomableImage" src="'+D+"\" alt=\"Base64 Image\" draggable=\"false\" />\n                <script>\n                    const image = document.getElementById('zoomableImage');\n    \n                    image.addEventListener('mousedown', function(e) {\n                        const rect = this.getBoundingClientRect();\n                        const x = e.clientX - rect.left;\n                        const y = e.clientY - rect.top;\n    \n                        // Set the transform origin to the mouse position\n                        this.style.transformOrigin = `${x}px ${y}px`;\n                        this.classList.add('zoomed');\n                    });\n    \n                    document.addEventListener('mouseup', function() {\n                        image.classList.remove('zoomed');\n                    });\n                <\/script>\n            "):console.log("This feature is only available in a web environment"))},style:{position:"absolute",top:-2,right:-380,flexDirection:"row",padding:5,borderRadius:5,backgroundColor:"#0A8DD5"},children:[(0,ae.jsx)(P.default,{size:20,name:"images",color:"white"}),(0,ae.jsx)(d.default,{style:{color:"white"},children:"View Image"})]})]}),(0,ae.jsx)(u.Modal.CloseButton,{}),r&&(0,ae.jsxs)(W.default,{style:{maxHeight:g<960?480:720,maxWidth:g<960?320:900},children:[(0,ae.jsx)(F.default,{style:{position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"white",zIndex:999,flex:1,alignItems:"center"},children:D&&I?(0,ae.jsx)(p.default,{source:{uri:D},style:{marginTop:5,width:g<960?320:595,height:g<960?480:842,resizeMode:"stretch",borderWidth:1,borderColor:"#DADDE1"}}):(0,ae.jsx)(c.default,{size:"lg",color:"#0A9FDC",style:{alignSelf:"center",paddingTop:249.9020480854853}})}),""!==I&&(0,ae.jsxs)(F.default,{ref:m,style:{width:2480,height:3508,backgroundColor:"white",zIndex:1},children:[(0,ae.jsx)(F.default,{style:{position:"absolute",left:118.69017632241814,top:118.70347284060551},children:(0,ae.jsx)(p.default,{source:n(77804),style:{width:296.72544080604536,height:265.52092609082814,resizeMode:"stretch"}})}),(0,ae.jsx)(F.default,{style:{position:"absolute",alignSelf:"center",top:249.9020480854853},children:t.stepIndicator.value<3?(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:78.08564231738035},children:"PROFORMA INVOICE"}):(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:78.08564231738035},children:"INVOICE"})}),(0,ae.jsx)(F.default,{style:{position:"absolute",right:118.69017632241814,top:118.70347284060551},children:t.stepIndicator.value<3?null:(0,ae.jsx)(ie.default,{value:o.cryptoNumber,size:249.87405541561714,color:"black",backgroundColor:"white"})}),(0,ae.jsx)(F.default,{style:{position:"absolute",right:377.9345088161209,top:106.20837043633125},children:t.stepIndicator.value<3?null:(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:43.727959697733},children:"Invoice No. RMJ-"+o.id})}),t.stepIndicator.value<3?(0,ae.jsxs)(F.default,{style:{position:"absolute",right:118.69017632241814,top:106.20837043633125},children:[(0,ae.jsxs)(F.default,{style:{flexDirection:"row",alignSelf:"flex-end"},children:[(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:43.727959697733},children:"Issuing Date: "}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:43.727959697733},children:""+je})]}),(0,ae.jsxs)(F.default,{style:{flexDirection:"row",alignSelf:"flex-end"},children:[(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:43.727959697733,color:"#F00A0A"},children:"Valid Until: "}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:43.727959697733},children:""+be})]})]}):(0,ae.jsxs)(F.default,{style:{position:"absolute",right:377.9345088161209,top:153.06500445235974,flexDirection:"row"},children:[(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:43.727959697733},children:"Issuing Date: "}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:43.727959697733},children:""+je})]}),(0,ae.jsxs)(F.default,{style:{position:"absolute",left:124.93702770780857,top:418.5859305431879,maxWidth:687.1536523929472},children:[(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:43.727959697733,borderBottomWidth:3,width:"fit-content",marginBottom:5},children:"Shipper"}),(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733},children:"Real Motor Japan"}),(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733},children:"(YANAGISAWA HD CO.,LTD)"}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:"26-2 Takara Tsutsumi-cho Toyota City, Aichi Prefecture, Japan, 473-0932"}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:"FAX: +81565850606"}),(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:"Shipped From:"}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:o.departurePort+", "+o.departureCountry}),(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:"Shipped To:"}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:o.discharge.port+", "+o.discharge.country}),o.placeOfDelivery&&""!==o.placeOfDelivery?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:"Place of Delivery:"}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+o.placeOfDelivery})]}):null,o.cfs&&""!==o.cfs?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:"CFS:"}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+o.cfs})]}):null,(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:43.727959697733,borderBottomWidth:3,borderBottomColor:"#0A78BE",width:"fit-content",marginBottom:5,color:"#0A78BE",marginTop:20},children:"Buyer Information"}),(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+o.consignee.name}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:""+o.consignee.address}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:""+o.consignee.email}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:""+o.consignee.contactNumber}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:"FAX: "+(""==o.consignee.fax?"N/A":o.consignee.fax)}),(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:43.727959697733,borderBottomWidth:3,borderBottomColor:"#FF0000",width:"fit-content",marginBottom:5,color:"#FF0000",marginTop:20},children:"Notify Party"}),1==o.notifyParty.sameAsConsignee?(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257},children:"Same as consignee / buyer"}):(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+o.notifyParty.name}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:""+o.notifyParty.address}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:""+o.notifyParty.email}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:""+o.notifyParty.contactNumber}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,marginTop:20,lineHeight:43.727959697733},children:"FAX: "+(""==o.notifyParty.fax?"N/A":o.notifyParty.fax)})]})]}),t.stepIndicator.value<3?(0,ae.jsx)(F.default,{style:{position:"absolute",left:812.0906801007557,top:406.0908281389136,borderWidth:3,width:1546.095717884131,borderColor:"#FF5C00",height:606.0124666073018},children:(0,ae.jsxs)(F.default,{style:{flex:1,alignItems:"center",justifyContent:"center",flexDirection:"row"},children:[(0,ae.jsx)(P.default,{size:156.1712846347607,name:"warning",color:"#FF0000"}),(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:37.48110831234257,color:"#FF0000",marginLeft:62.468513853904284},children:"Bank Information will be provided after placing an order."})]})}):(0,ae.jsxs)(F.default,{style:{position:"absolute",left:812.0906801007557,top:406.0908281389136,borderWidth:3,width:1546.095717884131,borderColor:"#1ABA3D"},children:[(0,ae.jsx)(F.default,{style:{flex:1,alignItems:"center"},children:(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:43.727959697733,color:"#114B33"},children:"Bank Information"})}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",marginHorizontal:15.617128463476071,marginBottom:15.61887800534283},children:[(0,ae.jsxs)(F.default,{style:{flex:1,marginRight:156.1712846347607},children:[(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:43.727959697733,borderBottomWidth:3,width:"fit-content",marginBottom:2},children:"Bank Account"}),(0,ae.jsxs)(d.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733,marginTop:9.371326803205699},children:["Bank Name: ",(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+o.bankInformations.bankAccount.bankName})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733,marginTop:9.371326803205699},children:["Branch Name: ",(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+o.bankInformations.bankAccount.branchName})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733,marginTop:9.371326803205699},children:["SWIFTCODE: ",(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+o.bankInformations.bankAccount.swiftCode})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733,marginTop:9.371326803205699},children:["Address: ",(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+o.bankInformations.bankAccount.address})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733,marginTop:9.371326803205699},children:["Name of Account Holder: ",(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+o.bankInformations.bankAccount.accountHolder})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733,marginTop:9.371326803205699},children:["Account Number: ",(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+o.bankInformations.bankAccount.accountNumberValue})]})]}),(0,ae.jsxs)(F.default,{style:{flex:1},children:[(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:43.727959697733,borderBottomWidth:3,width:"fit-content",marginBottom:2},children:"Payment Terms"}),(0,ae.jsxs)(d.default,{style:{fontWeight:750,fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Terms: ",(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733},children:""+o.bankInformations.paymentTerms})]}),(0,ae.jsxs)(F.default,{style:{paddingTop:93.71326803205699},children:[(0,ae.jsx)(d.default,{style:{fontWeight:750,fontSize:43.727959697733,borderBottomWidth:3,width:"fit-content",marginBottom:2,color:"#F00A0A",borderBottomColor:"#F00A0A"},children:"Payment Due"}),(0,ae.jsxs)(d.default,{style:{fontWeight:750,fontSize:37.48110831234257,color:"#F00A0A",lineHeight:43.727959697733},children:["Due Date: ",(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,color:"black",lineHeight:43.727959697733},children:""+be})]})]})]})]})]}),(0,ae.jsx)(F.default,{style:{position:"absolute",left:812.0906801007557,top:1046.4648263579697},children:(0,ae.jsxs)(F.default,{style:{flexDirection:"row"},children:[I?(0,ae.jsx)(p.default,{source:{uri:I},style:{width:309.2191435768262,height:218.66429207479965,resizeMode:"stretch"}}):(0,ae.jsx)(F.default,{style:{width:309.2191435768262,height:218.66429207479965,backgroundColor:"#e0e0e0",marginRight:12}}),(0,ae.jsxs)(F.default,{style:{flex:1,top:-6.247551202137132,marginLeft:15.617128463476071,height:184.30276046304542},children:[(0,ae.jsx)(d.default,{style:{fontWeight:"bold",fontSize:43.727959697733,lineHeight:49.97481108312343},children:""+o.carData.carName}),(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Reference No.: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:""+o.carData.referenceNumber})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Year/Month: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:o.carData.regYear+"/"+o.carData.regMonth})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Mileage: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:Number(o.carData.mileage).toLocaleString("en-US")+" km"})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Chassis No.: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:""+o.carData.chassisNumber})]})]})]})}),(0,ae.jsxs)(F.default,{style:{position:"absolute",left:812.0906801007557,top:1280.747996438112,flexDirection:"row",width:1546.095717884131},children:[(0,ae.jsxs)(F.default,{style:{flex:1},children:[(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Model Code: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:""+o.carData.modelCode})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Fuel: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:""+o.carData.fuel})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Transmission: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:""+o.carData.transmission})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Steering: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:""+o.carData.steering})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Displacement: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:Number(o.carData.engineDisplacement).toLocaleString("en-US")+" cc"})]})]}),(0,ae.jsxs)(F.default,{style:{flex:1},children:[(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Doors: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:""+(o.carData.doors?o.carData.doors:"N/A")})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Drive Type: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:""+(o.carData.driveType?o.carData.driveType:"N/A")})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Exterior Color: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:""+o.carData.exteriorColor})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Number of Seats: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:""+(o.carData.numberOfSeats?o.carData.numberOfSeats:"N/A")})]}),(0,ae.jsxs)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733},children:["Body Type: ",(0,ae.jsx)(d.default,{style:{fontWeight:"normal",fontSize:37.48110831234257},children:""+o.carData.bodyType})]})]})]}),(0,ae.jsxs)(F.default,{style:{position:"absolute",left:812.0906801007557,top:1511.9073909171861,width:1546.095717884131},children:[(0,ae.jsx)(d.default,{style:{fontWeight:"bold",fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699},children:"Features: "}),(0,ae.jsx)(Xe,{widthScaleFactor:ee,heightScaleFactor:re})]}),(0,ae.jsxs)(F.default,{style:{position:"absolute",left:118.69017632241814,top:z<36?2052.320569902048:2152.281389136242,width:2242.6196473551636,borderWidth:3.123425692695214,borderColor:"#C2E2F4",alignSelf:"center"},children:[(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(F.default,{style:{flex:2,justifyContent:"center"},children:(0,ae.jsx)(d.default,{style:{fontWeight:"bold",fontSize:31.234256926952142,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center",color:"#008AC6"},children:"Description"})}),(0,ae.jsx)(F.default,{style:{flex:2,justifyContent:"center"},children:(0,ae.jsx)(d.default,{style:{fontWeight:"bold",fontSize:31.234256926952142,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center",color:"#008AC6"},children:"Notes"})}),(0,ae.jsx)(F.default,{style:{flex:1,justifyContent:"center"},children:(0,ae.jsx)(d.default,{style:{fontWeight:"bold",fontSize:31.234256926952142,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center",color:"#008AC6"},children:"Quantity"})}),(0,ae.jsx)(F.default,{style:{flex:2,justifyContent:"center"},children:(0,ae.jsx)(d.default,{style:{fontWeight:"bold",fontSize:31.234256926952142,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center",color:"#008AC6"},children:"Amount"})})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(F.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:5},children:(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:"FOB"})}),(0,ae.jsx)(F.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2},children:(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:"$"+Math.round(Number(o.paymentDetails.fobPrice)).toLocaleString("en-US",{useGrouping:!0})})})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(F.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:5},children:(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:"Freight"})}),(0,ae.jsx)(F.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2},children:(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:"$"+Math.round(Number(o.paymentDetails.freightPrice)).toLocaleString("en-US",{useGrouping:!0})})})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsxs)(F.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:5,flexDirection:"row"},children:[o.paymentDetails.inspectionIsChecked&&("C&F"==o.paymentDetails.incoterms||"FOB"==o.paymentDetails.incoterms)&&(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:o.paymentDetails.inspectionIsChecked?"Inspection ["+o.paymentDetails.inspectionName+"]":" "}),o.paymentDetails.inspectionIsChecked&&"CIF"==o.paymentDetails.incoterms&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:o.paymentDetails.inspectionIsChecked?"Inspection ["+o.paymentDetails.inspectionName+"]":" "}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:"CIF"==o.paymentDetails.incoterms?" + Insurance":" "})]}),!o.paymentDetails.inspectionIsChecked&&"CIF"==o.paymentDetails.incoterms&&(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:"CIF"==o.paymentDetails.incoterms?"Insurance":" "}),!o.paymentDetails.inspectionIsChecked&&("C&F"==o.paymentDetails.incoterms||"FOB"==o.paymentDetails.incoterms)&&(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699},children:" "})]}),(0,ae.jsxs)(F.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2},children:[o.paymentDetails.inspectionIsChecked&&("C&F"==o.paymentDetails.incoterms||"FOB"==o.paymentDetails.incoterms)&&(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:o.paymentDetails.inspectionIsChecked?"$"+Number(o.paymentDetails.inspectionPrice).toLocaleString("en-US",{useGrouping:!0}).split(".")[0]:" "}),o.paymentDetails.inspectionIsChecked&&"CIF"==o.paymentDetails.incoterms&&(0,ae.jsxs)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:[o.paymentDetails.inspectionIsChecked?"$"+Number(o.paymentDetails.inspectionPrice).toLocaleString("en-US",{useGrouping:!0}).split(".")[0]:" ",(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699},children:"CIF"===o.paymentDetails.incoterms?" + $"+Number(o.paymentDetails.insurancePrice).toLocaleString("en-US",{useGrouping:!0}).split(".")[0]:" "})]}),!o.paymentDetails.inspectionIsChecked&&"CIF"==o.paymentDetails.incoterms&&(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:"CIF"==o.paymentDetails.incoterms?"$"+Number(o.paymentDetails.insurancePrice).toLocaleString("en-US",{useGrouping:!0}).split(".")[0]:" "})]})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(F.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:5,flexDirection:"row"},children:o.paymentDetails.additionalName&&o.paymentDetails.additionalName.length>0&&(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,marginLeft:6.246851385390428},children:o.paymentDetails.additionalName&&o.paymentDetails.additionalName.length>0?""+o.paymentDetails.additionalName.join(" + "):" "})}),(0,ae.jsx)(F.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2},children:(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:o.paymentDetails.additionalPrice&&o.paymentDetails.additionalPrice.length>0?o.paymentDetails.additionalPrice.map((function(e){return"$"+parseFloat(e).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).slice(1)})).join(" + "):" "})})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(F.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2,flexDirection:"row"},children:o.carData&&o.carData.carName?(0,ae.jsxs)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center",marginLeft:6.246851385390428},children:["Used Vehicle\n",(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:o.carData.carName})]}):(0,ae.jsx)(d.default,{children:" "})}),(0,ae.jsx)(F.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2,flexDirection:"row",justifyContent:"center"},children:o.paymentDetails&&o.paymentDetails.incoterms&&o.discharge.port&&o.discharge?(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:o.paymentDetails.incoterms+" "+o.discharge.port}):(0,ae.jsx)(d.default,{children:" "})}),(0,ae.jsx)(F.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:1,flexDirection:"row",justifyContent:"center"},children:o.carData&&o.carData.carName?(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center"},children:"1"}):(0,ae.jsx)(d.default,{children:" "})}),(0,ae.jsx)(F.default,{style:{borderTopWidth:3.123425692695214,borderColor:"#C2E2F4",flex:2,justifyContent:"center",flexDirection:"row"},children:o.paymentDetails&&o.paymentDetails.totalAmount?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,color:"#008AC6",marginRight:31.234256926952142,top:21.866429207479964,left:156.1712846347607,position:"absolute"},children:"Total"}),(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:37.48110831234257,lineHeight:43.727959697733,marginBottom:9.371326803205699,alignSelf:"center",color:"#00720B"},children:"$"+o.paymentDetails.totalAmount})]}):(0,ae.jsx)(d.default,{children:" "})})]})]}),(0,ae.jsxs)(F.default,{style:{position:"absolute",left:118.69017632241814,top:2608.352626892253,width:1093.1989924433249},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:31.234256926952142,lineHeight:43.73285841495993},children:"Payment Information:"}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:31.234256926952142,lineHeight:43.73285841495993},children:"The customer is responsible for the bank charges incurred when the T/T (Telegraphic Transfer) is paid."}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:31.234256926952142,lineHeight:43.73285841495993,marginBottom:15.61887800534283},children:"No warranty service is provided on used vehicles."}),(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:31.234256926952142,lineHeight:43.73285841495993},children:"Conditions for order cancellation:"}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:31.234256926952142,lineHeight:43.73285841495993},children:"(1) Order Cancellation Penalty: If the order is canceled after payment, a penalty of USD 220 will apply."}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:31.234256926952142,lineHeight:43.73285841495993,marginBottom:15.61887800534283},children:"(2) Non-refund: Payment for vehicles purchased through pre-delivery inspection is non-refundable."}),(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:31.234256926952142,lineHeight:43.73285841495993},children:"Intermediary Banking Information:"}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:31.234256926952142,lineHeight:43.73285841495993},children:"Bank Name: SUMITOMO MITSUI BANKING CORPORATION (NEW YORK BRANCH)."}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:31.234256926952142,lineHeight:43.73285841495993},children:"Swift code: SMBCUS33"}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:31.234256926952142,lineHeight:43.73285841495993},children:"Address: 277 Park Avenue"}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:31.234256926952142,lineHeight:43.73285841495993},children:"City: New York, NY"}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:31.234256926952142,lineHeight:43.73285841495993},children:"Postal Code: 10172"}),(0,ae.jsx)(d.default,{style:{fontWeight:400,fontSize:31.234256926952142,lineHeight:43.73285841495993,marginBottom:15.61887800534283},children:"Country: United States"})]}),t.stepIndicator.value<3?null:(0,ae.jsxs)(F.default,{style:{position:"absolute",right:121.81360201511336,top:2608.352626892253,width:937.0277078085643},children:[(0,ae.jsxs)(F.default,{style:{width:937.0277078085643,alignItems:"center",paddingBottom:249.9020480854853},children:[(0,ae.jsx)(p.default,{source:n(29556),style:{width:862.0654911838791,height:253.02582368655388,resizeMode:"contain",alignSelf:"center",marginBottom:0}}),(0,ae.jsx)(F.default,{style:{borderBottomWidth:3.123775601068566,borderColor:"black",width:"100%"}}),(0,ae.jsx)(d.default,{italic:!0,style:{fontWeight:700,fontSize:49.97481108312343},children:"Real Motor Japan"})]}),(0,ae.jsxs)(F.default,{style:{width:937.0277078085643,alignItems:"center",paddingBottom:15.61887800534283},children:[(0,ae.jsx)(F.default,{style:{borderBottomWidth:3.123775601068566,borderColor:"black",width:"100%"}}),(0,ae.jsx)(d.default,{italic:!0,style:{fontWeight:700,fontSize:49.97481108312343},children:"Your Signature"})]})]})]})]})]})]})]})},Qe=function(){var e=(0,S.useState)(!1),t=(0,l.default)(e,2),n=t[0],r=t[1],o=(0,S.useState)(!1),s=(0,l.default)(o,2),f=s[0],h=s[1],g=(0,S.useState)(!1),m=(0,l.default)(g,2),y=m[0],x=m[1],p=(0,S.useState)(""),j=(0,l.default)(p,2),b=j[0],D=j[1],C=(0,S.useState)(!1),v=(0,l.default)(C,2),w=v[0],A=v[1],I=(0,Z.useSelector)((function(e){return e.currentDate})),W=(0,Z.useSelector)((function(e){return e.selectedChatData})),k=(0,S.useState)(!1),R=(0,l.default)(k,2),P=R[0],M=R[1],E=((0,Z.useSelector)((function(e){return e.invoiceData})),(0,Z.useDispatch)(),function(){M(!1)}),N=function(){var e=(0,i.default)((function*(){try{yield H(),E()}catch(e){}}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,i.default)((function*(){var e=(yield O.default.get("http://worldtimeapi.org/api/timezone/Asia/Tokyo")).data.datetime,t=Y()(e).format("YYYY/MM/DD [at] HH:mm:ss.SSS"),n=(Y()(e).format("YYYY"),Y()(e).format("MM"),Y()(e).format("MM/DD"),Y()(e).format("YYYY/MM/DD"),Y()(e).format("DD"),Y()(e).format("HH:mm"),Y()(e).format("HH:mm:ss"),_.projectControlAuth.currentUser?_.projectControlAuth.currentUser.email:"");try{yield(0,U.addDoc)((0,U.collection)(_.projectExtensionFirestore,"chats",W.id,"messages"),{text:"The due date has been changed to "+(b?new Date(b).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):"Invalid Date"),sender:n,timestamp:t,ip:Se,ipCountry:ve}),yield(0,U.updateDoc)((0,U.doc)(_.projectExtensionFirestore,"chats",W.id),{lastMessageSender:n,lastMessage:"The due date has been changed to "+(b?new Date(b).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):"Invalid Date"),lastMessageDate:t,customerRead:!1,read:!0,readBy:[n]})}catch(r){console.error("Error adding document: ",r)}}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,i.default)((function*(){var e=(0,U.doc)(_.projectExtensionFirestore,"IssuedInvoice",W.invoiceNumber);A(!0);try{yield(0,U.updateDoc)(e,{"bankInformations.dueDate":b}),yield L(),A(!1),console.log("Document successfully updated")}catch(t){console.error("Error updating document: ",t)}}));return function(){return e.apply(this,arguments)}}();return(0,S.useEffect)((function(){if(I){var e=new Date(I),t=e.getDay();5===t?e.setDate(e.getDate()+3):6===t?e.setDate(e.getDate()+2):e.setDate(e.getDate()+1);var n=e.toISOString().split("T")[0];D(n)}}),[]),(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsxs)(B.default,{focusable:!1,variant:"ghost",onPress:function(){M(!0)},onHoverIn:function(){return r(!0)},onHoverOut:function(){return r(!1)},style:{marginTop:3,paddingVertical:3,paddingHorizontal:5,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:5,backgroundColor:n?"#a8720a":"#D38F0D"},children:[(0,ae.jsx)(z.default,{name:"calendar-plus-o",size:15,color:"white"}),(0,ae.jsx)(d.default,{color:"white",style:{fontWeight:700,marginLeft:5},children:"Extend Due Date"})]}),(0,ae.jsx)(u.Modal,{isOpen:P,onClose:E,useRNModal:!0,children:(0,ae.jsxs)(u.Modal.Content,{children:[(0,ae.jsx)(u.Modal.Header,{children:"Extend Due Date"}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",margin:2},children:[(0,ae.jsx)(d.default,{style:{width:"20%",fontWeight:700,margin:3},children:"Due Date:"}),(0,ae.jsx)((function(e){var t=e.selectedDate,n=e.setSelectedDate,r=(e.currentDate,(0,S.useState)(!1)),o=(0,l.default)(r,2),i=o[0],s=o[1],c=function(){s(!1)};return(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(B.default,{style:{width:"60%",height:25,margin:2,padding:1,borderRadius:2,borderWidth:1,borderColor:"#D9D9D9",outlineStyle:"none"},onPress:function(){s(!0)},children:(0,ae.jsx)(d.default,{style:{flex:1},children:t})}),(0,ae.jsxs)(u.Modal,{isOpen:i,onClose:c,useRNModal:!0,children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Content,{children:(0,ae.jsx)(F.default,{style:{height:"100%",flex:1},children:(0,ae.jsx)($.Calendar,{onDayPress:(0,S.useCallback)((function(e){n(e.dateString),e.dateString,we.bankInformations.dueDate=e.dateString,c()}),[]),markedDates:(0,a.default)({},t,{selected:!0,disableTouchEvent:!0,selectedDotColor:"#7b9cff"}),renderArrow:function(e){return"left"===e?(0,ae.jsx)(T.default,{name:"arrow-back-ios",color:"#7b9cff"}):(0,ae.jsx)(T.default,{name:"arrow-forward-ios",color:"#7b9cff"})},enableSwipeMonths:!0,initialDate:t,showSixWeeks:!0})})})]})]})}),{currentDate:I,selectedDate:b,setSelectedDate:D})]}),(0,ae.jsx)(u.Modal.Footer,{children:(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row",justifyContent:"space-between"},children:[(0,ae.jsx)(B.default,{focusable:!1,variant:"ghost",onPress:E,onHoverIn:function(){return x(!0)},onHoverOut:function(){return x(!1)},style:{marginTop:3,paddingVertical:3,alignItems:"center",justifyContent:"center",borderRadius:5,backgroundColor:y?"#3F3F46":"#52525B",flex:1},children:(0,ae.jsx)(d.default,{color:"white",style:{fontWeight:700},children:"Cancel"})}),(0,ae.jsx)(F.default,{style:{flex:1}}),(0,ae.jsx)(B.default,{onPress:N,focusable:!1,variant:"ghost",onHoverIn:function(){return h(!0)},onHoverOut:function(){return h(!1)},disabled:w,style:{marginTop:3,paddingVertical:3,alignItems:"center",justifyContent:"center",borderRadius:5,backgroundColor:f?"#0f7534":"#16A34A",flex:1},children:w?(0,ae.jsx)(c.default,{size:"sm",color:"white"}):(0,ae.jsx)(d.default,{color:"white",style:{fontWeight:700},children:"Confirm"})})]})})]})})]})},et=function(){var e=(0,Z.useSelector)((function(e){return e.transactionModalVisible})),t=(0,Z.useDispatch)();return(0,ae.jsx)(u.Modal,{isOpen:e,onClose:function(){t((0,K.setTransactionModalVisible)(!1))},size:"lg",useRNModal:!0,children:e&&(0,ae.jsxs)(u.Modal.Content,{children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Header,{style:{borderBottomWidth:2,borderColor:"#0A9FDC"},children:De}),1==Ce||2==Ce&&(0,ae.jsx)($e,{}),3==Ce&&(0,ae.jsx)(Ze,{})]})})},tt=function(e){var t=e.title,r=e.buttonValue,o=e.transactionValue,i=e.colorHoverIn,a=e.colorHoverOut,s=(0,S.useState)(!1),c=(0,l.default)(s,2),u=c[0],f=c[1],h=((0,Z.useSelector)((function(e){return e.invoiceData})),(0,Z.useDispatch)());return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsxs)(B.default,{focusable:!1,variant:"ghost",onPress:function(){h((0,K.setTransactionModalVisible)(!0)),De=t,Ce=o},onHoverIn:function(){return f(!0)},onHoverOut:function(){return f(!1)},style:{marginTop:3,paddingVertical:3,paddingHorizontal:5,flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:5,backgroundColor:u?i:a},children:[(0,ae.jsx)(J.default,{source:{uri:n(82049)("./chat_step_"+r+"_on.png"),priority:J.default.priority.normal},style:{tintColor:"rgba(128, 128, 128, 1)",width:15,height:15,alignSelf:"center"},resizeMode:J.default.resizeMode.stretch}),(0,ae.jsx)(d.default,{color:"white",style:{fontWeight:700,marginLeft:5},children:t})]})})},nt=function(){var e=(0,Z.useSelector)((function(e){return e.selectedChatData})),t=(0,Z.useSelector)((function(e){return e.invoiceData})),n=(e.fobPrice&&e.jpyToUsd&&e.m3&&e.freightPrice,(e.m3?e.m3:e.carData&&e.carData.dimensionCubicMeters?e.carData.dimensionCubicMeters:0)*Number(e.freightPrice)),r=(e.fobPrice?e.fobPrice:(e.carData&&e.carData.fobPrice?e.carData.fobPrice:0)*(e.jpyToUsd?e.jpyToUsd:e.currency&&e.currency.jpyToUsd?e.currency.jpyToUsd:0))+n,o=e.fobPrice?e.fobPrice:(e.carData&&e.carData.fobPrice?e.carData.fobPrice:0)*(e.jpyToUsd?e.jpyToUsd:e.currency&&e.currency.jpyToUsd?e.currency.jpyToUsd:0),i=e.carData&&e.carData.carName?e.carData.carName:e.vehicle&&e.vehicle.carName?e.vehicle.carName:"";return(0,ae.jsxs)(F.default,{style:{flex:1,alignSelf:"flex-start",flexDirection:"row"},children:[ge?(0,ae.jsx)(J.default,{source:{uri:ge,priority:J.default.priority.normal},style:{width:60,height:60,borderRadius:30,alignSelf:"center",margin:10},resizeMode:J.default.resizeMode.stretch}):(0,ae.jsx)(F.default,{style:{width:60,height:60,borderRadius:30,backgroundColor:"#e0e0e0",marginRight:12}}),(0,ae.jsxs)(F.default,{style:{alignSelf:"center",paddingRight:10},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,color:"#0A78BE"},children:i}),(0,ae.jsx)(d.default,{style:{fontWeight:700},children:me+" "+ye}),(0,ae.jsx)(F.default,{style:{flexDirection:"row"},children:(0,ae.jsx)(d.default,{selectable:!0,style:{fontWeight:700,fontSize:12,paddingTop:0,marginLeft:1,color:"#8D7777"},children:e.carData&&e.carData.referenceNumber?e.carData.referenceNumber:"Chassis N/A"})}),(0,ae.jsx)(Ie,{data:We})]}),(0,ae.jsxs)(F.default,{style:{alignSelf:"center",justifyContent:"center",paddingLeft:10},children:[(0,ae.jsx)(F.default,{style:{flexDirection:"row"},children:(0,ae.jsx)(d.default,{selectable:!0,style:{fontWeight:700,fontSize:12,paddingTop:0,marginLeft:2},children:e.carData&&e.carData.chassisNumber?e.carData.chassisNumber:"Chassis N/A"})}),(0,ae.jsx)(F.default,{style:{flexDirection:"row"},children:(0,ae.jsx)(d.default,{selectable:!0,style:{fontWeight:700,fontSize:12,paddingTop:0,marginLeft:2},children:e.carData&&e.carData.modelCode?e.carData.modelCode:"Model Code N/A"})}),(0,ae.jsx)(F.default,{style:{flexDirection:"row"},children:(0,ae.jsxs)(d.default,{selectable:!0,style:{fontWeight:700,fontSize:12,paddingTop:0,marginLeft:2},children:[e.carData&&e.carData.mileage?Number(e.carData.mileage).toLocaleString("en-US"):"Mileage N/A"," km"]})}),(0,ae.jsx)(F.default,{style:{flexDirection:"row"},children:(0,ae.jsx)(d.default,{selectable:!0,style:{fontWeight:700,fontSize:12,paddingTop:0,marginLeft:2},children:e.carData&&e.carData.fuel?e.carData.fuel:"Fuel N/A"})}),(0,ae.jsx)(F.default,{style:{flexDirection:"row"},children:(0,ae.jsx)(d.default,{selectable:!0,style:{fontWeight:700,fontSize:12,paddingTop:0,marginLeft:2},children:e.carData&&e.carData.transmission?e.carData.transmission:"Transmission N/A"})})]}),(0,ae.jsxs)(F.default,{style:{alignSelf:"center",justifyContent:"center",paddingLeft:15},children:[(0,ae.jsxs)(F.default,{style:{flexDirection:"row"},children:[(0,ae.jsx)(d.default,{style:{fontSize:18},bold:!0,children:"Total Price: "}),(0,ae.jsx)(d.default,{selectable:!0,style:{fontSize:18,color:"#16A34A",textAlign:"right"},bold:!0,children:"$"+Number(r).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}),(0,ae.jsxs)(d.default,{selectable:!0,style:{fontWeight:400,fontSize:12,color:"#8D7777",paddingTop:4,marginLeft:2},children:["(","\xa5"+Number(r/(e&&e.jpyToUsd?Number(e.jpyToUsd):e&&e.currency&&e.currency.jpyToUsd?e.currency.jpyToUsd:0)).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),")"]})]}),(0,ae.jsxs)(F.default,{style:{flexDirection:"row"},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700},children:"FOB Price: "}),(0,ae.jsx)(d.default,{selectable:!0,style:{fontWeight:700,color:"#8D7777",textAlign:"right"},children:""+Number(o).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})}),(0,ae.jsxs)(d.default,{selectable:!0,style:{fontWeight:400,fontSize:12,color:"#8D7777",paddingTop:2,marginLeft:2},children:["(",""+(e.fobPrice?e.fobPrice:Number(e.carData&&e.carData.fobPrice?e.carData.fobPrice:0)).toLocaleString("en-US",{style:"currency",currency:"JPY",minimumFractionDigits:0,maximumFractionDigits:0}),")"]})]}),(0,ae.jsx)(F.default,{style:{flexDirection:"row"},children:(0,ae.jsx)(d.default,{selectable:!0,style:{fontWeight:700,textAlign:"right"},children:e.country&&e.port?e.country+" / "+e.port:"N/A"})}),(0,ae.jsx)(F.default,{style:{flexDirection:"row"},children:(0,ae.jsxs)(d.default,{style:{fontWeight:700,color:"#16A34A"},children:[e.insurance?"CIF":"C&F",e.inspection?" + Inpection["+e.inspectionName+"]":""]})})]}),(0,ae.jsxs)(F.default,{style:{paddingLeft:20},children:[(1==e.stepIndicator.value||2==e.stepIndicator.value)&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(tt,{title:1==e.stepIndicator.value?"Issue Proforma Invoice":2==e.stepIndicator.value?"Update Invoice":"",colorHoverIn:"#0f7534",colorHoverOut:"#16A34A",transactionValue:2,buttonValue:2,iconActive:(0,ae.jsx)(N.default,{name:"file-invoice-dollar",color:"#1C2B33",size:14})},"Issue Proforma Invoice"),(0,ae.jsx)(Ke,{}),(0,ae.jsxs)(F.default,{style:{flexDirection:"row"},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:18},children:"Final Price: "}),(0,ae.jsx)(d.default,{selectable:!0,style:{fontWeight:700,fontSize:18,color:"#FF0000",textAlign:"right"},children:"$"+(t&&t.paymentDetails&&t.paymentDetails.totalAmount?Number(t.paymentDetails.totalAmount.replace(/,/g,"")):0).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}),(0,ae.jsxs)(d.default,{selectable:!0,style:{fontWeight:400,fontSize:12,color:"#8D7777",paddingTop:4,marginLeft:2},children:["(","\xa5"+(t&&t.paymentDetails&&t.paymentDetails.totalAmount&&e&&e.currency&&e.currency.jpyToUsd?Number(t.paymentDetails.totalAmount.replace(/,/g,""))/Number(e.currency.jpyToUsd):0).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),")"]})]})]}),3==e.stepIndicator.value&&(0,ae.jsxs)(F.default,{style:{flexDirection:"row"},children:[(0,ae.jsxs)(F.default,{style:{paddingLeft:20},children:[(0,ae.jsx)(tt,{title:"Input Payment",colorHoverOut:"#FF0000",colorHoverIn:"#800101",transactionValue:3,buttonValue:4,iconActive:(0,ae.jsx)(N.default,{name:"file-invoice-dollar",color:"#1C2B33",size:14})},"Input Payment"),(0,ae.jsx)(Ke,{}),(0,ae.jsxs)(F.default,{style:{flexDirection:"row"},children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:18},children:"Final Price: "}),(0,ae.jsx)(d.default,{selectable:!0,style:{fontWeight:700,fontSize:18,color:"#FF0000",textAlign:"right"},children:"$"+(t&&t.paymentDetails&&t.paymentDetails.totalAmount?Number(t.paymentDetails.totalAmount.replace(/,/g,"")):0).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0})}),(0,ae.jsxs)(d.default,{selectable:!0,style:{fontWeight:400,fontSize:12,color:"#8D7777",paddingTop:4,marginLeft:2},children:["(","\xa5"+(t&&t.paymentDetails&&t.paymentDetails.totalAmount&&e&&e.currency&&e.currency.jpyToUsd?Number(t.paymentDetails.totalAmount.replace(/,/g,""))/Number(e.currency.jpyToUsd):0).toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:0}),")"]})]})]}),(0,ae.jsxs)(F.default,{style:{paddingLeft:20},children:[(0,ae.jsx)(tt,{title:1==e.stepIndicator.value?"Issue Proforma Invoice":"Update Invoice",colorHoverIn:"#0f7534",colorHoverOut:"#16A34A",transactionValue:2,buttonValue:2,iconActive:(0,ae.jsx)(N.default,{name:"file-invoice-dollar",color:"#1C2B33",size:14})},"Issue Proforma Invoice"),(0,ae.jsx)(Qe,{}),(0,ae.jsx)(F.default,{style:{flexDirection:"row"},children:t&&t.bankInformations&&t.bankInformations.dueDate&&(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(d.default,{style:{fontWeight:700,fontSize:14},children:"Due Date: "}),(0,ae.jsx)(d.default,{selectable:!0,style:{fontWeight:700,fontSize:14,textAlign:"right",color:"#FF0000"},children:t.bankInformations.dueDate?new Date(t.bankInformations.dueDate).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):"Invalid Date"})]})})]})]})]}),(0,ae.jsx)(et,{})]})},rt=function(e){e.userEmail;var t=e.handleReadByListModalClose,n=(0,Z.useSelector)((function(e){return e.readByListModalVisible})),r=(0,Z.useSelector)((function(e){return e.selectedChatData})),i=_.projectControlAuth.currentUser?_.projectControlAuth.currentUser.email:"";return(0,ae.jsx)(u.Modal,{isOpen:n,onClose:function(){return t()},useRNModal:!0,size:"xs",children:(0,ae.jsxs)(u.Modal.Content,{borderRadius:0,style:{padding:15,backgroundColor:"#f8f8f8",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},children:[(0,ae.jsx)(u.Modal.CloseButton,{}),(0,ae.jsx)(u.Modal.Header,{style:{fontSize:22,fontWeight:"600",textAlign:"center",color:"#333"},children:"Read List"}),(0,ae.jsx)(u.Modal.Body,{children:r.readBy.length>0?(0,ae.jsx)(W.default,{style:{maxHeight:250,borderRadius:10},children:(0,o.default)(r.readBy).sort((function(e,t){return e===i?-1:t===i?1:0})).map((function(e){return(0,ae.jsxs)(F.default,{style:{flexDirection:"row",alignItems:"center",marginVertical:8,borderBottomWidth:.5,borderColor:"#ddd",paddingBottom:8},children:[(0,ae.jsx)(z.default,{name:"user-circle",size:24,color:"#4A90E2",style:{marginRight:12}}),(0,ae.jsx)(d.default,{style:{flex:1,color:"#555"},children:i===e?"You":e})]},e)}))}):(0,ae.jsx)(d.default,{style:{textAlign:"center",color:"grey",fontSize:16},children:"No one has read this message yet."})})]})})},ot=function(e){var t=e.activeButtonValue,n=e.userEmail,r=((0,Z.useSelector)((function(e){return e.chatListData})),(0,Z.useSelector)((function(e){return e.chatMessagesData}))),a=(0,Z.useSelector)((function(e){return e.selectedChatData})),u=(0,Z.useSelector)((function(e){return e.activeChatId})),f=(0,Z.useSelector)((function(e){return e.loadMoreMessagesLoading})),h=(0,Z.useSelector)((function(e){return e.noMoreMessagesData})),g=(0,S.useState)(!1),m=(0,l.default)(g,2),y=m[0],x=m[1],p=(0,S.useRef)(),j=(0,Z.useDispatch)(),b=(0,S.useState)(a.read),D=(0,l.default)(b,2),C=(D[0],D[1],function(){j((0,K.setReadByListModalVisible)(!0))}),v=(0,S.useRef)(new A.default.Value(0)).current;(0,S.useEffect)((function(){A.default.loop(A.default.sequence([A.default.timing(v,{toValue:1,duration:2e3,useNativeDriver:!1}),A.default.timing(v,{toValue:0,duration:2e3,useNativeDriver:!1})])).start()}),[v]);var w=v.interpolate({inputRange:[0,.25,.5,.75,1],outputRange:["rgb(255, 100, 100)","rgb(100, 255, 100)","rgb(100, 100, 255)","rgb(255, 255, 100)","rgb(255, 100, 255)"]}),W=function(){var e=(0,i.default)((function*(){var e;if(j((0,K.setLoadMoreMessagesLoading)(!0)),j((0,K.setNoMoreMessagesData)(!1)),de){j((0,K.setLoadMoreMessagesLoading)(!0)),j((0,K.setNoMoreMessagesData)(!1)),e=(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats",a.id,"messages"),(0,U.orderBy)("timestamp","desc"),(0,U.startAfter)(de),(0,U.limit)(10));try{return(0,U.onSnapshot)(e,(function(e){if(e.empty)return console.log("No more data to load"),void setTimeout((function(){j((0,K.setLoadMoreMessagesLoading)(!1)),j((0,K.setNoMoreMessagesData)(!0)),de=null}),0);var t=[];e.forEach((function(e){t.push(se({id:e.id},e.data()))})),setTimeout((function(){j((0,K.setChatMessagesData)([].concat((0,o.default)(r),t))),j((0,K.setLoadMoreMessagesLoading)(!1)),de=e.docs[e.docs.length-1]}),0)}))}catch(t){console.error("Error fetching data from Firebase:",t),setTimeout((function(){return j((0,K.setLoadMoreMessagesLoading)(!1))}),0)}}else j((0,K.setLoadMoreMessagesLoading)(!1)),j((0,K.setNoMoreMessagesData)(!0))}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,i.default)((function*(){var e=_.projectControlAuth.currentUser?_.projectControlAuth.currentUser.email:"",t=(0,U.doc)(_.projectExtensionFirestore,"chats",u);if(""!==e)try{yield(0,U.updateDoc)(t,{read:!0,readBy:(0,U.arrayUnion)(e)})}catch(n){console.error("Error updating document: ",n)}}));return function(){return e.apply(this,arguments)}}();(0,S.useEffect)((function(){u==a.id&&(a.stepIndicator.value!==t&&0!==t?(j((0,K.setChatMessagesData)([])),j((0,K.setActiveChatId)(""))):k())}),[a]);var R=function(){j((0,K.setPreviewInvoiceVisible)(!0))},T=function(e){var t=e.match(/(\d{4})\/(\d{2})\/(\d{2}) at (\d{2}):(\d{2}):(\d{2})/);if(!t)return e;var n=new Date(t[1],t[2]-1,t[3],t[4],t[5],t[6]),r=n.getHours(),o=r%12||12,i=r>=12?"PM":"AM";return n.getFullYear().toString().substr(-2)+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][n.getMonth()]+" "+n.getDate()+", "+o+":"+n.getMinutes().toString().padStart(2,"0")+" "+i},z=function(e){var t=e.split("@");return(0,l.default)(t,1)[0]},E=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n="";e.length>0;)n+=e.substring(0,t),e.length>t&&(n+="\u200b"),e=e.substring(t);return n};return r.length>0?(0,ae.jsxs)(ae.Fragment,{children:[(0,ae.jsx)(I.default,{ref:p,data:r,renderItem:function(e){var t,n=e.item,r=e.index,o=n.sender===he,i=0===r;return(0,ae.jsxs)(F.default,{style:{flexDirection:o?"row":"row-reverse",width:"100%",alignSelf:o?"flex-start":"flex-end",marginVertical:4,maxWidth:"60%"},children:["IssuedInvoice"==n.messageType&&(0,ae.jsxs)(F.default,{style:{flexDirection:"column",alignItems:"flex-end",flex:1},children:[(0,ae.jsxs)(F.default,{style:{flexDirection:o?"row":"row-reverse",flex:1},children:[(0,ae.jsx)(A.default.View,{style:{padding:7,flex:1,borderRadius:20,backgroundColor:o?"#EFEFEF":"#0A7CFF",marginRight:o?0:10,borderWidth:3,borderColor:w},children:(0,ae.jsx)(B.default,{onPress:R,children:(0,ae.jsx)(d.default,{underline:!0,selectable:!0,style:{fontWeight:400,color:o?"black":"white",fontSize:16},children:n.text.trim()})})}),i&&a.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Already read by the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(F.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(M.default,{name:"mail-open",size:20,color:"#1B81C2"})})}),i&&!a.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Message sent to the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(F.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(M.default,{name:"mail",size:20,color:"#1B81C2"})})}),i&&a.readBy.length>0&&(0,ae.jsx)(F.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(B.default,{focusable:!1,onHoverIn:function(){return x(!0)},onHoverOut:function(){return x(!1)},onPress:C,children:(0,ae.jsx)(P.default,{name:"eye",size:20,color:y?"#c5d1ce":"#75A99C"})})})]}),(0,ae.jsx)(d.default,{style:{fontWeight:"300",color:"gray",fontSize:11,marginTop:4,marginBottom:4,marginLeft:o?15:0,marginRight:o?0:15},selectable:!0,children:o?T(n.timestamp)+(n.ip?" - "+n.ip+(n.ipCountry?" - "+n.ipCountry:""):""):T(n.timestamp)+" - "+z(n.sender)+(n.ip?" - "+n.ip:"")+(n.ipCountry?" - "+n.ipCountry:"")})]}),"InputPayment"==n.messageType&&(0,ae.jsxs)(F.default,{style:{flexDirection:"column",alignItems:"flex-end",flex:1},children:[(0,ae.jsxs)(F.default,{style:{flexDirection:o?"row":"row-reverse",flex:1},children:[(0,ae.jsx)(A.default.View,{style:{padding:7,flex:1,borderRadius:20,backgroundColor:o?"#EFEFEF":"#0A7CFF",marginRight:o?0:10,borderWidth:3,borderColor:w},children:(0,ae.jsx)(d.default,{selectable:!0,style:{fontWeight:400,color:o?"black":"white",fontSize:16},children:n.text.trim()})}),i&&a.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Already read by the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(F.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(M.default,{name:"mail-open",size:20,color:"#1B81C2"})})}),i&&!a.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Message sent to the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(F.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(M.default,{name:"mail",size:20,color:"#1B81C2"})})}),i&&a.readBy.length>0&&(0,ae.jsx)(F.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(B.default,{focusable:!1,onHoverIn:function(){return x(!0)},onHoverOut:function(){return x(!1)},onPress:C,children:(0,ae.jsx)(P.default,{name:"eye",size:20,color:y?"#c5d1ce":"#75A99C"})})})]}),(0,ae.jsx)(d.default,{style:{fontWeight:"300",color:"gray",fontSize:11,marginTop:4,marginBottom:4,marginLeft:o?15:0,marginRight:o?0:15},selectable:!0,children:o?T(n.timestamp)+(n.ip?" - "+n.ip+(n.ipCountry?" - "+n.ipCountry:""):""):T(n.timestamp)+" - "+z(n.sender)+(n.ip?" - "+n.ip:"")+(n.ipCountry?" - "+n.ipCountry:"")})]}),!n.messageType&&(0,ae.jsxs)(F.default,{style:{flexDirection:"column",alignItems:o?"flex-start":"flex-end",flex:1},children:[(0,ae.jsxs)(F.default,{style:{flexDirection:o?"row":"row-reverse",flex:1},children:[(0,ae.jsx)(F.default,{style:{flexDirection:o?"row":"row-reverse",flex:1},children:(0,ae.jsx)(F.default,{style:{padding:10,borderRadius:20,backgroundColor:o?"#EFEFEF":"#0A7CFF",marginLeft:o?10:0,marginRight:o?0:10,flexShrink:1},children:(0,ae.jsx)(Q.default,{linkDefault:!0,linkStyle:{textDecorationLine:"underline"},children:(0,ae.jsx)(d.default,{selectable:!0,style:{fontWeight:"400",color:o?"black":"white",fontSize:16,flexShrink:1},children:(t=n.text.trim(),new RegExp("^(http://www\\.|https://www\\.|http://|https://)[a-z0-9]+([\\-\\.]{1}[a-z0-9]+)*\\.[a-z]{2,5}(:[0-9]{1,5})?(/.*)?$").test(t)?E(n.text.trim()):n.text.trim())})})})}),i&&a.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Already read by the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(F.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(M.default,{name:"mail-open",size:20,color:"#1B81C2"})})}),i&&!a.customerRead&&!o&&(0,ae.jsx)(s.Tooltip,{label:"Message sent to the customer",openDelay:200,bgColor:"#FAFAFA",_text:{color:"#1C2B33"},children:(0,ae.jsx)(F.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(M.default,{name:"mail",size:20,color:"#1B81C2"})})}),i&&a.readBy.length>0&&(0,ae.jsx)(F.default,{style:{alignSelf:"flex-end",marginLeft:o?8:0,marginRight:o?0:8,alignSelf:"center"},children:(0,ae.jsx)(B.default,{focusable:!1,onHoverIn:function(){return x(!0)},onHoverOut:function(){return x(!1)},onPress:C,children:(0,ae.jsx)(P.default,{name:"eye",size:20,color:y?"#c5d1ce":"#75A99C"})})})]}),(0,ae.jsx)(d.default,{style:{fontWeight:"300",color:"gray",fontSize:11,marginTop:4,marginBottom:4,marginLeft:o?15:0,marginRight:o?0:15},selectable:!0,children:o?T(n.timestamp)+(n.ip?" - "+n.ip+(n.ipCountry?" - "+n.ipCountry:""):""):T(n.timestamp)+" - "+z(n.sender)+(n.ip?" - "+n.ip:"")+(n.ipCountry?" - "+n.ipCountry:"")})]})]})},keyExtractor:function(e){return e.id},initialNumToRender:10,maxToRenderPerBatch:10,windowSize:200,onEndReachedThreshold:.05,ListFooterComponent:function(){return(0,ae.jsx)(ae.Fragment,{children:!h&&(0,ae.jsx)(F.default,{style:{paddingVertical:20,height:60},children:f&&(0,ae.jsx)(c.default,{animating:!0,size:"sm",color:"#7B9CFF"})})})},onEndReached:W,inverted:!0}),(0,ae.jsx)(rt,{userEmail:n,handleReadByListModalClose:function(){j((0,K.setReadByListModalVisible)(!1))}})]}):null};function it(){var e=(0,S.useState)(""),t=(0,l.default)(e,2),n=t[0],r=t[1],o=(0,L.useNavigation)(),a=((0,Z.useSelector)((function(e){return e.chatListData})),(0,Z.useSelector)((function(e){return e.activeChatId})),(0,Z.useSelector)((function(e){return e.chatMessageBoxLoading}))),s=(0,Z.useSelector)((function(e){return e.chatListSearchText})),u=(0,Z.useSelector)((function(e){return e.chatMessagesData})),g=(0,Z.useSelector)((function(e){return e.loginName})),m=(0,S.useState)(g),y=(0,l.default)(m,2),x=y[0],p=y[1],A=v.default.get("window").width,I=(0,S.useState)("All messages"),k=(0,l.default)(I,2),B=k[0],R=k[1],P=(0,S.useState)(0),z=(0,l.default)(P,2),N=z[0],V=z[1],Y=(0,S.useState)(""),q=(0,l.default)(Y,2),$=q[0],Q=q[1],ee=(0,S.useState)(!1),te=(0,l.default)(ee,2),ne=te[0],re=te[1],oe=(0,S.useState)(!1),ie=(0,l.default)(oe,2),le=ie[0],de=ie[1],fe=(0,S.useState)(null),he=(0,l.default)(fe,2),ge=he[0],me=he[1],ye=(0,S.useState)(0),xe=(0,l.default)(ye,2),pe=xe[0],je=xe[1],be=(0,Z.useDispatch)();(0,S.useEffect)((function(){var e=function(){var e=(0,i.default)((function*(){try{be((0,K.setChatMessageBoxLoading)(!0));var e=(yield O.default.get("https://api.ipify.org?format=json")).data.ip;if(Se=e,e){var t=(yield O.default.get("https://ipapi.co/"+e+"/json/")).data.country_name;ve=t,be((0,K.setChatMessageBoxLoading)(!1))}}catch(n){console.error("Error fetching IP data:",n)}}));return function(){return e.apply(this,arguments)}}(),t=(0,U.collection)(_.projectExtensionFirestore,"chats"),n=(0,U.query)(t,(0,U.where)("read","==",!1),(0,U.limit)(10)),r=(0,U.onSnapshot)(n,(function(t){je(t.size),e()}),(function(e){console.error("Error fetching documents: ",e)}));return function(){return r()}}),[]);var De=function(e,t){B==e||(R(e),V(t),Q(""),re(!1),be((0,K.setActiveChatId)("")),be((0,K.setLoadMoreLoading)(!1)),be((0,K.setNoMoreData)(!1)))};(0,S.useEffect)((function(){var e;be((0,K.setChatMessagesData)([])),be((0,K.setChatMessageBoxLoading)(!1)),be((0,K.setActiveChatId)(""));e=function(){var e=s.toUpperCase();return ne?0===N?""===e?(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("read","==",!1),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("read","==",!1),(0,U.where)("keywords","array-contains",e),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):""===e?(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("read","==",!1),(0,U.where)("stepIndicator.value","==",N),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("stepIndicator.value","==",N),(0,U.where)("read","==",!1),(0,U.where)("keywords","array-contains",e),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):le?0===N?""===e?(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("read","==",!0),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("read","==",!0),(0,U.where)("keywords","array-contains",e),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):""===e?(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("read","==",!0),(0,U.where)("stepIndicator.value","==",N),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("stepIndicator.value","==",N),(0,U.where)("read","==",!0),(0,U.where)("keywords","array-contains",e),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):0===N?""===e?(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("keywords","array-contains",e),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):""===e?(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("stepIndicator.value","==",N),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10)):(0,U.query)((0,U.collection)(_.projectExtensionFirestore,"chats"),(0,U.where)("stepIndicator.value","==",N),(0,U.where)("keywords","array-contains",e),(0,U.orderBy)("lastMessageDate","desc"),(0,U.limit)(10))}();var t=(0,U.onSnapshot)(e,(function(e){var t=[];e.forEach((function(e){t.push(se({id:e.id},e.data()))})),be((0,K.setChatListData)(t)),ce=e.docs[e.docs.length-1],be((0,K.setNoMoreData)(!1)),be((0,K.setLoadMoreLoading)(!1)),be((0,K.setLoadingModalVisible)(!1))}),(function(e){console.error("Error fetching data from Firebase:",e)}));return function(){t&&t()}}),[ne,le,N,s]),(0,S.useEffect)((function(){return _.projectControlAuth.onAuthStateChanged((function(e){e||o.navigate("Login")}))}),[]);var Ce=function(e){e.exists()?e.data().active||(0,H.signOut)(_.projectControlAuth).then((function(){o.navigate("Login")})).catch((function(e){console.error("Error signing out:",e)})):(0,H.signOut)(_.projectControlAuth).then((function(){o.navigate("Login")})).catch((function(e){console.error("Error signing out:",e)}))};(0,S.useEffect)((function(){var e=function(){var e,t=null==(e=_.projectControlAuth.currentUser)?void 0:e.email;if(t){var n=(0,U.doc)(Fe,"accounts",t);return(0,U.onSnapshot)(n,Ce)}}();return function(){e()}}),[]),(0,S.useEffect)((function(){var e=Ae();e&&(Ie(e),r(e),we(e))}),[]);var we=function(e){},Ie=function(){var e=(0,i.default)((function*(e){try{var t=(0,U.doc)(Fe,"accounts",e);(yield(0,U.getDoc)(t)).exists()}catch(n){console.error("Error fetching field value:",n)}}));return function(t){return e.apply(this,arguments)}}(),We=((0,j.useBreakpointValue)([!0,!0,!0,!1]),w.default.create({container:{flex:1},image:{flex:1}}));return(0,ae.jsx)(ae.Fragment,{children:(0,ae.jsxs)(C.NativeBaseProvider,{children:[(0,ae.jsxs)(F.default,{style:{backgroundColor:"#A6BCFE",height:"100%",width:"100%",flexDirection:"column"},bgColor:"#A6BCFE",h:"100vh",w:"full",flexDirection:"column",children:[(0,ae.jsxs)(b.default,{px:"3",bgColor:"#7b9cff",height:54,position:"sticky",top:0,zIndex:999,flexDirection:"row",alignItems:"center",borderBottomWidth:2,borderBottomColor:"cyan.500",children:[(0,ae.jsx)(b.default,{w:A<=960?0:850,h:[10,10,10,10],marginBottom:1.5,marginTop:1.5,children:(0,ae.jsx)(J.default,{source:{uri:"https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20FULL.png?alt=media&token=79ed34a5-f960-4154-b4e8-897b0f3248d4",priority:J.default.priority.high},resizeMode:J.default.resizeMode.stretch,style:We.image})}),A<=960&&(0,ae.jsx)(G.default,{selectedScreen:ue}),(0,ae.jsx)(b.default,{w:A<=960?120:0,h:A<=960?6:10,marginBottom:1.5,marginTop:1.5,marginLeft:[3,3,3,10],children:(0,ae.jsx)(J.default,{source:{uri:"https://firebasestorage.googleapis.com/v0/b/samplermj.appspot.com/o/C-HUB%20Logos%2FC-HUB%20LOGO%20HALF.png?alt=media&token=7ce6aef2-0527-40c7-b1ce-e47079e144df",priority:J.default.priority.high},resizeMode:J.default.resizeMode.stretch,style:We.image})}),(0,ae.jsx)((function(e){var t=e.name,n=e.handleSignOut,r=(0,S.useState)(!1),o=(0,l.default)(r,2),i=o[0],a=o[1],s=function(){a(!i)};return(0,ae.jsx)(b.default,{w:[100,200,1020],h:[10,10,10],flex:1,children:(0,ae.jsx)(D.default,{direction:"row-reverse",children:(0,ae.jsx)(h.Popover,{isOpen:i,trigger:function(e){return(0,ae.jsxs)(d.default,se(se({color:"white",marginTop:[2,2,2],fontSize:[17,18,20],marginRight:[1,3,5]},e),{},{onPress:s,children:[(0,ae.jsx)(E.default,{name:"account",size:[20,25,30],color:"white"})," ",t," ",(0,ae.jsx)(M.default,{name:"caret-down",size:16,color:"white"})]}))},onClose:function(){return a(!i)},placement:"bottom right",trapFocus:!1,children:(0,ae.jsx)(h.Popover.Content,{backgroundColor:"#7B9CFF",children:(0,ae.jsx)(h.Popover.Body,{backgroundColor:"#7B9CFF",children:(0,ae.jsx)(f.Button,{_hover:{bgColor:"blueGray.500"},onPress:n,leftIcon:(0,ae.jsx)(E.default,{name:"logout",size:20,color:"white"}),bgColor:"transparent",children:"Logout"})})})})})})}),{name:x,handleSignOut:function(){_.projectControlAuth.currentUser?(0,H.signOut)(_.projectControlAuth).then((function(){o.navigate("Login"),r(""),p("")})).catch((function(){})):(console.log("No user signed in to sign out"),o.navigate("Login"))}})]}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},flex:[1],flexDirection:"row",children:[(0,ae.jsx)(X.default,{selectedScreen:ue}),(0,ae.jsx)(F.default,{style:{flex:1,backgroundColor:"#A6BCFE",height:"100%"},children:(0,ae.jsxs)(F.default,{style:{flex:1,margin:10},children:[(0,ae.jsx)(F.default,{style:{borderBottomWidth:1,borderColor:"#DADDE1",width:"100%",backgroundColor:"white",height:60,borderTopLeftRadius:5,borderTopRightRadius:5},children:(0,ae.jsx)(F.default,{style:{flex:1,flexDirection:"row"},children:(0,ae.jsx)(F.default,{style:{flex:1,flexDirection:"row"},children:(0,ae.jsxs)(W.default,{scrollEnabled:!0,horizontal:!0,children:[(0,ae.jsx)(Be,{title:"All messages",onPress:function(){return De("All messages",0)},isActive:"All messages"===B,headerCount:pe>0?(0,ae.jsx)(F.default,{style:{backgroundColor:"#FF0000",borderRadius:100,width:20,height:20,marginLeft:10,justifyContent:"center",alignItems:"center"},children:(0,ae.jsx)(d.default,{style:{color:"white",fontWeight:700,fontSize:14},children:pe>9?"9+":pe})}):(0,ae.jsx)(ae.Fragment,{})},"All messages"),(0,ae.jsx)(Be,{title:"Negotiation",onPress:function(){return De("Negotiation",1)},isActive:"Negotiation"===B},"Negotiation"),(0,ae.jsx)(Be,{title:"Issued Proforma Invoice",onPress:function(){return De("Issued Proforma Invoice",2)},isActive:"Issued Proforma Invoice"===B},"Issued Proforma Invoice"),(0,ae.jsx)(Be,{title:"Order Item",onPress:function(){return De("Order Item",3)},isActive:"Order Item"===B},"Order Item"),(0,ae.jsx)(Be,{title:"Payment Confirmed",onPress:function(){return De("Payment Confirmed",4)},isActive:"Payment Confirmed"===B},"Payment Confirmed"),(0,ae.jsx)(Be,{title:"Shipping Schedule",onPress:function(){return De("Shipping Schedule",5)},isActive:"Shipping Schedule"===B},"Shipping Schedule"),(0,ae.jsx)(Be,{title:"Documents",onPress:function(){return De("Documents",6)},isActive:"Documents"===B},"Documents"),(0,ae.jsx)(Be,{title:"Vehicle Received",onPress:function(){return De("Vehicle Received",7)},isActive:"Vehicle Received"===B},"Vehicle Received")]})})})}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsxs)(F.default,{children:[(0,ae.jsx)(F.default,{style:{flex:1,maxWidth:380,minWidth:380,borderRightWidth:1,borderColor:"#DADDE1",maxHeight:100,minHeight:100,backgroundColor:"white"},children:(0,ae.jsxs)(F.default,{style:{flex:1,paddingHorizontal:10},children:[(0,ae.jsx)(Oe,{lastVisible:ge,setLastVisible:me,unreadButtonValue:ne,activeButtonValue:N}),(0,ae.jsxs)(F.default,{style:{flex:1,flexDirection:"row"},children:[(0,ae.jsx)(Re,{title:"Unread ",onPress:function(){return e="Unread",Q((function(t){return t===e?"":e})),re((function(e){return!e})),void de(!1);var e},isActive:"Unread"===$,iconActive:(0,ae.jsx)(T.default,{name:"mark-email-unread",color:"#0A78BE",size:16}),iconNotActive:(0,ae.jsx)(T.default,{name:"mark-email-unread",color:"#1C2B33",size:16})},"Unread"),(0,ae.jsx)(Re,{title:"Read ",onPress:function(){return e="Read",Q((function(t){return t===e?"":e})),de((function(e){return!e})),void re(!1);var e},isActive:"Read"===$,iconActive:(0,ae.jsx)(T.default,{name:"mark-email-read",color:"#0A78BE",size:16}),iconNotActive:(0,ae.jsx)(T.default,{name:"mark-email-read",color:"#1C2B33",size:16})},"Read")]})]})}),(0,ae.jsx)(F.default,{style:{flex:1,maxWidth:380,minWidth:380,borderRightWidth:1,borderColor:"#DADDE1",backgroundColor:"white",borderBottomLeftRadius:5},children:(0,ae.jsx)(Le,{unreadButtonValue:ne,activeButtonValue:N})})]}),a?(0,ae.jsx)(F.default,{style:{flex:1,backgroundColor:"white",justifyContent:"center",alignItems:"center"},children:(0,ae.jsx)(c.default,{animating:!0,size:"lg",color:"#7B9CFF"})}):(0,ae.jsxs)(F.default,{style:{flex:1},children:[(0,ae.jsx)(F.default,{style:{flex:1,minHeight:90,maxHeight:90,borderBottomWidth:1,borderColor:"#DADDE1",backgroundColor:"white"},children:u.length<1?null:(0,ae.jsx)(nt,{})}),(0,ae.jsxs)(F.default,{style:{flex:1,borderColor:"#DADDE1",backgroundColor:"white",borderBottomRightRadius:5},children:[(0,ae.jsx)(F.default,{style:{flex:1},children:(0,ae.jsx)(ot,{activeButtonValue:N,userEmail:n})}),(0,ae.jsx)(F.default,{style:{flex:1,minHeight:110,maxHeight:110,justifyContent:"center",alignItems:"center"},children:u.length<1?null:(0,ae.jsx)(Ee,{})})]})]})]})]})})]})]}),(0,ae.jsx)(ke,{})]})})}},29556:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/RMJ Invoice Signature with Hanko.802b8c4687821e25dd12.png"},77804:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/RMJ logo for invoice.260660476b8ac2af1cf6.png"},29413:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chat_step_1_off.f76cc5beb28c26ffc60f.png"},40027:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAoCAYAAAC8cqlMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAvBJREFUeNrsmE9rE0EUwGf/NJC1NKkbCnoI8SJ4iCTgB4i9+QfsxYsIZo/BS3IXSsEPkIvkmBTBi5cK1d60H0BM0IPgxeBFDFlNS92aNMn6JpnKdLub7OzubIvsg8eU6eS9+c289/ImCEUSSSSzRAjb4dNPZhKGNdB7oDnQjM2yNmgL9BXo1pOs0Ds3IACAN7wOWvTw8QboBgC1zxQEIMoEIunDTI/AVM8EBCDqHm/B8XYARgsVhAOEI4zIOZyKnMwXiX2XN1Lr4qryCLRAKoxVcGXZBd1EpVTLUpm++swJNzlz5biiiY4Ate47+KsJWnaAQGS+PFmH10/BEbmJJOf0S9I3LtpAFAlAgdFwgQAVyS2GIf/8yDYQdZ/G6yg8yZ0GqXUzYWziWXMPff89RJcuyOhxPsE0N0vo0FoP4wjx5uiRZc4tyFoYIPiE6ZFlzl2vVeua9D+a9xMop8qopQ9R/uUe0xwOBbcb8CktKL/5mV+IeHP0yDLX/NEPK9k37ULrRKuMT5geWeY+dProz9DkDdEjXfGp0Aq0L1pNK+3VdDzDEaRCd8L0jWwE6eXtN+MmfWIcmsaqfdUqpfCjRQvIkYbtkQ61wQFCm1V+MUwjABiN2JkIcVqx5qDHnKjYQdhXrekm8qSrZZHdyecoCAqmSmx6vZ3Jnpxeh9za+PP/44O1spVSvl+YAGbOi3/WFmW+lFIa50rkOT/Zn7p8YHxB+JNpmAX1A0Uk/524qjrp5z8v90coAX2gQs/LAjLisqC3Hy533Dq8+uKXcjgy1cEILVrt0XZjEjqIS4L+5cGyEQjIrdf710YODo9FAsc7d5Y+z7N1981+ZjBGKstJx0Skb99eas9bN/f1k0tJigt/yo6LRVlVUj1Ejbo9/YL0CaJKhiQIM2FGpunq+rMXJT0mCkwwg7GpB5YjH/WjFYhXVRZPAg3HpgHxrl9XF1znyPvOkQJ5pULILFrt0XYhBA8Oh6Z+Y2XBiEpZJGcofwUYAN7xNEJ5/2aeAAAAAElFTkSuQmCC"},35290:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chat_step_2_off.e712bd6632e96dd22c58.png"},22558:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chat_step_2_on.d23d7736dceb729424f1.png"},38715:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chat_step_3_off.d12293f7ed3f33186f1d.png"},80851:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chat_step_3_on.4eb3c77558673517d414.png"},65256:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chat_step_4_off.c20b36cce08d498bd949.png"},14740:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chat_step_4_on.074876396c26422a5e30.png"},58038:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chat_step_5_off.5bf3e9023d7831a5233d.png"},80904:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAoCAYAAAC8cqlMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATBJREFUeNrsWN0NwiAQRtMBXMEN7B7tDjoJMIFxA0cwoe8++Nom3cRuoIe2iSWchrakUO9LCL+B7+O4g5YxAsELVjGRVUoJyHhblXmei65vHdnGc6QcnRAUsQmRSDkKv7jrtDSLEGaFEOKh0xKdnYTQE2VkyLX6BTxJUL5JqDucZVmvXhRFvEdLSvlKf+UjScjkOOcUfulo+Qi32DhbGE6mWFhPbGsbE26xfiwMD7oQG8Z6pDcwj61taot826RBFrkpZc5sbVu8j7hawFmIj7PvizjqI+YZjwWdL9KFGKwQbaIuQfUcOO/mgytuERhwYGH/ALs4XYgQAPaQHd/agkIKhGqnmx3E7CC7BiSmBiKps7O3yrfM2IEZcRo9Q1mWjzmh16fvERNVVTEC4TeeAgwAPLnfJkq2XusAAAAASUVORK5CYII="},49232:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chat_step_6_off.0930704cb987ab326d3c.png"},81151:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chat_step_6_on.54b7ed599667615cf944.png"},88618:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chat_step_7_off.283dc88aea34aeec28a8.png"},30443:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/chat_step_7_on.8f1b989b1afa5104bc42.png"},42480:()=>{}}]);
//# sourceMappingURL=73.baa515c7.chunk.js.map